10053

♪ 기악 힙합 음악 ♪

♪

안녕. 제 이름은 Ashwath이고 교육팀의 엔지니어입니다.

오늘 저는 직장과 학교에서 Apple로 로그인하는 것에 대해 이야기하게 되어 기쁩니다.

이 프레젠테이션에서, 나는 우리가 이번 가을에 소개할 주요 특징들을 다룰 것이다.

먼저 Work & School에서 Apple로 로그인하는 것이 무엇이며 어떻게 작동하는지 안내해 드리겠습니다.

그런 다음 Roster API와 당신이 그것을 어떻게 사용할 수 있는지에 대한 세부 사항에 대해 이야기하겠습니다.

그리고 마지막으로, 저는 액세스 관리에 대해 이야기할 것이며, 여기서 IT 관리자가 조직을 대신하여 Apple at Work & School 및 Roster API로 로그인에 대한 액세스를 관리하는 방법에 대해 논의할 것입니다.

당신이 익숙할 수 있지만 이 세션에서 검토하는 것이 중요한 두 가지 개념을 다루는 것으로 시작하겠습니다.

첫 번째는 Apple로 로그인입니다.

Apple로 로그인하는 것은 사용자가 Apple ID로 앱에 로그인할 수 있는 빠르고 쉬운 방법입니다.

사용자는 간단한 탭으로 앱 내에서 계정을 만들 수 있습니다.

두 번째 개념은 관리되는 Apple ID이다.

Apple ID와 마찬가지로, 관리되는 Apple ID는 장치를 개인화하는 데 사용됩니다.

그들은 또한 애플 앱과 서비스에 접근하는 데 사용된다.

Apple ID와 달리, 관리되는 Apple ID는 조직이 소유하고 있으며 Apple School Manager 또는 Apple Business Manager를 통해 관리됩니다.

이러한 정의를 염두에 두고, Apple과의 로그인이 이제 관리되는 Apple ID를 지원하도록 확장되었다는 것을 공유하게 되어 기쁩니다.

이제 Managed Apple ID의 관리 기능을 통해 Apple로 로그인하는 빠르고 쉬운 로그인 경험의 이점을 얻을 수 있습니다.

Work & School에서 Apple로 로그인의 사용자 경험을 보여주기 위해, 예를 들어 보겠습니다.

여기 슬랙의 로그인 화면이 있습니다.

Apple로 로그인을 사용하려면, 사용자는 계속을 탭하기만 하면 됩니다.

Apple ID를 사용할 때, 그들은 Apple로 로그인하는 이 환영 화면을 보게 될 것이다.

반면에, 관리되는 Apple ID를 사용하는 경우, 직장 및 학교에서 Apple로 로그인하는 시작 화면이 표시됩니다.

당신은 환영 화면에서 차이를 알게 될 것입니다.

앱이 액세스 제어를 쉽게 제공할 수 있다고 말할 때 우리는 무엇을 의미합니까?

예를 들어 봅시다.

Apple로 로그인으로 개인 Apple ID를 사용할 때, 사용자는 이름을 편집하고 이메일을 공유하거나 숨길지 여부를 선택할 수 있는 계정 생성 화면을 볼 수 있습니다.

하지만 조직의 맥락에서, 앱이 누가 로그인하고 있으며 어떤 수준의 액세스를 제공해야 하는지 이해하는 것이 중요합니다.

이 화면에 표시된 예에서, 사용자는 직장에서 슬랙에 로그인하고 있다.

이 직원이 어떤 슬랙 채널에 가입할 수 있어야 하는지 알기 위해, 슬랙은 어떤 사용자가 로그인하고 있는지 알아야 한다.

그래서 이것은 직장 및 학교에서 Apple로 로그인을 사용할 때 앱과 공유된 이름과 이메일을 사용하여 액세스 제어를 제공하는 슬랙의 예입니다.

그래서 이것은 사용자가 보는 것이지만, 이것은 당신에게 어떤 의미인가요?

이는 사용자가 직장 및 학교에서 Apple로 로그인을 사용할 때 이름과 이메일 필드에 항상 액세스할 수 있다는 것을 의미합니다.

클라이언트 측 앱에서 작업하는 개발자라면, 인증 컨트롤러를 보여주는 몇 가지 예제 코드를 살펴보세요.

성공적인 승인에서, 강조 표시된 진술은 앱에서 받은 전체 이름과 이메일을 나타냅니다.

이것은 승인 요청에 전체 이름과 이메일의 범위가 포함되어 있다고 가정합니다.

웹에서 Apple로 로그인을 지원하는 개발자라면, 로그인 방법을 사용하여 인증 프로세스를 시작하는 몇 가지 예제 코드를 살펴보겠습니다.

인증이 완료되면, 서버는 데이터 객체에 대한 응답을 반환합니다.

그 데이터 객체는 이렇게 생겼다.

강조 표시된 필드에는 로그인하는 사용자의 이메일과 전체 이름이 포함되어 있습니다.

여기서 몇 가지 점을 주목하는 것이 중요하다.

이 릴리스에서, 직장 및 학교에서 Apple로 로그인은 기기에 로그인된 기본 관리형 Apple ID를 사용합니다.

우리가 당신에게 보여준 예시 화면은 장치의 로그인 흐름을 위한 것이었지만, 웹 흐름도 지원됩니다.

일부 계정에는 이메일 주소가 제공되지 않았을 수 있습니다.

예를 들어, 학교는 어린 학생들에게 이메일 주소를 할당할 수 없다.

이메일 주소가 없는 이 시나리오에서 계정 생성 화면이 어떻게 생겼는지 봅시다.

이 사용자인 파티마 실바는 이메일 주소가 없으므로 계정 생성 화면에는 전체 이름만 표시됩니다.

이미 Apple로 로그인을 구현한 경우, 관리되는 Apple ID에 대한 지원을 추가하는 데 필요한 작업이 없습니다.

아직 지원을 구현하지 않았다면, WWDC2020의 "Apple로 로그인을 최대한 활용하기" 세션과 올해의 "Apple로 로그인 경험 향상" 세션을 살펴보는 것이 좋습니다.

그것은 Work & School에서 Apple로 로그인으로, 관리되는 Apple ID로 로그인의 빠르고 쉬운 로그인 경험을 제공합니다.

이제 Roster API에 대해 자세히 알아봅시다.

하지만 세부 사항에 뛰어들기 전에, 다음 시나리오를 고려해 봅시다.

당신은 교육 분야의 개발자입니다.

당신의 앱은 학군에서 사용되고 있습니다.

앱에서 Apple로 로그인에 대한 지원을 구현했습니다.

그거 멋지다!

학생, 교사 및 교직원은 관리되는 Apple ID를 사용하여 앱에 로그인할 수 있습니다.

이 시나리오에서, 당신의 앱은 교사들이 학생들과 과제와 공지를 공유할 수 있게 해줍니다.

이를 지원하기 위해, IT 관리자는 학년도가 시작되기 전에 학생, 교사 및 수업을 앱에 입력해야 합니다.

수백 또는 수천 명의 학생이 있는 학교의 경우, 이러한 기록을 손으로 만드는 것은 시간이 많이 걸리고 지루한 과정이 될 것이다.

우리는 이 문제를 해결하기 위해 Roster API를 만들었습니다.

Roster API는 Apple School Manager의 사용자 및 수업과 같은 리소스에 대한 프로그래밍 방식 액세스를 제공합니다.

이를 통해 IT 관리자는 이 정보를 앱으로 가져오는 프로세스를 자동화할 수 있습니다.

이 자원들은 REST 엔드포인트의 형태로 정의된다.

이 데이터는 IT 관리자가 성공적인 OAuth 2.0 인증을 통해 권한을 부여한 후 앱에서 액세스할 수 있습니다.

Apple School Manager의 관리자 및 사이트 관리자 계정은 데이터에 액세스할 수 있는 앱을 관리할 수 있습니다.

이 릴리스의 일환으로, 우리는 앱이 조직 데이터에 대한 액세스를 요청할 수 있는 표준화된 방법을 만들었습니다.

우리는 이것을 조직 데이터 공유라고 부른다.

우리는 UI 디자인 패턴과 기술 선택과 관련하여 업계 표준을 따르고 싶었기 때문에 개발자 채택이 쉽습니다.

그래서 우리는 범위를 사용하고 IT 관리자에게 조직 데이터 공유에 동의하도록 요청하는 것을 포함하는 OAuth 2.0을 사용하여 인증 흐름을 만들었습니다.

이게 어떻게 생겼는지야.

동의 화면은 조직의 데이터에 대한 액세스를 요청하는 앱과 앱이 액세스를 요청하는 데이터에 대한 정보를 제공합니다.

자세히 살펴보면, 동의 화면에는 요청자에 대한 정보가 포함되어 있습니다. 이는 Apple School Manager가 제공하는 데이터에 대한 액세스를 요청하는 앱을 나타냅니다. 이 경우 요청 앱은 Quizzler이며 앱이 액세스할 수 있는 데이터를 나타내는 범위입니다.

이 경우, IT 관리자가 동의하면, Quizzler는 이 조직의 모든 사용자 및 클래스 정보에 접근할 수 있습니다.

당신의 실행 여정은 어떻게 생겼나요?

첫 번째 단계는 범위를 요청하는 개발자 포털에 등록하는 것입니다.

다음 단계는 OAuth 2.0 인증 흐름을 통해 앱과 데이터를 공유하기 위해 IT 관리자의 동의를 요청하는 것입니다.

마지막으로, 앱은 데이터를 가져오기 위해 Roster API 엔드포인트를 쿼리합니다.

이 각 단계를 살펴봅시다.

범위를 요청하려면, 개발자 포털을 방문하세요.

인증서, 식별자 및 프로필 페이지에서 계정 및 조직 데이터 공유 아래의 구성을 클릭하세요.

다음 단계에서, "구성 설정"을 클릭하세요.

드롭다운에서 기본 앱 ID를 선택하고 계속을 누르세요.

추가 구성 세부 정보 페이지에서 조직 데이터 공유 범위에서 원하는 범위를 선택하십시오.

지금 당장, 우리는 두 가지를 제공합니다: 사용자 접근과 수업 접근.

반환 URL이 앱에 대해 구성되어 있는지 확인하세요.

이 단계는 반환 URL이 OAuth 2.0 인증 흐름에서 사용되기 때문에 중요합니다.

계속을 누르세요.

마지막으로, 구성을 확인하세요.

이제 우리는 다음 단계를 위한 준비가 되었습니다.

구현 여정의 두 번째 단계는 OAuth 2.0 인증 흐름을 통해 액세스 토큰을 얻는 것이다.

이것을 자세히 살펴봅시다.

IT 관리자가 먼저 앱에 로그인합니다.

그런 다음 IT 관리자는 앱과 상호 작용하여 인증 흐름을 시작합니다. 예를 들어, "Apple School Manager에 연결"이라는 버튼을 클릭하여.

이것은 OAuth 2.0 표준에 따라 일련의 이벤트를 시작합니다.

첫 번째 단계는 인증 엔드포인트에 대한 GET API 호출을 실행하는 것입니다.

이 요청의 세부 사항을 살펴봅시다.

요청은 몇 가지 쿼리 매개 변수를 사용합니다: client_id, redirect_uri, 상태, response_type 및 범위.

응답은 IT 관리자로부터 액세스를 요청하기 위해 Apple OAuth 동의 화면으로 리디렉션됩니다.

이 다이어그램에서, 우리는 IT 관리자가 관리되는 Apple ID로 인증했다고 가정합니다.

만약 그들이 하지 않았다면, 그들은 먼저 인증하라는 메시지가 표시될 것이다.

IT 관리자는 조직 데이터를 앱과 공유하고 싶은지 확인하기 위해 동의 화면이 표시됩니다.

이것은 우리가 이전에 본 것과 같은 동의 화면이다.

상기시켜 드리자면, 이렇게 생겼습니다.

허용을 클릭하면, 앱에 개발자 포털에 등록한 반환 URL에 인증 코드가 제공됩니다.

마지막 단계는 앱의 액세스 토큰을 검색하기 위해 토큰 엔드포인트에 대한 POST 요청을 포함합니다.

이 요청이 어떻게 생겼는지 봅시다.

요청 본문은 반환 URL에서 받은 인증 코드를 포함한 표준 OAuth 매개 변수로 구성됩니다.

응답에는 액세스 토큰, 만료 및 만료될 때 새 액세스 토큰을 만드는 데 사용되는 새로 고침 토큰이 있습니다.

새로 고침 토큰을 사용하여 새로운 액세스 토큰을 생성하기 위한 요청 세부 사항을 살펴보겠습니다.

요청 본문은 새로 고침 토큰을 포함한 표준 OAuth 매개 변수로 구성되며, 응답에는 액세스 토큰과 만료가 있습니다.

OAuth 2.0 인증 흐름을 성공적으로 완료한 후, 앱은 이제 Roster API에서 사용자 및 클래스 정보를 가져오는 데 사용할 수 있는 액세스 토큰을 가지고 있습니다.

현재 릴리스의 일환으로, 우리는 앱이 쿼리할 수 있는 다섯 개의 엔드포인트를 소개하고 있습니다.

여기에는 클래스 목록, 사용자 목록, 특정 클래스, 특정 사용자, 클래스의 사용자를 가져오는 것이 포함됩니다.

사용자와 클래스를 가져올 수 있는 방법을 보여주기 위해 간단한 예제 흐름을 살펴봅시다.

앱 서버는 먼저 사용자 엔드포인트를 쿼리하여 학생, 교사 및 직원 목록을 검색할 수 있습니다.

요청과 응답을 자세히 살펴봅시다.

사용자 엔드포인트는 세 개의 쿼리 매개 변수를 받아들인다.

페이지토큰과 제한은 페이지 매김 매개 변수이며, 선택적 역할 매개 변수를 사용하면 학생, 강사 또는 직원을 쿼리할 수 있습니다.

요청은 인증 흐름에서 생성된 액세스 토큰이 있는 인증 헤더가 필요합니다.

응답은 사용자 목록이 있는 "사용자" 키를 포함하는 JSON 페이로드입니다. 다음 레코드 세트를 가져오는 데 사용되는 "nextPageToken" 키와 쿼리할 레코드가 더 있는지 나타내는 "moreToFollow" 부울 키입니다.

예시 요청을 살펴봅시다.

여기서 API 호출은 응답에 최대 10명의 학생이 있는 학생 목록을 검색하는 것입니다.

이것은 첫 번째 API 요청이므로, pageToken 쿼리 매개 변수가 지정되지 않았습니다.

응답에는 givenName, familyName 등과 같은 표준 사용자 정보가 있지만, 사용자의 안정적인 고유 식별자에 주목하고 싶습니다.

이것은 사용자가 Apple로 로그인으로 인증할 때 앱이 받는 식별자와 동일합니다.

사용자의 이메일 주소와 조직에서의 역할도 포함되어 있습니다.

nextPageToken은 moreToFollow 키가 true로 설정되어 있기 때문에 다음 API 요청에서 다음 학생 세트를 가져오기 위한 쿼리 매개 변수로 사용해야 합니다.

사용자 엔드포인트를 쿼리한 후, 앱 서버는 이제 수업 엔드포인트를 쿼리할 수 있으며, 이는 특정 학군의 수업 목록과 해당 수업과 관련된 수업과 학생 및 교사 간의 관계를 제공합니다.

요청과 응답을 자세히 살펴봅시다.

Get classes 요청의 일환으로, 요청은 두 개의 쿼리 매개 변수를 사용합니다: pageToken과 제한 매개 변수, 둘 다 이전에 본 것입니다.

헤더는 사용자를 쿼리할 때와 동일합니다.

응답은 "클래스" 키가 클래스 목록을 보유하고 있는 JSON 페이로드이다.

예시 요청을 살펴봅시다.

이 요청은 응답에 포함될 최대 200개의 클래스 목록을 검색합니다.

API 요청에는 또한 pageToken 매개 변수가 있습니다. 즉, 모든 클래스를 가져오는 중입니다.

응답에는 이름, 수업 식별자 등과 같은 표준 수업 정보가 있지만, 수업에 속한 강사 ID와 학생 ID 목록에 주목하고 싶습니다.

그것은 로스터 API였다.

이러한 엔드포인트를 통해, 당신의 앱은 이제 Apple School Manager에서 사용자와 수업을 프로그래밍 방식으로 쿼리할 수 있습니다.

마지막으로, 저는 당신에게 접근 관리에 대해 이야기하고 싶습니다.

조직 데이터 공유를 사용하고 직장 및 학교에서 Apple로 로그인하는 조직에 관리 기능을 제공하는 것이 중요합니다.

이것이 무엇을 의미하는지 더 자세히 설명하겠습니다.

Apple로 로그인을 사용할 때, 사용자는 자신의 계정을 관리하며 로그인할 앱을 결정하는 것은 전적으로 그들에게 달려 있습니다.

하지만 직장 및 학교에서 Apple로 로그인을 사용할 때, 조직의 IT 관리자는 해당 조직의 모든 사용자를 대신하여 액세스를 중앙에서 관리합니다.

이것은 IT 관리자가 조직 데이터의 안전과 보안을 보장할 책임이 있기 때문이다.

따라서, 그들은 사용자가 직장 및 학교에서 Apple로 로그인을 사용할 수 있는 앱과 조직 데이터 공유를 사용할 수 있는 앱을 관리할 수 있는 권한을 부여받아야 합니다.

이러한 액세스 관리 기능은 Apple School Manager와 Apple Business Manager에서 구성할 수 있습니다.

직장과 학교에서 Apple로 로그인하려면, 두 가지 모드를 제공합니다.

첫 번째 모드는 "모든 앱 허용"입니다.

이 모드가 어떻게 생겼는지 봅시다.

여기서, IT 관리자는 Apple Business Manager에 로그인했습니다.

사이드바에서 액세스 관리를 선택하고 Apple로 로그인을 선택하면 두 가지 모드가 표시됩니다.

"모든 앱 허용" 모드를 사용하면 조직의 모든 사용자가 Apple로 로그인을 지원하는 모든 앱에 로그인할 수 있습니다.

두 번째 모드는 "특정 앱만 허용"입니다.

이 모드가 어떻게 생겼는지 봅시다.

"특정 앱만 허용" 모드를 사용하면 IT 관리자가 Apple로 로그인을 지원하는 앱을 검색하여 목록에 추가할 수 있습니다.

사용자는 목록에 추가된 앱으로만 Apple로 로그인을 사용할 수 있습니다.

사용자가 목록에 없는 앱에 로그인하려고 하면 오류 메시지가 표시됩니다.

이 기능은 Apple School Manager, Apple Business Manager 및 Business Essentials 고객과 동일하다는 점에 유의하는 것이 중요합니다.

직장 및 학교에서 Apple로 로그인하는 것과 마찬가지로, 조직 데이터 공유는 동일한 두 가지 모드를 가지고 있습니다.

한 번 보자.

"특정 앱만 허용" 모드를 사용하면 IT 관리자가 지원되는 앱을 검색하여 목록에 추가할 수 있습니다.

Roster API를 사용하여 사용자 및 클래스 정보에 액세스할 수 있는 것은 이 앱들입니다.

동의 화면 외에도, 이것은 IT 관리자가 조직 데이터에 액세스할 수 있는 앱을 관리할 수 있는 두 번째 제어 계층입니다.

직장 및 학교에서 Apple로 로그인이 출시됨에 따라, 이제 모든 환경의 사용자는 Apple ID 또는 관리되는 Apple ID를 사용하여 앱에 로그인할 수 있습니다.

아직 Apple로 로그인을 구현하지 않았다면, 그렇게 하는 것이 좋습니다.

나는 또한 당신이 교육 공간에 있다면 Roster API를 채택할 것을 강력히 권장합니다.

Roster API에 대한 지원을 구현하면 IT 관리자, 직원, 교사 및 학생들에게 원활한 온보딩 경험을 제공할 것입니다.

언제나처럼, 우리는 당신의 소식을 듣는 것을 좋아합니다.

그러니 당신이 가질 수 있는 피드백을 제출해 주세요.

더 알고 싶다면, 2020년부터 "Apple로 로그인을 최대한 활용하기" 세션과 올해 "Enhance your Sign in with Apple experience" 세션을 적극 추천합니다.

시청해 주셔서 정말 감사드리며 올해의 WWDC를 즐기시기 바랍니다.

♪