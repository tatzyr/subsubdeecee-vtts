110343

♪ ♪

해리: 안녕하세요, 저는 SwiftUI 팀의 엔지니어인 해리입니다.

iPad 시리즈의 SwiftUI의 두 번째 부분에 오신 것을 환영합니다.

이 시리즈의 첫 번째 부분에서, 제 동료 Raj는 목록, 테이블, 선택 및 분할 뷰를 사용하여 iPad의 더 큰 화면과 다양한 입력 장치를 사용하여 앱을 빛나게 하는 방법에 대해 깊이 파고들었다.

만약 당신이 그 세션을 본 적이 없다면, 저는 그것부터 시작하는 것을 강력히 추천합니다.

나는 Raj가 Places 앱을 만드는 것을 보는 것을 정말 즐겼고 나만의 몇 가지 기능을 추가하고 싶었다.

그래서 이 세션에서 나는 내 마음에 가깝고 소중한 것을 볼 거야, 도구 모음!

SwiftUI에서 도구 모음 API는 iOS의 탐색 표시줄이나 하단 막대 또는 macOS의 창 도구 모음과 같은 많은 시스템 막대를 구성합니다.

툴바는 가장 일반적인 많은 기능에 대한 빠른 동작을 제공합니다.

좋은 도구 모음을 만들면 앱을 사용하는 사람들의 생산성을 향상시킬 수 있습니다.

저는 도구 모음과 장소가 iOS 16의 새로운 도구 모음 기능을 어떻게 사용할 수 있는지에 대해 생각하는 데 많은 시간을 할애해 왔습니다.

iPad에서 현재 가능한 것을 맛볼 수 있도록 제가 만든 것을 간략하게 보여드리는 것으로 시작하고 싶습니다.

모든 변경 사항 후에, 여기 업데이트된 장소 앱이 있습니다.

정렬된 탐색 제목, 제목 메뉴, 제목 메뉴 헤더 및 중앙에 정렬된 도구 모음 항목과 같은 몇 가지 새로운 기능을 발견할 수 있습니다.

Mac을 사용했다면, 사람들이 도구 모음을 고유하게 만들 수 있는 도구 모음 사용자 지정과 같은 기능에 익숙할 수도 있습니다.

이 강력한 Mac 기능은 iPad에서 데뷔하고 있다.

이 세션을 시작하기 위해, 도구 모음 API에 대한 몇 가지 개선 사항을 보여드리겠습니다.

그런 다음 제목과 문서에 대한 몇 가지 새로운 API를 안내해 드리겠습니다.

그러니 도구 모음으로 바로 뛰어들자.

이제, 여러분 중 많은 사람들이 이미 자신의 iOS 앱에서 도구 모음을 구성했고 더 작은 화면으로 최적화하기 위해, 제가 처음 장소를 보았을 때 했던 것처럼 메뉴를 추가했을 수도 있습니다.

내 메뉴는 코드에서 이렇게 생겼어.

기본 작업 배치가 있는 도구 모음 항목이 있다는 것을 알 수 있습니다.

안에는 메뉴의 내용으로 몇 가지 컨트롤이 있는 더 많은 메뉴가 있습니다.

이게 아이패드에서 어떻게 생겼는지 보자.

당신이 짐작할 수 있듯이, 그것은 실제로 그곳에서 사용 가능한 공간을 이용하지 않습니다.

하지만 좋은 점은 iOS 16에서 도구 모음이 당신을 대신하여 이러한 종류의 메뉴를 구현할 수 있다는 것입니다.

우리는 이 오버플로 메뉴를 부르고 그것들을 최대한 활용하기 위해 도구 모음의 내용을 재구성하고 싶습니다.

도구 모음 항목을 도구 모음 항목 그룹으로 변환하는 것으로 시작하겠습니다.

그런 다음 메뉴를 제거하고 그 내용을 도구 모음 항목 그룹의 내용으로 만들 것입니다.

이 그룹은 그룹의 각 보기에 대한 개별 도구 모음 항목을 삽입합니다.

iPad와 Mac에서는 필요할 때 항목을 오버플로 메뉴로 자동으로 이동하는 데 필요한 모든 것입니다.

여기서 내가 할 수 있는 일이 더 많지만, 그것에 도달하기 전에, 내 도구 모음 항목의 배치에 대해 생각해야 할 것이다.

배치는 도구 모음 항목이 렌더링되는 영역을 정의합니다.

다른 배치는 같은 지역으로 해결될 수 있다.

내비게이션 바는 세 가지 뚜렷한 영역이 있다고 생각할 수 있습니다: 앞, 중앙, 그리고 후행 영역.

선행 및 후행 영역은 일반적으로 통제를 포함한다.

중앙에 앱의 내비게이션 제목이 포함되어 있는 동안.

장소의 맥락에서 이것을 살펴봅시다.

장소에서 내 기본 작업 도구 모음 항목 그룹은 iPad 또는 Mac의 후행 영역으로 해결됩니다.

기본 동작은 특정 화면에서 사용자가 사용할 수 있는 가장 일반적인 동작을 나타냅니다.

iOS 16에는 보조 액션이라는 새로운 배치가 있다.

이 항목들은 가장 많이 사용되는 컨트롤이 아닌 컨트롤을 나타내지만, 여전히 자체 도구 모음 항목을 보증합니다.

좋아하는 것과 편집과 같은 행동은 장소에서 가장 중요하지 않기 때문에, 나는 그것들을 부차적인 행동으로 만들 것이다.

기본적으로, 보조 작업은 도구 모음에 표시되지 않습니다.

대신, 그들은 오버플로 메뉴에 산다.

새로운 toolbarRole 수정자를 사용하여 그 동작을 변경할 수 있습니다.

이 수정자는 의미론적 역할을 할당하여 도구 모음의 행동에 영향을 미친다.

여기서 저는 콘텐츠 편집에 최적화되어야 한다는 내비게이션 바를 알려주는 편집기 역할을 전달합니다.

내비게이션 바는 이것을 도구 모음 항목을 렌더링할 수 있는 더 많은 공간을 갖고자 하는 욕망으로 해석하므로 탐색 제목을 중앙 영역에서 주요 영역으로 이동합니다.

이것은 오버플로 메뉴로 이동하기 전에 2차 작업을 중앙에 배치할 수 있는 공간을 만든다.

컴팩트 사이즈 클래스에서는 내비게이션 바가 변경되지 않고 중앙에 제목을 계속 렌더링합니다.

보조 작업과 도구 모음 역할 API를 사용하면 Places가 iPad의 크기를 활용할 수 있습니다.

센터를 사용할 수 있으므로, 노이즈 버튼, 컴포트 레벨 버튼 또는 휴지통 버튼과 같은 도구 모음에 더 많은 항목을 추가할 수 있습니다.

하지만 내가 많은 항목을 추가하기 시작하면, 내 도구 모음은 일부 사용자에게 다루기 힘든 일이 될 수 있다.

MacOS는 각 사람이 자신에게 가장 적합한 도구 모음을 선택할 수 있는 사용자 정의 가능한 도구 모음을 오랫동안 지원해 왔으며, 이제 iPadOS가 사용자 사용자 사용자 지정도 지원한다고 말하게 되어 기쁩니다.

macOS에서 작동하는 기존 도구 모음 사용자 지정 API를 사용하여 이 기능을 채택할 수 있습니다.

지금 그걸 보자.

도구 모음 항목만 사용자 정의할 수 있으므로 먼저 도구 모음 항목 그룹을 개별 도구 모음 항목으로 분할하겠습니다.

이 변경 이후에는 기능적 차이가 없다는 점에 유의하십시오.

사용자 지정은 또한 도구 모음의 모든 항목이 고유 식별자와 연결되어야 하므로 각 항목에 ID를 추가할 것입니다.

이러한 ID는 앱 출시 전반에 걸쳐 독특하고 일관성이 있는 것이 중요합니다.

사용자가 도구 모음을 사용자 정의할 때, SwiftUI는 이러한 ID를 유지하고 렌더링할 관련 보기를 찾는 데 사용합니다.

마지막으로, 도구 모음 수정자 전체에 ID를 추가할 것입니다.

전체적으로, 이것은 도구 모음을 선택하여 사용자 지정을 지원합니다.

사용자 정의 가능한 도구 모음에 고유한 도구 모음 항목은 처음에 도구 모음에 존재하지 않을 수 있습니다.

이 항목들은 사용자 지정 팝오버에서 삶을 시작하고 나중에 도구 모음에 추가할 수 있습니다.

이 항목들은 처음에 존재하지 않기 때문에, 이것은 특정 워크플로우에 더 유용한 작업에 좋은 옵션이다.

그것들을 확인해 보자.

새 항목을 더 쉽게 볼 수 있도록 현재 도구 모음 항목 중 일부를 숨기고 싶습니다.

이제 공유 링크가 포함된 도구 모음 항목을 추가해 봅시다.

공유 링크는 SwiftUI의 새로운 기능이며 전송 가능이라는 새로운 프로토콜에 의존합니다.

Transferable 및 ShareLink에 대한 자세한 내용은 Meet Transferable 세션을 확인하십시오.

내 도구 모음 항목이 제자리에 있으면, 이 항목이 처음에 바에 존재하지 않도록 하는 기본 매개 변수로 쇼에 false 값을 제공할 것입니다.

이제 사용자 지정 팝오버에서 최고의 삶을 사는 내 공유 링크를 볼 수 있습니다.

그리고 사용자 지정 팝오버에서 바로 드래그할 수 있습니다.

사람들은 그걸 좋아할 거야.

내 공유 링크를 제자리에 놓은 상태에서, 나는 내 도구 모음 항목 간의 관계에 대해 생각하기 시작했다.

공유 링크를 막대로 이동한 후, 나는 내 이미지와 지도 조정 항목이 분리되어 있다는 것을 알아차렸지만, 이 항목들을 빠른 편집 제어 그룹으로 생각하며, 도구 모음 자체에서 그 관계를 모델링하고 싶습니다.

iOS 16과 macOS Ventura는 ControlGroup을 사용하여 이 관계 모델링을 지원합니다.

어떻게 하는지 보여줄게.

이미지와 지도 조정 작업을 위한 두 개의 개별 도구 모음 항목이 있다는 것을 알 수 있습니다.

그것들을 함께 그룹화하기 위해, 나는 먼저 그것들을 같은 항목으로 옮길 것이다.

그럼 내가 그들을 통제 그룹으로 포장할게.

사용자는 이제 도구 모음에서 그것들을 단위로 추가하거나 제거할 수 있습니다.

꽤 멋지지만, ControlGroup에서 사용할 수 있는 새로운 API를 사용하여 이것을 더 발전시킬 수 있습니다.

제어 그룹에 라벨을 제공함으로써, 이 항목 그룹은 오버플로 메뉴로 이동하기 전에 더 작은 메뉴로 축소될 수 있습니다.

도구 모음이 정말 합쳐지기 시작했다.

내가 하고 싶은 마지막 변화가 하나 있어.

새로운 장소를 추가하는 것은 일반적이고 중요한 작업이므로, 도구 모음 항목을 추가하고 싶습니다.

그렇게 하기 위해, 나는 도구 모음에 새 버튼을 추가할 것이지만, 이번에는 새 버튼이 가장 일반적인 작업이라고 생각하기 때문에 기본 작업 배치를 사용할 것이다.

이 배치는 iOS와 macOS의 중요한 차이점을 강조한다.

사용자 정의 가능한 도구 모음 수정자 내의 모든 항목은 macOS에서 사용자 지정을 지원하지만, iPadOS에서는 보조 작업만 가능합니다.

그래서 여기 내 새 버튼은 바의 후행 영역에서 렌더링되며 사용자가 사용자 정의할 수 없습니다.

와!

그것은 도구 모음에 관한 것이었고 그것들이 유일한 개선은 아니다.

내비게이션 타이틀은 메뉴, 문서 등에 대한 몇 가지 새로운 기능을 얻었다.

문서를 예로 들어 봅시다.

많은 종류의 문서가 있다.

문서 그룹 API에서 관리하는 문서에 익숙할 수 있습니다.

문서 그룹에는 문서를 표현하고 관리하기 위한 많은 기능이 내장되어 있습니다.

내가 이야기하려고 하는 모든 것은 문서 그룹을 사용할 때 무료로 제공됩니다.

하지만 장소에서는 장소가 문서 그룹을 사용하지 않더라도 개별 장소를 문서로 간주할 수 있다.

편집할 수 있는 속성이 있으며, 장소 앱에 추가하거나 제거할 수 있으며, 친구들과 장소를 공유할 수 있습니다.

비문서 그룹 기반 앱에서 이 관계를 어떻게 보여줄 수 있는지 살펴봅시다.

나는 이미 그 장소의 이름을 뷰의 내비게이션 제목으로 연관시켰다.

그래서 나는 이미 그 장소의 일부를 내 도구 모음의 제목과 연관시키고 있다.

iOS 16에서는 새로운 내비게이션 제목 수정자를 사용하여 더 나아갈 수 있습니다.

내비게이션 타이틀은 이제 메뉴 제시를 지원합니다.

당신은 이것을 macOS의 파일 메뉴처럼 생각할 수 있습니다.

이 메뉴 중 하나를 만들려면, 일반 메뉴와 마찬가지로 내비게이션 제목에 일련의 작업을 제공하십시오.

제목에는 이제 당신의 행동으로 채워진 메뉴를 보여주는 메뉴 표시기가 첨부되어 있습니다.

그리고 그것이 모든 내비게이션 타이틀이 할 수 있는 것은 아니다.

내가 가장 좋아하는 부분 중 하나는 편집 가능한 타이틀을 지원하는 새로운 기능이다.

탐색 제목에 바인딩을 전달할 수 있으며 이것은 도구 모음에 제목 편집을 지원한다는 것을 알려줍니다.

당신이 놓치고 있는 것은 실제로 편집을 시작하는 방법입니다.

제목 메뉴 작업 내에서 새로운 이름 바꾸기 버튼을 사용하여 이를 수행할 수 있습니다.

이름 바꾸기 버튼을 탭하면 제목 이름을 바꿀 수 있습니다.

내비게이션 제목을 보기에 연결할 수 있는 것처럼, 이제 내 집과 같은 문서도 연결할 수 있습니다.

문서가 제공되면, 제목 메뉴는 해당 문서의 미리보기를 보여주는 특수 헤더를 렌더링합니다.

미리보기를 드래그할 수 있으며 문서를 빠르게 공유할 수 있습니다.

이러한 헤더 중 하나를 얻으려면, 새로운 탐색 문서 수정자를 사용하여 탐색 문서를 보기에 연결하십시오.

양도 가능한 유형을 제공하거나 URL을 직접 제공하여 이를 수행할 수 있습니다.

여기서 나는 내가 보고 있는 장소로 지도 앱을 열 수 있는 URL을 제공할 것이다.

탐색 문서 수정자는 URL을 제공할 때 macOS에서 창 도구 모음의 프록시 아이콘도 구성합니다.

결국, 나는 내 앱의 도구 모음을 업데이트하는 것에서 휴식을 취할 것 같아.

내가 이번에 추가한 모든 기능을 믿을 수 있어?

빨리 그것들을 사용하기 시작하고 싶어.

나는 iPad에서 장소 경험을 개선하기 위해 내 여정에서 많은 것을 다루었다.

iPad의 툴바는 오버플로 메뉴와 사용자 지정과 같은 많은 새로운 기능을 얻었다.

보조 작업 배치 및 사용자 지정 API를 사용하여 iPad와 Mac에서 사용할 수 있는 더 큰 공간을 최대한 활용하십시오.

제목은 도구 모음에서 자신을 표현하는 몇 가지 새로운 방법을 얻었다.

내비게이션 제목을 사용하거나 제목 메뉴를 만들거나 제목 이름 변경을 지원하세요.

그리고 적절할 때 내비게이션 문서 수정자를 사용하는 것을 잊지 마세요.

iPad 시리즈에서 SwiftUI를 즐겼기를 바랍니다.

테이블, 선택, 도구 모음 등의 모든 개선 사항과 함께, 나가서 iPad 앱을 한 단계 끌어올리세요.

고마워, 그리고 멋진 WW 보내.