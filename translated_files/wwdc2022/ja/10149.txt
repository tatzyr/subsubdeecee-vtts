10149

♪ ♪

アフメド・バドル:こんにちは、ようこそ。

私の名前はアーメドで、アップルのディスプレイとカラーテクノロジーチームの一員です。

今日は、高度なビデオ品質ツール、または短いAVQTで行った新機能と機能強化のいくつかについて話したいと思います。

簡単な要約から始めましょう。

では、AVQTとは何ですか?

AVQTは、WWDC 2021で最初にリリースしたコマンドライン実行可能ファイルです。

これは、潜在的な圧縮とスケーリングアーティファクトを持つビデオの品質を評価する完全な参照ビデオ品質メトリックです。

それは、人々がビデオの品質をどのように評価するかを模倣しようとします。

AVQTは、SDRとHDRの両方で、すべてのAVFoundationベースのビデオフォーマットをサポートしています。

これには、HDR10、HLG、ドルビービジョンが含まれます。

AVQTに固有の3つの重要な属性があります。

まず、AVQTは、人々がビデオを評価する方法と高い相関関係を達成します。

これは、アニメーション、ナチュラルシーン、スポーツなど、すべてのコンテンツタイプに適用されます。

第二に、AVQTは、AVQTがビデオのデコードと処理に依存しているAVFoundationとMetalのおかげで、印象的な処理速度を備えています。

第三に、AVQTはさまざまな表示設定に対応するように設計されています。

同じビデオは、視聴設定に応じて異なる経験をもたらす可能性があります。

これは、ディスプレイの解像度、ディスプレイサイズ、表示距離などの要因によってAVQTで設定できます。

AVQTの詳細については、「高度なビデオ品質ツールでビデオを評価する」というタイトルの2021年のビデオをチェックしてください。

AVQTが発表されたWWDC 2021のビデオでは、M1 Macで達成する印象的な処理速度を紹介しました。

それ以来、Appleのプロセッサはより能力が高くなり、AVQTはより速くなりました。

新しいM1プロセッサーファミリーの処理速度は次のとおりです。

M1 Ultraでは、AVQTは2時間のHEVC圧縮4K映画を20分で評価します。

これはリアルタイムの6倍の速さです。

同様の持続時間のフルHD映画の場合、AVQTは11分以内にビデオを処理します。

これはリアルタイムの10倍以上高速です。

同じ時間でより多くのビデオを評価できるようになりました。

次に、今年AVQTに追加した新機能と機能強化を紹介します。

追加の手順なしで、AVQTを使用してビデオの品質を視覚化できるようになりました。

AVQTの最新バージョンは、ビデオの品質の分析を示すインタラクティブなプロットと図を含むHTMLベースのレポートを生成します。

これらのレポートは、新しい「視覚化」フラグを追加することで簡単に生成できます。

品質が期待に応えなかったビデオのセクションを簡単に識別できます。

AVQTレポートを他の同僚と共有することもできます。

AVQTやその他のツールをインストールする必要はありません。 インストールする必要はありません。

彼らはSafariでレポートを開くことができます。

では、インタラクティブなレポートを作成する方法と、その機能の一部を使用する方法を紹介します。

ヘルプメニューを表示することから始めます。

レポートの作成に使用できる新しい引数「視覚化」を追加しました。

これは、昨年のWWDCプレゼンテーションのセグメントを圧縮して作成したテストビデオの品質を評価するAVQTコマンドです。

その後、視覚化引数を追加すると、レポートも作成されます。

完了すると、標準出力に印刷されたHTMLレポートファイルの場所が表示されます。

このファイルはSafariで簡単に開くことができます。

左側の表は、分析されたビデオに関する情報を示しています。

右側には、ビデオの評価中に使用される設定とパラメータが含まれています。

この図は、時間の経過とともにフレームレベルとセグメントレベルのAVQTスコアの両方を示しています。

特定の間隔に興味がある場合は、ズームインするだけで詳細を確認できます。

プロットにカーソルを合わせると、時間、AVQTスコア、このスコアが属するフレームまたはセグメントのインデックスなど、そのポイントに関する詳細情報が得られます。

ホームビューにズームアウトするには、図内の任意の場所をダブルクリックできます。

分析されたビデオのAVQTフレームスコアの分布を示す円グラフも含まれています。

「悪い」、「貧しい」、「公平」、「良い」、「優秀」の5つの品質カテゴリのそれぞれのフレームの割合と数を示します。

下部の数字は、PSNRスコアを示すことを除いて、上部の数字に似ています。

この機能が、ビデオの品質を要約し、問題があれば特定するのに役立つことを願っています。

これは私があなたに話すことに興奮している別の機能です。

評価するリファレンスビデオとテストビデオから時間枠を指定できるようになりました。

これにより、特定のシーンやビデオの複数のシーンに焦点を合わせることができます。

また、一時的に整列されていないビデオを比較することもできます。

分析に関心のあるビデオセクションの先頭と末尾を正確に指定できるように、4つの新しいコマンドライン引数を追加しました。

タイムウィンドウ機能の使い方の例をお見せしましょう。

これは私が前のデモで評価したビデオです。

今回は、ビデオの1つのシーンを評価することに興味があります。

これを達成する方法は次のとおりです。

Quicktime Playerでは、そのシーンを探すことから始めます。

これです。 

ここをクリックすると、フレームインデックスが表示されます。

矢印キーを使って、シーンの最初のフレームにたどり着きます。

270です。

シーンの最後のフレームを見つけるために同じ手順を繰り返します。

フレーム486です。

では、AVQTでこのシーンを評価しましょう。

コマンドの最初の部分は以前と同じです。

次に、これらの4つの新しく追加されたコマンドライン引数を使用して、QuickTime Playerから得た開始フレームと終了フレームのインデックスを追加します。

私は今、このシーンのAVQTスコアを持っています。

このコマンドを実行すると、ビデオ全体を処理して、そのシーンのスコアだけを見るよりも高速です。

これにより、AVQTの柔軟性が高まります。

柔軟性といえば、このバージョンでは生のYUVフォーマットのサポートも拡張しました。

AVQTは、すべてのAVFoundationビデオフォーマットをサポートしています。

それに加えて、生のYUVビデオもサポートしています。

これにより、生のカメラフィードなど、圧縮されたことのないビデオを採点できます。

また、エコシステムの外で圧縮およびデコードされたビデオを評価する場合にも役立ちます。

今年は、生のYUVのサポートを拡張し、幅広いクロマサブサンプリングとビット深度を備えた合計20のフォーマットを含めました。

「Reference-fourcc」と「test-fourcc」フラグが廃止されたことは注目に値します。

クロマサブサンプリング用とビット深度用の2つの別々のフラグセットに置き換えました。

この機能を使用すると、前処理を必要とせずにより多くのビデオを評価できます。

AVQTがWWDC 2021で最初にリリースされて以来、このツールへの関心が高まっています。

私たちは多くのコメントやリクエストを受け取りました。

最も一般的なリクエストの1つは、Linuxのサポートを追加することです。

本日、AVQTがLinuxで利用可能になったことをお知らせします。

これにより、ビデオを移動することなく、クラウドに保存されているコンテンツやLinuxベースのサーバーに圧縮されたコンテンツを評価できるようになることを理解しています。

macOSバージョンとともに、幅広いLinuxディストリビューションをサポートするLinux用AVQTのベータ版もリリースしています。

外部の依存関係を必要としないため、簡単に展開できます。

それは本質的にプラグアンドプレイです。

サポートされているLinuxディストリビューションとバージョンの詳細については、AVQTパッケージのREADMEファイルを参照してください。

AVQTのLinuxバージョンは、macOSバージョンと同じルックアンドフィールを持つように設計されています。

コマンドラインフラグの同じ名前を使用し、同じ形式の出力ファイルを生成します。

Linuxバージョンは、最新バージョンのmacOSツールに含まれている20の生のフォーマットをすべてサポートしています。

表示条件パラメータはLinuxベータ版では利用できませんが、将来的に有効になります。

最後に、ここにいくつかの重要なポイントがあります。

AVQTは、WWDC 2021でリリースした知覚ビデオ品質ツールです。

開発者ポータルからダウンロードできます。 開発者ポータルからダウンロードできます。

ツールを試したことがない場合は、先に進んで使用してください。

今年は、AVQTにいくつかの機能強化を追加しました。

同僚と共有できるインタラクティブなHTMLベースのレポートで、ビデオのAVQTスコアを視覚化できるようになりました。

また、新しい「タイムウィンドウ」機能を使用して、ビデオの特定のシーンの品質に焦点を当てることもできます。

そして最後に、クラウドにビデオを持っている人や、Linuxベースのビデオエンコーダを使用している人のために、AVQTはLinuxで利用可能になりました。

どうもありがとうございます。