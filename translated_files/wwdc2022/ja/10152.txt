10152

♪ ♪

ドリュー・ハース:こんにちは。私の名前はドリュー・ハースで、アクセシビリティチームのエンジニアです。

私は、アクセシブルなシングルアプリモード体験を作成する方法について話すためにここにいます。

シングルアプリモードを使用すると、開発者として、iOSおよびiPadOSデバイスの特定の動作を制限することで、本当にユニークな方法でユーザーにサービスを提供できます。

つまり、これらのモードでは、デバイスを1つのアプリにロックすることができます。

モードに応じて、制限はシステムまたはアプリによって開始されます。

制限された状態と制限されていない状態の間のタイミングを制御できるため、これは素晴らしいことです。

また、自動ロックが有効になっているかどうかなど、シングルアプリモードの上に追加の制限を適用することもできます。

アクセシビリティのユースケースを考慮することを忘れないでください。

アクセシビリティ機能に依存している人々が、デバイスが制限されていても、それらを使用できるようにそれらをオンにする能力を持っていることを確認する必要があります。

これにより、あなたのアプリは支援技術を使用している人々にとって包括的であることを保証します。

シングルアプリモードを使用する時期の例をいくつかお話ししたいと思います。

顧客がレストランやイベントで食べ物や飲み物を注文するアプリを開発しているとしましょう。

または、患者が医療スタッフが共有したデバイスを扱って情報を記入している診療所で使用されるアプリ。

あるいは、教室で生徒のテストを容易にするのに役立つアプリ。

これらはすべて、シングルアプリモードの制限がユーザーに焦点を当てた環境を作成するのに役立つシナリオです。

そして、コードを書いていなくても、あなたのアプリがシングルアプリモードで使用されるかもしれないことを知っていましたか?

そうです、ガイド付きアクセスは、ユーザーが任意のアプリをシングルアプリモードにできるアクセシビリティ機能です。

まず、ガイド付きアクセスについて話し、このモードでアプリを使用するときに考慮すべきいくつかの考慮事項について説明します。

次に、特定のAPIとフレームワークを採用することで、アプリ内からプログラムで開始する単一のアプリモードについて説明します。

そして最後に、シングルアプリモードで特別に使用するために設計されたアクセシビリティAPIを提供します。

このAPIを使用して、特定のアクセシビリティ機能をオンまたはオフにし、シームレスでアクセスしやすいエクスペリエンスを作成します。

まずはガイド付きアクセスで飛び込みましょう。

ガイド付きアクセスを開始するには、まずアクセシビリティ設定でオンになっていることを確認してから、ロックしたいアプリを開きます。

サイドボタンをトリプルクリックして、アクセシビリティショートカットを実行します。

これは、システム制限を設定するガイド付きアクセスワークスペースを示しています。

次に、[開始] をタップして開始します。

現在、デバイスは制限された状態です。

最前面のアプリにロックされており、オプションメニューで設定した制限が適用されます。

これは、認知障害を持つ人々のためのガイド付き体験を作成するのに役立ちます。

ガイド付きアクセスを終了するには、アクセシビリティショートカットを再度実行するだけです。

オプションメニューでは、タッチインタラクション、ディスプレイモーション、ソフトウェアキーボード、および音量ボタンやスリープ/スリープ解除ボタンなどのハードウェアボタンイベントを制限できます。

このように制御された環境を持つことは、認知障害を持つ人々にとって特に役立ちますが、この機能は、アクセシビリティユーザーから、これらのデバイス制限に簡単にアクセスすることで恩恵を受けることができる幼い子供の親まで、さまざまなユーザーにも楽しんでいます。

ここが君の出番だ!

UIAccessibility APIを使用すると、ガイド付きアクセス中にアプリのエクスペリエンスを調整するためのカスタム制限を作成できます。

この機会を利用して、認知障害を持つ人が迷子になったり、選択肢に圧倒されたりする可能性のあるアプリの領域を制限または調整してください。

認知アクセシビリティのためのいくつかの設計上の考慮事項を共有したいと思います。

これらは、可能であれば常に従うべき原則ですが、特にガイド付きアクセス中にアプリで従う必要があります。

まず、間違いを許すことです。

アカウント情報や支払い情報を削除または変更するなど、重要または不可逆的なアクションを実行する前にユーザーに警告することで、エラーが発生する前にエラーを軽減するようにしてください。

誰もが同じ速度で情報を処理するわけではないので、アプリの特定のことに行動するタイミングへの依存を減らすことを目指すべきです。

時制アラートを使用したり、短いタイムアウト後に自動的にアクションを実行したりすると、アプリの使用が難しくなります。

そして、常に、常に、支払いを行う前にユーザーに確認する機会を与える必要があります。これには、ワンタップ購入のアプリが含まれます。

これらの考慮事項を考慮してアプリを設計することは、アクセシビリティユーザーの独立性を促進します。

私はあなたに例を見せたい。

私は、人々が週の間にどれだけ読んだかを追跡するのに役立つReading Observatoryというアプリに取り組んでいます。

私のアプリのホームページには読書の進捗状況が表示され、アカウント設定と読み続けるボタンの2つのボタンがあります。

ガイド付きアクセスがアクティブな間にアカウント設定ボタンをロックするアプリのカスタム制限を追加しました。

これは、ユーザーが意図しない変更を加える可能性のあるアカウント設定に埋もれているなど、他の場所で迷子になるのを防ぐために、この制限の下で私のアプリにユニークな体験を与えます。

これはまた、誰かが立ち往生し、読書である私のアプリの主な目的で軌道に乗るのに助けを必要とするかもしれない時間の量を減らすでしょう。

これを行うには、まずAppDelegateをUIGuidedAccessRestrictionDelegateプロトコルに適合させます。

識別子の配列を提供することで、各制限についてガイド付きアクセスに知らせる必要があります。

私は1つだけ持っています。

また、それぞれにユーザー向けタイトルと、追加の詳細を提供する必要がある場合はオプションの説明を指定する必要があります。

これらの文字列はオプションメニューに表示されます。

最後に、guidedAccessRestriction (withIdentifier:didChange:) メソッドを実装して、制限が切り替えられたときにコールバックを受信します。

これは、アプリが、特定のボタンのユーザーインタラクションをオフにしたり、以前の設計原則の一部を導入したりするなど、制限に対応するロジックを実行するための通知を投稿できる場所です。

UIAccessibilityでguideedAccessRestrictionState(forIdentifier:)を呼び出して、カスタム制限がいつでも有効になっているかどうかを確認してください。

システムが提供するすべての制限とカスタムアプリベースの制限により、ガイド付きアクセスは非常に設定可能になり、それが素晴らしいアクセシビリティ機能である理由です。

ガイド付きアクセスは、アクセシビリティ設定にあります。

他のシングルアプリモードは、デバイス上の制限されたセッションをプログラムで入力するために利用できます。

彼らはガイド付きアクセスと類似点を共有していますが、主な違いは、プログラムでこのモードに入ることです。

これは、シングルアプリモードセッションの設定、開始、カスタマイズについて、話すことがたくさんあることを意味します。

以前のシナリオのそれぞれを覚えていますか?

iPadは、テスト環境で、診療所でレストランキオスクとして使用されています。単一のアプリモードは、これらすべての状況に適したソリューションです。

それぞれがわずかに異なるニーズを持っているかもしれませんが、それらはすべてデバイスを単一のアプリにロックすることで利益を得ます。

これにより、人々がスワイプして家に帰ったり、設定で物事を変更したり、Safariで何かを調べたりするのを防ぎます。

これらのそれぞれを見てみましょう。必要な制限に基づいて、シングルアプリモードをお勧めします。 

最初のモードは最も基本的で、展開が最も簡単です。

それは単にシングルアプリモードと呼ばれています。

これは、単一のアプリに永続的にとどまる予定のデバイスを持っているときのための正しい解決策です。

再起動後もアプリ内でロックされたままで、メンテナンスに手動の介入は必要ありません。

低関与のアプローチに最適です。

しかし、いくつかの考慮事項!

デバイスは監視されなければならない。

監視ツールを使用すると、大量のデバイスを一度にシングルアプリモードにロックできるので、多くのデバイスで作業している場合、これは非常にスケーラブルなソリューションです。

Apple Configuratorを使用すると、監視対象のデバイスをシングルアプリモードにするなど、さまざまな方法で管理できます。

監視対象デバイスを選択し、[詳細設定] で [シングル アプリ モードの開始] を選択します。

最後に必要なのは、アプリを選択することです。

そうすると、自動的に起動し、フォアグラウンドにロックされます。

このモードを終了する他の方法はありません。

前述したように、管理ソフトウェアを介してシングルアプリモードを終了しない限り、再起動してもこのアプリにロックされたままになります。

自律シングルアプリモードは、制限された状態が頻繁に出入りする状況に適しています。

たとえば、医療機関では、新しい患者がiPadに情報を入力し、それをスタッフに返します。

これは、制限の間に手動の介入があることを意味します。

アプリは、単一のAPIメソッド呼び出しを使用して出入りすることで、単独でこれを行うことができます。

繰り返しますが、考慮事項 - デバイスを監督する必要があり、このAPIを使用するアプリは、デバイスの構成プロファイルにリストされていることを許可する必要があります。そうしないと、特権がないため、ロックの要求が失敗します。

強力な方法は、UIAccessibilityのrequestGuidedAccessSession(enabled:complet ionHandler:)です。

ねえ、それは見覚えがあるね！でしょ？

このAPIは、ガイド付きアクセスのルーツに直接タップします。

基本的に、このコードを使用してプログラムでこの機能を入退します。

かっこいいんじゃない？

なぜなら、ガイド付きアクセスは、他の単一のアプリモードが存在するための基盤となるからです。

あなたはそれを知らなかったに違いない！

このコードが実際にどのように機能するか見てみましょう。

このモードに出入りする方法があり、準備ができたら電話します。

彼らは、制限された状態に入ったときに新しい患者のサインアップシートを開始し、終了時に情報をブックキープするなど、さまざまなアクションを実行しています。

もちろん、完了ハンドラの結果に適切に対処して、何かがうまくいかないかどうかを知る必要があります。

もしそうなら、あなたはユーザーに警告を与え、彼らが再び試すことができるように、経験の継続を延期したいと思うかもしれません。

UIAccessibilityでisGuidedAccessEnabledを呼び出して、自律型シングルアプリモードがいつでも有効になっているかどうかを確認してください。

また、guidedAccessStatusDidChangeNotificationを観察して、このモードに入力または終了するときに追加のコードをトリガーします。

そして、このAPIを使用するアプリは、自律シングルアプリモードの許可されたアプリケーションとしてアプリのバンドルIDをリストするなど、適切な監督と管理を持っている必要があることを覚えておいてください。

そして最後に、評価モード。

これは、アプリがテスト中に特定の機能を制限することで、不公平な利点を防ぐことを目指す場合の正しいモードです。

受験者が外部のメモやリソースにアクセスできないように、アプリへの自動修正、スペルチェック、およびシングルアプリモードロックをオフにします。

最近、これらのフレームワークは、自動評価構成フレームワークを導入したとき、iOSとmacOS用に統一されました!

これを使用するには、以前のモードのようにデバイスを監視する必要はありませんが、アプリの評価資格をAppleに申請する必要があります。

資格の申請の詳細については、開発者のドキュメントを参照してください。

私の同僚のジョシュは、大量のコード例やドキュメントリソースを含む、自動評価構成フレームワークの使用方法を説明する素晴らしいWWDCセッションを持っています。

ぜひチェックしてください。

どのシングルアプリモードソリューションがあなたに適しているかがわかったら、またはすでに機能しているソリューションがある場合は、支援技術を使用している人々があなたのアプリを使用することを心に留めておくことを忘れないでください。

この体験にアクセスできるようにするために、追加の手順を踏む必要があるかもしれません。

レストランのキオスクとして使用されているiPadの古典的な例では、盲目の顧客が注文に来ることを考えてみましょう。

デバイスがシングルアプリモードに明確にロックされている場合、問題があります。

このお客様の設定を開き、アクセシビリティに移動し、VoiceOverをオンにすることはできません。

それで、あなたは何ができますか?

Apple Configuratorやその他のデバイス管理ソフトウェアは、シングルアプリモードのオプションを設定するのに役立ちます。

一握りのアクセシビリティ機能が常に有効にでき、「トリプルクリック」メニューとも呼ばれるアクセシビリティショートカットは、ユーザーがVoiceOver、Zoom、Invert Colors、AssistiveTouch、Voice Controlなどのアクセシビリティ機能をすばやく切り替えるように構成できます。

これらの機能が常にオンになっている場合、またはアクセシビリティショートカットに割り当てられている場合、これらの技術に依存する人々がアプリをナビゲートしている間にそれらを使用できるようにします。

これを設定するのはかなり簡単なので、そうするチャンスをお見逃しなく。

しかし、これらのオプションは、シングルアプリモードに入る前に設定する必要があります。

では、シングルアプリモード中はどうですか?

UIAccessibilityのAPIを使用して、特定のアクセシビリティ機能をコードで直接切り替えます。

これは、アクセシビリティショートカットで機能を切り替える優れた代替手段であり、デバイスがハードウェアボタンを遮断するキオスクエンクロージャに収められている場合に役立ちます。

このAPIを作ったので、アクセシビリティ機能を簡単にオフにできるので、ハウスキーピングを行い、ユーザー間で状態をリセットすることができます。

これを行うには、UIAccessibilityでconfigureForGuidedAccessを呼び出します。

互換性のあるアクセシビリティ機能に合格する必要があり、有効にするかどうか。

これは、ズーム、VoiceOver、色の反転、AssistiveTouch、グレースケールで機能します。

したがって、アプリにガイド付きアクセスのカスタム制限がある場合でも、シングルアプリモードを中心にエクスペリエンス全体を構築する場合でも、アクセス可能であることを確認する方法を知ることが重要です。

間違った種類の制限により、使用できにくくなるので、アプリを使用している障害のある人の経験は常に考慮してください。

アクセシブルなシングルアプリモードエクスペリエンスを作成するために必要なAPIをお見せしました。

今、何か素晴らしい、そしてアクセス可能なものを作りに行きなさい!