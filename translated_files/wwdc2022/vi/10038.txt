10038

♪ nhạc cụ hip hop ♪

Xin chào và chào mừng đến với WWDC.

Tôi là Nikhil và hôm nay, tôi sẽ chia sẻ với bạn những thay đổi sắp tới đối với SKAdNetwork.

Trước khi đi sâu vào tương lai, hãy nhớ chúng ta đang ở đâu và chúng ta đã đến đây bằng cách nào.

Tại Apple, chúng tôi tin rằng quyền riêng tư là quyền cơ bản của con người và việc bảo vệ nó được đan xen vào mọi thứ chúng tôi làm ở đây.

Đó là lý do tại sao chúng tôi tạo ra SKAdNetwork.

SKAdNetwork là hệ thống phân bổ cài đặt bảo vệ quyền riêng tư của Apple.

Dữ liệu phân bổ được gửi lại cho nhà quảng cáo trong khi vẫn giữ được quyền riêng tư của người dùng.

SKAdNetwork liên quan đến ba tác nhân: mạng quảng cáo, ứng dụng nhà xuất bản và ứng dụng nhà quảng cáo.

Hãy xác định một số thuật ngữ được sử dụng phổ biến trong SKAdNetwork.

Ấn tượng: một ấn tượng trong bối cảnh của cuộc thảo luận này là đầu vào từ ứng dụng của nhà xuất bản đến SKAdNetwork.

Tương tác: tương tác xảy ra khi người dùng tương tác với ứng dụng nhà quảng cáo.

Ứng dụng nhà quảng cáo ghi lại các tương tác này dưới dạng cập nhật giá trị chuyển đổi.

Và cuối cùng, chuyển đổi, còn được gọi là postbacks.

Postback chứa dữ liệu phân bổ được gửi đến mạng quảng cáo.

Dữ liệu phân bổ cung cấp tín hiệu cho mạng quảng cáo rằng đây là một chuyển đổi thành công của quảng cáo gốc.

Mạng quảng cáo tạo ra ấn tượng có chữ ký cho ứng dụng nhà quảng cáo.

Ứng dụng nhà xuất bản sử dụng ấn tượng này và hiển thị quảng cáo này.

Người dùng sau đó nhấn vào quảng cáo và cài đặt ứng dụng.

Khi được khởi chạy lần đầu tiên, ứng dụng sẽ gọi API để báo hiệu quá trình chuyển đổi.

Sau đó, ứng dụng có thể liên tục gọi API này để cập nhật giá trị chuyển đổi và nắm bắt các mức độ tương tác khác nhau và lợi nhuận trên quảng cáo đã chi tiêu.

Khi bộ hẹn giờ hết hạn, chúng tôi sẽ gửi postback chứa dữ liệu phân bổ đến mạng quảng cáo.

Xem nhanh lịch sử phiên bản của SKAdNetwork.

SKAdNetwork 2.0 đã giới thiệu phân bổ quảng cáo bảo vệ quyền riêng tư.

2.2 cho phép các ứng dụng của nhà xuất bản hiển thị quảng cáo tùy chỉnh.

3.0 đã thêm postbacks cho số lần hiển thị không giành chiến thắng.

Và trong iOS 15.0, chúng tôi đã giới thiệu các bản sao postback cho các nhà phát triển cho tất cả các phiên bản của SKAdNetwork.

Để biết thêm về lịch sử của SKAdNetwork, hãy tham khảo phiên "Gặp gỡ phân bổ quảng cáo bảo vệ quyền riêng tư" từ WWDC 2021.

Bây giờ hãy nói về tương lai, SKAdNetwork 4.0.

Hãy cùng xem xét các tính năng mới.

Chúng tôi sẽ bắt đầu bằng cách xem xét một vài thay đổi đối với API được thiết kế để cung cấp thêm dữ liệu cho các nhà quảng cáo.

Sau đó, chúng ta sẽ xem xét khía cạnh chuyển đổi của mọi thứ.

Sau đó, chúng tôi sẽ chuyển sang phân bổ cho quảng cáo trên web và kết thúc bằng cách nói về khả năng kiểm tra SKAdNetwork.

ID phân cấp và giá trị chuyển đổi là tính năng mới đầu tiên đến với SKAdNetwork 4.0.

Trước khi đi sâu vào tính năng mới, tôi muốn xác định tính ẩn danh của đám đông.

Ẩn danh đám đông là thuật ngữ chúng tôi sử dụng để chỉ cách bảo vệ quyền riêng tư mà SKAdNetwork cung cấp dữ liệu phân bổ.

Số lượt cài đặt xác định mức độ riêng tư được đảm bảo cho người sử dụng ứng dụng của bạn.

Ở đầu dưới, chúng tôi gửi ít dữ liệu phân bổ hơn cho nhà quảng cáo trong phần sau.

Khi số lượng cài đặt thấp, chúng tôi thực hiện các bước bổ sung để bảo vệ quyền riêng tư bằng cách giới hạn thông tin có thể theo dõi được gửi lại.

Khi số lượng tăng lên và tính độc đáo của người dùng bắt đầu hòa vào đám đông, chúng tôi sẽ gửi lại nhiều dữ liệu hơn.

Cuối cùng, khi số lượng đạt đến mức cao nhất, chúng tôi có thể gửi lại nhiều dữ liệu nhất trong khi vẫn giữ được quyền riêng tư.

Trong SKAdNetwork 4.0, chúng tôi có cách gửi nhiều dữ liệu hơn trong khi vẫn giữ được các biện pháp bảo vệ quyền riêng tư của mình.

Đối với điều này, chúng tôi đang thay đổi trường nhận dạng chiến dịch.

Hiện tại, đây là một trường gồm 2 chữ số.

Chúng tôi sẽ tăng phạm vi của trường này lên 4 chữ số và đổi tên nó thành mã định danh nguồn.

Cái tên mới phản ánh cách suy nghĩ của chúng tôi về lĩnh vực này là có khả năng đại diện cho bất cứ thứ gì bạn chọn sử dụng nó chứ không chỉ để xác định các chiến dịch.

Mặc dù đây là một số duy nhất, chúng tôi khuyến khích nghĩ về nó như ba số phân cấp, một số có 2, 3 và 4 chữ số.

Suy nghĩ về trường định danh nguồn như một tập hợp các số phân cấp rất hữu ích trong việc gán ý nghĩa cho các số khác nhau.

Ví dụ, 2 chữ số có thể đại diện cho chiến dịch quảng cáo, chữ số thứ 3 có thể đại diện cho vị trí được nhóm của người dùng và chữ số thứ 4 có thể đại diện cho vị trí đặt quảng cáo trên màn hình.

Ngoài ra, 2 chữ số có thể là viết tắt của phương pháp điều trị, chữ số thứ 3 có thể đại diện cho thời gian được xếp trong ngày và chữ số thứ 4 có thể đại diện cho kích thước của quảng cáo được hiển thị.

Đây chỉ đơn giản là những ví dụ, và cuối cùng, những gì chúng tôi muốn ở đây là mở ra lĩnh vực này cho bạn để sử dụng phù hợp nhất với nhu cầu của bạn.

Tiếp tục chủ đề cung cấp thêm dữ liệu, giá trị chuyển đổi cũng đang thay đổi.

Hiện tại đây là một giá trị 6 bit.

Với SKAdNetwork 4.0, chúng tôi đang giới thiệu hai giá trị chuyển đổi: giá trị hạt mịn và giá trị hạt thô.

Giá trị hạt mịn giống như giá trị chuyển đổi ngày nay.

Giá trị hạt thô có thể giả định một trong ba giá trị.

Xem xét giá trị chuyển đổi cao 42, trong đó cao là giá trị thô và 42 là giá trị tốt, số lượng cài đặt cần thiết để nhận được giá trị thô thấp hơn giá trị cần thiết cho giá trị tốt.

Do đó, các ứng dụng sẽ nhận được cái trước nhanh hơn nhiều so với cái sau.

Tuy nhiên, lưu ý rằng chỉ một trong số này sẽ được gửi lại cho nhà quảng cáo.

Chúng ta hãy xem việc ẩn danh đám đông ảnh hưởng như thế nào đến những lĩnh vực mới này.

Sử dụng ví dụ trước đó của chúng tôi về 5739 làm mã định danh nguồn, ở mức thấp của tính ẩn danh đám đông, bạn có thể mong đợi nhận được thành phần gồm 2 chữ số của mã định danh nguồn, trong trường hợp này là 39.

Ở cấp độ trung bình, bạn có thể mong đợi nhận được thành phần gồm 3 chữ số.

Và ở mức cao nhất, bạn có thể mong đợi nhận lại mã định danh nguồn đầy đủ gồm 4 chữ số.

Khi mức độ ẩn danh của đám đông tăng lên, nhiều chữ số hơn của mã định danh nguồn được gửi lại.

Và lấy ví dụ trước đây của chúng tôi về 42 cao cho giá trị chuyển đổi, ở mức thấp của tính ẩn danh đám đông, bạn sẽ không nhận được giá trị chuyển đổi trong postback của mình.

Ở mức trung bình, bạn sẽ nhận được giá trị chuyển đổi thô.

Và ở mức cao nhất, bạn sẽ nhận được giá trị chuyển đổi chi tiết trong bài đăng lại của mình.

Khi tính ẩn danh của đám đông tăng lên, giá trị chuyển đổi trả về thay đổi.

Hãy cùng xem xét các thay đổi API.

Nếu bạn đang sử dụng các phiên bản của SKAdImpression để hiển thị quảng cáo của mình, bạn có thể đặt thuộc tính sourceIdentifier mới trên phiên bản SKAdImpression.

Nếu bạn đang đặt ấn tượng của mình thông qua từ điển, bạn có thể đặt giá trị sourceIdentifier bằng cách sử dụng khóa nhận dạng nguồn mới.

Đối với các ứng dụng được quảng cáo, bạn sẽ gọi phương thức updatePostbackConversionValue mới đã được thay đổi để hiện có giá trị chuyển đổi hạt thô ngoài giá trị chuyển đổi hạt mịn như được hiển thị ở đây.

Chúng tôi khuyên bạn nên sử dụng trình xử lý hoàn thành để thực hiện bất kỳ tác vụ tiếp theo nào sau khi cập nhật giá trị chuyển đổi postback của bạn.

Dưới đây là một số khuyến nghị về việc áp dụng ID phân cấp mới và API giá trị chuyển đổi.

Các phần khác nhau của mã định danh nguồn sẽ được trả về tùy thuộc vào mức độ riêng tư của cài đặt.

Hãy cân nhắc điều này khi soạn số nhận dạng nguồn cho số lần hiển thị của bạn.

Các giá trị chuyển đổi thô có độ chi tiết thấp hơn nhiều so với các giá trị chuyển đổi tốt.

Hãy cân nhắc điều này khi gán ý nghĩa cho các giá trị của chúng.

Giá trị chuyển đổi có thể tăng hoặc giảm.

Và cuối cùng, khi thực hiện các thay đổi đối với máy chủ của bạn để xử lý các postback SKAdNetwork 4.0, hãy làm cho chúng có khả năng phân tích cú pháp các số nhận dạng nguồn mới và các giá trị chuyển đổi thô.

Điều đó kết thúc phần giới thiệu của chúng tôi về ID phân cấp và giá trị chuyển đổi, cung cấp nhiều dữ liệu hơn cho các nhà quảng cáo trong khi vẫn giữ nguyên các biện pháp bảo vệ quyền riêng tư của chúng tôi.

Hãy tập trung vào một lĩnh vực quan trọng khác của dòng chảy phân bổ, chuyển đổi.

SKAdNetwork ngày nay sử dụng một mô hình chuyển đổi duy nhất.

Từ thời điểm cài đặt, chúng tôi cập nhật giá trị chuyển đổi để nắm bắt các tương tác khác nhau của người dùng.

Và sau một khoảng thời gian nhất định trôi qua, chúng tôi sẽ gửi lại bài đăng lên mạng quảng cáo.

Hãy xem xét một ví dụ.

Hãy sử dụng Xe tải Thực phẩm.

Xe tải thực phẩm giúp bạn kiểm soát xe tải thực phẩm của mình.

Tùy chỉnh, kiểm soát và tạo ra trải nghiệm giao bánh rán độc đáo của riêng bạn.

Với tư cách là nhà phát triển của Food Truck, tôi muốn biết giá trị chi tiêu quảng cáo của mình.

Ví dụ về điều này, khi người dùng khởi động Food Truck, tôi sẽ cập nhật giá trị chuyển đổi để đánh dấu điều này.

Khi họ nhận lô hàng đầu tiên để giao hàng, tôi sẽ cập nhật lại giá trị chuyển đổi.

Do lô bánh rán này đòi hỏi một khoảng thời gian nhất định để già đi, người dùng sẽ chờ đợi.

Ở đâu đó trong thời kỳ lão hóa, chuyển đổi được gửi dưới dạng một postback đến cả mạng quảng cáo và tùy chọn cho tôi.

Tuy nhiên, khi người dùng cuối cùng cũng giao bánh rán, tôi sẽ không có cách nào để đo lường điều này hoặc bất kỳ hành động nào khác của người dùng vì bài đăng lại đã được gửi đi.

Nói cách khác, sự tái tham gia bị mất.

Đây là những gì chúng tôi đang thay đổi.

Chúng tôi đang chuyển từ một postback duy nhất sang ba postbacks.

Các postback được gắn với các cửa sổ thời gian xác định và được gửi ở cuối các cửa sổ đó.

Hãy xem lại ví dụ trước đó.

Như trước đây, người dùng khởi động Xe tải thực phẩm và tiến hành nhận lô hàng đầu tiên để giao hàng.

Cửa sổ thời gian của postback đầu tiên trôi qua và chúng tôi gửi nó đi.

Người dùng giao bánh rán.

Trong khi trước đó, điều này sẽ không được nắm bắt, bây giờ chúng ta thấy mình trong cửa sổ thời gian của postback thứ hai.

Chúng tôi cập nhật giá trị chuyển đổi để nắm bắt điều này.

Cửa sổ thời gian của postback thứ hai trôi qua và chúng tôi gửi nó đi.

Sử dụng các công cụ trong ứng dụng, người dùng tạo ra một công thức bánh rán hoàn toàn mới và sau đó đi ra ngoài một lần nữa để giao một lô mới.

Cửa sổ thứ ba trôi qua và bưu điện thứ ba được gửi đi.

Có nhiều cơ hội hơn để đo lường giá trị của việc chuyển đổi và nhận các phép đo này thường xuyên hơn.

Một vài điểm cần lưu ý về nhiều chuyển đổi: Chỉ bài đăng lại đầu tiên mới nhận được giá trị chuyển đổi tốt.

Các postback bổ sung có thể mang giá trị chuyển đổi thô.

Chỉ người chiến thắng và nhà phát triển mới nhận được các bài đăng lại bổ sung.

Tiếp theo, hãy xem lại các thuộc tính SKAdNetwork cho quảng cáo trên web.

Chúng tôi biết rằng các ứng dụng của nhà xuất bản hiển thị quảng cáo mở các trang sản phẩm trong App Store.

App Store, lần lượt, hoạt động với SKAdNetwork để phân bổ cài đặt trong khi cung cấp các biện pháp bảo vệ quyền riêng tư mà người dùng của chúng tôi dựa vào.

Chúng tôi muốn mở rộng quyền riêng tư tương tự cho các quảng cáo được hiển thị trên các trang web.

Hãy cùng xem cái này sẽ hoạt động như thế nào.

Người dùng nhấn vào một liên kết cho một quảng cáo trong Safari.

Safari ra mắt App Store và truy cập trang sản phẩm cho ứng dụng được quảng cáo.

Hai điều xảy ra ở đây.

App Store tìm nạp hiển thị quảng cáo từ máy chủ mạng quảng cáo và người dùng cài đặt ứng dụng.

Sau đó, mọi thứ trôi chảy như ngày hôm nay, và cuối cùng, SKAdNetwork gửi bài đăng lại.

Hãy cùng xem liên kết được soạn như thế nào.

Phần href chứa liên kết App Store cho ứng dụng đang được quảng cáo.

Ghi công Điểm đến cho Apple biết nơi lấy số lần hiển thị quảng cáo đã ký.

Và attributionSourceNonce giúp mạng quảng cáo tìm ra ấn tượng quảng cáo chính xác để gửi lại.

Lưu ý rằng liên kết này có thể được phục vụ trên các trang web của bên thứ nhất và trong các iframe trang web chéo được nhúng.

Chúng ta hãy xem xét kỹ hơn việc xây dựng URL.

Chúng tôi trích xuất thành phần eTLD+1 từ đích phân bổ.

Đối với điều này, sau đó chúng tôi thêm vòng loại nổi tiếng và hai thành phần đường dẫn nữa.

Điều này cung cấp cho chúng tôi URL mà chúng tôi sẽ thực hiện yêu cầu HTTP POST để có được ấn tượng đã ký.

Lưu ý rằng giao thức và các thành phần đường dẫn được đánh dấu đã được sửa.

Bạn, mạng quảng cáo, quyết định giá trị của thành phần máy chủ.

SKAdNetwork sẽ thực hiện một yêu cầu HTTP POST đến URL được xây dựng như vừa thảo luận.

Phần thân POST sẽ là JSON.

Bạn sẽ nhận ra nguồn_nonce giống như trong liên kết quảng cáo gốc.

Giá trị này là những gì mạng quảng cáo sẽ sử dụng để xác định số lần hiển thị đã ký mà nó muốn phục vụ.

Hãy xem những gì chúng tôi mong đợi nhận được từ yêu cầu POST này.

Đây là một ấn tượng đã ký, sẵn sàng để SKAdNetwork tiêu thụ.

Lưu ý trường miền nguồn trong ấn tượng.

Đây là liên kết tương tự của ID ứng dụng nguồn trong luồng SKAdNetwork do ứng dụng điều khiển.

Xem xét cách bắt đầu sử dụng mục nhập mới này vào hệ thống SKAdNetwork, các mạng quảng cáo phải làm như sau: Tạo các phần có thể nhận dạng duy nhất của liên kết và chính liên kết.

Phơi bày một điểm cuối có khả năng phục vụ các lần hiển thị đã ký tại vị trí được xây dựng như chúng ta đã thảo luận trước đây.

Cập nhật các máy chủ postback của bạn để phân tích cú pháp và hiểu trường miền nguồn tùy chọn mới.

Đối với các trang web muốn sử dụng các liên kết đến SKAdNetwork, chỉ cần nhúng các liên kết quảng cáo do mạng quảng cáo của bạn cung cấp cho bạn.

Đó là phần giới thiệu về phân bổ SKAdNetwork cho quảng cáo trên web.

Chúng tôi vô cùng vui mừng khi thấy tính năng này được áp dụng trên toàn hệ sinh thái quảng cáo rộng lớn hơn.

Tiếp theo, chúng tôi sẽ xem xét cách bạn có thể kiểm tra việc triển khai SKAdNetwork của mình.

Ở cấp độ cao, SKAdNetwork xử lý các lần hiển thị và đăng lại.

Từ việc làm việc với cộng đồng nhà phát triển của chúng tôi, chúng tôi biết rằng về mặt hiển thị, việc ký kết và cấu hình là những điểm ma sát.

Và với các bài đăng lại, việc nhận và xác thực chúng theo cách thân thiện với bài kiểm tra là một lĩnh vực cần cải thiện.

Để giúp cải thiện trải nghiệm của nhà phát triển với SKAdNetwork, chúng tôi đã phát hành các thay đổi về khả năng kiểm tra SKAdNetwork trong Xcode 13.3.

Điều này có sẵn dưới dạng khung thử nghiệm đơn vị trong StoreKitTest mà rất nhiều bạn đã sử dụng để thử nghiệm các phần khác nhau trong việc triển khai StoreKit của mình.

Hãy cùng xem xét việc xác nhận một ấn tượng.

Bạn tạo và cấu hình một phiên bản của SKAdImpression.

Bạn cung cấp đối tác khóa công khai của khóa riêng được sử dụng để tạo chữ ký và sau đó bạn gọi phương thức xác thực trên phiên bản SKAdTestSession.

Điều này sẽ xác thực ấn tượng của bạn và gây ra lỗi nếu ấn tượng bị định cấu hình sai hoặc chữ ký không hợp lệ.

Lĩnh vực chính khác để kiểm tra là việc nhận lại bưu điện.

Có 2 bước ở đây.

Bước 1: thêm bài kiểm tra trở lại vào phiên kiểm tra của bạn.

Bạn sẽ tạo một phiên bản của SKAdTestPostback và định cấu hình nó với các giá trị bạn muốn trong postback của mình.

Trả tiền đặc biệt cho URL postback, vì đây là nơi postback của bạn sẽ được gửi đến.

Điều này có thể trỏ đến một máy chủ từ xa hoặc cục bộ.

Sau đó, bạn sẽ thêm điều này vào phiên kiểm tra của mình bằng cách sử dụng phương pháp setPostbacks trên SKAdTestSession.

Bước 2 là thực sự gửi lại bưu điện.

Tất cả những gì bạn cần làm ở đây là gọi phương thức flushPostbacks trên SKAdTestSession và postback của bạn sẽ bị tắt trên đường đi.

Lưu ý rằng SKAdTestSession sẽ gửi postback của bạn qua mạng đến máy chủ mà bạn đã chỉ định khi soạn postback của mình.

Đây là một vài điều sẽ đến với khả năng kiểm tra SKAdNetwork vào cuối năm nay: Hỗ trợ cho trường định danh nguồn mới.

Hỗ trợ các giá trị chuyển đổi tốt và thô.

Hỗ trợ kiểm tra nhiều chuyển đổi.

Và đó là một cái nhìn nhanh về những thay đổi khả năng kiểm tra SKAdNetwork lần đầu tiên có sẵn trong Xcode 13.3.

Hôm nay, chúng ta đã nói về ID phân cấp và giá trị chuyển đổi, nhằm mục đích cung cấp thêm dữ liệu cho bạn sớm hơn.

Và sau đó chúng tôi đã nói về nhiều chuyển đổi, cho phép bạn đo lường mức độ tương tác lại trong một khoảng thời gian dài hơn.

Sau đó, chúng tôi đã nói về phân bổ dựa trên liên kết và cách chúng tôi thêm cầu nối vào SKAdNetwork, mang theo các biện pháp bảo vệ quyền riêng tư tương tự.

Và chúng tôi đã kết thúc bằng cách nói về khả năng kiểm tra SKAdNetwork trong Xcode.

Và điều đó kết thúc hành trình của chúng tôi thông qua SKAdNetwork 4.0.

Cuối cùng, mọi thứ chúng tôi xây dựng đều được thúc đẩy bởi phản hồi từ cộng đồng các nhà phát triển tuyệt vời của chúng tôi.

Thật vô cùng thỏa mãn và khiêm tốn khi nghe về trải nghiệm của bạn khi xây dựng trải nghiệm quảng cáo đầu tiên về quyền riêng tư cho người dùng của chúng tôi.

Cảm ơn bạn.

♪ ♪