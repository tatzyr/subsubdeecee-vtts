10115

♪ Nhạc hip-hop nhạc cụ êm dịu ♪

♪

Xin chào, tôi là Alex Young, và tôi là một kỹ sư trong nhóm trải nghiệm nhà phát triển iCloud.

CloudKit là một cách dễ dàng để tạo ra những trải nghiệm tuyệt vời bằng cách cho phép người dùng dễ dàng đồng bộ hóa dữ liệu giữa các thiết bị.

Bảng điều khiển CloudKit giúp làm cho điều này trở nên dễ dàng hơn bằng cách cung cấp các công cụ cho phép bạn làm việc với lược đồ và dữ liệu của ứng dụng.

Tôi sẽ chia sẻ một số cập nhật cho Bảng điều khiển CloudKit sẽ giúp bạn hiểu và gỡ lỗi lược đồ và dữ liệu của ứng dụng.

Đầu tiên, tôi sẽ hướng dẫn cách sử dụng các vùng chứa ẩn, sau đó đi sâu vào một cách mới mà bạn có thể xem hồ sơ bằng tài khoản iCloud và cuối cùng, có một số cập nhật tuyệt vời để làm việc với các vùng được chia sẻ.

Nó phổ biến để tạo ra nhiều vùng chứa trong khi phát triển, và chỉ tập trung vào một vài thùng chứa sau này.

Bạn có thể sắp xếp điều này tốt hơn với tính năng vùng chứa ẩn mới.

Trong Bảng điều khiển CloudKit, bạn có thể chọn vùng chứa nào bị ẩn hoặc hiển thị.

Các vùng chứa ẩn không chỉ bị ẩn khỏi danh sách bên trong Bảng điều khiển, mà còn trên tất cả các công cụ dành cho nhà phát triển, bao gồm Xcode.

Thậm chí tốt hơn, khi một vùng chứa bị ẩn, nó sẽ áp dụng ở cấp độ nhóm, điều đó có nghĩa là tất cả các vùng chứa thử nghiệm và nguyên mẫu của bạn không còn làm lộn xộn tầm nhìn của đồng đội.

Tôi sẽ mở Bảng điều khiển và sử dụng chức năng mới này ngay bây giờ.

Khi bạn đã đăng nhập vào Bảng điều khiển, hãy mở bộ chọn vùng chứa từ điều hướng cấp cao nhất.

Sau đó nhấp vào Quản lý Vùng chứa.

Điều này hiển thị một menu mới cho phép bạn chuyển đổi khả năng hiển thị của mọi vùng chứa trong nhóm hiện tại.

Đối với những người có nhiều nhóm, bạn có thể chuyển đổi giữa họ bằng cách sử dụng menu tài khoản ở trên cùng bên phải.

Sau đó, bạn cũng có thể tiếp tục ẩn các thùng chứa trong các đội khác của mình.

Đây là thùng chứa từ WWDC21, không còn cần thiết nữa.

Tôi có thể giấu nó, như thế này.

Và nếu bạn làm mới danh sách vùng chứa trong Xcode, bạn sẽ thấy các vùng chứa hiện cũng bị ẩn ở đó.

Tôi sẽ cho bạn biết về một bổ sung mới cho Bảng điều khiển cho phép bạn xem dữ liệu dưới dạng tài khoản iCloud thay vì tài khoản nhà phát triển của mình.

Cái này được gọi là Hành động như iCloud.

Đôi khi, có thể khó hiểu tại sao một số người dùng nhất định lại gặp sự cố với dữ liệu trong cơ sở dữ liệu riêng tư của họ.

Bây giờ bạn có khả năng đăng nhập như một tài khoản iCloud riêng biệt để xem dữ liệu riêng tư.

Khi bạn đăng nhập bằng tài khoản iCloud, các công cụ truy vấn của CloudKit Console hoạt động như bạn mong đợi từ góc nhìn của tài khoản đó.

Điều này giúp bạn gỡ lỗi các vấn đề phát triển và sản xuất thay mặt cho người dùng của mình.

Tôi sẽ trình bày điều này trong Bảng điều khiển để minh họa cách nó hoạt động.

Truy vấn này được thực hiện bằng tài khoản nhà phát triển của tôi.

Tôi sẽ chuyển sang tài khoản iCloud để hiển thị kết quả truy vấn thay đổi như thế nào.

Đầu tiên, điều hướng đến mục menu Hành động như tài khoản iCloud.

Điều này sẽ mở ra một hộp thoại cho phép bạn đăng nhập dưới dạng tài khoản iCloud.

Khi tôi đăng nhập, ngữ cảnh của Bảng điều khiển sẽ thay đổi.

Bây giờ bạn sẽ thấy một biểu ngữ ở đầu trang.

Tất cả các thao tác tiếp theo sẽ được thực hiện bằng tài khoản iCloud thay vì tài khoản nhà phát triển của bạn.

Bạn có thể truy vấn các bản ghi và vùng xem, nhưng bạn không thể thực hiện các thao tác lược đồ.

Như bạn có thể thấy, kết quả của truy vấn này dành cho tài khoản iCloud của tôi, không phải tài khoản nhà phát triển của tôi.

Chuyển sang vùng chứa hoặc môi trường khác sẽ ngừng hoạt động như tài khoản iCloud.

Bạn cũng có thể nhấp vào nút trên biểu ngữ để dừng phiên Act As.

Hãy nhớ rằng, hoạt động như một tài khoản iCloud áp dụng cho các bản ghi, không phải lược đồ, vì vậy tính năng này chỉ hoạt động trong các phần dữ liệu của Bảng điều khiển.

Cố gắng truy cập lược đồ sẽ tạm dừng phiên Act As.

Tính năng này giúp bạn hiểu rõ hơn về cách dữ liệu của bạn được sử dụng trong sản xuất và điều tra các lỗi liên quan đến dữ liệu hiệu quả hơn.

Các trường được mã hóa vẫn không thể đọc được đối với bạn khi hoạt động như một tài khoản khác.

Chỉ người dùng ban đầu sở hữu dữ liệu mới có thể giải mã nó.

Đây là do thiết kế và giúp iCloud duy trì mức độ bảo mật và quyền riêng tư cao và đảm bảo rằng dữ liệu nhạy cảm luôn an toàn.

Tiếp theo, tôi sẽ chỉ cho bạn cách chia sẻ các vùng trong Bảng điều khiển.

Chia sẻ CloudKit là một cách an toàn để chia sẻ hồ sơ một cách an toàn giữa những người dùng ứng dụng của bạn.

Điều này được chia sẻ được thực hiện một cách an toàn, sử dụng các quyền cho phép ứng dụng của bạn xác định quyền truy cập đọc và ghi của người tham gia.

Quyền truy cập của người tham gia được kiểm soát thêm bằng cách xác định cổ phiếu là công khai hoặc tư nhân.

Chia sẻ khu vực hoạt động bằng cách áp dụng các quy tắc cho mọi bản ghi trong một khu vực.

Một vùng được chia sẻ có một bản ghi chia sẻ CloudKit chứa các tùy chọn để truy cập từng bản ghi trong vùng.

Các vùng được chia sẻ không thể có các bản ghi được chia sẻ hiện có.

Các tùy chọn chia sẻ khu vực công cộng và riêng tư tiêu chuẩn được hỗ trợ bởi các khu vực chia sẻ.

Một khu vực chia sẻ công khai làm cho mọi bản ghi hiển thị cho mọi người có mã chia sẻ.

Bất kỳ ai có mã chia sẻ ngắn đều có thể tham gia chia sẻ này.

Điều này lý tưởng cho các hồ sơ dễ dàng chia sẻ giữa những người dùng mà không cần kiểm soát truy cập nghiêm ngặt.

Các khu vực chia sẻ riêng tư có một lớp bảo mật bổ sung vì các thành viên phải nằm trong danh sách người tham gia để tham gia chia sẻ.

Bảng điều khiển CloudKit có một số công cụ mới để tạo và xem chia sẻ vùng, để giúp bạn hiểu rõ hơn về các vùng được chia sẻ và làm việc với chúng trong quá trình phát triển và sản xuất.

Hãy tạo một chia sẻ vùng ngay bây giờ để bạn có thể tìm hiểu cách nó hoạt động.

Điều hướng đến Zones, sau đó chọn một vùng mà bạn muốn chia sẻ.

Nhấp vào nút Cấu hình chia sẻ toàn vùng... trong chế độ xem chi tiết.

Điều này cho thấy một biểu mẫu cho phép bạn quyết định xem bạn muốn chia sẻ công khai hay riêng tư.

Các khu vực công cộng có tùy chọn cấp phép bổ sung để tạo chia sẻ chỉ đọc hoặc đọc/ghi.

Đối với cổ phiếu riêng tư, quyền được xác định ở cấp độ người tham gia.

Tôi sẽ tạo một chia sẻ riêng tư, như thế này.

Khi khu vực được chia sẻ, bạn sẽ thấy một ID duy nhất ngắn có thể được gửi đến những người tham gia để tham gia chia sẻ.

Các vùng được chia sẻ có thể được tham gia trong bảng điều khiển bằng cách sử dụng tùy chọn menu Chấp nhận bản ghi được chia sẻ được tìm thấy trong trang Bản ghi.

Bây giờ bất kỳ bản ghi nào được tạo trong vùng này sẽ được chia sẻ tự động.

Bây giờ bạn đã thấy những cập nhật này cho Bảng điều khiển CloudKit, hãy dọn dẹp danh sách vùng chứa của bạn bằng cách ẩn vùng chứa, thử Hành động như iCloud để bạn có thể xem các bản ghi với các tài khoản iCloud khác nhau và thử chia sẻ vùng để chia sẻ nhiều bản ghi dễ dàng hơn.

Chúng tôi hy vọng những công cụ này cho phép bạn hiểu rõ hơn về lược đồ của mình, gỡ lỗi các vấn đề trong ứng dụng của bạn và giúp CloudKit dễ làm việc hơn một chút.

Cảm ơn, và chúc bạn có một WWDC tuyệt vời.

♪