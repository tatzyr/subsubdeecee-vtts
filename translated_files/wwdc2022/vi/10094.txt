10094

♪ ♪

Karthik: Xin chào, tôi là Karthik, một kỹ sư trong nhóm Tin nhắn.

Trong video này, tôi sẽ giới thiệu Shared with You, và cách áp dụng nó trong ứng dụng của bạn.

Chia sẻ với Bạn đã được công bố trong iOS 15.

Nó được thiết kế để giúp bạn dễ dàng truy cập lại các liên kết mà bạn bè và gia đình gửi cho bạn trong Tin nhắn.

Các ứng dụng hệ thống đã áp dụng Chia sẻ với Bạn là Safari, Tin tức, Âm nhạc, Podcast, ứng dụng TV và Ảnh.

Được chia sẻ với Bạn gặp bạn ở nơi bạn đang tiêu thụ nội dung.

Nhiều lần nội dung được nhận khi chúng ta chưa sẵn sàng để tiêu thụ nó.

Ví dụ, một người bạn gửi lời giới thiệu cho một chương trình truyền hình trong khi bạn đang đi mua hàng tạp hóa, và sau đó nó bị lãng quên trong ngày.

Shared with You giúp bạn dễ dàng khám phá chương trình truyền hình này sau này khi bạn đang duyệt các chương trình truyền hình để xem trong ứng dụng TV Shared with You giúp thuận tiện khi nhận cuộc trò chuyện Tin nhắn ngay từ bên trong ứng dụng, cho phép bạn ở trong bối cảnh nội dung được chia sẻ mà không cần rời khỏi ứng dụng.

Nội dung của bạn có thể được ghim trong Tin nhắn.

Nó nâng cao nội dung trong Chia sẻ với Bạn và Tìm kiếm.

Đây là một tín hiệu cho thấy nội dung rất quan trọng và bắt đầu luồng đồng ý chia sẻ tự động.

Thêm về điều đó sau.

Trong iOS 16, Chia sẻ với Bạn được mở rộng để bao gồm các ứng dụng, liên kết và nội dung của bạn.

Điều này mang lại sự tiện lợi của Chia sẻ với Bạn và đưa nó vào ứng dụng của bạn.

Đầu tiên tôi sẽ nói về thiết kế của Shared with You trong ứng dụng của bạn, sau đó chỉ cho bạn cách nó hoạt động và sau đó hướng dẫn bạn cách áp dụng Shared with You.

Bắt đầu với thiết kế.

Có hai phần của Chia sẻ với bạn là một phần trong trải nghiệm ứng dụng của bạn: Kệ Chia sẻ với bạn và chế độ xem phân bổ Chia sẻ với bạn.

Kệ Shared with You là một không gian dành riêng trong trải nghiệm duyệt web của ứng dụng của bạn làm nổi bật nội dung đã được chia sẻ trong Tin nhắn.

Ví dụ, tab "Xem ngay" của ứng dụng TV có kệ Chia sẻ với Bạn.

Tab Nghe ngay trong Âm nhạc và Podcast cũng vậy.

Nội dung được cung cấp bởi Shared with You là một danh sách được xếp hạng và sắp xếp theo thứ tự.

Tôi sẽ xem xét điều đó sau trong video.

Đối với mỗi mục trong kệ Chia sẻ với Bạn, hãy hiển thị bản xem trước phong phú cùng với chế độ xem phân bổ.

Bản xem trước phong phú có hình thu nhỏ, tiêu đề và phụ đề nếu có.

Trong ví dụ này, bản xem trước phong phú bao gồm nghệ thuật podcast, tên tập và tên chương trình.

Ngoài ra còn có chế độ xem phân bổ cho mỗi nội dung được chia sẻ trong kệ Chia sẻ với Bạn.

Đây là tất cả thông tin cho phép thu thập ngữ cảnh trong nháy mắt.

Có một yếu tố Hiển thị thêm có thể mở rộng chế độ xem hoặc điều hướng để hiển thị tất cả nội dung Chia sẻ với bạn của ứng dụng của bạn.

Chế độ xem Ghi công là chế độ xem ngoài quy trình hiển thị an toàn tên và hình đại diện của những người đã chia sẻ nó.

Nó cũng hiển thị nếu nội dung đã được ghim trong Tin nhắn.

Hiển thị chế độ xem phân bổ trong chế độ xem chi tiết nội dung của bạn.

Điều này cho phép mọi người kết nối nội dung trong ứng dụng của bạn trở lại cuộc trò chuyện Tin nhắn mà nó đã được chia sẻ.

Ví dụ, khi tôi đang duyệt một chương trình truyền hình để xem, chế độ xem phân bổ giúp tôi nhớ lại rằng một người bạn đã giới thiệu nó.

Tôi có thể nhanh chóng nói với bạn tôi rằng tôi sắp xem chương trình.

Tất cả điều này xảy ra ngay trong ứng dụng và sau khi trả lời, tôi quay lại ngay nội dung.

Chế độ xem phân bổ có tính tương tác.

Nhấn vào chế độ xem sẽ đưa bạn đến cuộc trò chuyện Tin nhắn ngay từ bên trong ứng dụng.

Chế độ xem phân bổ cũng trình bày các tùy chọn menu theo ngữ cảnh như "Trả lời" và "Xóa".

Tùy chọn menu nội dung "Trả lời" hoạt động tương tự như nhấn vào chế độ xem.

Tùy chọn menu ngữ cảnh "Xóa" là một cách để yêu cầu Chia sẻ với Bạn không hiển thị một phần nội dung trong tương lai.

Các menu theo ngữ cảnh tương tự được cung cấp cho bạn để thêm vào các menu theo ngữ cảnh của nội dung của bạn.

Tiêu đề cho menu Xóa ngữ cảnh có thể được tùy chỉnh.

Ví dụ trong Safari, menu ngữ cảnh cho trang web hiển thị "Xóa liên kết".

Tôi sẽ xem xét cách bạn có thể làm điều này trong ứng dụng của mình sau trong video này.

Bây giờ bạn đã biết nơi trình bày kệ Chia sẻ với Bạn và nơi hiển thị Chế độ xem Ghi công.

Hãy để tôi chỉ cho bạn cách hoạt động của Shared with You.

Các liên kết được chia sẻ bởi bạn bè và gia đình trong Tin nhắn được hiển thị trong Chia sẻ với bạn.

Các liên kết trong các cuộc trò chuyện nhóm được hiển thị khi ít nhất một người tham gia là người liên hệ.

Chia sẻ với Bạn dựa trên cùng một công nghệ đằng sau Universal Links.

Liên kết chung cho phép liên kết liền mạch đến nội dung trong ứng dụng hoặc trên trang web của bạn.

Người dùng có quyền kiểm soát chi tiết đối với nội dung Chia sẻ với Bạn.

Họ có thể chọn nội dung nào được chia sẻ bên ngoài Tin nhắn trên cơ sở mỗi cuộc trò chuyện, mỗi ứng dụng hoặc trên toàn cầu.

Sự cho phép này không cần phải được yêu cầu trước.

Nó xảy ra một cách hữu cơ.

Ghim liên kết là sự cho phép ngầm để hiển thị nội dung trong Chia sẻ với Bạn.

Nội dung được ghim luôn có sẵn để Chia sẻ với Bạn trong ứng dụng của bạn.

Dựa trên heuristics khi nội dung cho ứng dụng của bạn được ghim trong Tin nhắn, một tùy chọn để cho phép chia sẻ tự động được trình bày.

Khi tính năng chia sẻ tự động được bật, nội dung tiếp theo sẽ tự động có sẵn để Chia sẻ với Bạn trong ứng dụng của bạn.

Nội dung trong Chia sẻ với Bạn đã được đặt hàng.

Mục đầu tiên trong kệ Chia sẻ với Bạn được sắp xếp bởi Đề xuất Siri dựa trên các tín hiệu khác nhau từ hệ thống.

Tiếp theo là các mục được ghim và phần còn lại của danh sách được sắp xếp theo thứ tự thời gian.

Đề xuất Siri sử dụng các tín hiệu như "Người dùng đã xem hoặc tương tác với nội dung chưa?"

Nội dung có được ghim không?

Nội dung được trình bày trong bối cảnh nào?

Ứng dụng của bạn đóng một vai trò trong việc cung cấp phản hồi này.

Tôi sẽ xem xét chi tiết một lát sau trong video.

Tất cả điều này được thực hiện để đảm bảo rằng nội dung không quá thoáng qua hoặc cũ kỹ.

Trong một cuộc trò chuyện khi một liên kết được chia sẻ nhiều lần, Chia sẻ với Bạn chỉ hiển thị tin nhắn gần đây nhất.

Khi một liên kết được chia sẻ trong nhiều cuộc trò chuyện Tin nhắn, Chia sẻ với Bạn thể hiện trực quan điều đó thông qua chế độ xem phân bổ.

Ví dụ, cả Enrique và Sarah đều đã chia sẻ danh sách phát Top 25 Chicago.

Chế độ xem phân bổ hiển thị cả hình đại diện liên hệ của họ.

Nhấn vào chế độ xem phân bổ sẽ trình bày một menu định hướng, cho phép bạn chọn cuộc trò chuyện Tin nhắn nào để trả lời.

Bảo mật và Quyền riêng tư là sự cân nhắc và trọng tâm chính khi thiết kế Chia sẻ với Bạn.

Các quan điểm phân bổ và quan điểm định hướng được rút ra thay mặt bạn ngoài quy trình.

Được chia sẻ với Bạn bảo vệ nội dung ứng dụng của bạn thông qua liên kết Liên kết chung để chỉ ứng dụng của bạn mới có thể truy cập được.

Các ứng dụng không có quyền truy cập vào người nhận Tin nhắn và các cuộc hội thoại.

Bây giờ bạn đã biết Chia sẻ với Bạn hoạt động như thế nào.

Đến phần thú vị nhất - cách áp dụng Chia sẻ với bạn trong ứng dụng của bạn.

Đầu tiên, áp dụng Universal Links.

Sau đó, thêm Khả năng Chia sẻ với Bạn mới, bên dưới tab Khả năng trong Xcode.

Sau đó, đặt kệ Chia sẻ với Bạn trong ứng dụng của bạn và thêm chế độ xem phân bổ vào nội dung của bạn.

Hãy để tôi nói ngắn gọn về việc áp dụng Universal Links.

Liên kết chung cho phép người dùng của bạn theo dõi thông minh các liên kết đến nội dung trong ứng dụng hoặc đến trang web của bạn một cách thông minh.

Thực hiện các bước sau để hỗ trợ các liên kết chung.

Đầu tiên hãy tạo một liên kết hai chiều giữa ứng dụng của bạn và trang web của bạn và chỉ định các URL mà ứng dụng của bạn xử lý.

Bạn tạo chúng bằng cách thêm quyền tên miền liên kết vào ứng dụng của mình và bằng cách thêm tệp JSON vào máy chủ web của bạn.

Tiếp theo, cập nhật đại diện ứng dụng của bạn để phản hồi đối tượng hoạt động của người dùng mà hệ thống cung cấp khi một liên kết chung định tuyến đến ứng dụng của bạn.

Để biết thêm thông tin, vui lòng xem video "Có gì mới trong Liên kết chung".

Trong iOS 16, chúng tôi đã giới thiệu một Khung mới được gọi là Chia sẻ với Bạn.

Có ba lớp chính trong Khung Chia sẻ với Bạn: SWHighlightCenter, SWHighlight và SWAttributionView.

SWHighlightCenter là lớp học giúp bạn nhận được nội dung Chia sẻ với Bạn cho ứng dụng của mình.

SWHighlight là một đối tượng mô hình bao bọc nội dung được chia sẻ của ứng dụng của bạn.

SWAttributionView là chế độ xem giúp kết nối nội dung của bạn trở lại cuộc trò chuyện Tin nhắn và hiển thị thông tin phân bổ.

Trung tâm nổi bật là một đối tượng đơn giản bao gồm: Điểm nổi bật, là một mảng các đối tượng SWHighlight; và thuộc tính đại diện mà các ứng dụng được thông báo khi có nội dung được thêm, xóa hoặc cập nhật bởi Chia sẻ với Bạn.

Điểm nổi bật được đại diện bởi lớp SWHighlight.

Nó được sử dụng để chuyển URL cho nội dung ứng dụng của bạn đã được chia sẻ trong Tin nhắn.

Bạn sử dụng nó để tham khảo nội dung của mình, hiển thị bản xem trước phong phú và điều hướng đến nội dung trong ứng dụng của bạn.

Hãy để tôi chỉ cho bạn cách liệt kê nội dung Chia sẻ với Bạn trong ứng dụng của bạn.

Đầu tiên hãy tạo một phiên bản của SWHighlightCenter.

Sau đó thiết lập thuộc tính đại diện.

Thực hiện phương pháp SWHighlightCenterDelegate.

Sử dụng thuộc tính nổi bật trên trung tâm nổi bật để truy cập nội dung Chia sẻ với Bạn của ứng dụng của bạn.

Các ứng dụng có thể chọn giữ danh sách các điểm nổi bật trước đó để nhanh chóng phân biệt danh sách đó với danh sách mới nhất.

Sử dụng thuộc tính URL trên mỗi điểm nổi bật để tạo bản xem trước phong phú về nội dung ứng dụng của bạn.

Và thật dễ dàng để liệt kê nội dung Chia sẻ với Bạn trong ứng dụng của bạn.

Tiếp theo, tôi sẽ chỉ cho bạn cách thêm và tùy chỉnh Chế độ xem phân bổ vào nội dung Chia sẻ với bạn của ứng dụng của bạn.

SWAttributionView là chế độ xem hiển thị tên và hình đại diện của những người đã chia sẻ nội dung.

Mỗi điểm nổi bật có một chế độ xem phân bổ tương ứng.

Đặt Thuộc tính nổi bật trên chế độ xem phân bổ sẽ kích hoạt kết xuất thông tin phân bổ ngoài quy trình.

Chỉ định chiều rộng tối đa mà chế độ xem phân bổ có thể thực hiện.

Chế độ xem phân bổ sẽ lấp đầy hoặc phù hợp với không gian khi cần thiết.

Đặt căn chỉnh chế độ xem phân bổ trong không gian tối đa.

Để tôi chỉ cho bạn một ví dụ.

Tạo một phiên bản của SWAttributionView và đặt thuộc tính nổi bật.

Đặt MaxLayoutWidth ưa thích.

Trong ví dụ này, nó kéo dài ở cuối hình thu nhỏ nội dung được chia sẻ.

Hạn chế neo chiều rộng của chế độ xem này hoặc đặt chiều rộng khung hình của nó để kiểm soát chiều rộng tối đa của nội dung.

Đặt danh mục kích thước nội dung AX tối đa cho chế độ xem khi cần thiết bằng cách sử dụng: thuộc tính minimumContentSizeCategory hoặc maximumContentSizeCategory trên UIView.

Cung cấp đủ không gian thẳng đứng xung quanh chế độ xem này.

Chiều cao của chế độ xem phụ thuộc vào Danh mục Nội dung Kích thước ưa thích và kích thước phông chữ kết quả.

Nếu chiều cao của chế độ xem bị hạn chế một cách không cần thiết, thì chế độ xem có thể bị cắt hoặc không được vẽ.

Căn chỉnh ngang được thiết lập để dẫn đầu trong trường hợp này.

Nó cũng có thể được đặt thành Trung tâm hoặc Đường mòn.

Tiếp theo, hãy để tôi chỉ cho bạn cách tùy chỉnh chế độ xem Ghi công.

Đặt bối cảnh hiển thị giúp thông báo cho hệ thống về cách người dùng đang tiêu thụ nội dung được quy cho.

Nó cũng ảnh hưởng đến thứ hạng nội dung Chia sẻ với Bạn cho ứng dụng của bạn.

Đặt cái này trước khi nó được thêm vào cửa sổ.

Phong cách nền của chế độ xem phân bổ có thể được tùy chỉnh dựa trên nền của nội dung mà nó đang được sử dụng.

Để tôi chỉ cho bạn một ví dụ.

Giá trị mặc định cho thuộc tính displayContext là tóm tắt.

Điều này chỉ ra rằng nội dung đang được hiển thị để tiêu thụ.

Đặt displayContext thành chi tiết khi người dùng đang tích cực tiêu thụ nội dung, như xem phim hoặc nghe podcast.

Cài đặt displayContext là phản hồi mà ứng dụng của bạn có thể cung cấp.

Điều này sẽ giúp Siri Suggestions xếp hạng nội dung cho ứng dụng của bạn.

Đặt kiểu nền cho chế độ xem phân bổ thành màu sắc khi đặt chế độ xem phân bổ trên nền đơn sắc như trong ví dụ này.

Sử dụng vật liệu khi đặt chế độ xem phân bổ trên nền nhiều màu.

Điều này làm mờ nền vật chất cho nội dung của chế độ xem.

Trong ví dụ này, trang đích của Safari có hình nền.

Nội dung của chế độ xem phân bổ hiển thị rõ ràng hơn bằng cách đặt kiểu nền chính xác.

Tiếp theo, hãy để tôi chỉ cho bạn cách thêm Menu ngữ cảnh được chia sẻ với bạn vào nội dung ứng dụng của bạn và tùy chỉnh tiêu đề.

Trình đơn theo ngữ cảnh hiện có được đính kèm với nội dung ứng dụng của bạn có thể được bổ sung bằng menu của chế độ xem phân bổ.

Menu này nên được thêm vào nội tuyến hoặc ở cuối menu ngữ cảnh mà nó tăng cường.

Có thể cung cấp tiêu đề tùy chỉnh cho tùy chọn Xóa menu theo ngữ cảnh.

Chuỗi nên bao gồm từ "Xóa", được bản địa hóa chính xác.

Trong ví dụ này, Safari đã tùy chỉnh tiêu đề menu Xóa thành "Xóa liên kết" trong menu ngữ cảnh của nội dung ở cuối.

Hãy để tôi chỉ cho bạn cách làm điều này thông qua một ví dụ.

Đầu tiên hãy tạo một thể hiện của chế độ xem phân bổ và đặt thuộc tính nổi bật.

Cung cấp tiêu đề tùy chỉnh cho menu Xóa ngữ cảnh thông qua menuTitleForHideAction.

Khi định cấu hình menu ngữ cảnh nội dung của bạn, hãy lấy menu từ chế độ xem phân bổ thông qua thuộc tính menu bổ sung.

Sau đó thêm chúng vào menu ngữ cảnh nội dung của bạn.

Các bước đơn giản này cho phép ứng dụng của bạn thêm tùy chọn menu ngữ cảnh có sẵn trên chế độ xem phân bổ vào menu ngữ cảnh của nội dung của bạn.

Bây giờ bạn đã biết tất cả những gì cần thiết để áp dụng Chia sẻ với Bạn trong ứng dụng của bạn.

Hãy tóm tắt lại ba bước đơn giản để áp dụng Chia sẻ với bạn trong ứng dụng của bạn.

Đi áp dụng Liên kết Phổ quát.

Sau đó thêm Khả năng Chia sẻ với Bạn mới trong Xcode cho ứng dụng của bạn.

Nhập và sử dụng khung Chia sẻ với Bạn mới.

Tôi mong muốn được chia sẻ nội dung của bạn trong Tin nhắn và sử dụng Chia sẻ với Bạn trong ứng dụng của bạn.

Cảm ơn bạn đã dành thời gian và quan tâm.