10096

♪まろやかなインストゥルメンタルヒップホップ♪

♪

こんにちは！私はトリシア・グレイで、RealityKit Toolsチームで働いています。

「空間コンピューティングのための素晴らしいゲームを構築する」へようこそ。

今日、この新しいデバイス用のゲームを作ることについてお話しできることを本当に楽しみにしています。

空間コンピューティングは、あらゆる種類の新しいゲームタイプを可能にします。

独自のレンダリング、オーディオ、および入力特性を備えています。

その上にゲームを構築するために使用できるフレームワークとツールに関しては、いくつかの選択肢があり、それにはRealityKitが含まれます。

しかし、まず、この新しいプラットフォームでどのような種類のゲームが可能かのアイデアをお伝えします。

これはスタンドアロンの空間コンピューティングデバイスです。

高解像度のスクリーン、広い視野、そして素晴らしいリフレッシュレートを備えています。

空間オーディオは素晴らしいです。

そして、手の動きとプレーヤーの周りの部屋の形の両方を追跡するLiDARがあります。

また、プレイヤーはデバイスの高品質のパススルーを使用して周囲との接続を維持できます。

これにはエキサイティングな可能性があり、さまざまなゲームタイプを作成できます。

プレイヤーの注意をどれだけ捉えたいかに応じて、没入感のスペクトルにまたがるゲームを構築することができます。

すべてのアプリとゲームは共有スペースから始まります。

これは、あなたのゲームが他のゲームやアプリ、プレイヤーの周囲と一緒に宇宙に住むことができることを意味します。

プレイヤーの実際のデスクトップには、アクティブなチェスゲームを表す仮想チェスボード、または床に座っている仮想ペットがあるかもしれません。

これらのアプリはすべて一緒に住んでいて、プレイヤーは好きなアプリと対話できます。

フルスペースに移動すると、ゲームにすべての注意を払うことができます。

これにより、他のすべてのウィンドウとボリュームが閉じられ、コンテンツにエクスペリエンスが集中し、パススルーを通じてプレイヤーを周囲に接続し続けます。

これはアクションゲームに適しているかもしれません - あなたが積極的にプレイしているが、それでも現実世界と相互作用するものです。

例えば、壁の穴から宇宙船を通り抜けることができます。

完全に没入型の体験は、ゲームがビュー全体を引き継ぐときです。

あなたの部屋の代わりに、環境があり、あなたはもはや現実世界を見ることができません。

もちろん、伝統的な2Dゲームを作ることもできます。

彼らは仮想ウィンドウで実行され、プレイヤーはそのウィンドウを好きなだけ大きくまたは小さくすることができます。

それは垂直の窓である必要さえありません、それは地面に横たわっている平らな表面である可能性があります。

彼らはそれを壁に掛けたり、机の上に置いたり、顔の前で今まで持っていた最大のスクリーンとして持つことができます。

プレイヤーはiOSと同じようにゲームと対話できますが、画面をタッチする代わりに、オブジェクトを見て指を一緒にタップして選択します。

iOSと同じように、Bluetoothコントローラーやキーボードを接続することもできます。パススルーは、下を見て使用しているコントローラーを見ることができるので、ここで役に立ちます。

また、いくつかの3D要素を追加することで、2Dゲームを盛り上げることもできます。

たとえば、ウィンドウには実際の深さがあるので、オブジェクトを別々のレイヤーでレンダリングし、実際の視差効果を得ることができます。

煙や火花など、飛行機から出てくる要素を持つこともできます。

または、カスタムハンドジェスチャーのサポートを追加することもできます。

これらすべてのオプションで、あなたは考えるべきことがたくさんあります。

ゲームを設計する際には、巨大な高解像度画面から自分の部屋でプレイできる個人的なものまで、ゲームプレイ体験のためのこれらの新しい機会をどのように活用できるかを考えてください。

あなたのゲームはプレイヤーの机の上に現れることができます。

彼らはそれを壁に置くことができます。

何かが飛び出し、プレイヤーの手に着地する可能性があります。

彼らの周りの現実世界を利用したり、まったく別の場所に運んだりすることができます。

このデバイスでは、レンダリング、オーディオ、および入力の動作は、他のプラットフォームで使用されているものとは異なります。

共有スペースで実行している場合、ゲームのコンテンツは他のアプリ、システムUI、パススルーのコンテンツと一緒に描画されます。

レンダリングは共有されるため、フレームワークはすべてのアプリが善良な市民であり、そのレンダリングが他のアプリに干渉しないことを保証します。

このモードでは、MaterialXを介してサーフェスシェーダーとジオメトリシェーダーを使用できます。

xrOSでのレンダリングは、慣れているものとは少し異なります。

すべてのピクセルをレンダリングする代わりに、レンダリングすべきもの（すべてのモデル、テクスチャ、シェーダー）を説明し、デバイスは各目に対して自動的にレンダリングします。

ゲームのプラットフォームレンダリングのもう1つの利点は、動的フォベネーションを適用して解像度を上げることができることです。

ダイナミックフォベーションは、レンダラーがプレイヤーの目が見ているディスプレイの部分でより高い解像度を使用するテクニックです。

これは、ハードワークをすることなく、シーン全体をレンダリングするコストを支払うことなく、それらの場所でより鮮明な解像度を得ることを意味します。

デフォルトでは、RealityKitは、周囲の現実世界のオブジェクトと現実的に溶け込むようにオブジェクトをレンダリングします。

RealityKitは、プレイヤーの部屋の実際の照明をサンプリングし、レンダリングするオブジェクトに同じ照明を適用します。

材料の場合、RealityKitは、粗さ、鏡面、金属などの典型的なパラメータを持つ物理ベースの照明モデルを使用します。

これは、サンプリングされた照明と一緒に、あなたに現実的な外観を与えます。

しかし、現実的なものから幻想的なものまで、規模でどこにいたいかを選択できます。

組み込みのPBRシェーダーを使用する代わりに、MaterialXを使用してカスタマイズされたシェーダーコンテンツを作成し、Reality Composer Proやその他のグラフィックパッケージでシェーダーグラフを編集できます。

カスタム照明効果のために、カスタムIBLをオブジェクトに割り当てることもできます。

もう1つの考慮事項は、レンダリングされたコンテンツに適用されるシステム全体の効果があることです。

この目的は、他のアプリでゲームをより良く動作させ、プレイヤーを保護することです。

深度の軽減は、プレイヤーの周囲のオブジェクトの後ろに隠されている場合、コンテンツをわずかに透明にします。

これにより、物が部屋に浮かんでいるという感覚を取り除きます。

ニアフィールドビネットは、プレイヤーがコンテンツに近づきすぎると、コンテンツをフェードします。

これにより、近くの飛行機に対するコンテンツのクリッピングの問題を防ぐことができます。

ブレークスルーは、あなたに近づいている人がレンダリングされたビューを突破することを可能にするので、彼らはあなたが気づかずにあなたに遭遇することはありません。

最後に、現実世界のオブジェクトの近くに配置されると、グラウンディングシャドウがレンダリングされたオブジェクトに追加され、シーンに統合されていると感じられます。

完全に没入型のレンダリングは共有レンダリングと同様に機能しますが、この場合、パススルーや他のアプリと画面を共有する代わりに、あなたのアプリは目に見える唯一のものです。

このモードでは、プレイヤーの周りの現実世界のビューに代わる環境をレンダリングします。

このモードでのレンダリングは、共有モードでのレンダリングと同様に機能します。

あなたはまだシーンを説明し、デバイスはそれをレンダリングします。

しかし、プレイヤーが見るものすべてをコントロールしているので、あなたはより多くの自由を持っています。

たとえば、プレイヤーがいる部屋と同じ照明環境を使用する必要はありません。 プレーヤーがいる部屋と同じ照明環境を使用する必要はありません。

あなたは世界を好きなだけ明るく、または暗くすることができます。

デバイスの強みは共有モードにありますが、プレイヤーを別の場所に運びたいときは、完全に没入感のある体験があります。

独自のエンジンを書きたい場合は、CompositorServices APIを使用すると、xrOS上のMetalレンダリングにアクセスできます。

ワールドトラッキングとハンドトラッキングを追加して、完全に没入感のある体験を生み出すARKitと組み合わせることができます。

このモードでは、画面にフルアクセスでき、それぞれの目のシーンをレンダリングします。

完全にカスタムのメタルシェーダーとポストプロセッサを使用できます。

これにより、現実世界のコンテンツを独自の仮想コンテンツに完全に置き換えることができます。

パススルーやその他のアプリは隠されています。

これの詳細については、「没入型アプリのためのDiscover Metal」をチェックしてください。

オーディオも没入型です。

xrOSは、空間オーディオを使用して、プレイヤーの空間でオブジェクトに命を吹き込み、リバーブと実際の部屋の音響を自動的に一致させます。

AVAudioEngineなどの標準のiOSオーディオAPIを使用してオーディオを再生すると、オーディオはアプリウィンドウに対して相対的に配置されます。

プレイヤーのスペース内のシーン内の異なるオブジェクトからサウンドを再生したい場合は、シーン内の特定のエンティティでRealityKitを介してオーディオを再生する必要があります。

また、Appleまたは外部APIを使用して独自のオーディオを行うオプションもあります。

オーディオをヘッドトラッキングしたい場合は、ARKitを使用してプレーヤーのヘッドポジションを取得する必要があります。

グラフィックとオーディオに加えて、インタラクションは没入型体験のもう1つの重要な部分です。

結局のところ、すべてのゲームには入力が必要であり、このプラットフォームはデバイスと対話する複数の方法を提供します。

SwiftUIや、ドラッグや拡大などの他の標準システムジェスチャーを使用して、シーン内のオブジェクトの入力イベントを取得できます。

これは物理学の衝突に基づいています。

ジェスチャーをオブジェクトで機能させるには、衝突形状を提供するCollisionComponentと、対話可能としてマークするInputTargetComponentの両方が必要です。

空間入力はプレイヤーにとってかなり魔法のように感じることができますが、ゲーム入力には他のオプションもあります。

ゲームコントローラーでも！

システムルック&タップジェスチャーは自然に感じますが、見る目は1つしかなく、タップ、ピンチ、またはつかむことができる手は2つだけです。

一部のゲームでは、より多くの入力ポイントが必要です。

1つの可能性は、標準のBluetoothコントローラーを使用することです。

xrOSは、トラックパッド、マウス、キーボード、およびBluetoothベースのゲームコントローラーをサポートしています。

これは伝統的なゲームにとって良い選択肢になる可能性があります。

また、xrOSは、自分の体をコントローラーとして使用するなど、より型破りな入力を可能にします。

ハンドトラッキングを使用して、プレイヤーが仮想オブジェクトをつかんだり、オブジェクトを指差したり、空手を切り刻んだりするなどのカスタムジェスチャーを実装したりできます。

ARKitを介してハンドトラッキングにアクセスすると、アプリがあなたの位置情報やマイクを使用したいときと同じように、デバイスはプレーヤーに許可を求めます。

この入力を設計する際に考慮すべきことがいくつかあります。

手はカメラに表示されている場合にのみ追跡できます。

本当に速い手の動きは追跡が難しい場合があります。

それを考慮に入れてください。

フルスペースで作業しているときは、シーンの理解をリクエストできます。

シーン理解は、プレイヤーの周りの部屋を表す仮想メッシュを提供します。

また、水平面と垂直面を見つけるために平面検出を行うこともできます。

カーペットであろうと木であろうと、それらの表面の材料を手に入れることもできます。

これにより、ゲームへの入力の一部として部屋自体を使用できます。

ハンドトラッキングと同様に、これにはプレイヤーの許可が必要です。

すべての入力オプションを使用すると、ゲームに適したものを把握する必要があります。

直接入力にプレイヤーの体を使用することは、彼らを引き付ける素晴らしい方法です。

しかし、手を挙げてジェスチャーをすることも、時間の経過とともに疲れる可能性があります。

あなたのゲームが長時間プレイされるか、多くの迅速な行動を必要とする場合は、間接的なジェスチャーや視線をどのように活用できるかを考えてください。

そうすれば、プレイヤーは手を膝の上に快適に置き、手を動かす代わりにルック&タップすることができます。

このデバイスは、あなたが毎日使うものであることを意図しているので、快適さは重要です。

そして、それが理にかなっているなら、より伝統的なゲームコントローラーに行くこともできます。

このプラットフォームは、他のプラットフォームから慣れ親しんだすべてのマルチプレイヤーとネットワーキング機能をサポートしています。

Webベースのネットワーキング、低レベルのソケットベースのネットワーキング、およびMultipeer Connectivityはすべて利用できます。

SharePlayはまた、プレイヤーがより親密な方法で社交することを容易にします。

一部のプレイヤーがiPhoneやiPadでプレイし、この素晴らしいデバイスに接続できるネットワーキングを使用してゲームを構築することもできます。

iPadを持っている友人とのドミノゲームを想像してみてください。あなたが豊かで没入型の3D体験をしながら、彼らは2D体験を持っています。

ゲームデバイスとしてこれについてもう少し知っているので、ゲームを作成するために使用できるフレームワークを次に示します。

2Dゲーム、ボリュームにあるゲーム、または完全に没入型ゲームを作成するかどうかに応じて、RealityKit、没入型フレームワークを使用するか、Metalの上に直接何かを書くか、Unityを使用するなど、さまざまなオプションがあります。

すでにiPhoneまたはiPad用のゲームを作っている場合、ほとんどの場合、ゲームは仮想ウィンドウのデバイスで自動的に実行され、ルック&タップを使用して対話します。

これは互換性のある3Dゲームにも当てはまることに注意してください。

彼らはデバイスの平らな窓で実行されます。

ゲームを立体的にしたい場合は、空間コンピューティングAPIを使用する必要があります。

互換性のあるゲームを実行できることは素晴らしいことですが、デバイスを最大限に活用したい場合は、それをターゲットにするためにゲームを構築してください。

そうすれば、入力にジェスチャーを使用したり、遠近法や体積煙などの2.5D要素を追加したりできます。

SwiftUIやSpriteKitなどの2Dフレームワークを使用して、デバイス用の2Dゲームを構築できます。

Unityを使ってxrOS用のゲームを作成できます。

移植したいUnityゲームをすでに持っている場合、またはUnity開発者である場合、これは素晴らしい選択肢です。

Unityの使用について詳しく知りたい場合は、「Unity VRアプリを完全に没入型スペースに」または「没入型Unityアプリを作成する」セッションにアクセスしてください。

最後に、没入型空間体験を構築するためのAppleのリアルタイムレンダリングフレームワークであるRealityKitがあります。

APIには多くの新機能があり、xrOS用の3Dゲームを作成する素晴らしい方法になります。

RealityKitは、素晴らしいゲームを作るために必要なすべての機能をサポートしています。

カスタム動作用のエンティティコンポーネントシステムがあり、物理、アニメーション、パーティクル、オーディオのサポートとともに拡張性があります。

レンダリング面では、RealityKitはUSDモデルとカスタムメッシュの両方をサポートしています。

世界であなたのオブジェクトを接地するために、MaterialXとIBL照明があります。

添付ファイルは、リッチなSwiftUIをRealityKitオブジェクトに直接接続できる新機能です。

SwiftUIを使用すると、Windows、ボリューム、スペース、アンカー、ポータルなどの機能を使用して、さまざまな方法でパススルーとレンダリングされたコンテンツを混在させることができます。

システムジェスチャーを使用して入力することも、ARKitを使用してハンドトラッキングとシーンの理解にアクセスすることもできます。

xrOS用のゲームの構築を開始するには、xrOSテンプレートから新しいXcodeプロジェクトを作成します。

これにより、その中にRealityViewを含むSwiftUIウィンドウが表示されます。

SwiftUI階層のRealityViewは、ゲームの3Dレンダリングとシミュレーションを保持しています。

まだSwiftUIに精通していない場合は、それについて少し学ぶ価値があります。

デフォルトでは、3Dコンテンツはウィンドウによって形成された体積ボックスに表示されます。

あなたのコンテンツはそのウィンドウに限定されており、それが動くにつれて続きます。

RealityKitはSwift APIです。

Swiftはゲームを構築するための素晴らしい言語になる可能性がありますが、別の言語を使用したい場合は、できます。

その言語とSwift APIの間に架け橋を作るだけです。

Xcodeにはシミュレーターが付属しています。

デバイスをいなくても、すぐにゲームの開発を開始できます。

もちろん、実際のデバイスでテストすることは常に最善です。

3DコンテンツはデフォルトでSwiftUIウィンドウに表示されます。

ゲーム開発者として最初にやりたいことの1つは、そのウィンドウから抜け出して、プレイヤーの周囲にコンテンツを描くことです。

あなたはそれを行うためのいくつかの異なる選択肢があります。

ボリュームを使用できます。

ボリュームはウィンドウに似ていますが、1つの重要な違いがあります。

ウィンドウでは、プレイヤーはサイズを制御します。

彼らはコーナーをドラッグして好きなだけ大きくまたは小さくすることができ、あなたのコンテンツは適応しなければなりません。

ウィンドウがコンテンツに対して小さすぎると、コンテンツはクリップされます。

ボリュームでは、その逆です。

ボリュームでは、「箱をこんなに大きく、こんなに高く、こんなに深くしたい」と言います。

プレイヤーは世界のどこにでもその箱を置くことができますが、箱は常に同じサイズになります。

だから、箱があなたの全体の経験に合うのに十分な大きさであることを確認し、コンテンツがクリップされていないことを確認することができます。

箱をまったく使いたくない場合は、スペースを使用できます。

これにより、現実世界のプレイヤーのいたるしにコンテンツをレンダリングすることができます。

たとえば、プレーヤーを賑やかなミツバチで囲むことができます。

異なるゲームタイプに対応する異なる種類のスペースがあります。

共有スペースを使用して他のアプリと一緒に実行したり、ゲームのみを実行したい場合はフルスペースを使用できます。

アンカーを使用すると、シーンを現実世界のオブジェクトに固定し、動きながらそれを追いかけることができます。

水平または垂直の表面アンカーを使用して、エンティティを机や壁に固定できます。

コンテンツをプレイヤーの手に固定できるハンドアンカーもあります。

ポータルでは、プレイヤーの現実に穴を開けて、独自の素晴らしい現実を作り出すことができます。

ポータルを実際の壁に固定し、そのポータルに壁に穴を開けてもらい、穴の中のレンダリングされた世界を覗くことができます。

そのポータル内で好きなものをレンダリングすることができ、ポータル内のオブジェクトも現実の世界に現れる可能性があります。

RealityKitはUSDファイルをロードしてレンダリングできます。

体積コンテンツを使い始める最も簡単な方法の1つは、既製のオブジェクトからシーンを組み立てることですが、そのためには、ある種のビジュアルツールが必要です。

Reality Composer Proは、Xcodeにバンドルされているツールです。

USDモデルをロードし、デバイスでどのように表示されるかをプレビューできます。

Reality Composer Proでプロジェクトを構築すると、アセットはデバイスでの使用に自動的に最適化されます。

これらのセッションでは、Reality Composer Proについて詳しく知ることができます。

このセッションが空間コンピューティングに役立つゲーム開発ロードマップだったことを願っています。

利用可能な複数のフレームワークセッションを詳しく掘り下げてください。

これは、他の人と交流し、ゲームをするための素晴らしいプラットフォームです。

あなたがそれのために何を開発するかを見るのが待ちきれません。

♪