10045

♪ ♪

ナディア・ズーバ:皆さん、こんにちは、ようこそ。

私の名前はナディア・ズーバで、ここアップルのビジョンチームで働いています。

今日は、ビジョンの新しい素晴らしいAPIについて話します:アニマルボディポーズ。

また、ビジョンの重要なアップデートについても確認します。

動物の体のポーズから始めましょう。

動物のボディポーズは、多くの可能なアプリケーションで使用することができます。

例えば、猫と犬を一人で家に置いて、仕事で一日を過ごしたと想像してみてください。

仕事から戻ったとき、あなたはあなたの家でこの混乱を見つけます。

心配しないでください。

ビジョンフレームワークは、何が起こったのか、あなたのペットが一日中何をしていたのか、そして誰が混乱させているのかを理解するのに役立ちます。

しかし、私がそれを掘り下げる前に、ポーズについて話しましょう。

3年前、ビジョンは人間のポーズを検出するために人体ポーズを導入しました。

このリクエストは、最大19の身体関節を検出することにより、人体のランドマークのコレクションを生成します。

世界中の開発者は、このAPIを使用して、健康、フィットネスなどのための多くの有用なアプリケーションを作成しました。

そして、ビジョンは現実世界と相互作用するので、私たちは人間だけでなく、動物も気にかけています。

ビジョンはすでに、猫や犬を検出して認識する動物認識の要求を持っています。

リクエストは、認識された動物のラベルと信頼レベルを持つバウンディングボックスを生成します。

動物を見つけて識別しようとしているなら、それは素晴らしいAPIですが、動物についてもっと知りたい場合はどうですか?

動物が何をしているのかを推測するのは難しいかもしれません。

例えば、私が隣人のために犬の世話をするとき、隣人の犬がおやつが欲しいときや散歩が必要なときの特定のポーズを知りたいかもしれません。

何だと思う？ビジョンは体のポーズを動物に広げた。

それはすごい。

アニマルボディポーズは、ビジョンの新しいAPIです。

それはDetectAnimalBodyPoseRequestを介してビジョンで提供されています。

このリクエストは、処理されると、動物の体の関節位置のコレクションを含む各動物の観察を返します。

このリクエストは猫と犬をサポートし、尾と耳を含む25の動物の体のランドマークを検出します。

Animal Body Pose APIは、iOS 17、iPadOS 17、tvOS 17、macOS SonomaからVisionで利用できます。

アニマルボディポーズへの入力は、画像またはビデオにすることができます。

ビジョンでリクエストを作成して処理した後、リクエストは動物の骨格を定義する関節のコレクションを生成します。

動物のボディポーズでは、6つの関節グループが定義されています。ヘッドグループには、耳、目、鼻が含まれます。

前足グループには前足が含まれます。

あなたはそれを推測しました。ここに後ろ足のためのHindlegsグループが来ています。

トランクグループは首を指し、テールグループには3つのテールジョイントが含まれています。

最後に、すべての関節で構成されるオールグループがあります。

これまでに話したすべてを実証するために、私はランドマークの場所を使用して動物の骨格を描くサンプルアプリを持っています。

私はこのかわいい小さなチワワのおもちゃの犬を私の机の上に座らせています。

この犬は歩くことができるので、サンプルアプリの結果を表示するために使用します。

私は犬を連れて携帯電話のカメラの前に置き、サンプルアプリを起動します。

アプリは動物の上に骸骨を描きます。

犬が歩けるように犬の電源を入れましょう。

骸骨は動物の散歩を追う。

おっと！犬はカメラから離れて歩いている。

それを元に戻して、携帯電話のカメラの前に置いておきましょう。

骸骨はまだ犬を追いかけている。それはすごい。

次に、サンプルアプリがどのように行われたかを示すためにコードに入ります。

カメラストリームからCMSampleBuffersを受信するキャプチャ出力から始めます。

最初のステップは、リクエストを作成することです。

VNDetectAnimalBodyPoseRequestを使用します。

次のステップは、imageRequestHandlerを使用してリクエストハンドラを作成することです。

次に、実行する呼び出しを介してハンドラーに要求を提供します。

リクエストの実行が成功すると、リクエスト結果プロパティにVNAnimalBodyPoseObservationsが返されます。

それぞれに関節の位置が含まれます。

動物のポーズ観察からこれらの関節にアクセスするには、.recognizedPointsを呼び出して、グループ内の認識されたポイントの辞書を要求します。

動物の骨格を描くためにすべての関節が必要だったので、私はすべてのグループを使用することを選択します。

動物の関節の一部にのみアクセスする必要がある場合は、別のグループを使用できます。

そして最後に、動物の骨格を描くために、私は認識されたすべてのポイントを反復し、関節を接続します。

以下は、ヘッドジョイントがヘッドスケルトンを描くためにどのように接続されたかの例です。

心に留めておくべき考慮事項がいくつかあります。

新しいアニマルボディポーズを使用すると、画像内で最大2匹の動物を検出できます。

入力画像サイズは、両側で少なくとも64ピクセルである必要があります。

そして、ニューラルエンジンを使用することで、パフォーマンスはライブキャプチャに追いつくことができます。

動物のポーズで何ができるかの例をいくつか見てみましょう。

静止画で新しいアニマルポーズAPIを使用すると、目覚めた後のストレッチなど、動物の興味深いポーズを認識するために関節に関する独自の分析を開発することができます...

立って、ご褒美を懇願する...

犬から逃げる...

または、昼寝をするために丸くなります。

前に述べたように、動物の認識は動物をローカライズして認識することを可能にし、動物のボディポーズは動物の全身のランドマークを返します。

これら2つの要求を組み合わせることで、検出された動物の種類、場所、ポーズを知ることができます。

今、あなたは誰がダイニングテーブルを台無しにしているかを知ることができます。

これは、あなたのペットのための興味深いアプリケーションを開発する多くの機会を与えるでしょう。おそらく、動物の認識と動物のポーズ検出で活性化された犬の御馳走ディスペンサーのための何か。

アニマルポーズAPIは、ビデオでも使用できます。

独自のアルゴリズムをアプリに持ち込んで、動きを分析し、動物がどのような種類の活動を行っているかを判断できます。

時間の経過とともにポーズを追跡することで、動物の行動を理解するために分析をさらに進めることもできます。

アニマルボディポーズまで、壁のマークはすべて私の子供たちのものだと思っていましたが、それはレーザーポインターを捕まえようとしている猫でした。

そして、うわー、この犬は私よりも上手にスケートボードができる！

もう1つの用途は、カメラで動物を追跡することです。

この種のトラッキングの詳細については、「DockKitで電動iPhoneスタンドと統合する」セッションを参照してください。ペットのために面白いアプリを書くこともできます。

例えば、犬に帽子とサングラスをかける。

動物の誕生日にかわいいカードを作って、家族や友人に送るのはとても楽しいことではないでしょうか？

誕生日おめでとう、フレンチさん!

私は、関連する動物の体のポーズ関節を見つける場所に絵文字を配置することによってこれを行います。

私が持っているこのかわいいおもちゃの犬を使って、絵文字アプリを実演させてください。

同じサンプルアプリを使用して、スケルトンビューから絵文字ビューに切り替えます。

この小さな犬はゆっくりと歩いているので、私は彼を少しスピードアップするために彼の足の関節の上にいくつかのスケートの絵文字を追加しました。

ああ、待って、安全第一!

コードに戻って、彼にヘルメットをあげましょう。

ここでは、私はすでに足の関節の上にスケートの絵文字を追加しました。

耳関節の上にヘルメットの絵文字を追加しましょう。

私は絵文字のサイズと位置を選びます。

また、スタイリッシュにスケートをするためにいくつかのメガネを追加しましょう。

犬の安全を大事にした後、アプリをもう一度実行します。

後悔するよりは安全だ。

絵文字ビューに切り替えましょう。

犬は今、安全にスケートを続けるために必要なギアを持っています。

かっこいいよね？行け、犬、行け!あなたはそれを釘付けにしました!

それは動物の体のポーズのためでした。

新しいAnimal Pose APIを使用して作成するすべての素晴らしいものをアプリに持ち込むのが待ちきれません。

ビジョンにはもっと役に立つかもしれないアップデートがありますので、紹介させてください。

新しいステートフルリクエストがあります。

VNTargetedImageベースのリクエストは、Visionのステートフルリクエストとして利用できます。

ビジョンには3つの新しい派生ステートフルリクエストがあり、すべてトラック動詞で名付けられました。

これにより、追跡に使いやすくなります。

VisionがMLComputeDeviceをサポートしていることを発表できることを嬉しく思います。

新しいCompute Device APIを使用すると、リクエストがどこで実行されるかを照会し、使用するデバイスを指定できます。

Core MLとCreate ML Multilabel Classificationは、Visionと互換性があります。

これにより、複数のラベルをサポートする独自の分類器をトレーニングできます。

詳細については、セッション「Create MLで機械学習の強化を発見する」を参照してください。

既存のリクエストにも新しい改訂があり、大きな改善をもたらします。

バーコードについては、新しいリビジョン、リビジョン4があります。

新しいリビジョンには、新しいMSIPlesseyシンボルが含まれており、色の反転QRコードをサポートしています。

ところで、リビジョン1は廃止されます。

テキスト認識は、タイ語とベトナム語のサポートを追加しています。

そして最後に、品質と精度を向上させるために、FaceCaptureQuality、リビジョン3の新しい改訂があります。

Visionのすべての新しいアップデートの詳細については、開発者のドキュメントを確認してください。

今日は、新しいアニマルボディポーズと、この新しいAPIでできるすべての素晴らしいことについて話しました。

また、ビジョンのいくつかの重要なAPIのアップデートやその他の機能強化を紹介し、あなたの開発に役立つことを願っています。

しかし、待ってください、もっとあります。

ビジョンの新しい3Dボディポーズと人セグメンテーションAPIについては、「ビジョンで3Dボディポーズと人セグメンテーションを探る」セッションを確認してください。

また、選択したフォアグラウンドオブジェクトをセグメント化する場合は、「アプリ内の画像から被写体を持ち上げる」セッションを参照してください。

ご清聴ありがとうございました。アニマルポーズで足を手に入れるのが待ちきれません。