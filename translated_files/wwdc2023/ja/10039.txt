10039

♪ ♪

メリッサ：こんにちは、私はメリッサ・ニールレです。

私はEnterprise and Education Technologiesチームのソフトウェアエンジニアで、今日はApple Watchのデバイス管理を紹介できることを嬉しく思います。

Apple Watchは、私たちがつながり、アクティブで、健康を維持するのを助けることで、ユーザーにとって不可欠な毎日の仲間となっています。

ハンズフリー通信、外出先での通知への応答、転倒検出などの安全機能により、Apple Watchは企業顧客に最適です。

中小企業や公益事業から大企業や医療システムまで、職場でApple Watchを見つける場所に制限はありません。

ボルボのような企業は、すでにApple Watchを使用して、ジョブを記録し、顧客とのコミュニケーションを合理化することで、従業員のワークフローを強化しています。

私たちは、Apple Watchを従業員に展開することで、組織が生産性を向上させ、健康をサポートし、さらなる安全性を提供するソリューションを作成できるようにしたいと考えています。

そのため、今年はwatchOSのデバイス管理を導入します。

組織は、他のすべてのAppleデバイスと一緒にApple Watchを展開および設定できるようになりました。

大規模に展開された場合、Apple Watchがユーザーとその組織の両方に影響を与えるすべての方法に興奮しています。

それがどのように機能するかから始めましょう。

まず、Apple Watchの新しい登録フローについて話し合い、その後、Apple Watchを管理する際に知っておくべきことについて話します。

Apple WatchがMDMに登録する際に考慮すべきことがいくつかあります。

まず、Apple WatchとiPhoneをペアとして一緒に使うのと同じように、ペアとしても一緒に管理されます。

デバイスは、アプリや制限などの機能を共有し、1つのシームレスなフローでタスクを実行するために互いに情報を渡します。

これを活用して、Apple Watchの登録フローを作成しました。

登録フローは、実際には組織管理者とエンドユーザーの両方のためにiPhoneで始まります。

ホストiPhoneは、時計の登録フローを実行するために、すでにMDMに登録され、監督されている必要があります。

MDMの登録は、時計のペアリングフロー中に行われるため、新しいApple Watchから始めるか、Apple Watchをリセットする必要があります。

登録するには、既存のペアリングされたApple Watchをリセットする必要があります。

Apple Watchの登録フローは宣言型デバイス管理を利用するため、サーバーはApple Watchを登録するためにApple Watchと宣言型デバイス管理の両方をサポートする必要があります。

セッションをチェックして、宣言型デバイス管理の今年の新機能をチェックしてください。

前提条件がわかったので、登録フローを段階的に掘り下げてみましょう。

私たちは管理され、監督されたiPhoneから始めます。

まず、組織の管理者が新しい宣言を電話に送信します。

これは新しいウォッチ登録構成です。

これは、iPhoneに、それとペアリングするApple WatchはMDMに登録する必要があることを意味します。

これがその設定の内容です。

ペイロードキーを見てみましょう。 ペイロードキー

1つ目は、登録URLエンドポイントのキーです。

このエンドポイントは、Apple WatchがダウンロードしてインストールするMDMプロファイルを提供します。

Apple WatchのMDMプロファイルは、iOSおよびmacOSデバイスですでに使用されているMDMプロファイルに似ています。

次のキーであるAnchorCertificateAssetReferencesはオプション項目であり、アンカー証明書の配列を指定します。

これらのアンカー証明書は、登録プロファイルサーバーの信頼を評価するために使用されます。

このフローで使用される各アンカー証明書は、iPhoneにすでに存在する資産申告書に含める必要があります。

構成がインストールされたので、Apple Watchを持ち込みましょう。

前述したように、Apple Watchはペアリング状態になり、ユーザーが電話からペアリングを開始すると、リモート管理を受け入れるように求められます。

ここでは、ユーザーはウォッチを続行するためにリモート管理を許可する必要があります。

リモート管理を受け入れない場合、Watchがセットアップされずにペアリングフローは終了します。

Apple Watchの登録フローは、iPhoneとApple Watchをペアとして一緒に管理する必要性に対処するために、セキュリティを念頭に置いて設計されています。

セキュリティを確保するための2つの重要な部分があります。

まず、管理者は、ホストiPhoneが組織が管理するMDMサーバーに登録されていることを確認する必要があります。

第二に、どのiPhoneとApple Watchがペアリングされているかを識別できる必要があります。

この新しい登録フローでそれをどのように達成するか見てみましょう。

Watchのペアリング中、iPhoneはWatchの登録設定からApple Watchに情報を送信します。

Apple Watchは、URLと提供されたアンカー証明書を使用して、サーバーとの最初の連絡を行います。

このリクエスト内では、署名された機械情報を提供します。

Apple Watchから登録リクエストを受け取ると、サーバーはマシン情報データを検査し、新しい「ペアリングトークン」キーを探します。

この最初の試行ではペアリングトークンキーが存在しないため、サーバーはHTTP 403応答を発行します。

403の応答はこんな感じです。

まず、エラーコードは、ウォッチペアリングトークンがリクエストに欠けていることを教えてくれます。

次に、詳細辞書内で、セキュリティトークンを提供します。

このランダムなUUID文字列は、ペアリングトークン検索フローを開始するためにWatchによって使用されます。

時計はこのセキュリティトークンをiPhoneに送信します。

iPhoneは、電話とWatch UDIDの両方、およびWatchのMDMサーバーから受信したセキュリティトークンを含むGetTokenチェックインリクエストを実行します。

この新しいチェックインリクエストはこんな感じです。

今年は「ゲットトークン」チェックインリクエストと呼ばれる新しいチェックインメッセージタイプを追加しました。

この新しいメッセージタイプにより、デバイスはMDMサーバーがサポートするさまざまなサービスの安全なトークンを要求できます。

TokenServiceTypeキーは、どのサービスにトークンを要求しているかを示します。

ここでは、値はウォッチペアリングトークンが必要であることを示しています。

次に、TokenParametersキーは、トークンサービスタイプに固有のパラメータを含む辞書です。

Watchペアリングトークンの場合、電話にはWatch、独自のUDID、およびApple WatchのUDIDからのセキュリティトークンが含まれています。

MDMサーバーはこの情報を受け取り、それを使用して、受領時にApple WatchのMDMサーバーで確認できる安全なペアリングトークンを生成します。

ここでは、MDMサーバーは、受信したUDIDに基づいて、iPhoneとApple Watchの間に正しい関係を作成できます。

サーバーは、生成されたペアリングトークンをiPhoneに送信することで終了します。

以下は、サーバーからのトークン応答がどのようになるかの例です。

トークンはbase64でエンコードされたデータの形式です。

受領すると、電話はペアリングトークンをApple Watchに送信します。

その後、ペアリングトークンはWatchのマシン情報に追加され、新しい登録リクエストでMDMサーバーに送り返されます。

以下は、安全なペアリングトークンを含むサーバーに送信されたApple Watchマシン情報の例です。

MDMサーバーは、受信したペアリングトークンをマシン情報と安全に検証するため、iPhoneのMDMサーバーの身元とiPhoneとApple Watchのペアリング関係を確認できます。

これで、サーバーはMDM登録プロファイルをApple Watchに返します。

ユーザーは電話の手順を完了してApple Watchのセットアップを完了し、登録プロファイルはペアリングフローの最後にApple Watchにインストールされます。

iOSと同様に、Apple Watchが認証メッセージタイプでチェックインリクエストを送信すると、登録が正式に完了します。

そして今、Apple Watchは登録され、監督されています!

この専門的な登録フローでは、Apple Watchのためにいくつかのことを心に留めておきたいと思うでしょう。

まず、デバイス管理ソリューションを構築するときは、登録中にサーバーに送信されたデータを利用して、どのApple WatchがどのiPhoneとペアリングされているかを検出します。

この情報を使用して、ペアを識別する必要があるIT管理者のための直感的なUIを作成します。

ウォッチ登録設定が電話に適用されると、電話とペアリングを開始するすべてのApple Watchが管理への登録を求められることを覚えておいてください。

ただし、すでに携帯電話にペアリングされているApple Watchは影響を受けず、登録するにはワイプして再度ペアリングする必要があります。

そして最後に、Apple Watchは登録されると監視されるので、組織が所有するデバイスのすべてのワークフローに追加できることを覚えておいてください。

そして、iOSと同様に、健康情報やフィットネス活動はMDMサーバーに送信されることはありません。

Apple Watchの登録方法がわかったので、どのように管理するかについて話しましょう。

私たちは、watchOSの宣言的なデバイス管理サポートでゲートからすぐに始めています。

watchOS 10では、すべての宣言タイプがwatchOSでサポートされています。

アクティベーション宣言の述語もサポートされているため、Watchでカスタムのマルチステップ管理ワークフローを構築できます。

ステータスチャンネルもApple Watchにたどり着いたので、すべてのAppleデバイスからプロアクティブなアップデートを受け取ることができます。

watchOS 10の宣言型デバイス管理機能を見てみましょう。

watchOSの可用性を反映するように更新されたオープンソースのスキーマと開発者ドキュメントで、サポートの完全なリストを見つけてください。

もちろん、MDMプロトコルはマネージドウォッチでもサポートされています。

ペイロード、制限、MDMコマンドとクエリはすべて、他のAppleデバイスと同じように、すべてApple Watchに送信できます。

今年はwatchOSで幅広いMDM機能がサポートされています。

利用可能な構成ペイロードのいくつかについて話しましょう。

まず、ネットワーク機能のスイートがあります。

今年のwatchOS 10の新機能は、Apple Watchに専用のVPNをインストールする機能です。

既存のネットワークペイロード、Wi-Fi、セルラーに加えて、アプリごとのVPNペイロードのサポートをwatchOSにももたらしました。

これで、すべてのAppleデバイスに安全なエンタープライズVPNへのアクセスを装備できます。

次に、watchOSのセキュリティを確保するために使用できるペイロードについて話しましょう。

SCEPとACME証明書のインストール、パスコードルールの適用、Appleデバイスへの制限の適用にすでに使用しているのと同じペイロードがすべてwatchOSでサポートされるようになりました。

パスワードポリシーと制限ペイロードは、どちらもwatchOSで一意の動作を共有します。

今それをカバーしましょう。

iPhoneに適用される制限とパスコードルールは、ペアリングされたApple Watchに同期されます。

たとえば、iPhoneにパスコード施行ポリシーを適用すると、ペアリングされた管理されたWatchは、パスコードを作成するようユーザーに促します。

iPhoneのポリシーで英数字のパスワードが必要な場合、ユーザーはApple Watchのロックを解除するためにiPhoneを使用する必要があります。たとえば、手首から外されたときなどです。

ただし、Apple Watchに直接適用される制限ペイロードとパスワードペイロードの両方がiPhoneに同期されません。

ルールの方向性でこの詳細を使用して、各プラットフォームの制限とパスワードポリシーのペイロードをカスタマイズします。

MDMクエリは、デバイスの現在のステータスとそのコンテンツを知るのに役立ちます。

もちろん、これらのクエリは、サーバーからデバイスまでポーリング方式で動作します。

クエリでApple Watchに常にポーリングするのではなく、宣言型デバイス管理のステータスチャネルを使用する必要があります。

このようにして、Apple Watchは、サーバーがサブスクライブするステータスアイテムに変更が発生するたびに、サーバーに積極的に通知します。

では、watchOSで検討したいコマンドに目を向けましょう。

iOSからの同じコマンドは、Apple Watch上の企業データの整合性を確保するために、watchOSでサポートされています。

必要に応じて、リモートでパスコードをクリアしたり、デバイスをロックしたり、消去したりできます。

プロファイルを削除してMDMから登録を解除することは、watchOSでもサポートされていますが、デバイス上の動作は異なります。

今、それを見てみましょう。

ユーザーによるかMDMコマンドによるかにかかわらず、Apple WatchからMDMプロファイルを削除すると、サーバーから登録解除されます。

Apple Watchの登録が解除されると、ホストiPhoneからペアリングが解除され、コンテンツと設定がすべて消去されます。

Apple Watchの登録を解除すると、ホストiPhoneの登録ステータスには影響しません。

これで、ホストiPhoneがユーザーであろうと組織であろうと、登録解除されると、Watchも登録解除されます。

したがって、ホストiPhoneから管理を削除すると、最終的に管理されたApple Watchのペアリングが解除され、リセットされます。

私たちが議論したいMDMプロトコルの最後の部分は、アプリの展開です。

watchOSには、3種類のアプリがあります。

まず、ペアリングアプリがあります。これは、それ自体と補完的なiPhoneアプリの間でデータを共有する時計アプリですが、iPhoneアプリがない場合、時計アプリは単独で機能することができます。

次に、依存するwatchOSアプリがあります。

これらのApple Watchアプリが機能するには、コンパニオンiPhoneアプリが必要です。

そして最後に、スタンドアロンのwatchOSアプリがあります。

これらのアプリはwatchOSプラットフォームにのみ存在し、iOSコンパニオンアプリはありません。

ペアリングされたwatchOSアプリタイプと依存したwatchOSアプリタイプの両方で、管理者は2つのデバイス間でこれらのアプリを一緒に管理する必要があります。

スタンドアロンのwatchOSアプリもサポートされています。

これらのアプリに必要なのは、Apple Watchに送信されたアプリのインストールコマンドだけです。

ペアリングされた依存アプリをiPhoneとApple Watchにインストールする場合は、まずアプリをiPhoneにインストールする必要があります。

次に、アプリがiPhoneにインストールされていることを確認したら、アプリのインストールコマンドをApple Watchに送信します。

ペアまたは依存のwatchOSアプリタイプを更新するときは、電話とウォッチアプリの両方にアプリを更新するためのコマンドを送信する必要があります。

同様に、ペアリングされたアプリや依存アプリを削除する場合、正しい動作を確実にするために、削除コマンドをApple WatchとiPhoneの両方に送信する必要があります。

このようにペアリングされ、依存するiPhoneとApple Watchアプリを並行して管理することは、アプリが利用可能で適切に管理されていることを保証するため、管理者にとって最高のユーザーエクスペリエンスと最もスムーズなワークフローを実現します。

これは、Apple Watchの管理でできるすべてのことを垣間見るだけです。

私たちが確認したこれらのベストプラクティスを理解することは、watchOS管理の円滑な採用と強化を確実にするための最良の方法です。

今、いくつかの重要なポイントを要約しましょう。

管理者はiPhoneとwatchOSをペアで管理する必要があるので、MDM製品がこの関係を念頭に置いて構築されていることを確認してください。

組み合わせたワークフローを作成し、UIでデバイス関係を公開すると、管理者が2つのプラットフォームを相互に同期させるのに役立ちます。

宣言型デバイス管理に組み込まれているプロアクティブなステータスチャネルを活用して、電力の消耗となる可能性のある情報のためにデバイスに絶えずポーリングすることを避けます。

宣言型デバイス管理ステータスチャネルは、意味のある変更が発生するたびにサーバーを更新します。

Apple Watchを管理するための新しい考慮事項がありますが、MDMプロトコルと宣言型デバイス管理機能は、すでに使用しているのと同じツールなので、今日からApple Watchの管理を始めることができます。

Apple Watchについて今日話し合ったことを締めくくりましょう。

Apple WatchはwatchOS 10で管理可能になり、iOS 17を実行している監視対象のiPhoneとペアリングされています。

今すぐMDMソリューションのApple Watch登録と管理サポートの実装を開始し、IT管理者とその組織が企業のApple Watchワークフローをできるだけ簡単にできるようにします。

管理者は、管理されたApple Watchが組織の生産性とエンドユーザーの接続性と幸福をどのように最適化するかを計画し始めます。

実装する予定のApple Watchのワークフローと、それが組織のデジタルエコシステムをどのように改善するかについて学ぶことに興奮しています。

そして、あなたがApple Watchを展開しようとしているMDM開発者であろうと管理者であろうと、私たちはあなたから話を聞きたいです。

Feedback.apple.comでフィードバックリクエストを必ず提出してください。

そして最後に、宣言的なデバイス管理と、Appleデバイスの管理における新しいすべてに関する今週の他のセッションをチェックしてください。

それがApple Watchのデバイス管理です。

今日はここにいてくれてありがとう、そして素晴らしい一週間を！