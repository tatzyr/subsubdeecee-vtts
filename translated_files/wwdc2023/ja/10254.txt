10254

♪ ♪

ダーシュ：ようこそ！

私の名前はダーシュで、エンタープライズサービスチームのエンジニアです。

今日は、今年のManaged Apple IDのすべてのアップデートについてお話しできることを嬉しく思います。

この講演では、管理対象Apple IDを使用、管理、作成するための主要な新機能について説明します。

始める前に、管理対象Apple IDを簡単に確認しましょう。

管理対象Apple IDは、企業や学校などの組織で使用するために特別に設計されたApple IDの一種です。

従業員や学生は、個人のApple IDを使用せずに、デバイス、アプリ、サービスにサインインし、デバイス間でデータを同期させることができます。

彼らは、組織がアカウントとそのデータの両方を所有することを可能にします。

また、それらはApple Business ManagerまたはApple School Managerを通じて作成および管理されます。

そのレビューで、始めましょう。

この講演では、まず、管理対象Apple IDをより使いやすくするために導入する新機能と登録オプションについて説明します。

次に、管理対象Apple IDをより詳細に制御できる新しいアクセス管理機能について説明します。

そして最後に、管理対象Apple IDを簡単に作成するために、IDプロバイダーと統合する新しい方法について話します。

今年、管理対象Apple IDで利用可能な新機能と登録オプションから始めましょう。

管理対象Apple IDでデバイスにサインインすると、iCloudはデータをバックアップし、カレンダー、連絡先、メモなどのアプリのすべてのデバイスで同期し続けます。

そして今年は、さらに多くのサポートを追加しています。

見てみましょう。 

管理対象Apple IDがiCloudキーチェーンをサポートし、パスワードやその他の安全な情報をデバイス間で自動入力して同期できるようになりました。

また、iCloudキーチェーンを使用してパスキーを同期できるため、Face IDまたはTouch IDを使用してアプリやウェブサイトに簡単にサインインできます。

パスキーが管理対象Apple IDでどのように機能するかの詳細については、「職場でパスキーを展開する」セッションをご覧ください。

管理対象Apple IDはすでにメッセージ、株式、ニュース、Siriをサポートしていますが、管理対象Apple IDでサインインしているすべてのデバイス間でこれらのアプリ内のデータを同期しておくことができます。

また、マネージドApple ID用のウォレットのサポートも導入しています。

クレジットカードやデビットカード、運転免許証や州のID、交通カード、鍵、バッジなどのアイテムを安全に保存し、すべてのデバイスでアクセスできるようになりました。

そして最後に、Continuityのすべての優れた生産性機能を管理対象Apple IDにもたらし、デバイス間をシームレスに移動できるようにします。

管理対象Apple IDの継続性により、継続カメラ、ハンドオフ、サイドカー、インスタントホットスポット、ユニバーサルクリップボードなどの機能が、複数のデバイスにサインインしている管理対象Apple IDで利用可能になります。

そのため、管理対象Apple IDの既存のサポートされているアプリやサービスに加えて、iCloudのフルサポートでさらに多くの機能を追加しています。

これらすべての機能にアクセスするには、設定で管理対象Apple IDでサインインするだけです。

そうすると、アカウントに関する情報と、管理対象Apple IDで利用可能なすべてのiCloudサービスを見ることができます。

管理対象Apple IDでiCloudを使用することは、仕事専用のデバイスを持っている場合に最適です。

しかし、あなたが仕事で個人的なデバイスを使用できる組織の一員である場合はどうなりますか?

仕事のデータにアクセスしたいと思うかもしれませんが、個人のApple IDはすでにそのデバイスでiCloudにサインインしています。

では、同じデバイスで両方のアカウントにアクセスするにはどうすればよいですか?

さて、管理対象Apple IDを使用すると、アカウント主導のユーザー登録を使用して、今日の個人用デバイス上の作業データにアクセスできます。

深く掘り下げるには、WWDC 21の「アカウント主導のユーザー登録の発見」をチェックしてください。

これがユーザーにとってどのように機能するかについて、ここで簡単に要約します。

アカウント主導のユーザー登録を使用して、個人のApple IDを使用した個人アカウントと、管理対象Apple IDを使用した仕事用アカウントの両方を持つことができます。

デバイス上のあなたの仕事と個人データは暗号的に分離され、異なるパーティションに保存され、あなたの仕事のデータを安全に保ち、個人データを非公開にします。

両方のアカウントでサインインすると、管理対象Apple IDは最も重要な仕事関連のことにiCloudを使用できます。

これを設定するのは本当に簡単です。

「設定」から「一般」に移動し、「VPNとデバイス管理」に移動し、「職場または学校のアカウントにサインイン」をタップします。

次に、管理対象Apple IDを使用して組織にサインインします。

また、ユーザー登録では、仕事用アカウントにサインインし、デバイスを一度に管理に登録します。

管理を受け入れると、サインインして登録します。

しかし、今年は、ユーザーに提供するデバイスを所有する組織に、さらに何かを提供したいと考えました。

これらの組織は通常、デバイス登録でデバイスを管理し、デバイスのより高いレベルの管理と可視性を提供します。

デバイス登録を使用している組織は、ユーザー登録と同じ簡単なサインイン体験を得ることが重要です。

そのため、今年はアカウント主導のユーザー登録に加えて、アカウント主導のデバイス登録を導入します。

アカウント駆動型デバイス登録を通じて登録されたデバイスは、プロファイルベースのデバイス登録の管理機能と、個人データと作業データのデバイス上の分離を最大限に活用します。

新しい登録フローは、設定で職場または学校のアカウントにサインインすることで、今日のユーザー登録とまったく同じ方法で開始されます。

ユーザー登録と同様に、これはサービスディスカバリーを使用して登録プロファイルを取得し、管理対象Apple IDで認証するようユーザーに促します。

登録がアカウント主導のデバイス登録に設定されている場合、新しいリモート管理画面が表示され、組織がデバイスで何を表示し、何ができるかをユーザーに通知します。

登録が完了すると、管理対象Apple IDは、ユーザー登録と同様に、個人のApple IDと一緒にデバイスにサインインします。

登録を通じてインストールされた管理プロファイルや、ユーザー登録で利用可能なiCloudサービスなど、管理対象Apple IDに関する情報を見ることができます。

それはとても簡単です。

アカウント主導のデバイス登録により、ユーザーはデバイス登録を達成するためにプロファイルを手動でダウンロードしてインストールする必要がなくなります。

アカウント主導の登録フローのいずれかを通じて登録されたデバイスについては、「職場と学校でAppleとサインイン」機能を使用するアプリのアップデートがあります。

これで、管理対象Apple IDを使用して、Appleでサインインを使用する管理対象のiOS、iPadOS、およびmacOSアプリにサインインできるようになります。

これにより、仕事用アプリには仕事用アカウントを、個人用アプリには個人アカウントを使用できます。

アプリが認証にウェブビューを使用している場合、またはSafariを使用している場合は、「別のApple IDを使用」をクリックすると、管理対象Apple IDを入力してサインインを完了できます。

それでは、Macで管理対象Apple IDでサインインすることについて話しましょう。

今年は、アカウント主導の登録フローの両方をmacOSにもたらすことに本当に興奮しています。

見てみましょう。 

システム設定で、プライバシーとセキュリティに移動します。

プロフィールの下には、まったく新しい「職場または学校のアカウント」サインインボタンがあります。

以前と同様に、管理対象Apple IDでサインインし、定義された登録の種類に応じて、ユーザー登録またはデバイス登録のいずれかを受け取ります。

また、iOSやiPadOSと同様に、管理対象Apple IDでサインインしたアカウントは別々にリストされ、作業データは個人データとは別に保管されます。

管理対象Apple IDで、iOSとiPadOSで以前に見たのと同じiCloud機能にアクセスできます。

これらの登録体験の両方を見たので、MDM開発者がユーザー登録と一緒にアカウント主導のデバイス登録をサポートする方法と、その2つの中から選択するために使用できる情報について説明しましょう。

すでにアカウント主導のユーザー登録をサポートしているMDM開発者であれば、よく知られているエンドポイントを実装しています。

登録が発生すると、登録しようとする管理対象Apple IDがクエリパラメータとして渡されます。

これで、ユーザー識別子に加えて、登録しようとするデバイスモデルを受け取ります。

この新しい情報は、どのユーザーとどのデバイスがユーザー登録またはデバイス登録を受け取るかを決定するのに役立ちます。

今日のアカウント主導のユーザー登録をサポートするために、デバイスが既知のエンドポイントに要求を送信すると、サーバーは「バージョン」キーの値として「mdm-byod」で応答します。

また、登録プロファイルでは、EnrollmentModeの値は「BYOD」に設定されています。

アカウント主導のデバイス登録を使用するには、MDM開発者は、よく知られている応答の「バージョン」キーを「mdm-adde」に変更し、登録プロファイルで登録モードをADDEに設定するだけです。

そして、それだけです。

これらのいくつかの設定変更は、ユーザーのアカウント駆動型デバイス登録のロックを解除します。

では、要約しましょう。

アカウント主導のデバイス登録により、デバイスを管理に簡単に登録できます。

ユーザー登録と同様に、管理対象Apple IDでサインインするだけです。

デバイス登録のほぼすべての機能を受け取り、パスコードポリシーやデバイスをワイプしてロックする機能などをより詳細に制御できます。

これにより、管理対象Apple IDは個人のApple IDと一緒にサインインし、2つの間のデータを別々に保持できます。

iOS、iPadOS、macOSで利用できます。

また、macOSのプロファイルベースのデバイス登録と同様に、デバイスが監視され、最高レベルの管理を提供します。

そして、MDMの場合、それをサポートするために必要なのはいくつかの変更だけです。

今年の機能と登録オプションの更新により、マネージドApple IDは、生産性、プライバシー、データセキュリティの適切なバランスを提供するためのより多くの方法を組織に提供します。

管理対象Apple IDを使用する新しい方法に加えて、彼らができることとアクセスできることを決定するためのより強力なコントロールも導入しています。

それに飛び込みましょう。

組織のすべての管理対象Apple IDに適用される新しいアクセス管理ポリシーを導入しています。

これらのポリシーを使用すると、デバイスの管理レベルに基づいて管理対象Apple IDのサインインを制御でき、利用可能なiCloudサービスを判断するために使用できます。

これらのポリシーは、Apple Business ManagerまたはApple School Managerで設定されています。

それがどのように見えるか見てみましょう。

管理対象Apple IDがサインインできるデバイスの種類は、管理レベルに基づいて制御できます。

管理を必要としない任意のデバイスのデフォルトポリシーを維持し、管理対象デバイスのみに設定できます。これは、より高いセキュリティを提供し、ユーザーが自分のデバイスを仕事に持ち込む場合に使用できます。監視デバイスのみは、従業員にデバイスを提供する組織に最高レベルのセキュリティを提供します。

また、メッセージとFaceTimeの新しいコントロールも追加しました。

メッセージとFaceTimeを制限して、組織内のメッセージと通話のみを受け入れるか、完全に無効にすることができます。

開発者にとっては、AppleSeed for ITに加えて、XcodeとApple Developerサイトへのアクセスを制御できます。

また、管理対象Apple IDでサポートされているアプリやサービスのいずれかでiCloudを無効にすることができます。

個々のアプリのiCloudを無効にすると、組織によって設定されたポリシーがデバイスに反映されます。

この例では、管理者がApple Business Managerでリマインダーをオフにしているため、対応するトグルがデバイスでオフになっています。

ユーザーは引き続きデバイス上でローカルでリマインダーを使用できますが、データはiCloudと同期されません。

管理対象デバイスのみと監視対象デバイスのみのサインインポリシーをサポートするために、MDM開発者は安全なトークンを返す新しいチェックインリクエストメッセージタイプを実装する必要があります。

このトークンは、管理対象Apple IDが、組織に登録されているMDMサーバーによって管理されているデバイスにのみサインインすることを確認します。

それがどのように機能するか見てみましょう。

新しいチェックインリクエストメッセージタイプはGetTokenと呼ばれます。

これを実装するには、MDMはApple Business ManagerまたはApple School Managerで組織に登録されたMDMサーバーのサーバーUUIDが必要になります。

これは、アカウントの詳細を取得エンドポイントで利用できます。

そして、この登録されたMDMサーバーに関連付けられたMDMサーバー証明書の秘密鍵。

管理者は、Apple Business ManagerまたはApple School Managerで組織のアクセス管理ポリシーを設定します。

このポリシーは、組織に属するすべての管理対象Apple IDに適用されます。

管理対象Apple IDがデバイスにサインインしようとすると、デバイスはデバイスを管理しているMDMサーバーからこのGetTokenメッセージを使用してトークンを要求します。

MDMサーバーは、秘密鍵で署名されたJSON Webトークンで応答します。

その後、デバイスはサインインフロー中にこのトークンを使用してポリシーを確認します。

トークンが確認され、ユーザーのデバイス管理状態が組織のサインインポリシーに準拠している場合、ユーザーは正常にサインインします。

アクセス管理の組織サインインポリシーは、iOS 17、iPadOS 17、およびmacOS 14で動作します。

ポリシーの更新またはデバイスの状態の変更がコンプライアンス違反につながる場合、ユーザーはデバイスからサインアウトされます。

GetTokenチェックインメッセージは、デバイスとデータへの許可されたアクセスのみを保証します。

MDM開発者のために、実装の詳細をお見せしましょう。

GetTokenリクエストは、他のチェックインコマンドと同様の構造に従います。

メッセージタイプはGetTokenです。

そして、トークンを要求するサービスを示す新しいTokenServiceTypeキーは、com.apple.maidに設定する必要があります。

このGetTokenチェックインリクエストの応答はJSON Web Tokenです。

クレームは次のとおりです。発行者は、MDMサーバーのUUIDに設定されています。

このトークンがサーバーによって生成されたときのタイムスタンプで発行されます。

これは、トークンが有効とみなされる期間を制限するために使用されます。

Jwt識別子。

これは、ランダムなUUID文字列であるべきサーバー生成の識別子です。

これは、トークンが一度しか使用できないようにするために使用されます。

サービスタイプ。

これはリクエストで送信されたTokenServiceTypeで、com.apple.maidに設定する必要があります。

JSON Webトークンは、応答として送信する前に、MDMサーバーの秘密鍵で署名する必要があります。

新しいアクセス管理コントロールは、Apple Business ManagerとApple School Managerのベータ機能として、今年の夏後半に利用可能になります。

マネージドApple IDの使用と管理に関する新しい機能について説明したので、IDプロバイダーとの作成と統合について話しましょう。

管理対象Apple IDは、Apple Business ManagerまたはApple School Managerで自分で作成できますが、IDプロバイダーを使用して作成することもできます。

アイデンティティプロバイダーがいる場合は、独自のドメインを使用して、管理対象Apple IDが組織の電子メールIDのように見えるようにし、ユーザーが組織で使用しているのと同じ資格情報で管理対象Apple IDにサインインできるフェデレーション認証を有効にし、ユーザーディレクトリを同期して、管理対象Apple IDに変更が発生したときに自動的に更新を取得します。

Apple Business ManagerとApple School Managerは、最初にMicrosoft Azure Active Directoryのフェデレーション認証を追加しました。

そして昨年、Google Workspaceのサポートを追加しました。

今日、何千もの組織がこれらのIDプロバイダーを使用して、管理対象Apple IDを自動的に作成し、アカウントを同期させています。

今年は、どの組織にも、管理対象Apple IDにIDプロバイダーを使用する能力を提供したいと考えました。

また、カスタムIDプロバイダーのサポートを追加する新しい統合オプションを導入できることを嬉しく思います。

現在、公共または社内のアイデンティティプロバイダーは、Apple Business ManagerまたはApple School Managerと統合できます。

Microsoft Azure Active DirectoryおよびGoogle Workspaceとの既存の統合と同様に、カスタムアイデンティティプロバイダーの統合は、フェデレーション認証、ディレクトリ同期、およびアカウントセキュリティイベントをサポートします。

この統合では、フェデレーション認証用のOpenID Connect、ディレクトリ同期用のクロスドメインID管理システム、またはSCIM、パスワード変更などのアカウントセキュリティイベント用のOpenID共有信号フレームワークの3つの標準を使用します。

この統合と互換性を持たせるために、IDプロバイダーはこれら3つの標準をサポートする必要があります。

そして、Oktaが今年後半にサポートされているアイデンティティプロバイダーになることに取り組んでいることを共有できることを嬉しく思います。

これは、Oktaを使用すると、管理対象Apple IDに完全に統合されたIDプロバイダーを持つことのすべての利点をすぐに利用できることを意味します。

この新しい統合オプションを使用して、より多くの組織がマネージドApple IDとIDプロバイダーの作成と同期を開始することに興奮しています。

では、締めくくりましょう。

iCloudキーチェーン、ウォレット、すべての優れた継続性機能など、組織内の管理対象Apple IDで利用可能なすべての新機能を活用してください。

MDMソリューションのサポートにより、アカウント主導のデバイス登録を使用して、ユーザーがプロファイルを手動でインストールすることなく、iPhone、iPad、およびMacを管理に登録します。

管理対象Apple IDがサインインできる場所と、まったく新しいアクセス管理機能で使用できるアプリやサービスを制御します。

そして最後に、IDプロバイダーはApple Business ManagerまたはApple School Managerとの統合を開始し、管理対象Apple IDのフェデレーション認証、ディレクトリ同期、アカウントセキュリティイベントのロックを解除することができます。

今年導入したすべての新しい管理対象Apple IDを使い始めるのが待ちきれません。

ご参加いただきありがとうございます。素晴らしい1日になりますように。