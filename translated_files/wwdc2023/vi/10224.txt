10224

♪ ♪

Chris: Xin chào, tôi là Chris. Trong một phút nữa, tôi sẽ được Jason tham gia.

Chào mừng đến với "Đơn giản hóa phân phối với Xcode và Xcode Cloud."

Với tư cách là nhà phát triển, chúng tôi cần lặp lại trước khi chia sẻ công việc tốt nhất của mình.

Để tạo ra một ứng dụng thực sự bóng bẩy, bạn cần có khả năng nhanh chóng và dễ dàng xây dựng ứng dụng của mình, kiểm tra nó, phân phối nó, nhận phản hồi và tích hợp phản hồi đó.

May mắn thay, chúng tôi có những công cụ phù hợp cho công việc.

Bạn có thể bắt đầu bằng cách cung cấp ứng dụng của mình cho nhóm, bạn bè và gia đình của bạn với TestFlight.

Khi bạn cảm thấy mình đã sẵn sàng, bạn có thể gửi ứng dụng của mình lên App Store hoặc bạn có thể nhận được ứng dụng của mình được Apple công chứng và chia sẻ trực tiếp với khách hàng của bạn.

Tất nhiên, chúng tôi có những công cụ tuyệt vời để phân phối cho các kênh này: Bạn có thể sử dụng Xcode.

Cửa sổ Xcode Organizer giờ đây giúp việc phân phối dễ dàng hơn bao giờ hết chỉ với một cú nhấp chuột bằng cách sử dụng các tùy chọn được sắp xếp hợp lý mới.

Và bạn có thể tăng cường nỗ lực của mình bằng cách sử dụng Xcode Cloud.

Với Xcode Cloud, bạn có thể tạo quy trình làm việc để tự động hóa việc xây dựng và chia sẻ ứng dụng của mình bất cứ khi nào bạn đẩy thay đổi mã.

Hôm nay, tôi sẽ chỉ cho bạn cách gửi ứng dụng của bạn cho những người thử nghiệm với TestFlight.

Sau đó Jason sẽ chỉ cho bạn cách sử dụng Công chứng cho khách hàng của bạn trên máy Mac.

Hãy bắt đầu nào.

Tôi có dự án "Backyard Birds" của chúng tôi đang mở.

Tôi đang làm việc trên một nhánh git nơi tôi đang thử nghiệm với các màu nhấn khác nhau.

Tôi muốn chia sẻ những màu đỏ mới này với nhóm của tôi trên TestFlight.

Bước đầu tiên để làm như vậy, là tạo ra một "Lưu trữ".

Nhưng kho lưu trữ là gì?

Kho lưu trữ là bản ghi ứng dụng của bạn.

Nó là một vùng chứa cho bản dựng phát hành được tối ưu hóa cho ứng dụng của bạn.

Nó bao gồm các biểu tượng gỡ lỗi, hoặc "dSYMs", có thể dùng để tượng trưng cục bộ.

Nội dung của kho lưu trữ cuối cùng được đóng gói lại tùy thuộc vào điểm đến mà bạn chọn.

Vậy bạn lưu trữ như thế nào?

Rất đơn giản, bạn sử dụng Menu Lưu trữ Sản phẩm.

Và lưu ý, tôi hiện đang chọn trình mô phỏng iPhone.

Xcode sẽ làm điều thông minh và xây dựng kho lưu trữ của tôi với tất cả các kiến trúc CPU cần thiết để chạy trên bất kỳ thiết bị iOS nào.

Sau khi Xcode đã tạo ra một Kho lưu trữ, bước tiếp theo là nhấp vào nút "Phân phối ứng dụng".

Mới trong Xcode 15, bạn có thể chọn từ một trong một số tùy chọn được sắp xếp hợp lý.

Bằng cách chọn một trong những tùy chọn này, bạn có thể tải lên hoặc xuất ứng dụng của mình một cách dễ dàng chỉ với một cú nhấp chuột.

Bây giờ hãy dành một chút thời gian để khám phá từng tùy chọn được sắp xếp hợp lý này.

Bạn có thể sử dụng tùy chọn "TestFlight & App Store", tùy chọn này sẽ cung cấp cho bạn đầy đủ chức năng của TestFlight và khả năng gửi đến App Store.

Hoặc bạn có thể sử dụng tùy chọn "TestFlight Internal Only" mới.

Loại bản dựng này có thể được chia sẻ với nhóm của bạn, nhưng không bao giờ có thể được gửi đến App Store.

Điều này là hoàn hảo để nhận phản hồi trong khi bạn đang lặp lại trên một nhánh phát triển.

Nếu bạn muốn xuất bản dựng tối ưu hóa cho ứng dụng của mình, bạn có thể sử dụng tùy chọn Gỡ lỗi.

Bản dựng này có thể được cài đặt trên các thiết bị đã đăng ký của nhóm bạn hoặc bạn có thể sử dụng tùy chọn Kiểm tra phát hành.

Tùy chọn này sẽ ký ứng dụng của bạn tương tự như cách nó được ký trên App Store.

Bản dựng này có thể được cài đặt trên các thiết bị đã đăng ký của nhóm bạn.

Mỗi tùy chọn được sắp xếp hợp lý này đều sử dụng các cài đặt được đề xuất.

Các cài đặt được đề xuất này bao gồm: Sử dụng ký tự động để ký lại ứng dụng của bạn.

Không cần cấu hình.

Nhúng các biểu tượng ứng dụng để biểu tượng nhật ký sự cố phía máy chủ.

Tự động tăng số bản dựng ứng dụng của bạn để chuẩn bị sẵn sàng cho App Store.

Và loại bỏ thông tin biểu tượng khỏi các dylibs nhúng Swift.

Điều này sẽ làm cho ứng dụng của bạn nhỏ hơn.

Nếu bạn cần thứ gì đó không có sẵn dưới dạng tùy chọn được sắp xếp hợp lý, bạn luôn có thể chọn "Tùy chỉnh".

"Tùy chỉnh" sẽ cho phép bạn chọn từ nhiều thứ hơn là chỉ các cài đặt được đề xuất.

Được rồi, tôi đã sẵn sàng gửi bản dựng này cho một số thành viên trong nhóm của tôi.

Bởi vì tôi chỉ đang thử một số thay đổi một cách nhanh chóng và tôi không muốn bản dựng này xuất hiện trên App Store, tôi sẽ chọn tùy chọn "TestFlight Internal Only" và nhấp vào phân phối.

Và thế là xong. Tôi không phải trả lời bất kỳ câu hỏi nào.

Xcode sẽ làm điều đúng đắn.

Xcode đang đóng gói lại ứng dụng, ký lại, bao gồm các biểu tượng và tải lên TestFlight.

Và cứ như vậy, ứng dụng đã được tải lên.

Sau đó, sau khi ứng dụng của tôi đã được tải lên và xử lý, tôi nhận được thông báo mới tuyệt vời này cho tôi biết ứng dụng đã sẵn sàng để thử nghiệm.

Sau khi quá trình xây dựng của tôi hoàn tất quá trình xử lý, tôi có thể vào App Store Connect trong Safari.

Từ đó, tôi có thể truy cập ứng dụng "Backyard Birds" của mình trong TestFlight để chỉnh sửa Chi tiết Kiểm tra.

Khi nhóm của tôi sử dụng TestFlight trên thiết bị của họ, họ có thể đọc tất cả về những gì cần kiểm tra cho bản dựng mới này.

Và họ có thể sử dụng TestFlight để gửi cho tôi ảnh chụp màn hình với phản hồi văn bản.

Sau này tôi có thể xem phản hồi đó trong cửa sổ Xcode Organizer.

Ở đây trong tab Phản hồi của Xcode Organizer, Jason đã gửi cho tôi một ảnh chụp màn hình với một tin nhắn.

Có vẻ như anh ấy không quan tâm nhiều đến các nút màu đỏ.

Ồ, không, điều đó không tốt. Tôi đoán chúng ta còn nhiều việc phải làm.

Chúng tôi đã hoàn thành rất nhiều.

Chúng tôi vừa sử dụng Xcode để lưu trữ bản dựng ứng dụng của mình và tải nó lên TestFlight chỉ bằng một cú nhấp chuột.

Chúng tôi đã cung cấp cho nhóm của mình một số ghi chú về những gì cần kiểm tra và nhận được một số phản hồi.

Chúng tôi đang trên đường xây dựng và tinh chỉnh một ứng dụng tuyệt vời.

Xây dựng và phân phối ứng dụng của bạn có thể rất nhiều thứ để tung hứng.

Xcode Cloud tự động hóa nhiệm vụ phân phối, cho phép bạn tập trung vào phát triển.

Xcode Cloud là dịch vụ Tích hợp và Phân phối Liên tục được xây dựng bởi Apple.

Nó được thiết kế đặc biệt cho các nhà phát triển Apple.

Tôi muốn thiết lập Xcode Cloud để tự động tạo bản dựng khi tôi gửi các thay đổi cho một nhánh tính năng, gửi bản dựng đó đến TestFlight và bao gồm các ghi chú về những gì cần kiểm tra.

Để làm tất cả những điều này, tôi có thể sử dụng Xcode Cloud Workflow.

Tôi đã thêm một quy trình làm việc cho ứng dụng của chúng tôi.

Chúng tôi sẽ chỉnh sửa nó để thêm hỗ trợ TestFlight.

Đầu tiên chúng ta sẽ sử dụng menu Tích hợp để quản lý quy trình làm việc.

Chúng tôi sẽ chỉnh sửa hành động lưu trữ để thêm hỗ trợ TestFlight.

Và chúng tôi sẽ thêm một hậu hành động vào quy trình làm việc, để gửi bản dựng đến một nhóm người thử nghiệm nội bộ.

Hãy đi sâu vào.

Tôi sẽ bắt đầu bằng cách nhấp vào menu Tích hợp mới và Quản lý Quy trình làm việc.

Tôi sẽ chọn quy trình làm việc "Phản hồi nội bộ" mà trước đây tôi đã làm việc và tôi sẽ sử dụng nút bánh răng để chỉnh sửa quy trình làm việc.

Trước đây tôi đã định cấu hình quy trình làm việc này để bắt đầu bất cứ khi nào có thay đổi xảy ra trên các nhánh bắt đầu bằng chuỗi "tính năng/".

Điều đó bao gồm nhánh tính năng accent_color mà tôi đang làm việc.

Để bắt đầu triển khai cho TestFlight, tôi sẽ chỉnh sửa hành động Lưu trữ.

Bây giờ, tôi đã chỉ định quy trình làm việc này cho các tính năng mà tôi đang tạo mẫu.

Tôi không quan tâm đến những bản dựng này bao giờ được đưa lên App Store, vì vậy tôi sẽ chọn "TestFlight (Chỉ kiểm tra nội bộ)."

Tôi chỉ muốn chia sẻ những bản dựng này với các thành viên được chọn trong nhóm của tôi.

Để làm điều đó, tôi sẽ thêm một TestFlight Internal Post-Action.

Và tôi sẽ thêm nhóm TestFlight quan tâm đến các tính năng mới này.

Tôi đã gọi chúng là "Những con chim lông vũ".

Tôi sẽ "thêm", "tiết kiệm"...

Và "đã hoàn thành."

Bây giờ tất cả chúng ta đã được thiết lập và sẵn sàng để đi.

Bất cứ khi nào tôi đẩy các thay đổi đối với nhánh accent_color này, một bản dựng mới sẽ được gửi đến nhóm "Birds of a Feather".

Hãy thử điều chỉnh màu nhấn và đẩy các thay đổi.

Tôi nghĩ tôi sẽ thay đổi màu nhấn từ đỏ sang tím và xây dựng và chạy trong trình giả lập để kiểm tra nó.

Các nút màu tím trông đẹp hơn đối với tôi.

Hãy hy vọng Jason đồng ý.

Để đẩy những thay đổi này, tôi sẽ sử dụng menu Tích hợp và nhấp vào cam kết.

Bây giờ tôi có thể xem lại các tệp đã thay đổi.

Trong tệp đầu tiên này, "Contents.json", tôi đã thay đổi màu nhấn từ đỏ sang tím.

Điều đó có ý nghĩa.

Tôi cũng đang làm việc trên một tập lệnh xây dựng tùy chỉnh.

Tập lệnh này được Xcode Cloud sử dụng để thu thập các tin nhắn cam kết git và bao gồm chúng làm chi tiết thử nghiệm cho bản dựng của tôi trên TestFlight.

Điều này thật tuyệt.

Xcode Cloud hiện có thể tự động cập nhật ghi chú của bạn cho What to Test.

Để tìm hiểu thêm về cách thiết lập điều này, hãy xem tài liệu dành cho nhà phát triển cho "Bao gồm ghi chú cho người thử nghiệm với bản phát hành beta của ứng dụng của bạn."

Tài liệu này có tập lệnh xây dựng mà tôi đang sử dụng.

Tôi sẽ thêm một thông báo cam kết, "Các nút bây giờ có màu tím."

Điều đó sẽ làm rõ với nhóm của tôi những gì tôi đã thay đổi.

Tôi sẽ thực hiện tất cả những thay đổi này bằng cách nhấp vào nút "Stage All".

Tôi sẽ sử dụng nút thả xuống "Cam kết" để cam kết và nhấn.

Và nhấp vào đẩy để tải lên kho lưu trữ từ xa.

Thế là xong.

Với sự thúc đẩy đó, Xcode Cloud đang lưu trữ và triển khai cho TestFlight.

Sau đó, tôi có thể xem lại bản dựng trong Reports Navigator.

Tôi sẽ chọn bản dựng gần đây nhất theo quy trình làm việc "Phản hồi nội bộ".

Và cảm ơn trời đất, hành động lưu trữ và thử nghiệm nội bộ TestFlight sau hành động đã thành công.

Nếu tôi kiểm tra bản dựng của chúng tôi trong TestFlight trên thiết bị của mình, nó bao gồm ghi chú kiểm tra hữu ích, "Các nút bây giờ có màu tím."

Và chúng ta có gì ở đây?

Jason đã gửi một số phản hồi đến cửa sổ Người tổ chức.

Có vẻ như anh ấy thích những nút màu tím mới.

Được rồi, tôi đoán chúng ta có thể giữ chúng.

Tuyệt vời. Bây giờ chúng tôi có một thiết lập lý tưởng.

Với sự trợ giúp của Xcode Cloud, bất cứ khi nào tôi đẩy các thay đổi đối với nhánh tính năng này, nhóm sẽ nhận được một bản dựng mới của ứng dụng của tôi với thông tin hữu ích về Những gì cần kiểm tra.

Bây giờ tôi có thể liên tục tích hợp phản hồi và triển khai các cải tiến.

Bây giờ tôi được giải phóng để tập trung vào phát triển và mang lại kết quả tốt nhất có thể.

Được rồi, chúng tôi đã học được rất nhiều về việc phân phối ứng dụng của mình với TestFlight bằng Xcode và Xcode Cloud.

Bây giờ Jason sẽ chỉ cho chúng ta tất cả về việc sử dụng Công chứng.

Jason: Cảm ơn, Chris.

App Store là một cách tuyệt vời để tiếp cận khách hàng của Apple, nhưng nếu bạn muốn lưu trữ và bán trực tiếp ứng dụng Mac của mình, bạn có thể công chứng ứng dụng của mình.

Công chứng ứng dụng của bạn sẽ giúp người dùng tin tưởng rằng sự an toàn của phần mềm của bạn đã được Apple xác minh.

Vậy công chứng hoạt động như thế nào?

Bạn bắt đầu bằng cách tạo một kho lưu trữ ứng dụng của mình và tải nó lên dịch vụ công chứng của Apple, nơi nó được quét để tìm nội dung độc hại.

Khi quá trình đó hoàn tất, dịch vụ công chứng sẽ tạo ra một vé, có thể được ghim vào ứng dụng của bạn.

Bây giờ ứng dụng có công chứng của bạn đã sẵn sàng để phân phối cho khách hàng.

Khi ứng dụng của bạn được khởi chạy lần đầu tiên, macOS sẽ xác minh rằng ứng dụng đã được Apple kiểm tra.

Điều này được thực hiện bằng cách kiểm tra cả vé ghim và vé được cung cấp bằng cách liên hệ với dịch vụ công chứng.

Để tìm hiểu thêm về công chứng, hãy xem các phiên WWDC "Tất cả về công chứng" và "Có gì mới trong công chứng cho ứng dụng Mac" từ những năm trước.

Để công chứng ứng dụng của bạn từ Xcode, hãy bắt đầu bằng cách tạo một kho lưu trữ.

Như Chris đã chỉ cho chúng tôi trước đó, chúng tôi có thể truy cập các tùy chọn phân phối được sắp xếp hợp lý mới bằng cách mở cửa sổ Organizer trong Window, Organizer, chọn kho lưu trữ ứng dụng của chúng tôi và nhấp vào Distribute App.

Tùy chọn Phân phối Trực tiếp sẽ công chứng ứng dụng của bạn.

Cho đến nay, tôi đã sử dụng Xcode để công chứng.

Năm nay, để giúp tự động hóa quy trình này, chúng tôi đã thêm hỗ trợ công chứng cho Xcode Cloud.

Sau khi thiết lập quy trình làm việc công chứng, Xcode Cloud sẽ tự động bắt đầu xây dựng dựa trên các điều kiện bắt đầu được định cấu hình.

Khi ứng dụng có công chứng đã sẵn sàng, bạn có thể tải xuống trực tiếp từ Xcode Cloud.

Tôi đã định cấu hình quy trình phát hành cho ứng dụng Mac của chúng tôi.

Bất cứ khi nào một thay đổi được đẩy đến nhánh phát hành của chúng tôi, các thử nghiệm tự động sẽ được chạy và một kho lưu trữ được tạo ra.

Tôi cũng sẽ cập nhật quy trình làm việc để công chứng ứng dụng của chúng tôi.

Chỉ quản trị viên và người quản lý ứng dụng mới có thể thiết lập quy trình làm việc công chứng, vì vậy hãy đảm bảo rằng bạn có quyền phù hợp.

Vì tôi sẽ sử dụng Xcode Cloud để công chứng, tôi sẽ nhấp vào Hủy và đóng cửa sổ Organizer.

Tôi sẽ bắt đầu bằng cách chuyển đến tab Đám mây của trình điều hướng Báo cáo trong thanh bên.

Để chỉnh sửa quy trình phát hành macOS, tôi sẽ nhấp vào thứ cấp vào nó và chọn Chỉnh sửa quy trình làm việc.

Bạn sẽ nhận thấy rằng hành động Lưu trữ đã được định cấu hình.

Hãy thêm hành động sau Công chứng mới bằng cách nhấp vào dấu cộng và Công chứng.

Tôi sẽ cập nhật mô tả quy trình làm việc để phản ánh bước bổ sung này.

Và thế là xong.

Tôi sẽ nhấp vào Lưu để lưu những thay đổi này vào quy trình làm việc.

Tôi nghĩ rằng ứng dụng Mac của chúng tôi có hình dạng tuyệt vời, đặc biệt là với các nút màu tím mới, vì vậy tôi đã sẵn sàng bắt đầu quá trình công chứng bằng quy trình làm việc được cập nhật của chúng tôi.

Tôi có thể làm điều đó bằng cách nhấp vào thứ cấp vào quy trình làm việc của chúng tôi và chọn Bắt đầu xây dựng.

Tôi sẽ chọn chi nhánh phát hành của chúng tôi và nhấp vào Bắt đầu xây dựng để xếp hàng xây dựng.

Bạn sẽ nhận thấy rằng các hành động Kiểm tra và Lưu trữ được xếp hàng đợi và khi chúng hoàn tất, hành động sau Công chứng mới được thêm vào sẽ chạy.

Trong khi Xcode Cloud xử lý bản dựng của chúng tôi, chúng ta hãy xem xét kỹ hơn báo cáo bản dựng.

Khi một bản dựng Xcode Cloud đang được tiến hành, tổng quan về bản dựng sẽ hiển thị bản tóm tắt mọi thứ sẽ xảy ra trong bản dựng này.

Nếu bạn muốn làm việc trên một cái gì đó khác trong thời gian chờ đợi, tab Đám mây của trình điều hướng Báo cáo sẽ hiển thị trạng thái cho tất cả các bản dựng của bạn khi chúng chạy và cho phép bạn điều hướng đến kết quả chi tiết.

Hãy kiểm tra tình trạng xây dựng của chúng ta.

Tuyệt vời!

Bài đăng Công chứng mới của chúng tôi đã hoàn thành thành công.

Tôi sẽ nhấp vào "Tải xuống ứng dụng có công chứng" để bắt đầu tải xuống.

Khi quá trình tải xuống hoàn tất, nhấp vào Xem Ứng dụng Công chứng sẽ hiển thị kho lưu trữ đã tải xuống mà chúng tôi có thể giải nén để hiển thị ứng dụng được công chứng của mình.

Bây giờ tôi đã sẵn sàng để chia sẻ nó với người dùng của chúng tôi.

Hôm nay, chúng tôi đã chỉ cho bạn cách sử dụng các công cụ khác nhau để đảm bảo bạn đang cung cấp phiên bản ứng dụng tốt nhất của mình.

Các tùy chọn phân phối được sắp xếp hợp lý mới của Xcode sẽ cho phép bạn nhanh chóng tải lên các ứng dụng của mình.

Phân phối nội bộ TestFlight là một cách tuyệt vời để lặp lại các thay đổi, cho phép một đối tượng hạn chế dùng thử ứng dụng của bạn và cung cấp phản hồi có giá trị.

Quy trình làm việc của Xcode Cloud giúp tự động hóa quy trình phân phối và giúp việc phân phối bên ngoài App Store trở nên dễ dàng hơn với sự hỗ trợ công chứng các ứng dụng Mac của bạn.

Chúng tôi nghĩ rằng những cải tiến này để phân phối ứng dụng sẽ cho phép bạn tiết kiệm thời gian quý báu, vì vậy bạn có thể tập trung vào những gì bạn làm tốt nhất, xây dựng các ứng dụng tuyệt vời.

Cảm ơn bạn đã xem.

♪ ♪