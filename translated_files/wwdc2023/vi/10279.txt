10279

♪ Hip-hop nhạc cụ êm dịu ♪

♪

Etienne Segonzac: Xin chào! Chào mừng đến với phiên của chúng tôi.

Tôi là Etienne Segonzac, một kỹ sư trong nhóm Safari.

Và tôi được tham gia bởi đồng đội của tôi, Tim Horton.

Chúng tôi muốn giới thiệu với bạn Safari mới cho máy tính không gian.

Không phải năm nào chúng tôi cũng có thể đưa web lên một nền tảng hoàn toàn mới, vì vậy phiên này có ý nghĩa rất lớn đối với chúng tôi.

Chúng tôi đã rất cẩn thận để xây dựng trình duyệt tốt nhất có thể.

Và trang web thực sự tỏa sáng trên thiết bị mới này.

Vì vậy, hãy bắt đầu bằng cách xem Safari đang hoạt động.

Tim Horton: Cảm ơn, Etienne! Bắt đầu thôi!

Khi bạn lần đầu tiên mở Safari trên xrOS, bạn sẽ nhận thấy nó trông quen thuộc, giống như Safari mà bạn đã quen từ iPad và Mac.

Những điểm tương đồng không chỉ sâu về da.

Đây thực sự là Safari với cùng một công cụ WebKit bên dưới, cộng với một số bổ sung chu đáo cho nền tảng này.

Tất cả các trang web của bạn sẽ hoạt động tốt ngay lập tức, nhờ vào sự hỗ trợ rộng rãi cho các tiêu chuẩn web.

Duyệt web thật dễ dàng.

Để theo dõi một liên kết, bạn có thể tiếp cận và chạm vào trang, hoặc chỉ cần nhìn vào liên kết và chạm vào các ngón tay của bạn với nhau.

Trong khi bạn đang xem một liên kết, Safari sẽ cho nó một điểm nhấn nhẹ nhàng, giúp bạn tự tin điều hướng.

Khi bạn đang sử dụng Safari, bạn sẽ nhanh chóng tìm ra cách tận dụng tối đa sức mạnh của nền tảng này.

Ví dụ, tổng quan về tab đã được thiết kế lại hoàn toàn cho màn hình mở rộng và làm cho việc chuyển đổi tab trở nên thú vị hơn bao giờ hết.

Sự hỗ trợ của nền tảng cho nhiều cửa sổ cho phép bạn đa nhiệm hơn bao giờ hết, bao quanh bản thân với các trang web và các ứng dụng khác, được sắp xếp theo cách bạn muốn.

Tôi đặc biệt thích sử dụng cái này với Mac Virtual Display để có trải nghiệm phát triển web tuyệt đỉnh.

Và đưa các video web yêu thích của bạn lên toàn màn hình sẽ thực sự tập trung vào chúng.

♪ Hip-hop nhạc cụ êm dịu ♪

Xin chào. Tôi là Kendall Bagley, một kỹ sư phần mềm trong nhóm Safari.

Mặc dù chúng tôi đã đưa trang web như bạn biết lên nền tảng này, nhưng vẫn có những phương pháp hay nhất cần ghi nhớ, vì vậy hãy quay lại Etienne để nghe về một số trong số chúng.

Etienne: Cảm ơn Tim.

Tôi chỉ thích tổng quan về tab!

Và điều tuyệt vời là tất cả các trang web này đều hoạt động ngay lập tức.

Nhờ thiết kế đáp ứng, chúng có thể thích ứng, từ việc nằm trong lòng bàn tay của bạn trên iPhone, đến việc lấp đầy toàn bộ căn phòng.

Các kỹ thuật bạn đã sử dụng để dần dần nâng cao trang web của mình vẫn được áp dụng trên nền tảng này.

Bạn nên thiết kế bố cục của mình với các đơn vị khung nhìn CSS và phản ứng với việc thay đổi kích thước cửa sổ bằng các truy vấn phương tiện và vùng chứa.

Đối với đồ họa, hãy thích SVG, đặc biệt là đối với các yếu tố giao diện người dùng.

Điều này sẽ đảm bảo kết xuất tốt nhất có thể, ngay cả khi cửa sổ ở gần.

Và khi bạn phải sử dụng nội dung bitmap, devicePixelRatio và hình ảnh đáp ứng sẽ phản ánh độ phân giải được đề xuất để tải hình ảnh và kết xuất canvas.

Hôm nay, chúng ta sẽ tìm hiểu về các tương tác tự nhiên cốt lõi của trải nghiệm mới này, tối ưu hóa trang web của chúng tôi cho nền tảng này và phấn khích khi chúng ta xem xét các cơ hội duy nhất cho nội dung 3D trên web.

Hãy tìm hiểu sâu hơn một chút về các cử chỉ trực tiếp và gián tiếp.

Mô hình đầu vào chính của chúng tôi trên thiết bị này được điều khiển bởi sự kết hợp của các cử chỉ mắt và tay.

Như bạn đã thấy trong bản demo của Tim, nó rất tự nhiên.

Bạn chỉ cần nhìn xung quanh, chạm các ngón tay vào nhau hoặc véo.

Khi nhúm bắt đầu, mắt bạn sẽ được sử dụng để tìm mục tiêu HTML và định vị sự kiện con trỏ xuống.

Trong cử chỉ, các sự kiện di chuyển con trỏ sẽ giúp bạn theo dõi chuyển động của bàn tay và một con trỏ sẽ được gửi đi khi phát hành.

Bạn cũng có thể với lấy ngón trỏ của mình và chạm trực tiếp vào trang.

Khi ngón tay của bạn giao với cửa sổ, một sự kiện con trỏ xuống được gửi đi chỉ dựa trên vị trí bàn tay của bạn.

Các sự kiện Pointermove sẽ theo dõi chuyển động như trước đây và con trỏ sẽ được gửi đi khi ngón tay của bạn ngừng giao nhau với cửa sổ.

Tất nhiên, bạn không cần phải lo lắng về các sự kiện con trỏ cấp thấp cho các tương tác đơn giản.

Safari vẫn kích hoạt các sự kiện nhấp chuột, và cuộn và cuộn công việc chụp như mong đợi.

Khi nói đến các truy vấn phương tiện, mô hình đầu vào chính này tương tự như màn hình cảm ứng.

Con trỏ thô và không hỗ trợ di chuột.

Nhưng hãy nhớ rằng bàn di chuột hoặc bàn phím có thể được kết nối qua Bluetooth.

Bạn có thể tự hỏi tại sao các kiểu di chuột không được kích hoạt khi bạn nhìn xung quanh trang.

Đó là bởi vì thiết bị này đi kèm với một cách mới để cung cấp phản hồi trực quan.

Khi người dùng nhìn vào một phần tử, nó sẽ nổi bật trước khi họ nhấn vào nó.

Vì vậy, cả trang web của bạn, cũng như chính Safari, đều không cần biết người dùng đang tìm kiếm ở đâu.

Hệ thống này dựa trên cái mà chúng tôi gọi là các khu vực Tương tác.

Chúng được tạo tự động bởi công cụ WebKit của Safari dựa trên đánh dấu có thể truy cập của bạn và kiểu CSS.

Các nút, liên kết và menu hoặc các phần tử có vai trò ARIA tương ứng sẽ tự động được tô sáng.

Tương tự với các trường đầu vào và các phần tử biểu mẫu, ngay cả khi chúng có các kiểu tùy chỉnh.

Nhưng hãy đảm bảo sử dụng con trỏ: con trỏ; cho các phần tử HTML khác nếu bạn muốn chỉ ra rằng một cái gì đó có tính tương tác.

Hãy xem nó hoạt động như thế nào!

Ở đây, tôi đang xây dựng một giao diện người dùng danh sách tệp và tôi có một yếu tố tùy chỉnh cho các mục trong danh sách.

Tôi sẽ thêm con trỏ: con trỏ để làm cho chúng có thể làm nổi bật được.

Nhưng phần tử tùy chỉnh này đang sử dụng div nội bộ và thuộc tính con trỏ được kế thừa, vì vậy biểu tượng và nhãn sẽ có khu vực riêng và tô sáng riêng biệt.

Cài đặt sự kiện con trỏ: không có sự kiện nào trên các div bên trong này sẽ giúp tôi dọn dẹp mọi thứ.

WebKit sẽ biết rằng chúng không cần phải được đánh dấu riêng lẻ.

Và nó cũng sẽ đơn giản hóa mã xử lý sự kiện của tôi, vì tôi sẽ luôn nhận được cùng một mục tiêu sự kiện.

Tôi cũng có thể định hình điểm nổi bật bằng cách sử dụng thuộc tính bán kính viền CSS, thêm bán kính vào mọi góc của một phần tử hoặc chỉ một số góc.

Tôi thậm chí có thể tạo ra một vòng tròn hoàn hảo, nhưng điều quan trọng là phải phù hợp với phong cách hình ảnh của từng yếu tố.

Này Tim, nhớ trang web mà chúng ta đang làm việc không?

Tôi tự hỏi liệu chúng ta có cần tinh chỉnh các khu vực tương tác trên đó không.

Tim: Vâng, hãy xem chúng trông như thế nào ngay bây giờ!

Bạn có thể sử dụng trình mô phỏng xrOS để gỡ lỗi các vùng nổi bật, ngay cả khi bạn không có thiết bị.

Di chuyển con trỏ chuột xung quanh cửa sổ mô phỏng nơi bạn đang tìm kiếm và nhấp chuột mô phỏng một cú chạm.

Hãy mở Safari trong trình giả lập và xem chúng ta có thể làm gì để làm đẹp những điểm nổi bật trên trang web của tôi.

Điều đầu tiên mà tôi nhận thấy khi nhìn vào trang này là các nút trong thanh điều hướng hoàn toàn không tô sáng!

Bạn có thể nhớ lại rằng Etienne đã đề cập rằng Safari sử dụng thuộc tính CSS con trỏ để xác định xem một phần tử có nên được coi là tương tác hay không.

Tôi tình cờ biết rằng các nút này cũng không nhận được con trỏ tay trong macOS Safari, vì vậy tôi có linh cảm rằng đó có thể là vấn đề, nhưng chúng ta cũng có thể kiểm tra trong Trình kiểm tra Web.

Nếu bạn muốn tìm hiểu thêm về điều đó, bạn có thể xem phiên "Khám phá lại các tính năng của nhà phát triển Safari".

Sử dụng Trình kiểm tra Web, tôi đã tìm thấy kiểu con trỏ toàn cầu sai lầm này.

Hãy loại bỏ nó và để các liên kết là liên kết với con trỏ mặc định của chúng: kiểu con trỏ.

Này, tuyệt vời!

Bây giờ chúng ta có một điểm nổi bật, nhưng nó có vẻ hơi thất lạc.

Trên thực tế, nó đang tiết lộ một lỗi trong trang web của tôi.

Ngay cả trên macOS, chỉ có văn bản thực sự tương tác.

Nếu tôi cố gắng tự nhấp vào nút, nó sẽ không theo liên kết.

Vì vậy, chúng tôi đã tìm thấy một lỗi trong trang web và bằng cách sửa nó, chúng tôi cũng có thể cải thiện giao diện của nó trên nền tảng này!

Có vẻ như là một chiến thắng toàn diện đối với tôi.

Tôi sẽ biến toàn bộ nút thành một phần của liên kết, thay vì chỉ văn bản.

Hãy xem điều đó có hiệu quả không.

Nó có vẻ tốt hơn nhiều đối với tôi!

Bây giờ toàn bộ nút có tính tương tác và điểm nổi bật bao phủ toàn bộ khu vực.

Tuy nhiên, nếu bạn nhìn kỹ, bạn sẽ nhận thấy rằng các góc không hoàn toàn thẳng hàng.

Các điểm nổi bật của Safari có bán kính nhỏ theo mặc định, nhưng nếu phần tử tương tác của bạn có bán kính đường viền, chúng tôi sẽ tính đến điều đó.

Hãy sửa nó đi.

Chỉ cần thêm cùng một bán kính đường viền vào phần tử tương tác.

Hoàn hảo!

Bây giờ các nút làm nổi bật đúng như chúng ta muốn.

Hãy chạm vào một trong số chúng.

Ồ, những điểm số đó hoạt hình khá nhanh so với iPad.

Tôi đoán chúng ta có nhiều thứ hơn để sửa chữa, nhưng chúng ta sẽ quay lại vấn đề đó sau.

Hiện tại, hãy quay lại Etienne để nghe về một số tối ưu hóa mà bạn có thể thực hiện cho các trang web của mình.

Etienne: Cảm ơn, Tim!

Chúng ta phải ghi nhớ một vài điều khi tối ưu hóa cho nền tảng này.

Hãy xem, khi chúng tôi giới thiệu màn hình Retina ngày trước, khái niệm về điểm ảnh trở nên trừu tượng hơn một chút.

Là nhà phát triển và thiết kế web, chúng tôi làm việc với các pixel CSS và cho phép tác nhân người dùng thích ứng với phần cứng bằng cách sử dụng nhiều pixel thiết bị nếu cần.

Ngày nay, khái niệm về màn hình đang trở nên trừu tượng hơn một chút.

Khi bạn yêu cầu chuyển sang chế độ toàn màn hình, mục tiêu của bạn là tập trung vào một yếu tố duy nhất.

Phần còn lại của trang mờ dần, đồng thời, cửa sổ được thay đổi kích thước thành kích thước mặc định.

Kích thước mặc định này cũng được báo cáo trở lại JavaScript dưới dạng kích thước màn hình, vì vậy các trang web mong đợi kích thước cửa sổ và màn hình khớp khi ở chế độ toàn màn hình sẽ tiếp tục hoạt động.

Nhưng hãy nhớ rằng các cửa sổ toàn màn hình có thể được thay đổi kích thước trên nền tảng này.

Và chúng thậm chí có thể lớn hơn kích thước màn hình được báo cáo.

Khi nói đến cuộn và hoạt ảnh, như mọi khi, hiệu suất là chìa khóa, đặc biệt là trên thiết bị này, nơi mọi hoạt ảnh sẽ nhắm mục tiêu tốc độ khung hình tốt nhất có thể.

Trình nghe sự kiện cuộn thụ động sẽ ngăn hoạt ảnh của bạn can thiệp vào việc cuộn.

Và khi sử dụng requestAnimationFrame, hãy luôn đo thời gian đã trôi qua giữa mỗi khung hình.

Dòng thời gian kiểm tra web cũng sẽ giúp bạn xác định bất kỳ vấn đề nào về hiệu suất.

Bạn có thể tìm hiểu thêm về chúng trong buổi nói chuyện công nghệ của Thanh tra Web.

Nói về requestAnimationFrame, hoạt hình của tôi ở đây hơi giật mình.

Thời gian chạy của nó phụ thuộc vào tần suất mà chúng ta đang gọi animate().

Và tần số này có thể cao hơn hoặc thấp hơn tùy thuộc vào thiết bị.

Thay vào đó, những gì tôi nên làm là đo thời gian giữa mỗi lần cập nhật và sử dụng điều này để tính toán tiến trình của hoạt ảnh.

Nó đủ đơn giản và nó sẽ làm cho hoạt ảnh của tôi độc lập với tốc độ làm mới requestAnimationFrame.

Tôi nghĩ đó là vấn đề với hoạt hình điểm số!

Tim: Ồ vâng, tôi đã sửa nó rồi.

Hãy xem nó có hoạt động trên thiết bị không.

Điều đó có vẻ tốt hơn nhiều, và bây giờ nó đã chứng minh trong tương lai đối với các thiết bị có tốc độ khung hình nào, chậm hay nhanh.

Tất cả các dụng cụ pha trà trông khá đẹp trên trang web, nhưng chúng ta có thể đi xa hơn.

Nếu bạn muốn xem chúng sẽ thực sự trông như thế nào trên bàn của bạn, rất đơn giản để điều chỉnh trang web của bạn để tận dụng Quick Look và biến điều đó thành hiện thực.

Chính xác như đối với AR Quick Look trên iOS, bạn chỉ cần thêm một neo tham chiếu đến tệp USDZ xung quanh một hình ảnh và nó biến một hình ảnh đơn giản thành một trải nghiệm Quick Look kỳ diệu.

Thật tuyệt vời! Bây giờ tôi thực sự có thể biết cái nào phù hợp.

Etienne, bạn sẽ chọn dụng cụ pha trà nào?

Etienne: Tôi nghĩ tôi sẽ phải thử nó trong nhà bếp của mình để đảm bảo rằng tôi tìm thấy sự kết hợp tốt nhất.

Nhưng điều này, điều này thật ấn tượng.

Bản demo thực sự tuyệt vời; nó rất nhanh và thú vị để điều hướng.

Và Quick Look thực sự đã đưa mọi thứ vào một chiều không gian hoàn toàn khác.

Hãy xem cách bạn có thể tích hợp nội dung 3D trên trang web của mình.

AR Quick Look ban đầu được giới thiệu trở lại trong iOS 12.

Tất cả những gì bạn cần là một liên kết trỏ đến tệp USDZ với thuộc tính đặc biệt và thẻ hình ảnh mà bạn có thể sử dụng để hiển thị bản xem trước của mô hình 3D.

Thiết lập chính xác này sẽ hoạt động trên xrOS, cung cấp cho người dùng của bạn một cách dễ dàng để đặt các đối tượng 3D vào không gian của họ, tất cả trong khi được hưởng lợi từ ánh sáng và kết xuất tiên tiến của RealityKit.

Đảm bảo xem "Khám phá hệ sinh thái USD" nếu bạn muốn tìm hiểu thêm.

Cùng với cùng một dòng, phần tử mô hình HTML đang được đề xuất như một tiêu chuẩn W3C tiềm năng.

Hãy nghĩ về nó như AR Quick Look bên trong trang, hoặc giống như một thẻ hình ảnh cho các đối tượng 3D.

Nó sẽ mang lại kết xuất tốt nhất có thể trên mọi thiết bị, cho đến chế độ xem lập thể đầy đủ và ánh sáng môi trường.

Giới thiệu một yếu tố hoàn toàn mới là một bước tiến lớn, vì vậy chúng tôi đang bắt đầu đơn giản với một cách dễ dàng để chỉ định nguồn của đối tượng 3D của bạn và một thuộc tính để bật hoặc tắt các tương tác của người dùng.

JavaScript API phong phú hơn một chút.

Bạn có quyền truy cập vào máy ảnh, hình ảnh động và hơn thế nữa.

Nghe có vẻ thú vị?

Nếu bạn chạy Safari mới nhất, bạn có thể bật cờ tính năng phần tử mô hình trên bất kỳ nền tảng nào.

Và nếu bạn muốn tiến xa hơn nữa, hãy xem bản xem trước dành cho nhà phát triển của WebXR, một tiêu chuẩn W3C để xây dựng các cảnh hoàn toàn nhập vai trên web.

WebXR dựa trên WebGL và nhiều thư viện WebGL phổ biến đã có hỗ trợ tích hợp sẵn.

Nếu bạn có mã cho một cảnh 3D, bạn có thể làm cho nó hoàn toàn nhập vai bằng cách yêu cầu một phiên WebXR.

Nó không giống như xoay vòng bằng chuột hay bàn di chuột.

Bạn sẽ thực sự được đưa vào bên trong hiện trường.

Bạn phải cố gắng để tin vào nó.

Trên xrOS, bạn có thể tìm thấy các cờ tính năng WebXR trong cài đặt nâng cao cho Safari.

Và đây mới chỉ là sự khởi đầu.

Có rất nhiều điều để khám phá khi nói đến trang web nhập vai.

Các công nghệ như biến đổi CSS và các sự kiện con trỏ chắc chắn sẽ phát triển trên nền tảng mới này.

Đây là lý do tại sao Apple tích cực tham gia vào việc định nghĩa và phát triển các tiêu chuẩn web W3C.

Và bạn có cơ hội cung cấp đầu vào.

Vui lòng cho chúng tôi biết suy nghĩ của bạn và bạn đang mong chờ điều gì.

Bạn có thể bắt đầu thử nghiệm với những trải nghiệm 3D mới ngay hôm nay.

Và các khu vực tương tác sẽ dễ dàng xem lại trên trình mô phỏng xrOS.

Nếu bạn tìm thấy bất kỳ lỗi nào, Trợ lý Phản hồi có sẵn trên tất cả các nền tảng.

Và đối với bất kỳ thứ gì liên quan đến HTML, JavaScript hoặc CSS, trình theo dõi lỗi WebKit có tại bugs.webkit.org.

Nói về CSS, có rất nhiều tính năng mới sẽ đến với Safari trong năm nay, vì vậy đừng bỏ lỡ "Có gì mới trong CSS."

Cảm ơn mọi người đã tham gia!

Tim: Và chúng tôi sẽ gặp bạn trên trang web nhập vai!

♪