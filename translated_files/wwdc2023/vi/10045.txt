10045

♪ ♪

Nadia Zouba: Xin chào mọi người, và chào mừng.

Tên tôi là Nadia Zouba và tôi làm việc trong nhóm Vision ở đây tại Apple.

Hôm nay, tôi sẽ nói về một API tuyệt vời mới trong Vision: Animal Body Pose.

Tôi cũng sẽ xem xét một số cập nhật quan trọng trong Vision.

Hãy bắt đầu với tư thế cơ thể động vật.

Animal Body Pose có thể được sử dụng trong nhiều ứng dụng có thể.

Ví dụ, hãy tưởng tượng bạn để mèo và chó ở nhà một mình, và bạn đã dành cả ngày ở nơi làm việc.

Khi bạn đi làm về, bạn thấy mớ hỗn độn này trong nhà của bạn.

Đừng lo lắng.

Khung Tầm nhìn có thể giúp bạn tìm ra những gì đã xảy ra, những gì thú cưng của bạn đã làm cả ngày và ai đang tạo ra mớ hỗn độn.

Nhưng trước khi tôi đào sâu vào điều đó, hãy nói về các tư thế.

Ba năm trước, Vision đã giới thiệu Tư thế cơ thể con người để phát hiện tư thế con người.

Yêu cầu tạo ra một tập hợp các mốc cơ thể con người bằng cách phát hiện tới 19 khớp cơ thể.

Các nhà phát triển trên khắp thế giới đã sử dụng API để tạo ra nhiều ứng dụng hữu ích cho sức khỏe, thể dục, v.v.

Và vì Vision tương tác với thế giới thực, chúng ta không chỉ quan tâm đến con người; chúng ta còn quan tâm đến động vật.

Vision đã có yêu cầu nhận dạng động vật để phát hiện và nhận dạng mèo và chó.

Yêu cầu tạo ra một hộp giới hạn với nhãn cho động vật được công nhận và mức độ tin cậy.

Đó là một API tuyệt vời nếu bạn đang cố gắng xác định vị trí và xác định con vật, nhưng nếu bạn muốn biết thêm về con vật thì sao?

Có thể là một thách thức để suy ra những gì con vật đang làm.

Ví dụ, khi tôi ngồi cho hàng xóm của mình, tôi có thể muốn biết tư thế cụ thể của con chó hàng xóm của tôi khi nó muốn ăn nhẹ hoặc cần đi dạo.

Đoán xem? Tầm nhìn mở rộng tư thế cơ thể cho động vật.

Thật tuyệt vời.

Animal Body Pose là một API mới trong Vision.

Nó được cung cấp trong Vision thông qua DetectAnimalBodyPoseRequest.

Yêu cầu này, sau khi được xử lý, trả về một quan sát cho mỗi con vật có chứa một tập hợp các vị trí khớp cơ thể động vật.

Yêu cầu hỗ trợ mèo và chó, và phát hiện 25 mốc cơ thể động vật bao gồm đuôi và tai.

Animal Body Pose API có sẵn trong Vision bắt đầu từ iOS 17, iPadOS 17, tvOS 17 và macOS Sonoma.

Đầu vào của Animal Body Pose có thể là một hình ảnh hoặc một video.

Sau khi tạo và xử lý yêu cầu trong Vision, yêu cầu sẽ tạo ra một bộ sưu tập các khớp sẽ xác định bộ xương của con vật.

Đối với Tư thế Cơ thể Động vật, sáu nhóm khớp đã được xác định: Nhóm Đầu chứa tai, mắt và mũi.

Nhóm Forelegs bao gồm hai chân trước.

Bạn đoán nó; đây là nhóm Hindlegs cho chân sau.

Nhóm thân cây đề cập đến cổ, và nhóm Đuôi chứa ba khớp đuôi.

Cuối cùng, có nhóm Tất cả, được cấu tạo bởi tất cả các khớp.

Để chứng minh mọi thứ tôi đã nói cho đến nay, tôi có một ứng dụng mẫu vẽ bộ xương của con vật bằng cách sử dụng vị trí của các mốc.

Tôi có chú chó đồ chơi chihuahua nhỏ dễ thương này đang ngồi trên bàn làm việc của tôi.

Vì con chó này có thể đi bộ, tôi sẽ sử dụng nó để hiển thị kết quả của ứng dụng mẫu.

Tôi lấy con chó và đặt nó trước máy ảnh điện thoại của tôi và tôi khởi động ứng dụng mẫu.

Ứng dụng vẽ một bộ xương trên đầu con vật.

Hãy bật con chó lên để nó có thể đi dạo.

Bộ xương đi theo con vật trong khi anh ta đi dạo.

Rất tiếc! Con chó đang rời khỏi máy ảnh.

Hãy di chuyển nó trở lại để giữ nó trước camera của điện thoại.

Bộ xương vẫn đang đi theo con chó. Thật tuyệt vời.

Bây giờ tôi sẽ đi vào mã để cho bạn thấy ứng dụng mẫu đã được thực hiện như thế nào.

Chúng tôi bắt đầu với đầu ra chụp nơi chúng tôi đang nhận CMSampleBuffers từ luồng máy ảnh.

Bước đầu tiên là tạo yêu cầu.

Tôi sẽ sử dụng VNDetectAnimalBodyPoseRequest.

Bước tiếp theo là tạo một trình xử lý yêu cầu bằng imageRequestHandler.

Sau đó, tôi cung cấp yêu cầu cho người xử lý thông qua một cuộc gọi để thực hiện.

Nếu thực hiện yêu cầu thành công, VNAnimalBodyPoseObservations sẽ được trả về trong thuộc tính kết quả yêu cầu.

Mỗi cái sẽ chứa vị trí của các khớp.

Để truy cập các khớp này từ Animal Pose Observation, tôi sẽ yêu cầu một từ điển các điểm được công nhận trong nhóm bằng cách gọi .recognizedPoints.

Vì tôi cần tất cả các khớp để vẽ bộ xương của con vật, tôi chọn sử dụng nhóm Tất cả.

Bạn có thể sử dụng một nhóm khác nếu bạn chỉ cần truy cập một số khớp động vật.

Và cuối cùng, để vẽ bộ xương của con vật, tôi lặp lại tất cả các điểm được công nhận và kết nối các khớp.

Đây là một ví dụ về cách các khớp đầu được kết nối để vẽ bộ xương đầu.

Có một số cân nhắc cần ghi nhớ.

Sử dụng tư thế cơ thể động vật mới, bạn có thể phát hiện tối đa hai con vật trong một hình ảnh.

Kích thước hình ảnh đầu vào phải có ít nhất 64 pixel ở mỗi bên.

Và bằng cách sử dụng công cụ thần kinh, hiệu suất có thể theo kịp với việc chụp trực tiếp.

Hãy xem qua một vài ví dụ về những gì có thể được thực hiện với Animal Pose.

Sử dụng API Animal Pose mới với hình ảnh tĩnh, bạn có thể phát triển phân tích của riêng mình trên các khớp để nhận ra các tư thế thú vị của động vật của bạn, chẳng hạn như kéo dài sau khi thức dậy...

Đứng, cầu xin một điều trị...

Chạy trốn khỏi một con chó...

Hoặc, cuộn tròn để chợp mắt.

Như tôi đã đề cập trước đây, Nhận dạng động vật cho phép bạn định vị và nhận ra động vật, và Tư thế cơ thể động vật trả lại các mốc toàn thân của động vật.

Kết hợp hai yêu cầu đó sẽ cho phép bạn biết loại động vật nào đã được phát hiện, vị trí và tư thế.

Bây giờ bạn có thể biết ai đang làm rối tung bàn ăn.

Điều này sẽ cung cấp cho bạn rất nhiều cơ hội để phát triển các ứng dụng thú vị cho thú cưng của bạn; có thể là thứ gì đó cho bộ phân phối đồ ăn cho chó được kích hoạt khi nhận dạng động vật và phát hiện tư thế động vật.

Animal Pose API cũng có thể được sử dụng với các video.

Bạn có thể đưa các thuật toán của riêng mình vào ứng dụng của mình để phân tích chuyển động và xác định loại hoạt động mà động vật của bạn đang thực hiện.

Bạn thậm chí có thể đi xa hơn với phân tích của mình để hiểu hành vi động vật của mình bằng cách theo dõi các tư thế theo thời gian.

Cho đến khi Animal Body Pose, tôi nghĩ tất cả những dấu hiệu trên tường là của các con tôi, nhưng đó là con mèo đang cố gắng bắt một con trỏ laser.

Và whoa, con chó này có thể trượt ván tốt hơn tôi!

Một cách sử dụng khác là theo dõi con vật bằng máy ảnh.

Để tìm hiểu thêm về loại theo dõi đó, vui lòng tham khảo phiên "Tích hợp với giá đỡ iPhone có động cơ với DockKit." Bạn cũng có thể viết các ứng dụng vui nhộn cho thú cưng của mình.

Ví dụ, đội mũ và đeo kính râm cho chó.

Sẽ không vui nếu tạo ra một tấm thiệp dễ thương cho sinh nhật con vật của bạn và gửi nó cho gia đình và bạn bè sao?

Chúc mừng sinh nhật, ông Frenchie!

Tôi làm điều này bằng cách đặt các biểu tượng cảm xúc ở nơi tôi tìm thấy các khớp Animal Body Pose có liên quan.

Hãy để tôi trình diễn ứng dụng biểu tượng cảm xúc bằng cách sử dụng chú chó đồ chơi dễ thương này mà tôi có bên mình.

Tôi sẽ sử dụng cùng một ứng dụng mẫu và chuyển từ chế độ xem khung xương sang chế độ xem biểu tượng cảm xúc.

Vì chú chó nhỏ này đang đi chậm, tôi đã thêm một số biểu tượng cảm xúc giày trượt lên trên khớp chân của nó để tăng tốc nó lên một chút.

Ồ, chờ đã, an toàn là trên hết!

Hãy quay lại mã và đưa cho anh ta một chiếc mũ bảo hiểm.

Ở đây tôi đã thêm các biểu tượng cảm xúc giày trượt trên đầu các khớp chân.

Hãy thêm biểu tượng cảm xúc mũ bảo hiểm lên trên khớp tai.

Tôi chọn kích thước và vị trí của biểu tượng cảm xúc.

Chúng ta cũng hãy thêm một số kính để trượt băng theo phong cách.

Tôi chạy lại ứng dụng sau khi chăm sóc sự an toàn của con chó.

Thà an toàn còn hơn xin lỗi.

Hãy chuyển sang chế độ xem biểu tượng cảm xúc.

Con chó bây giờ có bánh răng cần thiết để tiếp tục trượt băng an toàn.

Trông thật ngầu, phải không? Đi đi, kiểu chó, đi! Bạn đã đóng đinh nó!

Đó là nó cho tư thế cơ thể động vật.

Tôi nóng lòng chờ bạn mang đến ứng dụng của mình tất cả những thứ tuyệt vời mà bạn sẽ tạo ra bằng cách sử dụng API Animal Pose mới.

Có nhiều cập nhật hơn trong Vision mà bạn có thể thấy hữu ích, vì vậy hãy để tôi giới thiệu chúng cho bạn.

Có những Yêu cầu Trạng thái mới.

Các yêu cầu dựa trên VNTargetedImage có sẵn dưới dạng Yêu cầu Trạng thái trong Tầm nhìn.

Vision có ba Yêu cầu Trạng thái có nguồn gốc mới, tất cả đều được đặt tên bằng động từ Track.

Điều này làm cho nó dễ sử dụng hơn để theo dõi.

Tôi rất vui mừng thông báo rằng Vision hỗ trợ MLComputeDevice.

API Thiết bị Tính toán mới cho phép bạn truy vấn nơi các yêu cầu được thực thi và chỉ định thiết bị nào sẽ sử dụng.

Core ML và Create ML Multilabel Classification hiện tương thích với Vision.

Điều này cho phép bạn đào tạo trình phân loại của riêng mình hỗ trợ nhiều hơn một nhãn.

Vui lòng tham khảo phiên "Khám phá các cải tiến học máy trong Tạo ML" để biết thêm thông tin.

Cũng có những sửa đổi mới trong các yêu cầu hiện có mang lại những cải tiến lớn.

Đối với Mã vạch, có một bản sửa đổi mới, Bản sửa đổi 4.

Bản sửa đổi mới bao gồm ký hiệu MSIPlessey mới và hỗ trợ mã QR đảo ngược màu.

Và nhân tiện, Bản sửa đổi 1 sẽ bị phản đối.

Nhận dạng văn bản đang bổ sung hỗ trợ cho tiếng Thái và tiếng Việt.

Và cuối cùng, có một bản sửa đổi mới cho FaceCaptureQuality, Bản sửa đổi 3, để cải thiện chất lượng và độ chính xác.

Để biết thêm thông tin về tất cả các bản cập nhật mới trong Vision, vui lòng kiểm tra tài liệu dành cho nhà phát triển.

Hôm nay, tôi đã nói về Animal Body Pose mới và tất cả những điều tuyệt vời có thể được thực hiện với API mới này.

Tôi cũng đã trình bày một số cập nhật API quan trọng và các cải tiến khác trong Vision mà tôi hy vọng sẽ hữu ích trong sự phát triển của bạn.

Nhưng chờ đã, còn nhiều nữa.

Vui lòng kiểm tra phiên "Khám phá tư thế cơ thể 3D và phân đoạn người trong Tầm nhìn" để tìm hiểu về các API phân đoạn người và tư thế cơ thể 3D mới trong Tầm nhìn.

Và nếu bạn muốn phân đoạn bất kỳ đối tượng tiền cảnh nào đã chọn, vui lòng tham khảo phiên "Nâng đối tượng từ hình ảnh trong ứng dụng của bạn".

Cảm ơn bạn đã quan tâm, và chúng tôi không thể chờ đợi bạn có được bàn chân của bạn trên Animal Pose.