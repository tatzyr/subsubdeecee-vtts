10202

♪ Nhạc hip-hop nhạc cụ êm dịu ♪

♪

Niels Gabel: Xin chào, tôi là Niels.

Tôi là một kỹ sư vật liệu trong nhóm Reality Composer Pro.

Chào mừng đến với phiên của tôi, "Khám phá tài liệu trong Reality Composer Pro".

Trong phiên này, chúng ta sẽ học cách xây dựng tài liệu cho xrOS bằng Reality Composer Pro.

Tôi sẽ bắt đầu với tổng quan về những vật liệu nào trong xrOS và mô tả cách chúng tùy chỉnh giao diện của các đối tượng 3D của bạn.

Tôi sẽ giới thiệu loại vật liệu mới có sẵn trong xrOS dựa trên tiêu chuẩn mở MaterialX.

Sau đó, tôi sẽ chỉ cho bạn cách thiết kế vật liệu bằng trình chỉnh sửa tích hợp của Reality Composer Pro có tên Shader Graph.

Tôi sẽ đưa bạn qua quá trình tạo ra các phần vật liệu có thể tái sử dụng bằng cách sử dụng biểu đồ nút.

Và cuối cùng, chúng tôi sẽ xây dựng một công cụ sửa đổi hình học cho một số nội dung 3D tuyệt vời.

Trước tiên hãy bắt đầu bằng cách mô tả những gì chúng ta muốn nói về tài liệu.

Vật liệu là thứ xác định sự xuất hiện của đối tượng của bạn trong các cảnh 3D.

Vật liệu có thể đơn giản, chỉ một màu duy nhất hoặc chúng có thể sử dụng hình ảnh.

Bạn có thể áp dụng kết cấu gỗ cho mô hình của một chiếc ghế hoặc lập bản đồ hình ảnh gạch lên tường.

Vật liệu cũng có thể khá phức tạp.

Họ có thể sử dụng hình ảnh động để trông giống như nước gợn sóng hoặc thay đổi diện mạo dựa trên góc nhìn.

Hãy nghĩ về sự lấp lánh óng ánh của xà cừ.

Vật liệu thậm chí có thể sửa đổi hình dạng của các đối tượng mà chúng được áp dụng.

Các tài liệu trong xrOS sử dụng kết xuất dựa trên vật lý, hay viết tắt là PBR.

Điều này có nghĩa là các nghệ sĩ có thể thiết kế sự xuất hiện của các vật thể bằng cách sử dụng các thuộc tính vật lý tương tự như các vật thể trong thế giới thực - ví dụ, kim loại hoặc thô ráp của một vật thể trông như thế nào.

Hãy xem xét một số ví dụ về các tài liệu dựa trên vật lý đang hoạt động.

Đây là một quả cầu sử dụng vật liệu PBR đơn giản.

Vật liệu này sử dụng màu xanh lam không đổi với độ phản xạ được đặt thành 40 phần trăm.

Hoặc bạn có thể áp dụng hình ảnh để thiết lập màu sắc và độ nhám bề mặt để có được một bê tông thuyết phục.

Hoặc tăng tính kim loại và lấy thứ gì đó trông giống như sắt.

Bạn thậm chí có thể mua thứ gì đó trông giống như sơn xe hơi.

Vật liệu bao gồm một hoặc nhiều bộ đổ bóng.

Đây là những chương trình thực hiện công việc thực tế tính toán sự xuất hiện của tài liệu của chúng.

Với RealityKit 2 cho iOS và iPadOS, chúng tôi đã giới thiệu CustomMaterial.

Shader trong CustomMaterial được mã hóa bằng tay bằng Metal.

Trong xrOS, chúng tôi đang giới thiệu một loại vật liệu mới gọi là ShaderGraphMaterial.

Đây là cách độc quyền để tạo ra các tài liệu tùy chỉnh cho xrOS.

ShaderGraphMaterial sử dụng các mạng, hoặc đồ thị, của các khối chức năng, đó là nơi nó được đặt tên.

ShaderGraphMaterial dựa trên một tiêu chuẩn mở được gọi là MaterialX và là một cách thân thiện với nghệ sĩ để xác định vật liệu.

MaterialX ban đầu được tạo ra bởi Industrial Light & Magic vào năm 2012.

ShaderGraphMaterial hỗ trợ hai loại đổ bóng chính, mà chúng tôi gọi là Dựa trên Vật lý và Tùy chỉnh.

Dựa trên vật lý là một bộ đổ bóng PBR cơ bản.

Chọn cái này cho các trường hợp sử dụng đơn giản hơn.

Bạn định cấu hình bộ đổ bóng này bằng cách cung cấp các giá trị không đổi, không thay đổi, như màu sắc hoặc hình ảnh, cho mỗi thuộc tính.

Mặt khác, bộ đổ bóng tùy chỉnh cung cấp cho bạn quyền kiểm soát chính xác và tùy chỉnh đối với giao diện của các đối tượng 3D của bạn.

Bộ đổ bóng tùy chỉnh có thể kết hợp hoạt ảnh, điều chỉnh hình học của đối tượng của bạn và tạo ra các hiệu ứng đặc biệt trên bề mặt đối tượng của bạn, giống như một cái nhìn sơn lấp lánh.

Bạn có thể xây dựng ShaderGraphMaterials bằng cách sử dụng trình chỉnh sửa Shader Graph ngay bên trong Reality Composer Pro.

Hãy nhìn vào các nút Shader Graph bên dưới để xác định ngay lập tức giao diện của địa hình trong khung nhìn.

Bây giờ chúng ta đã hiểu những điều cơ bản, hãy xây dựng một số vật liệu tùy chỉnh.

Tài liệu trong xrOS có thể được tạo bằng Reality Composer Pro, một công cụ dành cho nhà phát triển chuyên nghiệp mới cho phép bạn soạn, chỉnh sửa và xem trước nội dung 3D.

Nếu bạn muốn giới thiệu về ứng dụng trước khi bắt đầu với tài liệu, vui lòng xem phiên "Gặp gỡ nhà soạn nhạc thực tế chuyên nghiệp" để làm quen với giao diện người dùng của trình chỉnh sửa và các tính năng của nó.

Chúng tôi sẽ sử dụng mô hình Thung lũng Yosemite đã được hiển thị trong phiên đó và áp dụng giao diện bản đồ địa hình cho nó.

Tôi sẽ giải thích toán học đằng sau tài liệu của chúng tôi, sau đó chúng tôi sẽ đi vào trình chỉnh sửa đổ bóng của Reality Composer Pro và xây dựng nó.

Có rất nhiều thứ để trang trải. Hãy nhảy ngay vào.

Đây là diorama Thung lũng Yosemite mà Eric đã xây dựng trong phiên của mình.

Để tiết kiệm thời gian, tôi đã ẩn tất cả các đối tượng mà chúng tôi không cần cho phiên này bằng cách sử dụng lệnh Hủy kích hoạt.

Điều đó để lại cho chúng ta một bệ ở giữa và phong cảnh ở trên cùng.

Khá tuyệt!

Hãy thêm một tính năng địa hình.

Chúng tôi sẽ thêm một vật liệu hiển thị địa hình của mô hình của chúng tôi bằng cách hiển thị các đường đồng mức dọc theo độ dốc của địa hình.

Nó sẽ trông giống như bản đồ địa hình mà bạn có thể đã bắt gặp khi lên kế hoạch đi bộ đường dài.

Hãy tạo ra một vật liệu tùy chỉnh có chứa một bộ đổ bóng sẽ vẽ các đường đồng mức trên địa hình của chúng ta.

Chúng tôi muốn vẽ các đường trên địa hình của mình thông qua tất cả các khu vực có cùng độ cao, như trong sơ đồ này.

Ví dụ, đường màu xanh lam này hiển thị tất cả các điểm trên địa hình ở độ cao 1000 mét.

Nhìn từ trên cao, nó sẽ trông giống như sơ đồ bên phải.

Chúng tôi sẽ xây dựng một vật liệu bằng cách sử dụng một tập hợp các chức năng sẽ vẽ các đường như thế này trên mô hình của chúng tôi.

Để bắt đầu, hãy nhấp vào nút Dấu cộng ở cuối dự án của chúng tôi trong bảng Phân cấp.

Trong mục Vật liệu, hãy chú ý hai loại đổ bóng của chúng tôi: Dựa trên Vật lý và Tùy chỉnh.

Chọn Tùy chỉnh.

Điều này tiết lộ Biểu đồ Shader của trình chỉnh sửa của chúng tôi.

Các bộ đổ bóng tùy chỉnh mới bắt đầu với hai nút, nút bề mặt màu tím và nút đầu ra màu xanh lam.

Bề mặt hoạt động của vật liệu của bạn là bề mặt được kết nối với đầu vào bề mặt tùy chỉnh của nút đầu ra.

Các đầu vào trên bề mặt là cách bạn thiết lập các thông số dựa trên vật lý của bộ đổ bóng hoặc PBR.

Ví dụ như màu cơ bản.

Hãy đặt cho tài liệu một cái tên mô tả.

Địa hình Chất liệu nghe hay đấy.

Một bước quan trọng là gán tài liệu mới cho mô hình Thung lũng Yosemite của chúng tôi.

Chọn nó trong hệ thống phân cấp dự án.

Trong trình kiểm tra, bên dưới Ràng buộc Vật liệu, chọn Địa hình Vật liệu từ menu Ràng buộc.

Lưu ý rằng mô hình thay đổi từ màu sắc sang màu xám đơn giản.

Tài liệu của chúng tôi đang hoạt động, nhưng nó vẫn chưa làm được gì thú vị.

Hãy sửa nó đi.

Chọn TopographyMaterial từ hệ thống phân cấp để quay lại trình chỉnh sửa Shader Graph.

Chúng tôi sẽ kết nối một số nút với đầu vào bề mặt của chúng tôi để vẽ các sọc trên mô hình của chúng tôi ở đúng vị trí.

Tôi sẽ minh họa cách vật liệu của chúng tôi sẽ hoạt động với địa hình ví dụ này.

Chúng tôi cần tài liệu của mình để quyết định nơi vẽ các đường địa hình dựa trên vị trí của nó trên mô hình của chúng tôi.

Vì vậy, trước tiên chúng tôi sẽ thêm một nút vị trí vào tài liệu của mình.

Nút này trả về vị trí kết xuất của chúng tôi trong không gian 3D.

Chúng tôi chỉ quan tâm đến chiều cao của vị trí, vì vậy chúng tôi cũng sẽ thêm một nút được gọi là riêng biệt để chỉ trích xuất tọa độ Y của vị trí.

Tách biệt trả về vị trí tọa độ Y, tăng theo chiều cao địa hình.

Hãy thêm hai nút đầu tiên này vào tài liệu của chúng tôi trong Reality Composer Pro.

Nhấp đúp vào nền của trình chỉnh sửa để thêm các nút.

Điều này đưa ra bộ chọn Nút Mới.

Bạn có thể duyệt qua danh sách tất cả các nút có sẵn hoặc tìm kiếm các nút theo tên hoặc từ khóa.

Hãy nhập "vị trí" và chọn nút Vị trí từ danh sách để chèn nó vào bộ đổ bóng của chúng tôi.

Vị trí xuất ra vị trí trong không gian 3D nơi vật liệu đang được hiển thị.

Vật liệu của chúng tôi thay đổi theo chiều cao, vì vậy hãy thêm một nút riêng biệt để trích xuất thành phần Y của vị trí.

Nhấp đúp vào nền để hiển thị lại bộ chọn Nút Mới và thêm 3 nút Riêng biệt.

Để tạo kết nối trong trình chỉnh sửa, chỉ cần nhấp và kéo từ đầu ra nút đến đầu vào nút như thế này.

Hai nút này kết hợp lại cho chúng ta chiều cao của địa hình.

Tiếp theo, chúng ta sẽ lấy đầu ra của nút riêng biệt và chuyển nó đến một nút modulo.

Modulo cho phần còn lại của việc chia hai giá trị.

Chúng tôi sẽ sử dụng modulo để chia chiều cao cho khoảng cách đường địa hình mong muốn của chúng tôi.

Kết quả trông như thế này.

Bạn có thể thấy chiều cao đã được chia thành các dải.

Các giá trị chiều cao bên trong mỗi phạm vi bắt đầu từ 0 và tăng lên chiều cao của phạm vi đó.

Điều này sẽ rất quan trọng cho bước tiếp theo của chúng ta.

Hãy thêm nút modulo vào tài liệu của chúng tôi trong Reality Composer Pro.

Thay vì nhấp đúp để thêm một nút và sau đó kết nối nó, chúng ta có thể kéo một kết nối mới vào một khoảng trống để tạo một nút đã được kết nối trong một bước.

Trong bộ chọn Nút Mới, nhập "modulo" và nhấp để chèn nút Modulo.

Modulo có hai đầu vào.

Đầu tiên là cổ tức và thứ hai là ước số.

Bạn có thể thuận tiện đặt các giá trị không đổi trên các đầu vào trong trình kiểm tra thay vì kết nối các nút.

Trong thanh tra, thay đổi đối số thứ hai thành 0.1.

Đây là ước số và đặt chiều rộng của phạm vi chiều cao của chúng tôi.

Chúng ta chỉ còn một bước nữa trước khi chúng ta có thể thấy đầu ra của mình.

Chúng tôi sẽ sử dụng một nút ifgreater để xác định nơi các giá trị lặp lại của chúng tôi rơi vào các dải chiều cao hẹp trên địa hình của chúng tôi.

Nút ifgreater sẽ trả về một giá trị đại diện cho một trong hai màu dải bạn nhìn thấy trên màn hình, tùy thuộc vào kết quả so sánh.

Khi chiều cao lớn hơn chiều rộng đường địa hình đổ bóng của chúng tôi, chúng tôi sẽ chọn màu nền.

Và khi chiều cao nằm trong chiều rộng đường mong muốn của chúng tôi, chúng tôi sẽ chọn màu đường địa hình của mình.

Hãy thêm nút ifgreater vào tài liệu của chúng tôi và xem kết quả.

Chúng tôi muốn so sánh kết quả của nút modulo với giá trị mà chúng tôi chọn cho chiều rộng đường địa hình của mình.

Vì vậy, tôi sẽ thêm một nút ifgreater để thực hiện so sánh đó.

Ifgreater so sánh hai đầu vào của nó và trả về một giá trị khi đầu vào đầu tiên của nó lớn hơn đầu vào thứ hai của nó và một giá trị khác khi đầu vào đầu tiên nhỏ hơn đầu vào thứ hai của nó.

Nút ifgreater này được đặt để xuất ra các giá trị dấu phẩy động, nhưng chúng tôi muốn chọn giữa hai màu, một cho địa hình của chúng tôi và một cho các đường địa hình của chúng tôi.

Trong trình kiểm tra, bên dưới Loại, thay đổi nút này để xuất ra RGB.

Tiếp theo, hãy chọn hai màu của chúng ta.

Trong trình kiểm tra, tôi sẽ nhấp vào bộ chọn màu bên cạnh True Result và đặt màu địa hình của chúng tôi.

Hãy sử dụng màu trắng.

Hãy để lại Kết quả Sai, đó là màu đường địa hình của chúng ta, được đặt thành màu đen.

Điều này sẽ cho chúng ta rất nhiều sự tương phản với địa hình trắng của chúng ta.

Tôi đã thử một loạt các giá trị và đạt đến 0,002 như một giá trị tốt cho chiều rộng dòng, vì vậy trong trình kiểm tra, tôi sẽ đặt giá trị so sánh của mình thành 0,002.

Tôi sẽ kết nối đầu ra của nút ifgreater với đầu vào Diffuse Color của bề mặt của chúng tôi.

Tuyệt vời, bây giờ vật liệu của chúng tôi đang thiết lập màu sắc ở mọi điểm trên địa hình của chúng tôi và chúng tôi đã tạo ra một vật liệu đường địa hình.

Tiếp theo, hãy xem cách sử dụng tính năng biểu đồ nút.

Biểu đồ nút giúp đơn giản hóa các vật liệu phức tạp và cho phép bạn tạo các nút của riêng mình để sử dụng lại các phần của biểu đồ.

Chúng tôi sẽ sử dụng đồ thị nút để cung cấp cho vật liệu một cái nhìn bản đồ địa hình thực sự.

Hãy thêm một bộ dòng thứ hai giữa các dòng hiện tại của tài liệu của chúng ta.

Đây là tài liệu của chúng tôi trông như thế nào cho đến nay.

Và đây là những gì nó sẽ trông như thế nào khi chúng tôi thêm các phân khu của mình.

Chúng ta sẽ bắt đầu với bốn nút trong tài liệu vẽ các đường địa hình của chúng ta.

Sau đó chúng tôi sẽ soạn một biểu đồ nút từ chúng.

Điều này sẽ kết hợp bốn nút của chúng tôi thành một nút duy nhất.

Cuối cùng, chúng tôi sẽ tạo một phiên bản của biểu đồ nút của chúng tôi để sử dụng lại chức năng của nó.

Biểu đồ một nút sẽ vẽ tập hợp các đường ban đầu của chúng tôi và ví dụ của nó sẽ vẽ tập hợp các đường thứ hai của chúng tôi.

Hãy quay lại Reality Composer Pro và xây dựng nó.

Đây là bộ đổ bóng đường địa hình của chúng tôi một lần nữa.

Kéo để chọn bốn nút này tính toán màu sắc cho các đường của chúng tôi và nơi vẽ chúng.

Sau khi chọn chúng, nhấp chuột phải và chọn Soạn Biểu đồ Nút.

Bây giờ các nút xuất hiện dưới dạng một nút duy nhất mà tôi có thể sử dụng bên trong các biểu đồ khác.

Hãy gán một tên mô tả cho nút mới của chúng ta.

Hãy gọi nó là Lines.

Chúng tôi sẽ tạo một bản sao của biểu đồ nút này để vẽ bộ đường thứ hai của chúng tôi.

Đối với điều này, tôi sẽ tạo một phiên bản bằng cách sử dụng lệnh Tạo Phiên bản trong hệ thống phân cấp.

Các phiên bản là các bản sao trực tiếp áp dụng bất kỳ thay đổi nào được thực hiện đối với biểu đồ nút gốc.

Chúng tôi sẽ quay lại tài liệu của mình bằng cách chọn nó.

Hãy gọi phiên bản mới của chúng ta là SecondaryLines.

Chúng tôi muốn biểu đồ nút của mình và phiên bản của nó vẽ các đường có khoảng cách và màu sắc khác nhau, vì vậy chúng tôi sẽ thêm hai đầu vào, được gọi là Khoảng cách và Màu sắc, vào biểu đồ nút ban đầu của chúng tôi để kiểm soát các thuộc tính này.

Hãy chỉnh sửa biểu đồ nút ban đầu của chúng ta bằng cách nhấp đúp vào nó.

Bạn thêm đầu vào và đầu ra vào biểu đồ nút của mình trong trình kiểm tra.

Đầu tiên hãy thêm một đầu vào được gọi là Khoảng cách và đặt loại của nó thành Float.

Chúng tôi cũng sẽ thêm một đầu vào được gọi là Màu sắc để kiểm soát màu đường địa hình của chúng tôi.

Đặt loại đầu vào thành Color3.

Tôi sẽ kết nối những thứ này với đúng vị trí trong biểu đồ của chúng tôi.

Hãy quay lại tài liệu của chúng tôi bằng cách chọn nó trong hệ thống phân cấp dự án.

Lưu ý rằng biểu đồ nút của chúng tôi hiện có hai đầu vào mà chúng tôi đã tạo và phiên bản của chúng tôi đã kế thừa hai đầu vào mới này.

Trên biểu đồ nút Lines ban đầu, đặt khoảng cách thành các giá trị mà chúng tôi đã chọn trước đó.

Và hãy chọn khoảng cách nhỏ hơn và màu sáng hơn cho biểu đồ nút ví dụ của chúng tôi.

Bước cuối cùng là kết hợp các đầu ra từ biểu đồ nút ban đầu và phiên bản của chúng tôi.

Tôi đã thuận tiện chọn màu thang độ xám cho cả hai biểu đồ nút, vì vậy chúng ta có thể kết hợp màu sắc của chúng bằng cách sử dụng nút nhân.

Tuyệt vời! Chúng tôi có một tài liệu đường địa hình thuyết phục với hai bộ đường.

Tiếp theo hãy nói về các công cụ sửa đổi hình học.

Đây là một tính năng của các vật liệu tùy chỉnh mà bạn có thể sử dụng để sửa đổi các mô hình của mình trong thời gian thực.

Chúng tôi sẽ thay thế mô hình địa hình tĩnh của mình và tạo lại nó bằng cách sử dụng công cụ sửa đổi hình học và dữ liệu chiều cao.

Sau đó, chúng tôi sẽ mở rộng công cụ sửa đổi hình học của mình để tạo hiệu ứng động động giữa hai địa hình khác nhau: Thung lũng Yosemite và Đảo Catalina, California.

Khi chúng tôi hoàn thành, chúng tôi sẽ có một vật liệu địa hình năng động có thể tạo hiệu ứng động giữa hai địa điểm khác nhau của chúng tôi.

Hãy xem điều này được thực hiện như thế nào.

Tất cả các bộ đổ bóng mà chúng tôi đã xem xét cho đến nay đều là bộ đổ bóng bề mặt.

Đây là những bộ đổ bóng đặt các thuộc tính dựa trên vật lý, hoặc PBR, cho mỗi điểm ảnh của mô hình của chúng tôi khi nó được hiển thị.

Công cụ sửa đổi hình học tương tự như bộ đổ bóng bề mặt, nhưng thay vào đó hoạt động trên hình học của các đối tượng của bạn.

Trên thực tế, bạn xây dựng chúng ngay trong cùng một trình chỉnh sửa trong Reality Composer Pro.

Hãy để tôi cung cấp cho bạn một cái nhìn tổng quan về công cụ sửa đổi hình học mà chúng tôi sẽ xây dựng sẽ tạo ra một địa hình của Thung lũng Yosemite bằng cách sử dụng dữ liệu bản đồ chiều cao của nó.

Chúng ta sẽ bắt đầu với một mô hình đĩa phẳng, chứa một số hình học đơn giản.

Đây sẽ là bề mặt cơ sở của chúng tôi.

Tiếp theo, chúng tôi sẽ sử dụng dữ liệu chiều cao địa hình của mình, đó là dữ liệu 2D về chiều cao tại mỗi vị trí trong mô hình của chúng tôi và sử dụng công cụ sửa đổi hình học để nâng địa hình lên đúng số lượng.

Điều này sẽ dẫn đến địa hình mà chúng ta muốn.

Khi tôi đã hiển thị phiên bản cơ bản, tôi sẽ trình diễn một phiên bản lấy hai bộ độ cao địa hình và sử dụng chúng để tạo hiệu ứng động giữa hai địa điểm quan tâm của chúng tôi, Thung lũng Yosemite và Đảo Catalina.

Đây là một góc nhìn khác.

Chúng ta sẽ bắt đầu với một mô hình phẳng và công cụ sửa đổi hình học của chúng ta sẽ di chuyển các đỉnh của nó theo chiều dọc bằng cách sử dụng dữ liệu từ bản đồ chiều cao 2D như thế này.

Điều đầu tiên chúng ta sẽ làm là sử dụng lệnh Hủy kích hoạt để ẩn mô hình Thung lũng Yosemite được xây dựng sẵn.

Chúng tôi sẽ tạo ra cùng một mô hình Thung lũng Yosemite, nhưng lần này sử dụng công cụ sửa đổi hình học của chúng tôi.

Tôi sẽ bắt đầu với một mô hình đĩa phẳng trong Trình duyệt Dự án của mình.

Tôi có thể đưa nó vào bằng cách kéo nó vào thực thể Gốc trong hệ thống phân cấp dự án.

Tôi đã tiếp tục và tạo ra một tài liệu mới có tên DynamicTerrainMaterial và gán nó cho đĩa.

Hãy bắt tay vào công cụ sửa đổi hình học của chúng tôi.

Trong trình chỉnh sửa Shader Graph, chúng ta sẽ cần một bề mặt sửa đổi hình học.

Chúng tôi sẽ thêm cái này vào vật liệu của chúng tôi cùng với bề mặt PBR của chúng tôi.

Tôi sẽ kéo một kết nối từ đầu vào Công cụ sửa đổi hình học tùy chỉnh của nút đầu ra của chúng tôi và chọn Công cụ sửa đổi hình học từ giao diện người dùng nút mới.

Trước tiên hãy áp dụng hình ảnh Thung lũng Yosemite của chúng ta lên bề mặt của chúng ta.

Để đọc dữ liệu hình ảnh, chúng ta sẽ sử dụng một nút hình ảnh.

Trong trình kiểm tra, hãy gán hình ảnh Thung lũng Yosemite của chúng tôi cho đầu vào Tên tệp của nút hình ảnh.

Mọi thứ có vẻ hơi buồn cười vì địa hình bằng phẳng, nhưng chúng tôi sẽ khắc phục điều đó ngay bây giờ.

Chúng ta sẽ cần dữ liệu chiều cao cho thung lũng của chúng ta.

Nó nằm trong một tệp hình ảnh chứa các giá trị chiều cao thay vì dữ liệu màu.

Vì dữ liệu này nằm trong một hình ảnh, chúng tôi sẽ đọc nó bằng cách thêm một nút hình ảnh khác.

Bây giờ gán hình ảnh Yosemite Valley EXR của chúng tôi chứa dữ liệu chiều cao của chúng tôi cho đầu vào Tên tệp của nút hình ảnh mới này.

Các công cụ sửa đổi hình học có thể di chuyển các đỉnh của mô hình của chúng tôi theo bất kỳ hướng nào, nhưng chúng tôi chỉ quan tâm đến việc di chuyển chúng theo chiều dọc, vì vậy hãy chèn một nút Kết hợp 3 để tạo ra một vectơ 3D chỉ với bộ thành phần Y.

Bây giờ hãy kết nối cái này với đầu vào Bù đắp Vị trí Mô hình của bề mặt GeometryModifier và bùng nổ, mô hình phẳng của chúng tôi đã được chuyển đổi thành Thung lũng Yosemite.

Có một bước nữa chúng ta cần thực hiện.

Khi chúng ta di chuyển các đỉnh của mình, chúng ta cũng sẽ cần đặt các vectơ chuẩn bề mặt của mô hình để phù hợp với hình dạng địa hình mới của chúng ta.

Có nhiều cách để tính toán những thứ này từ dữ liệu chiều cao, nhưng hôm nay chúng ta sẽ sử dụng một hình ảnh có chứa các chuẩn mực được tính toán trước cho hình học này.

Hãy tạo một nút hình ảnh khác để đọc các bình thường.

Vì những thứ này được tính toán trước, chúng tôi sẽ kết nối chúng trực tiếp với đầu vào thông thường của bộ đổ bóng bề mặt để có độ chính xác tốt hơn.

Bề mặt của chúng ta mong đợi các chuẩn có giá trị từ -1 đến 1, nhưng các chuẩn trong hình ảnh của chúng ta nằm trong khoảng từ 0 đến 1.

Tôi đã ánh xạ lại các giá trị từ hình ảnh bằng cách sử dụng nút ánh xạ lại.

Bây giờ chúng tôi đã tạo ra địa hình từ một hình học bằng phẳng bằng cách sử dụng dữ liệu chiều cao.

Tiếp theo, hãy làm cho diorama của chúng ta năng động và thêm khả năng biến hình từ địa hình này sang địa hình khác.

Trong trường hợp này, chúng tôi sẽ thêm một quá trình chuyển đổi hoạt hình để thay đổi Thung lũng Yosemite thành Đảo Catalina.

Để đạt được điều này, trước tiên chúng tôi sẽ thêm một bộ nút hình ảnh khác vào bộ đổ bóng hình học hiện có của chúng tôi.

Các nút chứa độ cao, màu sắc và bình thường cho địa hình Đảo Catalina của chúng tôi.

Sau đó, chúng tôi sẽ thêm các nút trộn để pha trộn giữa hai bộ chiều cao, bình thường và màu sắc này.

Cuối cùng, chúng tôi sẽ kết nối một giá trị với các nút trộn của chúng tôi để kiểm soát sự pha trộn giữa hai bộ dữ liệu của chúng tôi.

Hãy xây dựng cái này trong Reality Composer Pro ngay bây giờ.

Được rồi, đây là tài liệu của chúng tôi cho đến nay.

Hãy thêm một tập hợp các nút hình ảnh khác chứa cùng một dữ liệu - chiều cao, màu sắc và mức chuẩn - cho Đảo Catalina thay vì Thung lũng Yosemite.

Tiếp theo tôi sẽ thêm một số nút trộn để pha trộn giữa hai màu, chiều cao và bình thường của chúng ta.

Cuối cùng, hãy kết nối hằng số 0 đến 1 với các nút hỗn hợp của chúng tôi, điều này sẽ kiểm soát địa hình nào được hiển thị.

Bạn sẽ nhận thấy khi tôi đặt hằng số trộn của mình thành 1, địa hình hiển thị Đảo Catalina.

Khi tôi đặt hằng số trộn thành 0, chúng ta thấy Thung lũng Yosemite.

Bây giờ chúng ta đã có một tài liệu có thể chuyển đổi giữa hai địa hình khác nhau của chúng ta, hãy làm cho giá trị tiến trình chuyển đổi này có thể thay đổi từ mã Swift của chúng ta.

Chúng tôi sẽ sử dụng lệnh Promote để chuyển đổi giá trị tiến độ của chúng tôi thành đầu vào trên tài liệu của chúng tôi.

Đầu vào trên tài liệu trở thành thuộc tính của tài liệu của bạn có thể được truy cập từ mã Swift của bạn.

Bây giờ tài liệu của chúng tôi đã sẵn sàng để được sử dụng trong ứng dụng Dioramas Swift của chúng tôi.

Đây là phiên bản cuối cùng, kết hợp các đường địa hình và địa hình năng động của chúng tôi.

Phiên bản này có một số cải tiến bổ sung, như các đường địa hình chống răng cưa và bản đồ tắc nghẽn môi trường xung quanh, tất cả đều được thêm vào bằng Đồ thị Shader.

Kiểm tra những thứ đó trong mẫu cho phiên này.

Vậy là xong.

Hôm nay, chúng tôi đã có một cái nhìn tổng quan ngắn gọn về những vật liệu trong xrOS; thiết kế một vật liệu động bằng cách sử dụng trình chỉnh sửa Shader Graph trong Reality Composer Pro; học cách sử dụng đồ thị nút để sắp xếp đồ thị và tạo các nút có thể tái sử dụng của riêng bạn; và cuối cùng, mở rộng kiến thức của chúng tôi

Reality Composer Pro cung cấp tiềm năng to lớn để thiết kế vật liệu.

Nhưng có rất nhiều thứ khác với Reality Composer Pro và cách nó giúp bạn tạo ra những trải nghiệm nhập vai trên xrOS.

Trong phiên của Amanda, "Làm việc với nội dung Reality Composer Pro trong Xcode", bạn sẽ học cách tích hợp nội dung Reality Composer Pro vào ứng dụng Dioramas Swift Ngoài ra, nếu bạn chưa xem nó, hãy xem phiên của Eric, "Gặp gỡ Reality Composer Pro", nơi bạn sẽ học cách bắt đầu.

Tôi hy vọng bạn có nhiều niềm vui khi khám phá và thiết kế nội dung cho xrOS.

Cảm ơn vì đã xem.

♪