10118

♪ ♪

Razvan: Xin chào!

Tôi là Razvan, một kỹ sư trong nhóm Trải nghiệm Nhà phát triển WebKit và tôi ở đây để cho bạn biết về một số tính năng và cải tiến mới mà chúng tôi đã thực hiện cho Web Inspector trong năm nay.

Web Inspector là một phần của Safari trên macOS và nó cung cấp một bộ công cụ mạnh mẽ cho phép bạn kiểm tra tất cả các tài nguyên và hoạt động của trang web, ứng dụng web, tiện ích mở rộng web hoặc ứng dụng web màn hình chính.

Tôi rất vui được giới thiệu cho bạn một số tính năng và cải tiến mới mà chúng tôi đã thêm vào kể từ năm ngoái, như các công cụ kiểm tra kiểu chữ mới, một cách để mô phỏng sở thích của người dùng, huy hiệu mới cho các yếu tố với trình nghe sự kiện và vùng chứa cuộn và chúng tôi đã cải thiện trải nghiệm gỡ lỗi JavaScript với các cải tiến cho

Nếu bạn chưa từng sử dụng Web Inspector trước đây, bạn sẽ phải bật nó.

Mở cửa sổ Cài đặt của Safari và chuyển sang tab Nâng cao.

Ở phía dưới, bạn sẽ tìm thấy cài đặt thành "Hiển thị các tính năng cho các nhà phát triển web."

Nhấp vào hộp kiểm để kích hoạt điều này.

Menu Phát triển hiện có sẵn trong thanh menu.

Bạn có thể mở Web Inspector bằng cách sử dụng mục menu được gọi là Show Web Inspector hoặc bằng cách nhấn phím tắt Option+Command+I trên bất kỳ trang web nào.

Năm nay, chúng tôi đã thực hiện nhiều cải tiến cho tất cả các tính năng của nhà phát triển trong Safari, bao gồm cách sắp xếp hợp lý để ghép nối và kiểm tra nội dung web trên thiết bị, cách nhanh chóng để mở trang web trong Trình mô phỏng, Chế độ thiết kế đáp ứng được làm mới và nhiều cách khác.

Để tìm hiểu thêm, hãy xem phiên này có tiêu đề "Khám phá lại các tính năng của nhà phát triển Safari" từ WWDC năm nay.

Bây giờ Trình kiểm tra Web đã được bật, hãy bắt đầu bằng cách xem xét các công cụ mới để kiểm tra kiểu chữ.

Các nhà phát triển web sử dụng phông chữ tùy chỉnh để tạo ra nội dung đẹp với loại vừa dễ đọc vừa làm cho nó nổi bật.

Nhưng việc có được kiểu chữ trên web vừa phải không phải lúc nào cũng dễ dàng.

Đầu tiên, tệp phông chữ phù hợp cần được tải.

Nó phải ở định dạng được trình duyệt hỗ trợ và có các tính năng phù hợp.

Và nó nên bao gồm các ký tự phù hợp cho các ký tự của ngôn ngữ viết mà nó sẽ đại diện.

Sau đó, có nhiều thuộc tính CSS ảnh hưởng đến cách hiển thị phông chữ trên màn hình.

Và hầu hết chúng đều có thể kế thừa thông qua thác, đôi khi dẫn đến sự nhầm lẫn, như, "Mặt phông chữ nào thực sự được sử dụng?"

Hoặc "Tại sao điều này lại táo bạo?" Hay "Phong cách này có thực sự in nghiêng không?"

Web Inspector có thể giúp đỡ với một loạt các công cụ kiểm tra kiểu chữ.

Bạn có thể tìm thấy chúng trong thanh bên Chi tiết của tab Elements, trong bảng Phông chữ.

Nó hiển thị các thuộc tính và khả năng của phông chữ được sử dụng trên phần tử đã chọn, chẳng hạn như tên của phông chữ chính được sử dụng.

Bạn có thể tham khảo điều này để nhanh chóng kiểm tra xem phông chữ bạn mong đợi có thực sự được sử dụng hay không.

Hãy nhớ rằng điều này chỉ xác định phông chữ chính.

Nếu nút được chọn bao gồm các ký tự mà phông chữ chính không có glyphs, phông chữ dự phòng sẽ được sử dụng cho những ký tự đó.

Tiếp theo, bảng Phông chữ hiển thị bản tóm tắt các thuộc tính phông chữ cơ bản, như kích thước phông chữ, kiểu dáng, trọng lượng và độ co giãn.

Ngoài ra còn có một phần hiển thị các thuộc tính tính năng phông chữ được hỗ trợ và các giá trị đã sử dụng của chúng.

Những thứ này chuyển đổi các khía cạnh đặc biệt của một kiểu chữ như chữ ghép, viết hoa nhỏ thay vì ký tự viết thường, kiểu số đặc biệt và nhiều kiểu khác, tùy thuộc vào những gì phông chữ hỗ trợ.

Mới trong năm nay, bảng Phông chữ hiển thị các cảnh báo cho các kiểu in đậm hoặc xiên tổng hợp.

Phong cách tổng hợp là gì? Hãy lấy chữ in nghiêng làm ví dụ.

Các kiểu in nghiêng thường được cung cấp trong các tệp phông chữ của riêng chúng, tách biệt với các kiểu cho các kiểu thẳng đứng thông thường.

Khi thiếu một kiểu in nghiêng phù hợp, WebKit sẽ tạo ra một biểu diễn nhân tạo cho điều đó.

Nó chạy một thuật toán trên kiểu phông chữ thẳng đứng thông thường và làm lệch các glyph riêng lẻ để tạo ra một kiểu xiên.

Cái này được gọi là xiên tổng hợp.

Các nhà thiết kế phông chữ chú ý rất nhiều khi tạo ra các kiểu in nghiêng.

Thông thường, đây không phải là phiên bản nghiêng của phong cách thẳng đứng, mà thay vào đó chúng là chữ thảo, được thiết kế đặc biệt để truyền tải một thẩm mỹ cụ thể.

Một cái gì đó tương tự xảy ra đối với in đậm tổng hợp, trong đó nét vẽ của các glyphs được làm dày hơn một cách nhân tạo.

Hãy nhớ rằng không phải tất cả các phông chữ đều hỗ trợ điều này.

Trình kiểm tra web hiện hiển thị cảnh báo khi sử dụng in đậm hoặc xiên tổng hợp.

Nó hiển thị bên cạnh trọng lượng hoặc kiểu tổng hợp trong phần thuộc tính cơ bản của bảng Phông chữ.

Cảnh báo này có thể là một gợi ý rằng tệp phông chữ dự kiến không được tải.

Nhưng đôi khi, có thể tệp phông chữ không hỗ trợ các giá trị chính xác mà bạn yêu cầu.

Đó là nơi mà các phông chữ biến đổi có thể giúp ích.

Phông chữ biến đổi là gì?

Nói một cách đơn giản, đó là một định dạng phông chữ có thể bao gồm, trong một tệp duy nhất, tất cả thông tin cần thiết để tạo ra nhiều biến thể kiểu cho một phông chữ, chẳng hạn như trọng lượng, chiều rộng, độ nghiêng và các biến thể khác.

Và đối với mỗi kiểu được hỗ trợ, các phông chữ biến đổi cung cấp một phổ giá trị so với chỉ một vài giá trị rời rạc trong các tệp phông chữ tĩnh.

Điều này giúp bạn linh hoạt hơn rất nhiều để chọn phong cách chính xác phù hợp với nội dung của bạn.

Phông chữ biến đổi thậm chí còn có khả năng hơn.

Một nhà thiết kế phông chữ có thể cấu hình hầu hết mọi khía cạnh của phông chữ, từ độ dày của nét vẽ, đường cong của glyphs, chiều rộng của các ký tự và nhiều thứ khác.

Các khả năng thực sự rất lớn.

Tất cả các khía cạnh của phông chữ biến đổi có thể được cấu hình được thể hiện dưới dạng trục biến thể.

Để biết cái nào có sẵn, bạn phải đọc tài liệu của phông chữ hoặc sử dụng một công cụ đặc biệt tiết lộ thông tin này.

Thanh tra Web có thể giúp đỡ ở đây.

Khi bạn kiểm tra một phần tử sử dụng phông chữ biến đổi, bảng Phông chữ sẽ hiển thị cho bạn danh sách các trục biến thể được hỗ trợ.

Đối với mỗi cái, nó hiển thị thẻ trục của nó - một mã định danh bốn ký tự - một nhãn trục tùy chọn, các giá trị tối thiểu và tối đa được hỗ trợ, cũng như giá trị hiện tại hoặc giá trị mặc định nếu một giá trị không được chỉ định trong CSS.

Năm nay, chúng tôi đã thêm các điều khiển tương tác để chỉnh sửa các giá trị của trục biến thể và xem kết quả trực tiếp trên trang đã kiểm tra.

Điều này cung cấp cho bạn một cách tuyệt vời để điều chỉnh các kiểu phông chữ cho đến khi chúng vừa phải.

Để tôi chỉ cho bạn.

Đây là một trang web tôi đang xây dựng cho một blog nhiếp ảnh du lịch.

Tôi có bố cục đúng như tôi muốn, với một thư viện ảnh và điều hướng theo nhãn, nhưng tôi vẫn không chắc chắn về giao diện của tiêu đề.

Tôi sẽ nhấp chuột phải để kiểm tra phần tử tiêu đề.

Trong bảng Phông chữ, tôi có thể thấy điều này đang sử dụng một phông chữ thay đổi.

Tôi có thể nói vì tôi có những điều khiển này cho các trục biến thể có sẵn mà tôi có thể chơi xung quanh.

Ví dụ, tôi có thể kéo thanh trượt cho trục Trọng lượng.

Điều này ngay lập tức thay đổi trọng lượng phông chữ của tiêu đề trực tiếp trên trang đã được kiểm tra.

Chú ý cách thuộc tính trọng lượng phông chữ CSS tương ứng được ghi vào bảng Kiểu.

Một phông chữ tĩnh sẽ chỉ có một vài mặt phông chữ cho trọng lượng theo gia số 100.

Nhưng với phông chữ biến đổi, tôi có thể chọn bất kỳ giá trị nào trong phạm vi của trục biến đổi.

Chúng ta cũng hãy thử trục biến thiên cho Chiều rộng để xem nó trông rộng hơn hoặc hẹp hơn như thế nào.

Tôi cũng có thể nhập vào trường nhập giá trị trục hoặc tôi có thể giữ các phím ArrowUp hoặc ArrowDown để thay đổi giá trị theo gia số chính xác.

Tôi thích phiên bản hơi cô đọng này.

Tôi muốn nó táo bạo hơn một chút, nhưng tôi muốn nó giữ chiều rộng này.

Phông chữ biến đổi này cũng cung cấp một trục biến đổi tùy chỉnh để thay đổi Cấp độ của phông chữ.

Khi tôi kéo thanh trượt cho điều này, nhận thấy rằng các ký tự riêng lẻ trở nên dày hơn tại chỗ mà không thay đổi vị trí như họ đã làm khi tôi thay đổi trục Trọng lượng.

Cái này trông rất đẹp.

Để tích hợp những thay đổi này trở lại dự án của mình, tôi có thể sao chép các thuộc tính CSS mới từ bảng Kiểu hoặc từ bảng Thay đổi.

Chúng tôi đã xem cách kiểm tra kiểu chữ và cách điều chỉnh kiểu phông chữ với các phông chữ thay đổi.

Bây giờ, hãy chuyển sang một tính năng mới khác trong Trình kiểm tra web cho phép bạn mô phỏng tùy chọn của người dùng để bạn có thể đảm bảo nội dung bạn đang xây dựng phù hợp với nhu cầu của người dùng.

Tất cả các sản phẩm của Apple đều cung cấp nhiều cài đặt khác nhau cho phép mọi người định cấu hình thiết bị của họ để thích ứng với nhu cầu và sở thích của họ, như cài đặt Trợ năng trên macOS điều khiển những thứ như trình đọc màn hình tích hợp, VoiceOver hoặc tùy chọn Hiển thị, điều khiển giảm chuyển động, tăng độ tương phản màu, bộ lọc màu

Một trong những điều phổ biến nhất mà mọi người làm trên thiết bị của họ là duyệt web.

Vì vậy, thật hợp lý khi xây dựng các trang web và ứng dụng web cố gắng chào đón mọi người.

Để làm điều đó, đôi khi bạn cần trải nghiệm web giống như cách những người khác làm khi họ đặt tùy chọn người dùng.

Để kiểm tra trang web của bạn với, ví dụ, tùy chọn giảm chuyển động, bạn có thể vào Cài đặt Trợ năng trên macOS và đặt nó ở đó.

Nhưng điều đó sẽ ảnh hưởng đến toàn bộ hệ thống, không chỉ Safari và trang web của bạn.

Những gì bạn thường muốn là đặt nó chỉ cho trang bạn đang kiểm tra.

Để giúp bạn điều đó, chúng tôi đã giới thiệu một công cụ mới trong Trình kiểm tra web để mô phỏng sở thích của người dùng.

Nhấp vào biểu tượng mới trong tab Elements để hiển thị cửa sổ bật lên Ghi đè tùy chọn của người dùng.

Tại đây, bạn sẽ tìm thấy một bộ chuyển đổi để ghi đè tùy chọn của người dùng chỉ cho trang được kiểm tra trong khi Trình kiểm tra web đang mở.

Các tùy chọn này ánh xạ đến các tính năng phương tiện CSS mà bạn có thể sử dụng để điều chỉnh phong cách và hành vi của trang web của mình.

Ví dụ, ưu tiên cho bảng màu ánh xạ đến tính năng phương tiện ưu tiên-màu-sơ đồ trong CSS.

Đây là cách sử dụng nó: bạn có thể đặt kiểu của một phần tử cho bảng màu sáng mặc định.

Sau đó, sử dụng tính năng phương tiện prefers-color-scheme để kiểm tra xem bảng màu tối có được ưu tiên hay không và cập nhật các kiểu.

Kiểm tra cách trang thích ứng bằng cách sử dụng cửa sổ bật lên Ghi đè tùy chọn của người dùng.

Trong phần Giao diện, ghi đè tùy chọn bảng màu thành Tối.

Biểu tượng thay đổi màu sắc để cho biết ghi đè được áp dụng.

Các kiểu cho bảng màu tối sẽ được áp dụng trong khi ghi đè đang hoạt động và Trình kiểm tra web đang mở.

Điều khiển này cho bảng màu từng là một nút độc lập.

Bây giờ nó tham gia các điều khiển khác để ghi đè tùy chọn trong cửa sổ bật lên.

Tiếp theo, tôi sẽ chỉ cho bạn cách ghi đè ưu tiên cho chuyển động giảm.

Phần tiếp theo này hiển thị một hình ảnh động với rất nhiều chuyển động.

Nếu bạn nhạy cảm với điều này, bạn có thể muốn bỏ qua ba phút tiếp theo của video này.

Quay lại trang của tôi, những hình ảnh động này chạy khi tôi nhấp vào một bức ảnh để phóng to nó có lẽ hơi quá.

Một số người có thể bị mất phương hướng bởi hình ảnh động với chuyển động nhanh và đột ngột, đặc biệt là khi nó xảy ra trên trục z.

Nó có thể gây khó chịu, như buồn nôn hoặc đau đầu.

Đây chắc chắn không phải là một trải nghiệm đáng hoan nghênh đối với họ.

Mọi người có thể đặt tùy chọn giảm chuyển động trên thiết bị của họ để báo hiệu rằng họ muốn các trang web và ứng dụng web thích ứng.

Các nhà phát triển web của chúng tôi nên tôn trọng điều đó.

Đây là nơi tính năng truyền thông CSS thích-giảm-chuyển động hữu ích.

Nếu hình ảnh động chỉ để trang trí, bạn có thể xóa nó.

Nhưng hãy nhớ rằng, một số hình ảnh động rất hữu ích để truyền đạt ý nghĩa trong một giao diện.

Loại bỏ chúng có thể ảnh hưởng đến khả năng sử dụng.

Một hình ảnh động mờ dần và tinh tế hơn vẫn có thể hoạt động tốt để truyền đạt sự thay đổi và cũng đáp ứng nhu cầu của mọi người.

Hãy thử thay đổi đó trên trang web của tôi.

Đầu tiên, tôi sẽ kiểm tra ảnh và chọn phần tử hình trong tab Phần tử của Trình kiểm tra web.

Điều này tiết lộ tất cả các quy tắc CSS phù hợp của nó trong bảng Kiểu.

Đây là thuộc tính CSS đặt hoạt ảnh với rất nhiều chuyển động.

Bây giờ nó chạy cho tất cả mọi người.

Tiếp theo, tôi sẽ nhấp vào vị trí mã nguồn của quy tắc CSS này để chuyển đến vị trí được xác định trong biểu định kiểu.

Điều này mở bảng điều khiển Nguồn và đặt tôi ngay bên cạnh Quy tắc CSS có hình ảnh động mà tôi muốn thay đổi.

Tôi sẽ bỏ bình luận về khối mã này mà tôi đã chuẩn bị trước đó.

Nó được bảo vệ bởi tính năng truyền thông CSS giảm chuyển động ưa thích.

Ở đây, tôi thay đổi hình ảnh động thành mờ dần, thay vì hình ảnh phóng to ảnh, và tôi cũng tăng thời lượng hoạt hình để nó không cảm thấy đột ngột.

Bây giờ tôi sẽ nhấp lại vào một hình ảnh trên trang để xem nó trông như thế nào.

Ồ! Nó vẫn chạy cùng một hình ảnh động.

Điều đó đang xảy ra bởi vì tôi đã xác định hình ảnh động mới được bảo vệ bởi tính năng truyền thông chuyển động giảm ưu tiên.

Nhưng trang vẫn tôn trọng giá trị hệ thống mặc định cho tùy chọn này, được đặt thành Tắt.

Hãy điều chỉnh điều đó.

Tôi sẽ nhấp lại vào tab Elements.

Ở đây, tôi sẽ mở cửa sổ bật lên Ghi đè Tùy chọn Người dùng.

Trong phần Trợ năng, tôi sẽ mở menu bật lên để ghi đè tùy chọn của người dùng cho "Giảm chuyển động".

Tôi sẽ thay đổi nó từ giá trị mặc định trên hệ thống của mình và đặt nó thành Bật.

Bây giờ, tôi sẽ nhấp lại vào một bức ảnh trên trang của mình.

Và nhìn kìa. Bức ảnh bây giờ từ từ mờ dần vào tầm nhìn.

Không còn chuyển động mất phương hướng nữa.

Đây là một trải nghiệm tốt hơn cho những ai thích giảm chuyển động.

Tôi sẽ nhớ tích hợp những thay đổi này trở lại dự án của mình.

Mục cuối cùng trong cửa sổ bật lên Ghi đè tùy chọn của người dùng, "Tăng độ tương phản", ánh xạ đến tính năng phương tiện CSS tương phản ưa thích.

Lý tưởng nhất, bạn muốn xây dựng nội dung có mức độ tương phản màu cao cho mọi người.

Nhưng nếu hệ thống thiết kế của bạn hạn chế bạn, hãy sử dụng tính năng phương tiện này để điều chỉnh phong cách của bạn cho những người được hưởng lợi từ độ tương phản tăng lên.

Sau đó, kiểm tra xem các kiểu trên trang được kiểm tra có thích ứng với nhau không.

Ghi đè tùy chọn cho "Tăng độ tương phản" với Bật.

Chúng tôi hy vọng bạn sử dụng các tính năng này để xây dựng nội dung mà thậm chí nhiều người có thể thích sử dụng hơn.

Tiếp theo, tôi muốn nói với bạn về các huy hiệu phần tử mới trong tab Phần tử của Trình kiểm tra web.

Trong chế độ xem cây nút của tab Elements, bạn đã có thể thấy các huy hiệu bên cạnh các phần tử hoạt động như các vùng chứa CSS Flex hoặc CSS Grid.

Huy hiệu phần tử cung cấp một cách nhanh chóng để xác định trong nháy mắt các nút quan tâm cụ thể.

Trong trường hợp này, các nút tạo ra bối cảnh bố cục CSS Grid hoặc Flex.

Bạn có thể nhấp vào lưới và huy hiệu phần tử linh hoạt để chuyển đổi lớp phủ trang chuyên biệt cho nút đó.

Màu nổi bật của huy hiệu phù hợp với màu của lớp phủ trang.

Các lớp phủ trang CSS Grid và Flexbox hiển thị các hướng dẫn tiết lộ các dòng, khoảng trống và không gian có sẵn xác định bố cục.

Để tìm hiểu thêm về cách gỡ lỗi CSS Grid và bố cục Flexbox với lớp phủ trang, hãy xem các phiên này từ những năm trước.

Một trong những vấn đề bố cục CSS khó gỡ lỗi nhất là cuộn không mong muốn, giống như một vùng chứa cuộn theo chiều ngang vì nội dung bên trong nó không phù hợp với chiều rộng có sẵn.

Loại vấn đề này có thể ẩn nấp mà không bị phát hiện trong một thời gian dài khi các thanh cuộn không hiển thị theo mặc định.

Để giúp bạn xác định cuộn không mong muốn, chúng tôi đã thêm một huy hiệu phần tử mới hiển thị bên cạnh các vùng chứa cuộn.

Nó cung cấp một gợi ý trực quan nhanh chóng trong cây nút khi nội dung của một phần tử tràn ra giới hạn của nó và một thanh cuộn được áp dụng.

Hãy xem xét một ví dụ phổ biến về cuộn không mong muốn và cách khắc phục nó.

Quay lại trang của tôi, tôi thấy những nhãn này ở đầu thư viện ảnh xuất hiện được bố trí đẹp mắt để sử dụng tất cả không gian nằm ngang có sẵn.

Nhưng khi tôi cố gắng vuốt, tôi nhận thấy có một cuộn ngang ngắn trong vùng chứa này.

Đây là thứ tôi không muốn.

Và nhãn cuối cùng bị cắt một chút.

Nó thậm chí còn tồi tệ hơn khi tôi thay đổi kích thước cửa sổ.

Trong cây nút trong tab Elements, tôi nhận thấy có một huy hiệu "cuộn" bên cạnh vùng chứa cho các nhãn.

Tôi sẽ nhấp vào phần tử này để hiển thị các Quy tắc CSS phù hợp của nó trong bảng Kiểu.

Hộp đựng Flexbox này trông đúng.

Làm thế nào về các mặt hàng linh hoạt của nó, bản thân nhãn?

Giá trị quá chính xác này cho thuộc tính chiều rộng tối thiểu có vẻ lạ.

Có lẽ đó là nỗ lực ngây thơ của tôi để nói với trình duyệt chính xác phải làm gì thay vì nói với trình duyệt những gì tôi muốn và để nó làm toán.

Để khắc phục điều này, tôi sẽ bình luận về tuyên bố chiều rộng tối thiểu này.

Bây giờ, mỗi nhãn chiếm nhiều dung lượng như nó cần.

Nhưng vẫn còn rất nhiều không gian không sử dụng.

Để khắc phục điều này, tôi sẽ thêm một thuộc tính linh hoạt với giá trị là 1.

Điều này phân phối không gian không sử dụng cho từng nhãn để chúng lấp đầy thùng chứa.

Và không còn cuộn ngang không mong muốn nữa, như đã được xác nhận bởi huy hiệu "Scroll" hiện đang bị thiếu bên cạnh vùng chứa trong cây nút.

Tiếp theo, tôi muốn nói với bạn về huy hiệu Sự kiện mới.

Nó xuất hiện bên cạnh các phần tử có trình nghe sự kiện JavaScript được đính kèm với chúng.

Nó hoạt động cho cả các sự kiện tích hợp, như sự kiện con trỏ hoặc giao diện người dùng, cũng như các sự kiện JavaScript tùy chỉnh mà bạn gửi trong mã của mình.

Tìm kiếm các phần tử có huy hiệu Sự kiện bên cạnh chúng trong cây nút và nhấp vào huy hiệu để hiển thị cửa sổ bật lên với tất cả các trình nghe sự kiện được đính kèm với phần tử đó.

Tại đây, bạn có thể có cái nhìn tổng quan cho từng trình nghe sự kiện: loại sự kiện, tên của hàm JavaScript xử lý sự kiện và vị trí trong mã nguồn nơi hàm đó được xác định.

Các tùy chọn cấu hình khác nhau cho trình nghe sự kiện, như liệu nó sủi bọt qua cây DOM hay nó tự động bị xóa sau khi chạy chỉ một lần.

Sau đó, có tùy chọn vô hiệu hóa trình nghe sự kiện để bạn có thể gỡ lỗi mã của mình mà không cần chạy.

Hoặc nếu bạn muốn gỡ lỗi từng bước, bạn có thể đặt điểm dừng sự kiện cho nó.

Điều này sẽ tạm dừng thực thi JavaScript vào lần tới khi trình xử lý được gọi.

Đây là thời điểm tốt để nói về những cải tiến mà chúng tôi đã thực hiện đối với trải nghiệm gỡ lỗi với các điểm dừng.

Khi gỡ lỗi JavaScript, bạn có thể quen với việc thêm các câu lệnh console.log() vào mã của mình.

Mặt khác, Breakpoints là một cách mạnh mẽ để gỡ lỗi bằng cách tạm dừng và bước qua JavaScript mà không cần phải thay đổi nguồn của bạn.

Nếu bạn chưa từng sử dụng các điểm ngắt trước đây, cách dễ nhất để bắt đầu là nhấp vào một số dòng trên tệp tập lệnh trong máng xối của tab Nguồn.

Điều này đặt một điểm ngắt JavaScript trên dòng đó của tập lệnh.

Lần tới khi dòng đó sắp chạy, Web Inspector thay vào đó sẽ tạm dừng thực thi JavaScript tại thời điểm đó.

Trong khi tạm dừng, bạn có thể quan sát ngăn xếp cuộc gọi, kiểm tra trạng thái của các đối tượng và biến trong phạm vi và thậm chí thực hiện các thay đổi đối với chúng thông qua Bảng điều khiển.

Bạn có thể tiếp tục thực thi JavaScript hoặc bạn có thể bước qua mã từng biểu thức một, sử dụng các điều khiển bước ở trên cùng.

Bạn có thể định cấu hình điểm dừng bằng cách nhấp chuột phải vào nó và chọn Chỉnh sửa điểm dừng.

Ở đây, có nhiều tùy chọn bạn có thể đặt để kiểm soát khi điểm dừng được nhấn và thậm chí chạy các hành động khi có.

Hãy nhìn vào một vài trong số chúng.

Bạn có thể kiểm soát khi điểm dừng được nhấn bằng cách đặt điều kiện cho nó.

Điều này được đánh giá là JavaScript trong cùng một phạm vi nơi điểm dừng của bạn được đặt.

Khi điều kiện là đúng, điểm dừng sẽ đạt được.

Đôi khi, bạn có thể thấy việc bỏ qua điểm dừng nhiều lần dễ dàng hơn.

Ví dụ, trong khi ở trong một vòng lặp mà bạn không quan tâm đến việc dừng lại trong vài lần lặp đầu tiên.

Tại đây, bạn có thể đặt số lần để bỏ qua điểm dừng.

Bạn cũng có thể chạy các hành động khi nhấn vào điểm dừng, chẳng hạn như đánh giá một đoạn JavaScript.

Điều này chạy trong cùng một phạm vi nơi điểm dừng được đặt.

Bạn có thể sử dụng cái này để sửa đổi trạng thái tập lệnh của mình trước khi tiếp tục.

Bạn cũng có thể ghi lại tin nhắn vào bảng điều khiển bằng các biểu thức có quyền truy cập vào trạng thái của các biến và đối tượng tại thời điểm JavaScript bị tạm dừng.

Điều này tương tự như việc thêm câu lệnh console.log() vào mã của bạn, nhưng không cần phải sửa đổi nguồn của bạn.

Thay vì ghi lại các biến và đối tượng vào bảng điều khiển, bạn cũng có thể sử dụng hành động Biểu thức thăm dò.

Điều này cho phép bạn kiểm tra trạng thái của biểu thức đã cho trong bảng thanh bên chi tiết của tab Nguồn.

Tất nhiên, những hành động này rất hữu ích, nhưng đôi khi bạn chỉ muốn chạy chúng mà không thực sự dừng lại ở điểm dừng và phải tiếp tục thủ công.

Trong những trường hợp đó, hãy sử dụng tùy chọn để tự động tiếp tục sau khi đánh giá các biểu thức.

Tùy chọn này làm cho hành động Log messages hoạt động giống như một câu lệnh console.log(): nó ghi nhật ký, nhưng nó không tạm dừng.

Tương tự như vậy, bạn có thể đánh giá một số JavaScript tại vị trí điểm dừng và tiếp tục như thể nó đã có trong mã nguồn của bạn.

Có nhiều loại điểm dừng khác mà bạn có thể đặt.

Nhấp vào nút Dấu cộng trong phần Điểm ngắt để hiển thị danh sách tất cả các điểm ngắt bạn có thể đặt, chẳng hạn như Điểm ngắt URL kích hoạt khi yêu cầu mạng sắp được thực hiện thông qua các phương thức như fetch() hoặc XMLHTTPRequest, các điểm ngắt sự kiện như chúng ta đã thấy trước đó từ huy hiệu Sự kiện cho "nhấp chuột", các điểm

Các điểm ngắt tượng trưng rất hữu ích để gỡ lỗi các cuộc gọi đến các hàm JavaScript tích hợp sẵn hoặc tạm dừng nhiều chức năng có cùng tên.

Khi thêm một điểm dừng Biểu tượng, bạn có thể cụ thể hoặc chung chung như bạn muốn.

Hoặc khớp chính xác với tên hàm, bao gồm độ phân giải chữ hoa chữ thường hoặc sử dụng biểu thức chính quy nếu bạn muốn phá vỡ nhiều hàm khớp với mẫu hoặc nếu bạn không nhớ tên hàm hoàn chỉnh.

Hãy xem các điểm ngắt Symbolic giúp gỡ lỗi sự cố mà tôi gặp phải trong mã của mình như thế nào.

Mỗi bức ảnh trên trang của tôi có một nút chia sẻ cho phép tôi chia sẻ liên kết đến nó với bạn bè.

Nhưng tôi đã nhận được một báo cáo lỗi rằng URL họ nhận được không trỏ đến trang ảnh.

Hãy điều tra.

Đã lâu rồi kể từ khi tôi làm việc này, và tôi không nhớ nó được xây dựng như thế nào.

Có nhiều cách để gỡ lỗi này, nhưng tôi sẽ thử một điểm dừng Biểu tượng.

Tôi sẽ chuyển sang tab Nguồn và nhấp để thêm điểm dừng Biểu tượng mới.

Bất cứ mã nào chạy ở cuối của tôi, cuối cùng nó phải gọi API trình duyệt navigator.share() hiển thị cửa sổ bật lên hệ thống.

Hãy đặt một điểm dừng trước khi hàm share() được gọi.

Tôi sẽ nhấp vào để đặt điểm dừng Biểu tượng của mình.

Và bây giờ tôi sẽ nhấp vào nút chia sẻ trên một bức ảnh trên trang của mình.

Và hãy nhìn xem, Web Inspector đã tạm dừng trước khi navigator.share() được gọi.

Tôi sẽ di chuột qua đối tượng dữ liệu được chuyển đến phương thức này.

Ở đây, tôi có thể thấy nội dung của đối tượng.

Có vẻ như giá trị của khóa URL được chia sẻ thực sự sai.

Cái này đến từ đâu?

Trong phần Ngăn xếp cuộc gọi của tab Nguồn, tôi có thể thấy chuỗi các chức năng đã được gọi để đến thời điểm này.

Có vẻ như trình xử lý sự kiện nhấp chuột đã được gọi trước đó.

Tôi sẽ chọn mục nhập của nó trong Ngăn xếp cuộc gọi để chuyển đến chức năng đó.

Ở đây, tôi có thể thấy mã xây dựng đối tượng dữ liệu được chuyển đến hàm sharePhoto().

Và khi nhìn vào nhận xét mã ở đây, tôi định thực hiện điều này, nhưng tôi quên mất.

Hãy sửa nó ngay bây giờ.

Tôi sẽ nhấp để đặt điểm dừng trên dòng này.

Sau đó, tôi sẽ nhấp chuột phải và chọn Chỉnh sửa Điểm dừng.

Tôi không cần thiết lập một điều kiện, nhưng tôi sẽ cấu hình nó để chạy một hành động JavaScript.

Bên trong trường biểu thức, tôi sẽ sửa đổi đối tượng dữ liệu để sửa thuộc tính url trước khi nó được chuyển đến hàm chia sẻ.

Tôi không cần điểm dừng này dừng lại ở đây, vì vậy tôi sẽ nhấp vào tùy chọn để tự động tiếp tục sau khi đánh giá biểu thức này.

Tiếp theo, tôi sẽ nhấp vào nút để tiếp tục thực thi JavaScript.

Bây giờ, khi tôi nhấp vào nút chia sẻ, điểm dừng Biểu tượng mà tôi đã đặt trước đó sẽ đạt được một lần nữa.

Nhưng bây giờ đối tượng dữ liệu mà nó nhận được có giá trị URL phù hợp.

Hành động JavaScript từ điểm dừng khác đã sửa đổi giá trị và gửi nó đến hàm này mà không cần tạm dừng.

Điều này xác nhận rằng thay đổi tôi đã thực hiện ở đó thực sự khắc phục được sự cố.

Đây chỉ là một ví dụ về nhiều quy trình gỡ lỗi tuyệt vời được kích hoạt bởi các điểm dừng.

Còn rất nhiều thứ nữa, và tôi khuyến khích bạn thử chúng trong các dự án của mình.

Chúng tôi đã đề cập rất nhiều trong phiên này, từ các công cụ kiểm tra kiểu chữ mới, đến ghi đè tùy chọn người dùng, sử dụng huy hiệu phần tử mới và chúng tôi đã xem xét các cải tiến điểm dừng.

Và đó chỉ là làm trầy xước bề mặt.

Có nhiều tính năng và cải tiến mới khác trong Web Inspector năm nay mà chúng tôi không có thời gian để đề cập trong phiên này.

Và có rất nhiều thứ mà Web Inspector có thể làm.

Nếu bạn muốn tìm hiểu thêm về những tính năng này và nhiều tính năng khác mà bạn có thể sử dụng, hãy truy cập webkit.org để tìm các bài đăng và tài liệu blog chuyên sâu.

Chúng tôi cũng muốn nghe ý kiến của bạn.

Nếu bạn gặp sự cố hoặc có ý tưởng về cách chúng tôi có thể cải thiện Trình kiểm tra web, vui lòng cho chúng tôi biết bằng cách gửi sự cố trên trình theo dõi lỗi của WebKit cho sản phẩm Trình kiểm tra.

Tôi cũng muốn khuyến khích bạn tải xuống Bản xem trước Công nghệ Safari.

Nó được phát hành vài tuần một lần và chứa các công cụ và công nghệ mới nhất trong WebKit, cũng như các bản sửa lỗi và cải tiến, trước khi chúng đến phiên bản Safari tiếp theo.

Trước khi tôi đi, nếu bạn muốn tìm hiểu thêm về những gì mới cho các nhà phát triển trong Safari năm nay, hãy xem các phiên tuyệt vời sau: "Khám phá lại các tính năng của nhà phát triển Safari" và "Có gì mới trong CSS."

Cảm ơn vì đã xem.