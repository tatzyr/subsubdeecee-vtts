10085

♪ Hip-hop nhạc cụ êm dịu ♪

♪

Xin chào, chào mừng đến với "Khám phá Tìm kiếm Nhanh cho máy tính không gian."

Tên tôi là Youssef, và tôi là một kỹ sư trong nhóm AR Quick Look.

Hôm nay, tôi sẽ nói chuyện với bạn về tất cả các khả năng của Quick Look trên xrOS và cách bạn có thể sử dụng nó để mở khóa trải nghiệm mới cho các ứng dụng và trang web của mình trên nền tảng.

Trước khi chúng ta đi sâu vào tất cả những điều đó, trước tiên chúng ta hãy xem qua Quick Look là gì.

Quick Look là một khung hệ thống cho phép bạn dễ dàng xem trước và chỉnh sửa các tệp trên iOS, macOS và bây giờ là xrOS.

Quick Look đi kèm với các tính năng chỉnh sửa mạnh mẽ như cắt tỉa video và Đánh dấu cho các tệp PDF và hình ảnh ngay lập tức.

Nó cũng xử lý việc truy cập an toàn và an toàn các tệp, vì vậy bạn không phải lo lắng về việc mở các tệp không đáng tin cậy trong ứng dụng của mình.

Quick Look xuất hiện ở nhiều nơi trên các nền tảng của Apple.

Trên iOS, bạn sẽ thấy nó bất cứ khi nào bạn mở tệp đính kèm từ chuỗi tin nhắn.

Trên macOS, bạn nhập Quick Look bất cứ khi nào bạn nhấn phím cách trên một tệp đã chọn từ Finder hoặc máy tính để bàn.

Quick Look là trình xem hệ thống cho nội dung được hỗ trợ tệp trên xrOS.

Và cũng giống như trên iOS và macOS, các ứng dụng xrOS có thể tận dụng Quick Look để dễ dàng xem và chỉnh sửa tệp giàu tính năng.

Hãy xem nó trông như thế nào.

Gần đây, tôi đang làm việc để tu sửa một căn hộ và tôi đã sử dụng một ứng dụng để theo dõi tiến độ của dự án đó và cộng tác với nhóm của mình.

Một trong những nhà thiết kế nội thất mà tôi đang làm việc cùng vừa gửi cho tôi một thư mục với một số ý tưởng mà anh ấy có cho ngôi nhà.

Tôi đã mở thư mục đó ở đây nên hãy xem anh ấy nghĩ ra cái gì.

Có vẻ như có một mô hình USDZ của phòng khách được đề xuất.

Hãy mở nó ra.

Để làm điều này, tôi sẽ véo và kéo tệp ra và thả nó ra ngoài bất kỳ ứng dụng nào.

Thả tệp USDZ trình bày bản xem trước Xem nhanh 3D ngay tại nơi tôi đã thả nó.

Và tôi có thể ngay lập tức bắt đầu tương tác với nó.

Sử dụng cử chỉ kẹp và kéo, tôi có thể xoay mô hình để có cái nhìn rõ hơn về mặt tiền gạch lộ ra tuyệt đẹp.

Để xem xét kỹ hơn phòng khách, tôi sẽ chỉ phóng to mô hình để mở rộng quy mô.

Có vẻ như nhà thiết kế của tôi cũng đã gửi một bức ảnh về khu phố xung quanh ngôi nhà.

Cuối cùng, có vẻ như có một tài liệu ở đây với danh sách các tính năng được lên kế hoạch cho ngôi nhà.

Rất nhiều trong số này trông rất tuyệt nhưng tôi không chắc về cái cuối cùng này, vì vậy hãy để tôi để lại ghi chú để quay lại sau.

Tôi sẽ mở menu ở đầu cửa sổ và chọn Đánh dấu, hiển thị bảng Đánh dấu.

Hãy để tôi nhanh chóng khoanh tròn mục mà tôi muốn quay lại.

Chúng tôi đã có thể kéo một tệp từ một ứng dụng và xem trước nó bên ngoài ứng dụng đó.

Chúng tôi đã làm điều này với nhiều tệp và xem tất cả chúng cùng với ứng dụng nguồn.

Cách mới này để trình bày các tệp trong Quick Look được gọi là Windowed Quick Look.

Trong phần này, chúng ta sẽ tìm hiểu thêm về phong cách trình bày này và cách các ứng dụng và trang web có thể áp dụng nó.

Sau đó, chúng ta sẽ xem xét cách trình bày các bản xem trước Quick Look trực tiếp trong một ứng dụng.

Nhưng trước tiên, chúng ta hãy đi sâu hơn vào Windowed Quick Look.

Windowed Quick Look cho phép bạn trình bày các bản xem trước Quick Look bên ngoài ứng dụng của mình.

Điều này hoàn hảo cho những trải nghiệm không chặn, nơi bạn muốn có thể xem nội dung tệp của mình cùng với ứng dụng của mình.

Vì các bản xem trước Quick Look có cửa sổ được lưu trữ trong một ứng dụng riêng biệt, bạn có thể đóng ứng dụng của mình trong khi vẫn giữ nguyên các bản xem trước đó.

Windowed Quick Look cũng cung cấp trải nghiệm xem phong phú hơn nhiều cho các mô hình 3D được hỗ trợ bởi USDZ và các tệp Thực tế.

Bạn có thể mở rộng quy mô và đặt nội dung 3D độc lập với ứng dụng của mình.

Bạn cũng có thể mở rộng mô hình 3D sẽ làm mờ môi trường và ẩn tất cả các cảnh khác, cho phép bạn chỉ tập trung vào nội dung 3D.

Một số loại tệp nhất định được trình bày trong cửa sổ Quick Look cung cấp trải nghiệm SharePlay để bạn có thể chia sẻ tệp và xem nó qua FaceTime.

Khi chia sẻ nội dung 3D qua SharePlay, Quick Look sẽ đồng bộ hóa định hướng, tỷ lệ và hình ảnh động của mô hình 3D.

Khi chia sẻ hình ảnh qua SharePlay, bạn sẽ có thể đánh dấu hình ảnh đó cùng với những người khác.

Chia sẻ Phát tệp với Quick Look cung cấp cho bạn một cách dễ dàng và đơn giản để cộng tác trên các tệp với một nhóm.

Cả ứng dụng và trang web đều có thể trình bày nội dung trong cửa sổ Quick Look và tận dụng nhiều lợi ích mà nó mang lại.

Đầu tiên, chúng ta hãy xem cách các ứng dụng có thể trình bày Windowed Quick Look.

Các ứng dụng có thể trình bày các tệp trong cửa sổ Quick Look bằng cách cung cấp nguồn kéo chứa một số URL.

Trong quá trình tương tác kéo và thả, khi mục tiêu thả nằm ngoài bất kỳ ứng dụng nào, hệ thống sẽ sao chép và trình bày URL được cung cấp của bạn trong cửa sổ Xem nhanh.

Nếu URL được cung cấp của bạn đang trỏ đến một tệp được lưu trữ ở một điểm đến từ xa, như iCloud, hệ thống sẽ tải xuống trước.

Hãy nhớ rằng, vì một bản sao của tệp được cung cấp của bạn được trình bày, bất kỳ chỉnh sửa nào như đánh dấu trên hình ảnh được tạo cho tệp được trình bày sẽ không được ghi lại vào URL bạn cung cấp.

Để xem điều này đang hoạt động, chúng ta hãy vào Xcode.

Trước khi chúng tôi thêm hỗ trợ kéo vào ứng dụng của mình, hãy để tôi nhanh chóng cung cấp cho bạn cái nhìn tổng quan về ứng dụng.

Ứng dụng cho phép bạn xem tiến độ của dự án và xem danh sách các tệp được chia sẻ bởi các thành viên khác trong nhóm.

Ở đây chúng tôi có chế độ xem danh sách hiển thị FileViews.

Vì chúng tôi muốn có thể kéo ra từng tệp, chúng tôi sẽ cần biến mỗi FileView thành một nguồn kéo.

Để làm điều này, tôi sẽ thêm công cụ sửa đổi onDrag vào FileView.

Công cụ sửa đổi onDrag mong đợi một NSItemProvider, vì vậy tôi sẽ trả lại một nhà cung cấp mục chứa URL cho tệp đang được hiển thị trong FileView đó.

Xây dựng và chạy ứng dụng trong trình giả lập, bây giờ tôi có thể kéo ra khỏi chế độ xem tệp và trình bày tệp đó trong cửa sổ Xem nhanh mới.

Tôi cũng có thể đóng ứng dụng của mình và vẫn hiển thị bản xem trước của tệp đó.

Bằng cách chỉ thêm một vài dòng mã, tôi đã bật kéo và thả trong ứng dụng của mình và cho phép xem nội dung trong một cửa sổ riêng cho phép tôi vẫn sử dụng ứng dụng của mình một cách tự do.

Bây giờ hãy xem làm thế nào chúng ta có thể làm điều này cho các trang web.

Kể từ iOS 12, các trang web đã có thể liên kết và xem nội dung 3D trong AR Quick Look trên iPhone và iPad bằng cách đánh dấu các liên kết với thuộc tính AR.

Khi bạn mở một liên kết đến nội dung 3D được đánh dấu trên xrOS, Safari sẽ trình bày nội dung 3D trong cửa sổ Xem nhanh mới.

Các trang web đã hỗ trợ liên kết nội dung AR trên iOS và iPadOS sẽ có hành vi này được chuyển sang xrOS mà không cần thêm công việc.

xrOS cũng sẽ tôn trọng các tùy chọn tùy chỉnh như vô hiệu hóa tỷ lệ nội dung.

Để biết thêm thông tin về các tùy chọn tùy chỉnh đó, hãy xem phiên "Những tiến bộ trong AR Quick Look" từ WWDC19.

Nếu bạn chưa thiết lập trang web của mình để trình bày nội dung 3D từ Safari, tất cả những gì bạn phải làm là đánh dấu các liên kết của mình như thế này.

Bằng cách thêm rel="ar" vào liên kết hoặc phần tử neo của bạn, Safari sẽ không điều hướng khi nhấn.

Thay vào đó, nó sẽ trình bày tệp 3D đó trong cửa sổ Xem nhanh cùng với trang web.

Hãy đến Safari và kiểm tra cái này.

Chúng tôi có trang thư viện AR Quick Look đang mở trong Safari tại đây.

Có một loạt các mô hình 3D được liên kết đến từ trang này, vì vậy hãy mở một số trong số chúng.

Nhấn vào liên kết đến ấm trà này, tải xuống và trình bày mô hình 3D đó trong cửa sổ Xem nhanh.

Một khi nó tải xuống, mô hình sẽ xuất hiện.

Nhấn vào liên kết đến chiếc cốc này sẽ trình bày nó gần ấm trà và Safari.

Điều này thực sự tuyệt vời cho các trang web thương mại điện tử, nơi bạn có thể muốn xem và đặt các sản phẩm trong không gian chung để biết liệu nó có phù hợp với mình hay không.

Chúng tôi vừa xem qua các tệp trình bày trong cửa sổ Xem nhanh để xem trước nó bên ngoài ứng dụng của bạn.

Có một số trường hợp sử dụng mà bạn có thể muốn xem trước các tệp trực tiếp bên trong ứng dụng của mình.

Hiển thị nội dung Quick Look trong ứng dụng cũng đơn giản như chuyển một số URL đến chức năng quickLookPreview trong SwiftUI.

Khi được trình bày bằng cách sử dụng quickLookPreview, bản xem trước sẽ hiển thị dưới dạng một trang tính trên đầu nội dung chế độ xem của bạn.

Nếu bạn muốn có nhiều tùy chọn tùy chỉnh hơn so với các bản xem trước được trình bày của mình, bạn có thể sử dụng QLPreviewController thay thế tại đây.

Nếu bạn đang đưa ứng dụng iOS của mình lên xrOS, việc sử dụng quickLookPreview hoặc QLPreviewController API hiện tại sẽ được chuyển miễn phí.

Hãy nhảy qua trình giả lập và xem chúng ta có thể tận dụng điều này ở đâu trong ứng dụng Project Tracker của chúng ta.

Tôi có một quan điểm nơi tôi có thể xem xét một số thiết kế mới mà nhóm của tôi có trước khi gửi chúng cho chủ nhà để phê duyệt.

Hiện tại tôi có thể xem danh sách các tệp, nhưng tôi thực sự không thể xem trước bất kỳ tệp nào.

Hãy vào Xcode và xem liệu chúng ta có thể khắc phục điều này không.

Đây là quan điểm của tôi ngay bây giờ.

Để xem trước các tệp trực tiếp trong ứng dụng của tôi, trước tiên tôi sẽ nhập QuickLook.

Sau đó, tôi sẽ thêm chức năng SwiftUI quickLookPreview chuyển tất cả các tệp tôi muốn xem trước và tệp cụ thể mà tôi muốn được chọn ban đầu.

Hãy chạy cái này và xem chúng ta nhận được gì.

Quay trở lại ứng dụng của chúng tôi, bây giờ khi tôi chọn chế độ xem này, tôi có thể thấy một trang tính với các bản xem trước của chúng tôi xuất hiện trực tiếp trong ứng dụng của chúng tôi.

Tôi có thể quay vòng qua các tệp bằng cách sử dụng các điều khiển điều hướng trên thanh công cụ và đảm bảo mọi thứ đều ổn trước khi gửi chúng cho chủ nhà.

Trình bày các bản xem trước tệp trực tiếp trong ứng dụng của chúng tôi dễ dàng như chuyển một số URL đến chức năng quickLookPreview.

Bây giờ chúng tôi đã đề cập đến cả hai hương vị của Quick Look trên nền tảng, hãy chạm vào các loại tệp có bản xem trước được hỗ trợ.

Quick Look hỗ trợ các loại tệp phổ biến nhất bao gồm hình ảnh, video, tệp PDF và tệp USDZ.

Hình ảnh và video không gian được hiển thị trong Quick Look sẽ trông tuyệt đẹp như trong Ảnh.

Và đó là một cái nhìn nhanh về Quick Look trên xrOS.

Bây giờ hãy tóm tắt lại tất cả những gì chúng ta đã trải qua hôm nay.

Chúng tôi đã nói về các tính năng xem trước và chỉnh sửa phong phú mà Quick Look có thể cung cấp cho các ứng dụng.

Sau đó, chúng tôi đã thảo luận về Windowed Quick Look, một cách mới để các ứng dụng xem trước nội dung bằng Quick Look và các khả năng mà Windowed Quick Look cung cấp, chẳng hạn như hỗ trợ đa bản xem trước để bạn có thể xem nội dung cùng với ứng dụng của mình, xem nội dung 3D nhập vai thể tích và hỗ trợ SharePlay.

Sau đó, chúng tôi đã xem xét cách các ứng dụng có thể hợp lý hóa quy trình làm việc của họ và tận dụng các cửa sổ Quick Look bằng cách thêm hỗ trợ kéo và thả và cách các trang web có thể tận dụng các cửa sổ Quick Look để trình bày nội dung 3D cùng với Safari.

Chúng tôi cũng đã thấy việc các ứng dụng trình bày nội dung Quick Look trong các cảnh của riêng chúng trong SwiftUI đơn giản như thế nào.

Nếu bạn đang mang theo một ứng dụng đã sử dụng Quick Look, bạn sẽ phải làm rất ít hoặc không làm gì để có được trải nghiệm Quick Look tuyệt vời trên nền tảng này.

Tương tự, các trang web đã liên kết đến nội dung AR cũng sẽ có hành vi đó được chuyển giao miễn phí.

Quick Look có thể cung cấp cho các ứng dụng trải nghiệm xem tệp đơn giản, mạnh mẽ và an toàn và chúng tôi nóng lòng muốn xem những gì bạn xây dựng bằng Quick Look trên xrOS.

♪