503

tvOS 11.2부터 Apple TV 4K는 비디오 콘텐츠의 기본 프레임 속도와 동적 범위에 맞게 비디오 디스플레이 모드를 자동으로 전환할 수 있습니다.

설정 앱의 비디오 및 오디오 섹션을 사용하면 일치하는 프레임 속도와 동적 범위 동작을 독립적으로 설정할 수 있으며, 원래 프레임 속도와 동적 범위의 콘텐츠를 볼 수 있습니다.

기본적으로, 이 옵션들은 비활성화되어 있습니다.

활성화되고 비디오 콘텐츠가 호환되는 앱에서 재생되면, tvOS는 콘텐츠와 일치하도록 비디오 디스플레이 설정을 자동으로 전환합니다.

예를 들어, 콘텐츠가 초당 24프레임과 표준 다이내믹 레인지에 있는 경우, 장치는 시스템 모드에서 초당 24프레임, 표준 다이내믹 레인지 모드로 전환됩니다.

미디어 재생 세션이 끝나면, 장치는 시스템 모드로 다시 전환됩니다.

콘텐츠에 대한 프레임 속도 매칭을 지원하는 첫 번째 단계는 HLS 마스터 재생 목록이 FRAME-RATE 속성을 사용하여 변형의 기본 프레임 속도로 완전히 주석을 달도록 하는 것입니다.

재생 목록에 FRAME-RATE 속성이 포함되지 않은 경우, 해당 자산에 대해 프레임 속도 모드 전환이 지원되지 않습니다.

게다가, 모든 변형에 대해 단일 프레임 속도를 선언하거나 가장 작은 프레임 속도의 정수 배수인 프레임 속도만 있는 재생 목록만 지원됩니다.

예를 들어, 29.97과 59.94.

동적 범위 모드 매칭은 일반적으로 재생 목록을 변경할 필요가 없습니다. 모든 비 SDR 콘텐츠는 이미 VIDEO-RANGE 속성을 포함해야 하기 때문에 VIDEO-RANGE 속성이 달리 지정하지 않는 한 콘텐츠가 SDR로 간주되기 때문입니다.

AVPlayerViewController를 사용하는 앱은 appliesPreferred DisplayCriteriaAutomatically 속성이 false로 변경되지 않는 한 모드 매칭을 자동으로 지원합니다.

AVPlayerViewController를 사용하여 콘텐츠를 전체 화면으로 재생하면 tvOS는 해당 콘텐츠에 대한 적절한 디스플레이 모드로 자동으로 전환됩니다.

그런 다음, AVPlayerViewController가 전체 화면 모드를 떠나거나 해제되면, tvOS는 시스템 디스플레이 모드로 다시 전환됩니다.

AVPlayerViewController 또는 TVMLKit을 사용하여 전체 화면 콘텐츠를 재생하는 앱의 경우 추가 작업이 필요하지 않습니다.

그러나 비디오가 항상 전체 화면으로 재생되지 않을 수 있는 다른 시나리오의 경우, 여러 비디오를 동시에 재생하거나, 다른 짧은 비디오 사이를 자주 전환하거나, 비디오 재생을 위해 AVPlayerViewController를 사용하지 않는 경우, 모드 스위치가 적시에 발생하고 적절한 미디어 콘텐츠의 특성을 반영하도록 AVDisplayManager preferredDisplayCriteria를 직접 지정해야 할 수도 있습니다.

AVPlayerViewController를 사용하고 모드 전환을 완전히 선택 해제하거나 디스플레이 모드를 수동으로 관리해야 하는 경우, AVPlayerViewController의 appliesPreferredDisplay CriteriaAutomatically 속성을 false로 설정하여 시작하십시오.

이것은 자동 AVKit 매칭 동작을 비활성화할 것이다.

그런 다음, tvOS를 트리거하여 특정 콘텐츠와 일치하도록 모드를 전환하려면, AVAsset의 preferredDisplayCriteria 속성에 의해 판매된 AVDisplayCriteria 객체를 검색하십시오.

AVDisplayCriteria 객체를 키 UIWindow에 의해 vended AVDisplayManager의 preferredDisplayCriteria 속성에 할당하십시오.

설정에서 매칭이 활성화되었고 연결된 장치가 선호하는 모드를 지원한다고 가정하면 이 속성을 설정할 때 모드 스위치가 발생합니다.

AVPlayer가 대상 디스플레이 모드를 기반으로 구성할 수 있도록 AVPlayerItem을 AVPlayer 객체에 할당하기 전에 이 스위치를 수행해야 합니다.

시스템의 기본 모드로 다시 전환하려면, 선호하는 DisplayCriteria 속성을 nil로 설정하기만 하면 됩니다.

모드 스위치가 언제 시작되고 끝나는지 알기 위해, AVDisplayManager 객체의 displayModeSwitchInProgress 속성을 키-값으로 관찰할 수 있습니다.

미디어 애플리케이션에서 이 새로운 기능을 사용하는 가장 좋은 방법을 결정하는 데 도움을 주기 위해, 여기에 명심해야 할 몇 가지 지침이 있습니다: 필요한 만큼만 모드를 전환하십시오.

모든 텔레비전은 모드 전환에 약간 다르게 반응하지만, 일반적으로 화면이 깜박이거나 일시적으로 꺼지며, 완료하는 데 몇 초가 걸릴 수 있습니다.

이것은 필요한 것보다 더 자주 발생한다면 파괴적일 수 있다.

일반적으로, 모드 전환은 전체 화면 재생에만 적합합니다.

백그라운드에서 재생되는 콘텐츠, 썸네일 또는 게임의 일부로 틈새로 재생되는 콘텐츠의 프레임 속도와 동적 범위를 일치시키는 것은 매우 파괴적일 수 있으며 일반적으로 불필요합니다.

비디오 시청 경험 이외의 앱의 기본 사용자 인터페이스는 UI와 애니메이션이 매끄럽고 유동적일 수 있도록 시스템의 프레임 속도로 실행되어야 합니다.

텔레비전이 낮은 프레임 속도 모드에 있을 때, 그 애니메이션과 움직임도 그 프레임 속도로 렌더링되며, 결과적으로 덜 매끄럽게 보일 수 있다.

또한 장치를 시스템 모드로 두면 사용자 경험이 개선될 수 있는 몇 가지 상황이 있습니다.

앱이 더 짧은 클립을 재생하거나, 여러 비디오 타일을 동시에 표시하거나, 이질적인 특성을 가진 콘텐츠 사이를 자주 전환하는 경우, 시청 경험이 불필요하게 중단되지 않도록 모드 전환을 완전히 피하는 것이 좋습니다.

tvOS 11.2는 Apple TV 4K에서 비디오 콘텐츠 프레임 속도와 다이내믹 레인지 매칭을 가능하게 합니다.

AVPlayerViewController는 이 동작을 자동으로 관리할 수 있지만, 일부 앱은 AVDisplayManager와 AVDisplayCriteria를 활용하여 더 많은 제어를 원할 것입니다.

자세한 내용은 developer.apple.com을 방문하세요.