505

Shloka Kini: 인증 컨텍스트는 인증 UI를 제공하고 신원 제공자 서버와 통신하여 고객의 자격 증명을 인증하는 웹 서비스입니다.

Apple TV 배포 프로그램의 일환으로 iOS 및 tvOS 장치에서 TV 공급자의 싱글 사인온 기능을 얻기 위해 취해야 할 많은 단계 중 하나입니다.

인증 컨텍스트는 Apple 장치에 다운로드되어 런타임에 실행되는 서버에서 호스팅되는 웹 서비스입니다.

인증 컨텍스트가 VideoSubscriberAccount 프레임워크에 인증 응답을 전달하면 장치 키체인에 저장됩니다.

iOS 기기에서는 iCloud 키체인을 통해 인증 응답을 다른 iOS 기기와 동기화할 수 있습니다.

그리고 Apple TV에서는 tvOS가 iCloud 키체인을 지원하지 않기 때문에 인증 응답이 장치를 떠나지 않습니다.

인증 컨텍스트의 목적은 지원되는 앱에서 OS 수준의 인증을 제공하는 것입니다.

이 과정의 첫 번째 단계는 인증을 위한 UI를 제시하여 자격 증명을 입력하도록 유도하는 것입니다.

이 자격 증명 항목의 UI를 지정하려면, 인증 템플릿을 사용하세요.

이것은 우리가 문서에서 제공하는 예시와 유사한 XML 문서입니다.

당신이 우리에게 이 XML을 제공할 때, 우리는 그 사람이 어떤 플랫폼을 사용하고 있는지에 따라 Apple 시스템 UI의 일부처럼 보이도록 포맷합니다.

예를 들어, 여기에 있는 기본 사용자 이름-암호 템플릿은 iOS와 tvOS 장치 모두에 적용할 수 있습니다.

자동 인증 템플릿은 고객에게 자격 증명을 입력하도록 요청하지 않습니다.

대신, 고객에게 자동으로 인증될 계정을 알리고, 다른 계정에 수동으로 로그인할 수 있는 옵션을 제공합니다.

이 템플릿은 iOS와 tvOS 장치 모두에도 적용됩니다.

고객으로부터 자격 증명을 직접 받을 수 없다면, 우리는 특별한 경우에 인증을 위한 대체 템플릿을 제공합니다.

onscreenCode AuthenticationTemplate은 tvOS에만 적용됩니다.

휴대폰, 태블릿 또는 컴퓨터와 같은 별도의 장치에서 웹 브라우저에 입력할 수 있는 화면 코드를 표시합니다.

웹 인증 템플릿은 iOS 기기에만 적용됩니다.

지정된 URL을 사용하여 이와 같은 웹 뷰를 시작합니다.

인증 컨텍스트와 시작된 웹 뷰 간에 통신하려면 VideoSubscriberAccount 클래스를 사용합니다.

시작하려면, 자바스크립트로 인증 컨텍스트를 만들고 XML 템플릿으로 인증 UI를 정의합니다.

이 자바스크립트 파일을 서버에 호스팅하세요.

동일한 컨텍스트를 두 장치 모두에 사용할 수 있기 때문에 하나의 인증 컨텍스트만 작성하는 것을 잊지 마세요.

마지막으로, 컨텍스트와 XML을 작성한 후, TV 공급자 온보딩 데이터를 보내주세요.

이 데이터에는 TV 공급자의 UI에 표시할 이름, TV 공급자를 고유하게 식별하기 위해 시스템에서 사용되는 TV 공급자 식별자, 인증 URL, 장치에 액세스하고 장치에 인증 컨텍스트를 다운로드하기 위해 TV 공급자 서버에서 핑해야 하는 URL이 포함됩니다.

App Store UI에서 TV 공급자의 브랜드에 표시할 작품을 보내주세요.

작품 사양에 대한 자세한 내용은 문서를 참조하십시오.

지원되는 채널 목록을 보내주세요.

이것은 온보딩 데이터의 선택 사항입니다.

여기서, 채널은 TV 공급자가 지원하는 앱을 참조한다.

Apple TV 배포 프로그램에서, 인증 흐름 후에 하나의 앱이 자동으로 설치됩니다; 그것이 주요 앱입니다.

TV 공급자 자격 증명을 사용하는 추가 앱이 있는 경우, 이 목록을 사용하여 다른 TV 공급자 지원 앱을 고객에게 보여주세요.

인증 컨텍스트 개발을 시작하려면, VideoSubscriberAccount 프레임워크가 인증 컨텍스트에 대한 요청에 대한 콜백을 처리하십시오.

첫 번째는 onLaunch이다.

이것은 VideoSubscriberAccount 목록에서 TV 공급자를 선택한 후 어떤 일이 일어나야 하는지 나타냅니다.

TV 공급자를 선택한 후, 다음 콜백까지 보류 중인 화면이 나타납니다.

onShowUserInterface.

실행 후, 자격 증명 입력을 위한 인증 템플릿을 표시하기 위해 콜백을 처리해야 합니다.

다음은 onRequest입니다.

자격 증명을 입력한 후, 해당 자격 증명을 가져와 신원 제공자 서버로 직접 보냅니다.

이 자격 증명은 장치에 저장되지 않습니다.

인증 응답은 시스템 수준의 인증을 설정하기 위해 서버에서 인증 컨텍스트에서 VideoSubscriberAccount 프레임워크로 다시 전송됩니다.

앱 수준의 인증 요청은 이 시스템 수준의 인증이 좋은 경우에만 처리를 위해 전송됩니다.

애플리케이션을 디버깅하려면, 코드가 실행되기 전에 iOS 및 tvOS 장치에서 개발자 모드를 활성화하여 TV 공급자를 추가하고 테스트하십시오.

인증 컨텍스트를 구체적으로 디버깅하려면, 사파리 웹 인스펙터를 사용하세요.

macOS 장치가 자바스크립트를 디버깅할 수 있도록 장치에서 웹 인스펙터를 활성화해야 합니다.

요약하자면, 인증 컨텍스트는 TV 공급자의 ID 공급자 서버와 VideoSubscriberAccount 프레임워크 간의 통신을 용이하게 하는 자바스크립트 기반 웹 서비스입니다.

고마워.