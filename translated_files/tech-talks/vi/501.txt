501

Với sự ra đời của iPhone X và AppleTV 4K mang tính cách mạng, trải nghiệm phát lại video được đưa lên một cấp độ hoàn toàn mới với việc bổ sung hỗ trợ dải động cao và video 4K.

4K thường đề cập đến kích thước khung hình lên đến 3840 x 2160, cung cấp hình ảnh đặc biệt chi tiết và độ phân giải cao khi so sánh với HD.

Màu rộng được hỗ trợ trên iOS, macOS và tvOS, và các khung phương tiện hỗ trợ lên đến không gian màu rec 2020, bao phủ khoảng 75 phần trăm phổ khả kiến.

Việc bổ sung hỗ trợ cho HEVC cho phép phân phối video chất lượng cao hơn với tốc độ bit thấp hơn khoảng 40% so với H.264.

Video HDR phải được phân phối bằng HEVC.

Có hai định dạng HDR mà chúng tôi hỗ trợ: Dolby Vision và HDR10.

HDR10 sử dụng siêu dữ liệu tĩnh được áp dụng cho toàn bộ chương trình.

Siêu dữ liệu này nên nằm trong hộp cấu hình HEVC và không được lưu trữ trong dữ liệu mẫu riêng lẻ.

Đối với nội dung Dolby Vision, chúng tôi hỗ trợ Profile 5, đó là một lớp, HEVC 10 bit và lên đến cấp 7.

Đối với cả hai định dạng HDR, nội dung phải được mã hóa bằng HEVC.

Bạn nên bao gồm các biến thể HDR nhỏ hơn hoặc bằng 30 khung hình mỗi giây.

Và bạn phải luôn cung cấp các biến thể SDR cho cả nội dung phương tiện chính cũng như danh sách phát I-frame của bạn.

Để giúp các thiết bị chọn các biến thể tương thích, chúng tôi đã thêm một thẻ phạm vi video mới vào thông số kỹ thuật HLS.

Nếu bạn bao gồm bất kỳ biến thể HDR nào trong danh sách phát của mình, bạn phải bao gồm thẻ này.

Khai báo SDR cho bất kỳ biến thể dải động tiêu chuẩn nào và PQ cho các biến thể HDR10 hoặc Dolby Vision.

Thẻ này là một lời khuyên cho khách hàng để nó sẽ không cố gắng phát các luồng mà nó không thể hỗ trợ.

Để hỗ trợ bảo vệ nội dung HDCP TYPE-1, giá trị TYPE-1 mới đã được thêm vào thẻ cấp HDCP.

Giá trị này thường được áp dụng cho nội dung có độ phân giải lớn hơn 1920 x 1080.

Thẻ này cũng mang tính chất tư vấn và ngăn khách hàng cố gắng phát lại nội dung không thể được hỗ trợ bởi màn hình hiện được đính kèm.

Để kết thúc, chúng ta hãy xem nhanh một vài ví dụ về cách danh sách phát phân biệt các loại nội dung khác nhau và cách các thẻ chúng ta vừa thảo luận được áp dụng.

Đây là một ví dụ về luồng HEVC dải động tiêu chuẩn không yêu cầu HDCP.

Ví dụ thứ hai này mô tả luồng 4K HDR như được chỉ ra bởi giá trị PQ của thẻ "VIDEO-RANGE".

Thẻ "CODECS" mô tả nó như một luồng Dolby Vision và thẻ "HDCP-LEVEL" chỉ ra rằng TYPE-1 sẽ được yêu cầu để phát lại luồng thành công.

Ví dụ 4K HDR10 này chỉ khác với ví dụ Dolby Vision bởi thẻ "CODECS".

Các thẻ "VIDEO-RANGE" và "HDCP-LEVEL" giống nhau.

Để biết thêm thông tin về phát trực tiếp HTTP, vui lòng truy cập devleoper.apple.com/streaming để truy cập vào hướng dẫn tác giả HLS, các công cụ phát trực tiếp HTTP bao gồm trình xác thực luồng và các mẫu nội dung mà bạn có thể kiểm tra trong ứng dụng của riêng mình.