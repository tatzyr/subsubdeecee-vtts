10891

Mike Boylan: Xin chào, tên tôi là Mike Boylan, và tôi là một kỹ sư tư vấn cao cấp trong nhóm Kỹ thuật Hiện trường Toàn cầu của Apple tập trung vào việc triển khai và quản lý macOS.

Tôi thực sự vui mừng được giúp bạn chuẩn bị tổ chức của mình cho macOS Monterey.

macOS Monterey mang đến các tính năng mạnh mẽ được thiết kế để cho phép bạn kết nối, chia sẻ và sáng tạo hơn bao giờ hết, hoàn thành công việc nhanh hơn và hoạt động liền mạch trên các thiết bị Apple.

Và có một số thay đổi nền tảng, các tính năng quản lý mới và rất nhiều cải tiến quy trình triển khai cho CNTT.

Khi triển khai macOS Big Sur, chúng tôi đã đề cập đến các thay đổi đối với việc triển khai và quản lý cho máy tính Mac bằng Apple silicon và đi sâu vào quy trình triển khai với trọng tâm là Trình cài đặt macOS.

Và tại WWDC21, chúng tôi đã có rất nhiều phiên dành cho bạn, bao gồm một loạt các chủ đề liên quan đến việc triển khai và quản lý macOS.

Chúng tôi sẽ tóm tắt lại một số điểm chính từ các phiên này, nhưng chúng tôi cũng sẽ chia sẻ các cập nhật mà chúng tôi đã thực hiện kể từ các phiên này dựa trên phản hồi của bạn.

Có những cải tiến trong macOS Monterey trong tất cả các khía cạnh của vòng đời triển khai, từ đăng ký ban đầu, đến triển khai và quản lý liên tục, và trở lại phục vụ.

Hãy bắt đầu với việc đăng ký ban đầu.

Đăng ký thiết bị tự động cho phép các tổ chức định cấu hình và quản lý thiết bị kể từ thời điểm thiết bị bị xóa khỏi hộp và cho phép bạn sử dụng tất cả các chức năng MDM có sẵn, bao gồm đánh dấu hồ sơ MDM là không thể tháo rời.

Đăng ký thiết bị tự động được thiết kế cho các thiết bị thuộc sở hữu của tổ chức và hoạt động tốt nhất với các thiết bị được mua trực tiếp từ Apple hoặc từ các Đại lý hoặc nhà cung cấp dịch vụ được ủy quyền của Apple tham gia.

Chúng tôi biết rằng một số thiết bị có thể được mua hoặc tặng từ bên ngoài các kênh thông thường hỗ trợ Đăng ký thiết bị tự động; và đối với những tình huống này, chúng tôi sẽ giới thiệu Apple Configurator cho iPhone sẽ có sẵn trên App Store.

Apple Configurator cho iPhone giúp bạn dễ dàng gán bất kỳ máy Mac được hỗ trợ nào chạy macOS Monterey cho Apple School Manager hoặc Apple Business Manager của tổ chức bạn, cho phép bạn tận dụng tất cả các tính năng quản lý thiết bị tuyệt vời mà Automated Device Enrollment cho phép.

Sử dụng Apple Configurator cho iPhone yêu cầu các máy tính Mac có chip bảo mật Apple T2 hoặc Apple silicon chạy macOS Monterey và quản trị viên hoặc người dùng Trình quản lý đăng ký thiết bị đăng nhập.

Bạn chỉ cần mang Apple Configurator cho iPhone gần Mac trong khi nó đang ở trong Trợ lý Thiết lập để bắt đầu quá trình.

Giống như trên iOS, có khoảng thời gian tạm thời 30 ngày mà người dùng có thể chọn không tham gia Đăng ký thiết bị tự động bằng cách xóa hồ sơ MDM khỏi ngăn Hồ sơ trong Tùy chọn hệ thống.

Điều này yêu cầu thông tin đăng nhập của quản trị viên và cũng sẽ xóa Mac khỏi Apple School Manager hoặc Apple Business Manager.

Để biết thêm thông tin, hãy xem phiên WWDC21 "Quản lý thiết bị bằng Apple Configurator."

Bây giờ hãy chuyển sang cải tiến cho các nhiệm vụ quản lý đang diễn ra.

Chúng tôi đã nói về các tiện ích mở rộng hệ thống trong một số năm nay và chúng tôi hy vọng rằng các nhà phát triển mà bạn làm việc cùng đã thực hiện quá trình chuyển đổi khỏi các tiện ích mở rộng hạt nhân.

Khi triển khai và quản lý các tiện ích mở rộng hệ thống, để tránh các lời nhắc phê duyệt không cần thiết cho người dùng, phương pháp hay nhất là triển khai tải trọng cấu hình để phê duyệt các tiện ích mở rộng trước khi ứng dụng cố gắng tải chúng.

Nhưng chúng tôi biết điều đó không phải lúc nào cũng có thể, vì vậy trong macOS 11.3 trở lên, việc cài đặt tải trọng tiện ích mở rộng hệ thống sẽ thay đổi trạng thái của tiện ích mở rộng.

Ví dụ: nếu tiện ích mở rộng hệ thống đang chờ phê duyệt của người dùng, việc cài đặt tải trọng sẽ kích hoạt tiện ích mở rộng.

Ngược lại, việc xóa tải trọng sẽ vô hiệu hóa tiện ích mở rộng hệ thống và đánh dấu nó để xóa trong lần khởi động lại tiếp theo của Mac, cho phép quá trình xóa đơn giản.

Nhưng để giúp việc loại bỏ tiện ích mở rộng hệ thống trong macOS Monterey trở nên dễ dàng hơn, có một tùy chọn cấu hình mới trong tải trọng tiện ích mở rộng hệ thống được gọi là RemovableSystemExtensions.

Một ứng dụng trong danh sách này có thể hủy kích hoạt các tiện ích mở rộng hệ thống của riêng nó, ví dụ, khi một ứng dụng được gỡ cài đặt.

Với bộ khóa này, không cần mật khẩu quản trị viên để xóa tiện ích mở rộng hệ thống, cho phép xóa hoàn toàn tự động.

Nhiều tiện ích mở rộng hệ thống yêu cầu nhiều hơn là chỉ tải trọng tiện ích mở rộng hệ thống để định cấu hình đầy đủ chúng.

Ví dụ, một tiện ích mở rộng hệ thống được xây dựng với khung mở rộng mạng có thể cần thiết lập bộ lọc nội dung mà bạn có thể bật và phê duyệt bằng cách sử dụng tải trọng bộ lọc nội dung.

Một số tiện ích mở rộng cũng có thể yêu cầu tải trọng Kiểm soát Chính sách Tùy chọn Quyền riêng tư và bạn có thể muốn quản lý thông báo cho các ứng dụng quan trọng sử dụng tiện ích mở rộng hệ thống.

Kiểm tra với các nhà cung cấp tiện ích mở rộng hệ thống của bạn về các cấu hình cần thiết để kích hoạt và định cấu hình đầy đủ các giải pháp, cũng như hỏi về khả năng tương thích của chúng với bất kỳ tiện ích mở rộng hệ thống nào khác mà bạn dự định chạy cùng một lúc.

Điều này đặc biệt quan trọng nếu bạn có kế hoạch sử dụng các sản phẩm từ nhiều nhà cung cấp cùng nhau.

Đối với các tổ chức sử dụng FileVault và ký quỹ khóa khôi phục cá nhân - hoặc PRK - với MDM, macOS Monterey giúp truy cập máy tính Mac bằng Apple silicon dễ dàng hơn.

Trong macOS Monterey, bạn có thể khởi động máy Mac trực tiếp bằng PRK mà không yêu cầu thay đổi mật khẩu và khởi động lại trung gian thông qua recoveryOS.

Điều này cho phép truy cập nhanh hơn nhiều vào máy Mac để khắc phục sự cố hoặc hỗ trợ người dùng.

Trên Apple silicon MacBook Pro này, trải nghiệm đăng nhập thống nhất, mới đối với Apple silicon, được hiển thị.

Lưu ý rằng màn hình đăng nhập đang tôn trọng tùy chọn hiển thị trường tên người dùng và mật khẩu thay vì danh sách người dùng, ngay cả khi bật FileVault.

Để khởi động Mac bằng PRK, bạn chỉ cần nhấn Option-Shift-Return và nhập PRK vào trường Khóa khôi phục.

Chỉ cần nhấn Return hoặc nhấp vào mũi tên chuyển tiếp khi hoàn tất để khởi động máy Mac.

Hãy thảo luận về đề xuất của chúng tôi về việc sử dụng khóa khôi phục cá nhân hoặc khóa khôi phục tổ chức, còn được gọi là IRK, với FileVault trong tương lai.

Trên các máy tính Mac dựa trên Intel, IRK có thể được sử dụng để mở khóa máy Mac được mã hóa FileVault, vô hiệu hóa FileVault bằng dòng lệnh hoặc phổ biến hơn là khôi phục dữ liệu bằng chế độ đĩa đích.

Sử dụng IRK ở quy mô lớn hiện được coi là di sản và IRK không cung cấp chức năng sử dụng trên máy tính Mac với Apple silicon.

Các máy tính Mac với Apple silicon có chế độ Chia sẻ Mac thay vì chế độ đĩa đích và nó yêu cầu có quyền truy cập vào recoveryOS để sử dụng.

Ngoài ra, khóa khôi phục cá nhân, hoặc PRK, là duy nhất cho mỗi ổ đĩa được mã hóa, có thể được ký quỹ vào MDM và cho phép xoay khóa dễ dàng sau khi sử dụng.

Nó cũng có thể được sử dụng trực tiếp trên Mac để truy cập recoveryOS hoặc để khởi động macOS, như chúng tôi vừa trình bày trên Apple silicon.

Quá trình này cho các máy tính Mac dựa trên Intel cũng tương tự.

PRK là một công cụ cực kỳ mạnh mẽ cho các tổ chức và các tổ chức hiện đang sử dụng các khóa khôi phục của tổ chức nên sử dụng các khóa khôi phục cá nhân thay vì trong tương lai.

Chúng tôi tiếp tục bổ sung các biện pháp bảo vệ quyền riêng tư của người dùng vào macOS.

Trong macOS Monterey, các ứng dụng hoặc dịch vụ yêu cầu cài đặt hoặc cấu hình các mô-đun xác thực có thể cắm - hoặc mô-đun PAM - hiện yêu cầu ủy quyền của người dùng.

Ủy quyền có thể được cấp bằng cách sử dụng hồ sơ Kiểm soát Chính sách Tùy chọn Quyền riêng tư từ MDM cấp quyền truy cập toàn bộ đĩa hoặc quyền truy cập vào các tệp quản trị viên hệ thống.

Nhiều MDM đã cấp cho các công cụ đại lý của họ quyền truy cập vào các danh mục này, vì vậy có thể quy trình làm việc hiện tại của bạn sẽ không cần phải thay đổi chút nào để phù hợp với sự bảo vệ mới này.

Tiện ích mở rộng Kerberos tích hợp cung cấp một cách để cung cấp kết nối thư mục với môi trường thư mục đang hoạt động, tại chỗ mà không thực sự cần phải liên kết chính máy tính Mac với thư mục.

Trong các triển khai 1-1, chúng tôi khuyên bạn nên sử dụng tiện ích mở rộng Kerberos hoặc các giải pháp tương tự, cùng với các tài khoản cục bộ, thay vì ràng buộc thư mục truyền thống và tài khoản di động bất cứ khi nào có thể.

Chúng tôi đã xây dựng phần mở rộng Kerberos vào các hệ điều hành trong macOS Catalina, và iOS và iPadOS 13, và nó là sự thay thế cho Enterprise Connect trên macOS.

Enterprise Connect chính thức hoàng hôn kể từ macOS Monterey và việc chạy Enterprise Connect trên macOS Monterey không được hỗ trợ.

Tiện ích mở rộng Kerberos có một số cài đặt tùy chọn mới trong macOS Monterey.

Bây giờ bạn có thể chỉ định một Trung tâm phân phối Kerberos ưa thích, hoặc KDC, cho máy tính Mac của bạn sử dụng.

Và bạn có thể giới hạn quyền truy cập vào thông tin xác thực Kerberos chỉ các ứng dụng khớp với ID gói trong danh sách kiểm soát truy cập được định cấu hình được cài đặt rõ ràng như được quản lý.

Ngoài ra, bạn có thể cho phép hệ thống tiêu chuẩn Kerberos tiện ích bao gồm Ticket Viewer trong klist truy cập và sử dụng thông tin xác thực.

Chúng tôi cũng đã cải thiện độ tin cậy để kiểm tra các thay đổi mật khẩu bắt buộc.

Để biết thêm chi tiết về phần mở rộng Kerberos, vui lòng xem phiên "Leverage Enterprise Identity and Authentication" từ WWDC 2020.

Kể từ macOS 10.15 Catalina, thời gian chạy ngôn ngữ kịch bản như Python, Ruby và Pearl đã được đưa vào macOS chỉ để tương thích với phần mềm kế thừa.

Các phiên bản macOS trong tương lai sẽ không bao gồm thời gian chạy ngôn ngữ kịch bản theo mặc định và có thể yêu cầu bạn cài đặt các gói bổ sung.

Nếu phần mềm bạn sử dụng phụ thuộc vào ngôn ngữ kịch bản, thay vào đó, các nhà cung cấp nên gói thời gian chạy trong ứng dụng của họ.

Trong macOS Monterey, hệ thống PHP đi kèm trước đó đã bị xóa.

Python 2 đã chính thức kết thúc vào tháng 1 năm 2020 bởi Tổ chức Phần mềm Python và không được khuyến nghị sử dụng.

Trong macOS Monterey, một hộp thoại đồ họa sẽ xuất hiện khi một ứng dụng cố gắng sử dụng hệ thống tích hợp Python 2.7.

Điều quan trọng cần lưu ý là hộp thoại hiển thị thông tin ứng dụng gọi điện.

Vì vậy, nếu một tác nhân MDM chạy một tập lệnh mà bạn đã viết đang gọi hệ thống Python, hộp thoại có thể hiển thị tên của ứng dụng tác nhân, mặc dù họ có thể không thực sự sử dụng Python trong ứng dụng của họ.

Vì lý do đó, bạn nên kiểm tra các tập lệnh của mình để sử dụng hệ thống Python và cập nhật chúng khi cần thiết.

Các phiên bản tương lai của macOS sẽ không bao gồm Python 2.7.

Bạn nên cài đặt và quản lý thời gian chạy của riêng mình, bao gồm cả Python 3.

Bạn cũng có thể gọi hệ thống Python 3 nếu cần, nhưng điều đó yêu cầu cài đặt các công cụ dòng lệnh Xcode.

Trong macOS Monterey, sử dụng công cụ dòng lệnh socketfilterfw hoặc MDM để quản lý tường lửa hệ thống là loại trừ lẫn nhau.

Nếu bất kỳ tùy chọn nào cho tường lửa được định cấu hình bằng MDM, công cụ dòng lệnh sẽ không cho phép sửa đổi bất kỳ cài đặt nào ngay cả bởi quản trị viên.

Chúng tôi đã nâng cao khả năng quản lý MDM của tường lửa hệ thống trong macOS Monterey bằng cách cho phép cấu hình các tùy chọn ghi nhật ký, bao gồm cài đặt ghi nhật ký và ở cấp độ nào.

Các tùy chọn ghi nhật ký được định cấu hình hiện tại cũng được cung cấp cho MDM trong truy vấn thông tin bảo mật để giúp báo cáo tuân thủ.

Lưu ý rằng khi quản lý tường lửa hệ thống bằng MDM, các tùy chọn cho phép các ứng dụng đã ký, tải xuống hoặc hệ thống cho các kết nối đến luôn được bật.

Những ánh xạ này trở lại các tùy chọn dòng lệnh cho phép, tải xuống, ký, bật và cho phép, đã ký, bật, đặt thành bật.

Có một số thay đổi đối với chứng chỉ TLS tin cậy trong macOS Monterey.

Dấu gạch dưới trong tên DNS hiện được cho phép, nhiều tiện ích mở rộng có cùng extenID bị từ chối, việc sử dụng khóa được thực thi nghiêm ngặt hơn và pathLenConstraints trên CA gốc doanh nghiệp được thực thi.

Đối với SMIME, các chứng chỉ có khóa RSA nhỏ hơn 2048 bit không còn đáng tin cậy nữa.

Trong macOS Big Sur, chúng tôi đã bật các ứng dụng được quản lý trên macOS, bao gồm hỗ trợ cấu hình và phản hồi ứng dụng được quản lý và khả năng xóa ứng dụng bằng lệnh MDM hoặc khi thiết bị hủy đăng ký khỏi MDM.

Mới trong macOS Monterey, nếu bạn sử dụng Đăng ký người dùng cho môi trường BYOD, dữ liệu ứng dụng được quản lý được phân tách trên một ổ đĩa khác và các ứng dụng được quản lý sử dụng CloudKit hiện sử dụng ID Apple được quản lý được liên kết với hồ sơ MDM.

Khi ứng dụng bị xóa, vùng chứa dữ liệu sẽ bị xóa.

ID Apple được quản lý hiện cũng hỗ trợ iCloud Drive để đăng ký người dùng.

Tổ chức iCloud Drive xuất hiện như một vị trí bổ sung trong Finder.

Xem phiên "Khám phá đăng ký người dùng dựa trên tài khoản" từ WWDC 2021 để biết thêm chi tiết.

Trong macOS Monterey, các máy tính Mac với Apple silicon hiện hỗ trợ các tiêu chuẩn Wi-Fi 802.11k, v và r để chuyển vùng được tối ưu hóa trên các mạng doanh nghiệp.

Tùy chọn IPv6-Only-Preferred hiện cũng được hỗ trợ trong DHCPv4 trên tất cả các máy tính Mac hỗ trợ macOS Monterey, cho phép các thiết bị có khả năng IPv6 từ bỏ việc gán địa chỉ IPv4.

Ngoài ra còn có một hạn chế có sẵn để ngăn chặn việc sử dụng iCloud Private Relay, một tính năng iCloud+ mới giúp bảo vệ quyền riêng tư của người dùng khi họ duyệt web trong Safari.

Bạn có thể chặn iCloud Private Relay trên một mạng cụ thể bằng DNS, nhưng hạn chế này ngăn không cho nó được bật trên Mac ngay từ đầu.

Nếu bạn sử dụng cấu hình tự động proxy hoặc tệp PAC, để định cấu hình máy tính Mac của bạn để sử dụng proxy, có những thay đổi quan trọng trong macOS Monterey cần lưu ý.

Việc sử dụng URL HTTP cho các tệp PAC bị phản đối.

Tự động phát hiện Proxy Web, hoặc WPAD, thông qua DNS không bị ảnh hưởng bởi thay đổi này.

Tuy nhiên, đối với bất kỳ cấu hình nào khác của tệp PAC, bao gồm WPAD thông qua tùy chọn DHCP 252, macOS Monterey có thể cố gắng truy cập tệp PAC qua HTTPS trước khi cuối cùng quay trở lại URL HTTP.

Tham khảo ý kiến của các nhóm mạng của bạn về những thay đổi này, vì chỉ nên sử dụng các sơ đồ URL an toàn cho các tệp PAC trong tương lai.

Bây giờ hãy nói về một khía cạnh cực kỳ quan trọng của quản lý thiết bị cho các tổ chức: quản lý cập nhật phần mềm.

Tại WWDC 2021, đồng nghiệp Lucy của tôi từ nhóm Cập nhật Phần mềm đã có một phiên tuyệt vời nêu chi tiết các cải tiến để quản lý các bản cập nhật phần mềm trên các nền tảng của Apple.

Phiên đó chứa rất nhiều thông tin cho các nhà phát triển và quản trị viên MDM và chúng tôi khuyến khích bạn xem nó.

Ở đây, chúng tôi sẽ cung cấp một số hướng dẫn bổ sung, đặc biệt cho bạn với tư cách là quản trị viên.

Đầu tiên, hãy bắt đầu với công cụ dòng lệnh cập nhật phần mềm, vì chúng tôi nhận ra rằng rất nhiều tổ chức hiện đang bao bọc công cụ xung quanh nó để quản lý các bản cập nhật phần mềm trên macOS.

Công cụ dòng lệnh cập nhật phần mềm vẫn được hỗ trợ và không bị phản đối.

Nó yêu cầu các đặc quyền nâng cao để chạy trên cả Intel và Apple silicon, nhưng trên Apple silicon, nó yêu cầu thông tin đăng nhập của người dùng cho chủ sở hữu ổ đĩa để cài đặt bản cập nhật phần mềm.

Thông tin chi tiết hơn về quyền sở hữu khối lượng có thể được tìm thấy trong phần tài nguyên mà chúng ta sẽ thảo luận vào cuối phiên.

Theo mặc định, công cụ sẽ nhắc nhở các thông tin đăng nhập này một cách tương tác, nhưng macOS Monterey cũng bao gồm các tùy chọn để chuyển thông tin đăng nhập người dùng trực tiếp vào lệnh.

Trong macOS Monterey, bạn có thể sử dụng công cụ CLI Cập nhật Phần mềm tại cửa sổ đăng nhập để cài đặt các bản cập nhật phần mềm.

Mặc dù công cụ dòng lệnh cập nhật phần mềm vẫn được hỗ trợ và bạn có thể sửa đổi công cụ hoặc quy trình làm việc hiện có để đáp ứng yêu cầu xác thực trên Apple silicon, bạn nên sử dụng MDM và ScheduleOSUpdateCommand để triển khai các bản cập nhật phần mềm để quản lý máy tính Mac trong tương lai trong một tổ chức.

Sử dụng MDM sẽ giúp bạn thống nhất quy trình triển khai cập nhật trên cả máy tính Mac dựa trên Intel và máy tính Mac với Apple Silicon.

Có ba giai đoạn quản lý cập nhật phần mềm: kiểm tra, triển khai và thực thi.

Hãy bắt đầu với việc kiểm tra và khả năng trì hoãn cập nhật phần mềm.

Khi chúng tôi phát hành phiên bản beta của hệ điều hành, bạn có thời gian và công cụ để kiểm tra hệ điều hành trong môi trường của mình trước khi nó được phát hành, bao gồm cả các kế hoạch thử nghiệm và ghi chú phát hành tập trung trong AppleSeed cho CNTT.

Khi bản cập nhật được phát hành công khai, các hạn chế trì hoãn cập nhật phần mềm mà bạn có thể áp dụng từ MDM cho các máy tính Mac được giám sát sẽ ngăn các bản cập nhật phần mềm được cung cấp cho người dùng cho đến khi hết một khoảng thời gian xác định.

Khoảng thời gian này có thể cấu hình từ một đến 90 ngày.

Khả năng hiển thị cập nhật trên máy Mac liên quan đến thời gian trì hoãn dựa trên ngày xuất bản bản cập nhật chứ không phải khi máy tính Mac của khách lần đầu tiên phát hiện ra bản cập nhật.

Trong macOS 11.3 trở lên, bạn có thể đặt các cửa sổ hoãn riêng biệt, độc lập cho các bản cập nhật chính, phụ và không phải hệ điều hành như Safari.

Và trong khi cửa sổ trì hoãn tối đa cho tất cả các loại cập nhật là 90 ngày, lưu ý rằng việc cài đặt bản nâng cấp macOS chính với tư cách là người dùng yêu cầu thông tin đăng nhập của quản trị viên và chạy ứng dụng Trợ lý Cài đặt.

Ngoài ra, điều thực sự quan trọng cần lưu ý là mặc dù các bản cập nhật bị trì hoãn không hiển thị trong ngăn tùy chọn Cập nhật phần mềm hoặc trong đầu ra của công cụ dòng lệnh Cập nhật phần mềm, MDM vẫn có khả năng cài đặt các bản cập nhật cụ thể trên các thiết bị.

Nói cách khác, bản cập nhật không cần hiển thị với người dùng để MDM có thể cài đặt nó.

Điều này mang lại cho bạn sự linh hoạt để, ví dụ, bỏ qua hoàn toàn một bản cập nhật cụ thể trong môi trường của bạn và chỉ cần hướng dẫn máy tính Mac của bạn chuyển sang bản cập nhật hệ điều hành mới hơn nếu bạn thích.

Khi bạn đã kiểm tra xong, tiếp theo bạn đã sẵn sàng triển khai các bản cập nhật phần mềm.

Khi sử dụng MDM để cập nhật thiết bị, MDM sẽ gửi Lệnh ScheduleOSUpdate.

Lệnh trên macOS có một số chế độ hoạt động khác nhau được gọi là "cài đặt hành động".

Các hành động cài đặt có sẵn là DownloadOnly, NotifyOnly, InstallASAP hoặc mặc định, InstallForceRestart và InstallLater.

Hãy xem qua chúng ngay bây giờ.

DownloadOnly hữu ích cho cả thiết bị có người dùng và không có người giám sát để tải xuống bản cập nhật trong nền trước thời gian cài đặt.

NotifyOnly có thể được sử dụng để cảnh báo người dùng rằng có một hành động để cài đặt - cả hai tùy chọn này đều không thực sự bắt đầu cài đặt.

InstallASAP hoặc Default là cơ chế cập nhật chính trên macOS.

Nó lý tưởng cho các thiết bị macOS không giám sát hoặc từ xa hoặc cho các tình huống mà bạn muốn thực thi cập nhật càng nhanh càng tốt nhưng vẫn tôn trọng các ứng dụng hiện có thể cần chặn khởi động lại để cập nhật, chẳng hạn như nếu một tác vụ quan trọng cần hoàn thành việc chạy.

Trừ khi ứng dụng chặn khởi động lại, hành động này sẽ thực hiện cập nhật càng sớm càng tốt sau khi quá trình tải xuống kết thúc với tùy chọn được hiển thị trong thông báo cho người dùng hủy khởi động lại trong vòng 60 giây.

Trong macOS Monterey, đồng hồ đếm ngược 60 giây được hiển thị cho cả bản cập nhật lớn và phụ.

InstallASAP cũng là hành động cài đặt nên và có thể được sử dụng cho các bản nâng cấp macOS chính sử dụng MDM.

Ví dụ: bạn có thể nâng cấp máy Mac từ macOS Big Sur 11.5 trở lên lên macOS Monterey chỉ sử dụng MDM mà không cần tải xuống riêng trình cài đặt macOS đầy đủ trước và không cần sử dụng bất kỳ tập lệnh nào bằng các công cụ như startosinstall.

InstallForceRestart là hành động thực thi cuối cùng để cài đặt bản cập nhật vì nó bỏ qua bất kỳ ứng dụng chặn nào và cài đặt bản cập nhật càng nhanh càng tốt.

Điều này lý tưởng để đảm bảo tuân thủ trước một ngày tuyệt đối miễn là thiết bị trực tuyến hoặc cho các hệ thống không giám sát hoặc từ xa, nơi không quan trọng những gì đang xảy ra trên thiết bị trong thời điểm hiện tại.

Lưu ý rằng hành động này có thể gây mất dữ liệu vì một lần nữa, nó không dừng lại để chặn các ứng dụng, vì vậy nó nên được sử dụng hết sức thận trọng.

Cuối cùng nhưng không kém phần quan trọng là InstallLater.

InstallLater cho phép bạn lên lịch cập nhật để cài đặt vào đêm đó nếu có thể và tương tự như tùy chọn InstallTonight mà hệ thống Cập nhật Phần mềm tiêu chuẩn cung cấp cho người dùng.

Thiết bị sẽ chọn một khoảng thời gian dựa trên việc học máy, sử dụng các điều kiện như khi thiết bị ít được sử dụng nhất, để quá trình cài đặt xảy ra thường xảy ra trong khoảng từ 2 đến 4 giờ sáng.

Một số thay đổi để làm cho các hành động cài đặt này thậm chí còn hữu ích hơn cho các tổ chức đã được thực hiện trong macOS Monterey.

Hỗ trợ InstallLater với thời lượng pin từ 50 phần trăm trở lên sẽ giúp đảm bảo phạm vi thực thi cập nhật phần mềm thậm chí còn lớn hơn.

Tiếp theo, tất cả các hành động cài đặt thực sự bắt đầu và cài đặt đều hỗ trợ việc sử dụng mã thông báo bootstrap từ MDM để cho phép cài đặt trên Apple silicon và một hành động được yêu cầu để thực thi các bản cập nhật mà không có sự tương tác của người dùng xảy ra tự động.

Tuy nhiên, lưu ý rằng nếu người dùng hành động theo thông báo và bắt đầu và tự cập nhật thông qua Tùy chọn hệ thống, họ sẽ được nhắc nhập mật khẩu trên Apple silicon.

Người dùng không cần phải là quản trị viên để ủy quyền cập nhật, họ chỉ cần là chủ sở hữu khối lượng.

macOS Monterey hỗ trợ cài đặt các bản cập nhật hệ điều hành khi người dùng tiêu chuẩn đăng nhập vào Mac, cũng như từ cửa sổ đăng nhập khi không có người dùng nào đăng nhập.

Điều này giúp đảm bảo khả năng tương thích với việc triển khai từ xa hoặc không giám sát như trong phòng thí nghiệm máy tính hoặc trung tâm dữ liệu.

Và trong macOS Monterey có khả năng sử dụng ProductVersion như 12.1 để cài đặt bản cập nhật.

Điều này làm giảm sự phức tạp của việc xác định các bản cập nhật phần mềm có sẵn.

MDM của bạn giờ đây có thể thực hiện một truy vấn duy nhất, phía máy chủ thay vì phải truy vấn tất cả các thiết bị của bạn và so sánh truy vấn đó với ID thiết bị cập nhật phần mềm, đây là một phần của thông tin thiết bị mà MDM của bạn đã nhận được định kỳ.

Điều này làm cho quá trình cập nhật của bạn đơn giản như chọn một phiên bản cụ thể để gửi đến thiết bị.

Trong các chu kỳ beta, bạn cũng có thể sử dụng cùng một phiên bản để cài đặt bản beta mới nhất hiện có.

Ví dụ, gửi 12.1 sẽ cài đặt bản beta mới nhất có sẵn là 12.1, ngay cả khi thiết bị của bạn đã chạy bản beta trước đó là 12.1.

Bây giờ chúng ta hãy thực thi các bản cập nhật.

Như chúng tôi đã đề cập trước đó, hành động InstallForceRestart là hành động thực thi cuối cùng và có thể được sử dụng bất cứ khi nào bạn cần thực thi bản cập nhật ngay lập tức.

Nhưng khi bạn biết một mốc thời gian xác định hoặc đơn giản là cần đảm bảo tuân thủ các chính sách bảo mật của tổ chức, tùy chọn hoãn người dùng mới trong macOS Monterey là một lựa chọn tuyệt vời.

Tùy chọn hạn ngạch hoãn người dùng mới cho phép bạn chỉ định số lần tối đa mà Mac sẽ nhắc người dùng cài đặt bản cập nhật trước khi bản cập nhật được thực thi.

Điều này sử dụng hành động cài đặt InstallLater với một khóa mới được gọi là MaxUserDeferrals.

Một thông báo được trình bày cho người dùng thông báo cho họ rằng một bản cập nhật được quản lý bắt buộc đã được yêu cầu cài đặt.

Tiêu đề của thông báo là Cập nhật được quản lý bắt buộc và hỏi người dùng khi nào họ muốn cài đặt nó.

Mở rộng thông báo cung cấp cho họ các tùy chọn để cài đặt bản cập nhật ngay lập tức, cố gắng cài đặt nó vào đêm đó hoặc trì hoãn nó.

Nó cũng bao gồm số lần trì hoãn còn lại cho người dùng, sẽ giảm một lần mỗi khi người dùng nhìn thấy thông báo - khoảng một lần mỗi ngày.

Nếu người dùng bỏ qua thông báo hoặc sử dụng trì hoãn, không có nỗ lực cài đặt bản cập nhật nào được thực hiện vào đêm đó.

Đây là một thay đổi quan trọng mà chúng tôi muốn gọi ra từ hành vi được mô tả tại WWDC.

Khi đạt đến số lần trì hoãn tối đa, thông báo sẽ thông báo cho người dùng rằng không còn trì hoãn nào và bản cập nhật được lên lịch để tự động cài đặt vào đêm đó.

MacOS sẽ cài đặt bản cập nhật một cách mạnh mẽ như thể hành động InstallForceRestart đã được sử dụng và yêu cầu thiết bị được kết nối với nguồn điện hoặc có thời lượng pin từ 50 phần trăm trở lên để tiếp tục.

Nếu những điều kiện đó không được đáp ứng, thiết bị sẽ cố gắng buộc cập nhật lại vào đêm hôm sau.

Những cải tiến này để quản lý các bản cập nhật phần mềm bằng MDM trong macOS Monterey sẽ cho phép bạn dễ dàng đảm bảo tuân thủ hơn, quản lý khả năng tương thích phần mềm trong nhóm của mình và thống nhất quy trình triển khai cập nhật trên cả máy tính Mac dựa trên Intel và máy tính Mac với Apple silicon.

Chúng tôi khuyến khích bạn tiếp tục gửi phản hồi về quản lý cập nhật phần mềm.

Đảm bảo sử dụng ID Apple được quản lý từ Apple School Manager hoặc Apple Business Manager để gửi phản hồi của bạn thông qua chương trình AppleSeed cho CNTT.

Bây giờ hãy khám phá sự trở lại của dịch vụ, mà macOS Monterey cung cấp một cải tiến đáng kinh ngạc.

macOS Monterey mang đến Xóa tất cả nội dung và cài đặt cho Mac.

Xóa tất cả nội dung và cài đặt nhanh chóng đặt lại máy Mac về phiên bản hệ điều hành hiện tại, xóa mật mã tất cả dữ liệu người dùng trong quá trình này.

Xóa tất cả nội dung và cài đặt được hỗ trợ trên máy tính Mac với chip bảo mật Apple T2 và Apple silicon.

Gửi EraseDeviceCommand từ MDM đến các mô hình Mac được hỗ trợ trong macOS Monterey sẽ bắt đầu Xóa tất cả nội dung và cài đặt theo mặc định.

Hành vi xóa thiết bị trước đó - được gọi là xóa - chỉ được sử dụng như một hành vi dự phòng và chúng ta sẽ thảo luận về điều đó trong thời gian ngắn.

Trên máy tính Mac với Apple silicon, mọi cài đặt bảo mật khởi động mà bạn đã sửa đổi trong recoveryOS cũng được đặt lại.

Và chúng tôi biết rằng bạn có thể không muốn người dùng có thể dễ dàng tự xóa máy Mac của họ, vì vậy MDM có một hạn chế có sẵn để ngăn người dùng chạy Trợ lý Xóa trong macOS - ngay cả với tư cách là quản trị viên.

Một vài điều cần biết về Xóa tất cả nội dung và cài đặt khi khởi tạo nó từ MDM.

Mac phải được khởi động từ ổ đĩa hệ thống bên trong, kín và nó phải được khởi động từ phân vùng đầu tiên trên đĩa nếu có nhiều.

Nếu Mac có nhiều ổ đĩa hoặc phân vùng, chúng sẽ bị xóa trong quá trình này nhưng ổ đĩa ngoài không bị xóa.

Các máy tính Mac với Apple silicon phải có sẵn mã thông báo bootstrap từ MDM để cho phép xóa.

Và các máy tính Mac dựa trên Intel với chip bảo mật Apple T2 phải ở chế độ Bảo mật đầy đủ.

Và nếu mật khẩu chương trình cơ sở EFI được đặt, nó cần được xóa trước khi bắt đầu Xóa tất cả nội dung và cài đặt.

Lưu ý rằng trong macOS 12.01 trở lên, MDM có thể gửi SetFirmwarePasswordCommand để xóa mật khẩu chương trình cơ sở, tiếp theo là EraseDeviceCommand để bắt đầu Xóa tất cả nội dung và cài đặt mà không yêu cầu khởi động lại trung gian giữa các lệnh.

Khi một hoặc nhiều yêu cầu để Xóa tất cả nội dung và cài đặt được khởi tạo bằng MDM không được đáp ứng, theo mặc định, máy Mac sẽ quay trở lại hành vi macOS 11 được gọi là xóa.

Việc xóa sổ yêu cầu cài đặt lại hoàn toàn macOS trước khi Mac có thể được sử dụng.

Bạn có thể tùy ý kiểm soát hành vi dự phòng này bằng cách chỉ định khóa hành vi xóa mới trong EraseDeviceCommand từ MDM.

Bạn có thể chỉ định xem Mac có nên hay không nên bị xóa và mỗi tùy chọn kiểm soát mã phản hồi được gửi lại cho MDM.

Kiểm tra với nhà cung cấp MDM của bạn về hỗ trợ cho tùy chọn này, vì nó rất hữu ích để đảm bảo bạn không vô tình phải cài đặt lại hoàn toàn macOS khi bạn chỉ định Xóa tất cả nội dung và cài đặt thay thế.

Kích hoạt Xóa Tất cả Nội dung và Cài đặt khỏi MDM yêu cầu máy tính Mac kích hoạt lại trong recoveryOS.

Tuy nhiên, chúng tôi rất vui mừng thông báo rằng trong macOS 12.1 trở lên, Xóa tất cả nội dung và cài đặt được khởi tạo từ MDM có thể được sử dụng kết hợp với Auto Advance mà chúng tôi đã giới thiệu vào năm ngoái trong macOS Big Sur.

Nếu được kết nối với Ethernet, Mac có thể hoàn thành toàn bộ chu kỳ xóa thiết bị, kích hoạt lại trong recoveryOS và khởi động lại macOS để tự động đăng ký MDM.

Hai công nghệ này kết hợp với nhau dẫn đến chiến lược quay trở lại dịch vụ và cung cấp lại cực kỳ nhanh chóng cho các máy tính Mac từ xa.

Lưu ý rằng trên các máy tính Mac có Apple silicon, bộ chọn ngôn ngữ sẽ không được hiển thị khi khởi động lại vào macOS khi trải qua quá trình này.

Bây giờ chúng tôi sẽ nhanh chóng đề cập đến một vài thay đổi bổ sung cần lưu ý trong macOS Monterey có thể hữu ích cho tổ chức của bạn.

macOS Monterey mang đến Shortcuts cho Mac.

Các phím tắt là tương lai của tự động hóa Mac và macOS Monterey bắt đầu quá trình chuyển đổi nhiều năm từ Automator.

Chúng tôi vẫn quan tâm sâu sắc đến Automator và tất cả những người dựa vào nó, vì vậy để quá trình chuyển đổi suôn sẻ nhất có thể, chúng tôi đã xây dựng một công cụ di chuyển có thể chuyển đổi hầu hết các quy trình làm việc tự động thành Phím tắt bao gồm hỗ trợ đầy đủ cho AppleScript và shell scripting.

Để biết thêm chi tiết về quá trình chuyển đổi này, hãy xem phiên "Gặp tắt cho macOS" từ WWDC 2021.

Trong macOS Monterey, giờ đây bạn có thể chia sẻ, phát hoặc trình bày nội dung từ một thiết bị Apple khác sang máy Mac.

Điều này cực kỳ hữu ích để cho phép chia sẻ bài tập ở trường dễ dàng hơn, trình diễn các ứng dụng hoặc đơn giản là dễ dàng phản chiếu hoặc mở rộng màn hình của bạn hơn, chỉ để liệt kê một vài khả năng.

Mac hiện cũng hoạt động như một loa AirPlay và thậm chí có thể hoạt động như một loa phụ để tạo ra âm thanh nhiều phòng.

Tính năng máy thu AirPlay được bật theo mặc định và mặc định chỉ chấp nhận các thiết bị có cùng ID Apple, mặc dù tính năng phát hiện tự động này bị vô hiệu hóa đối với ID Apple được quản lý.

Có thể tắt bộ thu AirPlay hoặc thay đổi cài đặt bảo mật trong ngăn Chia sẻ trong Tùy chọn Hệ thống.

Lưu ý rằng cùng một tùy chọn mạng vẫn nhắc nhở sự cho phép thông qua thông báo trong Trung tâm thông báo và yêu cầu người dùng nhập mã PIN dành riêng cho thiết bị.

Ngay cả khi không được kết nối với WI-FI, tùy chọn Mọi người đều hỗ trợ khám phá ngang hàng và kết nối giữa người gửi và máy Mac nhận.

Khi bắt đầu kết nối AirPlay từ thiết bị lần đầu tiên, màn hình mã AirPlay được hiển thị cùng với mã PIN.

Sau khi kết nối, phiên AirPlay sẽ xuất hiện ở chế độ toàn màn hình trên Mac.

Mặc dù không phải là một tính năng mới đối với macOS Monterey cụ thể, chúng tôi muốn làm nổi bật phiên bản mới của API Ứng dụng và Sách trong Apple School Manager và Apple Business Manager.

API này được MDM sử dụng để gán giấy phép ứng dụng và sách cho người dùng hoặc thiết bị của bạn.

API ứng dụng và sách mới sử dụng xử lý không đồng bộ; cung cấp thông báo theo thời gian thực cho các thay đổi trạng thái đối với bài tập, tài sản và người dùng đã đăng ký; và hỗ trợ tăng kích thước yêu cầu.

Ví dụ, việc triển khai 25 ứng dụng cho 10.000 người dùng đã từng nhận 25.000 yêu cầu và hiện có thể được thực hiện chỉ trong 10 yêu cầu.

Điều này sẽ cải thiện đáng kể tốc độ và độ tin cậy của việc triển khai thiết bị lớn, cho dù đó là cho mùa tựu trường trong giáo dục, các sự kiện giới thiệu nhân viên hay làm mới thiết bị lớn.

Để biết thêm chi tiết, hãy xem phiên "Cải thiện phân công MDM cho các ứng dụng và sách" từ WWDC 2021.

Bây giờ hãy xem lại một số tài nguyên để giúp bạn thành công trong việc triển khai macOS Monterey.

Chúng tôi đặc biệt khuyến khích bạn thử nghiệm phần mềm Apple mới trong tổ chức của mình trước khi nó được phát hành.

Chương trình AppleSeed cho CNTT cho phép bất kỳ ID Apple được quản lý không phải sinh viên nào từ Apple School Manager hoặc Apple Business Manager tham gia mà không cần lời mời.

AppleSeed cho CNTT cho phép bạn truy cập và tải xuống phần mềm Apple tiền phát hành để thử nghiệm trong môi trường của bạn, bao gồm các kế hoạch thử nghiệm chi tiết và đặt các bài gửi phản hồi của bạn vào một hàng đợi chuyên dụng cho các tổ chức.

Ghi chú phát hành cũng nhắm mục tiêu vào các tổ chức và bạn có thể dễ dàng chỉ định lại phản hồi cho các đồng nghiệp khác.

Tài liệu tham khảo triển khai thiết bị Apple là một tài liệu kỹ thuật với thông tin có sẵn về tải trọng MDM, lệnh và truy vấn để giúp bạn định cấu hình thiết bị trong môi trường của mình, bao gồm thông tin về việc có thể kết hợp tải trọng hay không; nếu chúng được hỗ trợ cho thiết bị, người dùng hoặc cả hai; và hơn thế nữa.

Nó cũng cung cấp thông tin hỗ trợ về cơ sở hạ tầng và tích hợp dịch vụ.

Mặc dù chủ yếu dành cho các nhà phát triển MDM, Tài liệu Nhà phát triển MDM là một tài nguyên cực kỳ hữu ích và kỹ lưỡng có sẵn cho bạn để giúp hiểu cách MDM hoạt động và các tùy chọn có sẵn ở cấp độ giao thức.

Tài liệu Bảo mật Nền tảng Apple cung cấp thông tin bảo mật về tất cả phần mềm, phần cứng và dịch vụ trên các nền tảng Apple.

Trang web Hỗ trợ Chuyên nghiệp AppleCare lưu trữ thông tin chương trình cho từng dịch vụ hỗ trợ hệ điều hành AppleCare cho các bộ phận CNTT và bàn trợ giúp, bao gồm AppleCare cho Doanh nghiệp.

Thông tin quyền sở hữu khối lượng có thể được tìm thấy trong Tài liệu tham khảo triển khai thiết bị Apple và Hướng dẫn bảo mật nền tảng Apple.

Chúng tôi có sẵn một số bài viết Hỗ trợ của Apple bao gồm thông tin mà chúng tôi đã thảo luận hôm nay.

Chúng tôi rất vui mừng về tất cả các thay đổi nền tảng tuyệt vời, các tính năng quản lý mới và cải tiến quy trình triển khai trong macOS Monterey và hy vọng bạn cũng vậy.

Cảm ơn rất nhiều vì đã xem.