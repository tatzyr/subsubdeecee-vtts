110338

みなさん、こんにちは。

私はゲームセンターエンジニアリングチームのZhehongです。

今日は、SharePlayがGame Centerとどのように統合されているかを説明することに本当に興奮しています。

Game CenterはAppleのソーシャルゲームプラットフォームです。

プレイヤーは友達を追加したり、リーダーボードで競争したり、成果を獲得したり、プレイヤーアクティビティですべてを1か所で見ることができます。

Game Centerは、招待状、マッチメイキング、リアルタイムのゲームプレイ、ボイスチャットなど、プレイヤー向けの素晴らしいマルチプレイヤー体験もサポートしています。

今年は、SharePlayのサポートをGame Centerにもたらすことに興奮しています。

プレイヤーはすでに友人、連絡先、近くのプレイヤーを招待して一緒にプレイすることができます。

SharePlayを使用すると、ゲーム体験をその場で共有できます。

今、あなたのプレイヤーがFaceTime通話やメッセージグループに参加している場合、彼らはすぐに一緒にゲームに飛び込むことができます。

あなたのプレイヤーが何人かの友人とメッセージグループにいて、ゲームをプレイしたいと想像してみてください。

彼らは単にグループチャットから音声通話を開始できます。

彼らの友人はFaceTime通話として招待状を受け取ります。

では、ゲームを立ち上げる時間です。

NBA 2K23アーケードエディションを例に挙げてみましょう。

タイトル画面で[今すぐプレイ]をクリックし、マルチプレイヤーを選択できます。

次に、友達と遊ぶボタンをタップします。

その後、オンラインNBAボタンをクリックすると、ゲーム設定ページが表示されます。

四半期ごとに4四半期と2分に設定しましょう。

[次へ]をクリックします。

これにより、Game CenterのマルチプレイヤーUIが表示され、プレイヤーはSharePlayオプションを含むまったく新しいモード選択画面が表示されます。

シェアプレイの開始ボタンをタップすると、グループアクティビティがアクティブになります。

プレイヤーは、端の「開く」ボタンをタップするだけで、参加して一緒にプレイできます。

すでにGame Centerを使用してゲームのマルチプレイヤーをサポートしている場合は、1つの小さなアップデートで完全なSharePlay統合を得ることができます。

さて、あなたのゲームでSharePlayを有効にする方法を紹介します。

現在、GKMatchmakerViewControllerを提示すると、プレイヤーにはデフォルトでモード選択画面が表示されます。

SharePlayの統合を採用したい場合、最初のステップはグループアクティビティの資格をゲームに追加することです。

これを行うには、プロジェクト設定に移動し、[署名と機能]タブでグループアクティビティを検索して選択するだけです。

GroupActivities機能を有効にすると、モード選択画面にSharePlayオプションが表示されます。

GKMatchmakerViewControllerが提供するGame Center Multiplayer UIを使用している場合、それはあなたがしなければならない唯一のステップです。

終わりましたね！

一方、Game Center APIを使用して独自のマルチプレイヤーUIを構築している場合は、SharePlayのAPIと直接統合することを選択できます。

しかし、あなたはGame Center APIを使用しているので、私たちもあなたをカバーしています。

それはまだ本当に簡単です。

あなたはすでにXcodeにGroupActivities機能を追加しました。

今、あなたはいくつかのGameKit APIを呼び出したい。

APIを呼び出すと、SharePlayでグループアクティビティを開始できます。

次に、プレイヤーを受信者リストに追加します。

そして最後に、APIを呼び出すとマッチが始まります。

コードに飛び込みましょう。

まず、GKMatchmaker .shared.startGroupActivityに電話して、FaceTime通話のプレイヤーが試合に参加したいときにGameKitがゲームに通知できるようにします。

次に、プレイヤーを受信者リストに追加します。

最後に、GKMatchmaker.shared.findMatchを呼び出すと、試合を開始します。

これらの手順だけで、あなたのゲームは現在SharePlayをサポートしています。

それと同じくらい簡単です。

最後に、Game CenterとSharePlayの統合により、プレイヤーは友達とゲームを始めやすくなります。

Game Center UIを使用してマルチプレイヤー体験を構築する場合は、XcodeにGroupActivities機能を追加するだけです。

独自のカスタムUIを構築する場合は、GKMatchmakerで提供されている新しいAPIを使用してください。

Game Centerを使用してマルチプレイヤー体験を構築するのが初めての場合は、WWDC 2020の「Tap into Game Center: Leaderboards, Achievements, and Multiplayer」というビデオを見ることをお勧めします。

ご覧いただきありがとうございます。