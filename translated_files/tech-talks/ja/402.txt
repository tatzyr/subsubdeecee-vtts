402

tvOSアプリのデバッグに役立つWebインスペクタの機能をいくつか紹介します。

始めましょう。

これらの機能を実証するために、サンプルコードライブラリからビデオ再生用のサンプルアプリを開きます。

現在、このアプリはXcode Simulatorで実行されています。

Apple TVデバイスまたはApple TVシミュレータのWebインスペクタにアクセスするには、開発メニューのオプションをクリックします。

中に入ると、Web Inspectorのタブの7つを使用できます。

要素、ネットワーク、リソース、タイムライン、コンソール、ストレージ、デバッガ。

[要素] タブには、TVML DOM 構造が表示されます。

ここでは、TVMLを編集およびコピーしたり、ノードを移動および削除したり、属性を追加したりできます。

より多くのノードプロパティとイベントリスナーを表示するには、右側のサイドバーのノードセクションを参照してください。

Optionキーを押しながらクリックして、選択したノードのパスをコピーします。

サイドバーのスタイルセクションで、計算されたスタイルを表示したり、スタイルルールを変更したりすることもできます。

メディアクエリを持つルールは、メディアクエリ情報とともに表示されます。

デフォルトのTVMLKitスタイルは、ユーザーエージェントスタイルシートとして表示され、ロックされています。

これらのスタイルは変更できません。

[ネットワーク]タブでは、現在のアプリによってロードされたすべてのリソースを確認できます。

デフォルトのタブ機能に加えて、ネットワーク項目を消去するボタンがあります。

また、タイミング情報を調べたり、リクエストとレスポンスのヘッダーを調べたり、レスポンスの結果を確認することもできます。

次はリソースタブです。

アプリのJavaScriptファイルに構造化されたコメントを含めると、それらのファイルはさらなる検査のためにリソースに表示されます。

タイムラインタブは、アプリのパフォーマンスを確認するのに役立ちます。

ここでは、タイムラインタブに事前に記録された例があります。

楽器を選択し、記録タイムラインボタンでリロード操作などのイベントを記録します。

詳細については、記録した機器の1つ、JavaScriptとイベントまたはJavaScript割り当てをクリックしてください。

タイムラインをクリアするには、タイムラインをクリアボタンをクリックします。

次はコンソールです。

アプリによって記録されたメッセージを表示するだけでなく、このタブにはコンソールログをフィルタリングし、コンソールログをクリアし、ガベージコレクションをトリガーする機能があります。

[ストレージ] タブには、検査中の Web コンテンツで使用できる永続的な状態が表示され、更新できます。

デフォルトでは、クッキー、ローカルストレージ、セッションストレージが表示されます。

しかし、利用可能な場合、このタブには、WebSQL、IndexedDB、アプリケーションキャッシュなどの追加のストレージAPIも表示されます。

このタブに表示されるキー値のペアを追加および変更できます。

最後はデバッガで、ネットワークタブと同様に、リソースのリストも表示され、デフォルトのタブ機能があります。

また、左側のサイドバーにブレークポイントセクションがあり、右側のサイドバーにスコープチェーンがあります。

コードを一時停止、再生、ステップスルーするためのデバッガコントロールは、タブの左上隅にあります。

要約すると、Safariの開発メニューからtvOSアプリのWebインスペクタにアクセスできます。

ウェブインスペクタを使用して、tvOSのコンテンツを調べます。

最新バージョンのWeb Inspectorを試すには、Apple DeveloperサイトからSafari Technology Previewをダウンロードしてください。

バグを見つけたら、bugreport.apple.comで報告してください。

WebインスペクタとtvOSに関する詳細と追加リソースについては、このビデオに関連するリソースセクションのリンクを使用してください。

そして、それはWebインスペクタでtvOSアプリをデバッグする簡単なウォークスルーです。

見てくれてありがとう。