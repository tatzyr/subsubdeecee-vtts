206

iOS 11のQRコード認識に関するこのビデオへようこそ。

クイックレスポンスコードは、URLなどの情報を埋め込むために使用される2次元バーコードの一種です。

iOS 11では、カメラとSafariの両方でQRコードを自動的に検出するシステムサポートを追加しました。

まず、カメラを見てみましょう。

カメラは写真モードとスクエアモードで自動的にQRコードをスキャンします。

これはロック画面からでも機能します。

SiriにQRコードをスキャンするように指示すると、カメラにもなります。

これがその仕組みです。

カメラをQRコードに向けるだけです。

通知がドロップダウンし、実行できるアクションが説明されます。

通知をタップするとアクションが実行され、この場合はapple.comに移動します。

それはとても簡単です。

iOSはQRコードの多くのデータ型をサポートしています。

次に、各タイプを詳細に説明します。

気軽にiOSデバイスを手に入れて、これらのコードをスキャンしてください。

これは、地球上のポイントをエンコードできるジオスキームを使用する位置QRコードの例です。

通知をタップすると、その場所にピンがドロップされたマップアプリに移動します。

AppleマップのURLで同じことを達成できるので、場所の説明に柔軟性が高まります。

たとえば、この方法で実際のアドレスを指定できます。

テキストメッセージのQRコードの場合、SMS URIをエンコードできます。

通知をタップすると、メッセージアプリのこの電話番号のメッセージ作成ウィンドウが表示されます。

SMSTO形式は、テキストメッセージのアクションを記述するためにもサポートされています。

この形式では、テキストメッセージの内容を事前に入力できます。

メールアドレスの場合は、アドレスを直接エンコードするだけです。

しかし、それが電子メールアドレスとして扱われるように、それのmailto URIを作成することをお勧めします。

この通知をタップすると、受信者の電子メールが事前に入力されたメールの新しいメッセージウィンドウに移動します。

電話番号と同様に、電話番号として適切に認識されるように、電話URIを使用する必要があります。

通知をタップすると、電話アプリでその番号への通話が開始されます。

連絡先のQRコードの場合、iOSはvCard形式をサポートしています。

これらのコードは名刺に役立つかもしれません。

この通知をタップすると、連絡先カードのプレビューが表示され、連絡先リストに保存するオプションが表示されます。

また、通常、vCard形式よりも冗長ではないMeCard形式で連絡先情報をエンコードすることもできます。

iOSは、iCalendar形式でエンコードされたイベントQRコードをサポートしています。

この通知をタップすると、イベントがカレンダーに追加され、イベントの詳細が表示されます。

最後に、iOSは、認証タイプ、ネットワークSSID、パスワードなどのWi-Fi設定情報を含むQRコードをサポートしています。

隠しSSIDはサポートされていません。

このタイプのQRコードは、ユーザーがすべての情報を入力する必要がなくなったなど、インターネットカフェのWi-Fiネットワークにすばやく接続するのに便利です。

ユーザーがWi-Fi QRコードバナーをタップすると、Wi-Fiネットワークに接続するように求められます。

他のシステムアプリで処理されるQRコードの例をお見せしました。

しかし、あなたのアプリはどうですか?

QRコードをスキャンした後、ユーザーをアプリに誘導するにはどうすればよいですか?

ユニバーサルリンクをサポートできるため、ユーザーはウェブサイトへのリンクを含むQRコードをスキャンしたときに、インストールされたアプリにシームレスに誘導できます。

ここに例があります。

pizza.example.comとPizzaFinderアプリの両方を管理しているとしましょう。

ユーザーがクイックスキャンでアクセスできるように、ウェブサイトへのリンク付きのQRコードを公開します。

しかし、アプリがインストールされている場合は、ユーザーをシームレスにPizzaFinderアプリに誘導することもできます。

ユニバーサルリンクのサポートを追加するのは簡単です。

まず、サーバーのルートまたは https で提供される .well-known サブディレクトリに配置する apple-app-site-association ファイルを作成します。

このファイルでは、ユニバーサルリンクとして処理する必要があるウェブサイトからのパスとともに、アプリIDを指定します。

アプリIDキーの値は、チームIDまたはアプリIDプレフィックスで、その後にバンドル識別子が続きます。

次に、アプリが処理したいドメインのリストを、アプリのAssociated Domains entitlementに含めます。

Xcodeでこれを行うには、[機能]タブの[関連ドメイン]セクションを開き、アプリがサポートする各ドメインのエントリを追加します。

現在、ウェブサイトとアプリの間にユニバーサルリンクが設定されているので、ウェブサイトへのURLでQRコードをスキャンすると、ユーザーをアプリに直接連れて行くことができます。

アプリ内の特定の領域にリンクするユニバーサルリンクを設定することもできます。

PizzaFinderアプリがデバイスにインストールされていない場合、URLはSafariに読み込まれます。

そのため、ユーザーが将来のQRコードスキャンのためにアプリを簡単にインストールできるように、そのページからアプリへのApp Storeリンクを提供することが重要です。

それを行う最善の方法は、スマートアプリバナーを追加することです。

これは、ロック画面からでも携帯電話でカメラを起動するのが非常に簡単であるため、独自のQRコードスキャナをアプリに統合しても便利です。

これで、ユーザーは最初にアプリを起動することなく、公開したQRコードをすばやく開くことができます。

ウェブサイトにスマートアプリバナーを追加するには、バナーを表示したい各ページの先頭にこのメタタグを含めます。

iTunes Link Makerページでアプリを検索して、アプリIDを取得できます。

さて、時間が経つにつれて、pizza.example.comが拡張され、人々がピザの経験に関するストーリーを投稿できるようになったとしましょう。

PizzaStoriesという別のアプリも、その機能を処理するために開発されました。

ユニバーサルリンクを使用して、そのアプリをウェブサイトに関連付けることもできます。

PizzaStoriesのユニバーサルリンクを設定するには、アプリケーションのバンドル識別子を使用してapple-app-site-associationファイルに別のエントリを追加するだけです。

また、PizzaFinderと同様に、PizzaStoriesの関連ドメイン資格を設定する必要があります。

現在、両方のアプリにユニバーサルリンクが設定されているため、ユーザーが初めてQRコードをスキャンし、PizzaFinderとPizzaStoriesの両方がデバイスにインストールされると、このようなアプリのQRコード通知が表示されます。

通知をタップすると、URLを開くためのアプリケーションを選択するように促すアラートが表示されます。

ユーザーがPizzaStoriesアプリを選んだとしましょう。

彼らの好みは保存されます。

ユーザーがそのQRコードを再度スキャンする次の項目では、優先アプリケーションがURLを開くためのデフォルトのアプリケーションとして提供されます。

ユーザーは、3D Touchを使用するか、通知をプルダウンすることで、好みのアプリケーションを変更できます。

カメラに加えて、iOS 11のSafariにQRコードのサポートも追加しました。

これがその仕組みです。

3D Touchを使用してWebページで画像をプレビューすると、SafariはQRコードの画像をチェックし、見つかった場合は、コードの内容に関連する追加のメニューアクションを追加します。

QRコード画像を長押しすると、追加のメニューアクションがコンテキストメニューに表示されます。

要約すると、このビデオでは、ユーザーがカメラとSafariから直接QRコードをより簡単にスキャンする方法を示しました。

ユニバーサルリンクを採用することで、ユーザーはアプリに直接誘導することで、よりシームレスな体験ができます。

そして、あなたのアプリケーションがまだインストールされていない人のために、スマートアプリバナーは、それを取得する場所を示すための最良の方法です。

ユニバーサルリンクを採用し、スマートアプリバナーでアプリを宣伝する方法など、このビデオで取り上げたことの詳細については、このビデオに関連するリソースセクションのリンクを使用してください。