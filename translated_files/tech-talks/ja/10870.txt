10870

こんにちは、私の名前はマイクで、企業と教育をサポートするAppleのシニアコンサルティングエンジニアです。

エンタープライズプロダクトマーケティングの同僚のダニエルが参加し、macOS Big Surの展開に関する技術的な深い掘り下げを案内できることを本当に嬉しく思います。

macOS Big Surは、昨年秋にMacコンピュータ用にリリースされた最新のオペレーティングシステムであり、非常に多くの新機能をもたらすため、macOSバージョンをバージョン11に増やすことにしました。

まったく新しいデザイン、メッセージやマップなどのお気に入りのアプリのアップデート、Safariの強化された翻訳機能やプライバシー保護などを備えています。

今日は、主にIT組織に影響を与えるプラットフォームの変更に焦点を当てます。

このセッションでは、これらのプラットフォームの変更の概要を説明します。Danielleは、MacコンピュータのカスタムAppleシリコンへの移行と、その移行に伴う展開に関する考慮事項に焦点を当て、その後、1対1および共有展開の推奨事項を含む特定のワークフローガイダンスで締めくくります。

このセッションの追加リソースは、録音と一緒に見つけることができ、最後に簡単に説明します。

では、プラットフォームの変更から始めましょう。

オートアドバンスは、数年前にApple TVに導入した機能で、電源とイーサネットを接続するだけで自動的に設定できるため、大規模に設定が非常に簡単になります。

それは非常に成功し、macOS Big SurでMacに持ち込みました。

ここでは、macOSのログインウィンドウにどれだけ早く到達したかを確認できます。

MDMとApple School ManagerまたはApple Business Managerを使用してデバイス登録プロファイルがデバイスに割り当てられたら、電源を接続し、イーサネットを接続してから電源を入れるだけです。

MDMを使用して言語と地域を事前に選択でき、すべての設定画面が自動的に進められます。

ネットワークはDHCPをサポートする必要があり、これを箱から出してすぐに機能させるためにクライアントプロキシ構成を必要としてはいけません。

プロセスが開始されると、約30秒間のユーザーインタラクションがないと、Macはすぐにログインウィンドウに到達します。

このワークフローは、共有展開や無人構成に理想的であるため、MDMを使用して作成されることが多いIT管理者アカウント以外のユーザーアカウントは、ディレクトリサービスから来るか、追加のヘルパーツールを使用してプロビジョニングされることを前提としています。

1対1の展開でオートアドバンスを使用することを選択した場合は、Macを使用する最初のユーザーのアカウントがどのように作成されるかを検討する必要があります。

Auto AdvanceはMacをセットアップする最速の方法であり、後で取り上げるstartosinstallと組み合わせることで、完全に自動化された、さらにはリモートでmacOSのアップグレードと再インストールを可能にする強力な組み合わせです。

長年にわたり、Apple School ManagerまたはApple Business Managerを使用して登録した結果、デバイス登録の結果として、デバイス登録、ユーザー承認のMDM登録、自動デバイス登録など、macOSでさまざまな種類のMDM登録がありました。

各タイプの登録により、それぞれより多くの機能を管理または制限することができ、自動デバイス登録により、監督が可能になったため、最も強力なレベルのデバイス管理が可能になりました。

macOS Big Surでは、ユーザーが承認したMDMは監督に相当し、macOSでのデバイス登録に関する考慮事項を大幅に簡素化します。

ユーザーがダウンロードした登録プロファイルを使用してMacを手動で登録し、システム環境設定を使用してインストールした場合、昨年のmacOS Catalinaでは、ユーザーが承認したMDMになりました。

macOS Big Surでは、単にデバイス登録と呼ばれ、デバイスの完全な管理を可能にするために監督をもたらします。

また、Big Surにアップグレードすると、既存のすべての既存のMDM登録を監視対象に自動的に変換します。

ユーザーが承認したMDMは過去の考慮事項であり、これが展開ワークフローに大きく役立つことを願っています。

Appleシリコンを搭載したMacコンピュータの監督には小さな警告がありますが、Danielleは後でそれについて議論します。

MacOS Big Surは、デバイス登録とユーザー登録の両方で、管理対象アプリをMacにもたらします。

主な利点は、MDMがインストールしたアプリを選択または登録解除時に自動的に削除できることです。

iOSスタイルのマネージドアプリの設定とフィードバックもサポートされています。

また、カスタム設定のカスタム構成プロファイルは長い間macOSでサポートされてきましたが、マネージドアプリ構成はユーザー登録で使用でき、ほとんどの場合、一般的なMDMプラットフォーム内でより緊密に結合された構成を可能にします。

デバイス登録の場合、MDMは管理されていないアプリを管理対象に変換できますが、管理対象外から管理対象への変換は、ユーザー登録ではサポートされていません。

macOSの管理対象アプリにはいくつかの要件があります。

アプリケーションをインストールするパッケージは、アプリケーションディレクトリに単一の.appバンドルファイルのみをインストールする必要があり、アプリケーションディレクトリから移動されていない場合は、アプリケーションを削除できます。

Apple School ManagerまたはApple Business ManagerのApps and Booksからインストールされたアプリは、デフォルトでアプリケーションディレクトリにインストールされるため、管理アプリになるのに最適な候補者になります。

管理対象アプリのコンテキストにおけるデータ分離とマネージドオープンインは、現在iOSとiPad OSに固有であることに注意してください。

カスタムアプリを使用すると、組織の固有のニーズを満たすことができます。

そして今、あなたはカスタムMacアプリを配布することができます。

カスタムアプリは、カスタマイズされたルックアンドフィール、機密データのセキュリティ機能、ユニークなビジネスや学校のワークフローのための特別な機能などを提供することができます。

その後、Apple Business ManagerまたはApple School Managerを通じて組織に個人的に提供され、社内で顧客やユーザーに配布することができます。

macOS Big Surでは、2019年以降のMac ProがLights Out Managementをサポートしています。

これは、必要に応じてMac Proを起動、シャットダウン、およびリモートで再起動できることを意味します。つまり、修復タスクのためにデータセンターに物理的に旅行する必要はもうありません。

MDMに登録されたMacはLights Out Managementコントローラーに指定され、MDMが可能なデバイスでLights Out Managementアクションを実行したい場合、MDMはコントローラーにコマンドを送信し、コントローラーは業界標準のPKIを活用したIPv6上の安全で独自のプロトコルを使用してMac Proにコマンドを送信します。

Lights Out ManagementにはmacOS Big Surが必要で、Mac Proコンピュータはイーサネットを使用してIPv6経由でコントローラーMacと同じサブネットにネットワーク接続を持っている必要があります。

また、Lights Out Managementペイロードと、SCEPなどのRSAキーを使用して証明書を構成するペイロードが、管理したいコントローラとMac Proコンピュータに展開されていることを確認する必要があります。

ネットワークインターフェースのボンディングは、管理したいMac Proコンピュータでサポートされています。

これは簡単なイラストです。

MDM管理者として、MDMサーバーからLights Out Managementコマンドを送信すると、コントローラーMacはコマンドを受信し、ターゲットにした各Mac Proコンピュータに配布します。

macOS Catalinaは読み取り専用のシステムボリュームを導入した。

macOS Big Surは、悪意のある改ざんから保護するために、暗号で署名されたシステムボリュームを導入することで、さらに一歩進んでいます。

その一環として、macOSは実際にAPFSスナップショットから起動します。

署名されたシステムボリュームにより、更新プロセスがiOSやiPadOSにはるかに似ているため、システムの更新も容易になります。

システムボリュームは暗号的に検証されているため、FileVaultはシステムボリュームを暗号化しなくなったという点で少し異なります。

ただし、FileVaultは引き続き、データボリューム上のユーザーデータを暗号化するために使用できます。

ITに対するこの変更の一般的な影響は最小限であるべきですが、それは私たちがあなたに気づいてほしかった重要なプラットフォームの変更です。

大規模なSecureTokenとのやり取りは、ブートストラップトークンの導入によりmacOS Catalinaで大幅に改善されましたが、macOS Big Surでの使用方法を拡張し、組織にとってさらに役立つようにしました。

ブートストラップトークンを使用すると、macOSは、すでにSecureToken対応の管理者パスワードで個別に認証することなく、SecureTokenをアカウントに付与できます。

macOS Big Surでは、ブートストラップトークンは、デフォルトで監視対象のMac上の任意のユーザーにSecureTokenを付与します。

以前は、SecureTokenの自動付与は、モバイルアカウントとMDMが作成したIT管理者アカウントのみに制限されていました。

また、注意すべき重要な変更は、そのリリース以降のmacOS Catalina 10.15.4で行われたものです。

MDMがブートストラップトークン機能をサポートしており、ブートストラップトークンがまだmacOSによって生成され、MDMで保存されていない場合、macOSは1つを生成し、現在SecureToken対応のユーザーがMacにログインするいつでも保存しようとします。

ほとんどの場合、これは、Macごとの一意のブートストラップトークンが、追加のスクリプトを必要とせずに、組織内のMacコンピュータで使用できることを意味します。

ブートストラップトークンはまた、Appleシリコンを搭載したMacコンピュータで追加の管理機能を可能にし、Danielleは後でそれらをカバーします。

macOS Catalinaで導入されたシステム拡張機能は、エンドポイントセキュリティ、ネットワーキング、ファイルプロバイダー、プリンターとスキャナなどのアプリの開発者がシステムカーネルの外にあるアプリを構築できるようにするAPIです。

カーネル拡張機能またはkextを使用するベンダーは、代わりにこれらの新しいシステム拡張機能を使用して、システムを安全に保ちながら既存の機能と新しい機能を提供する必要があります。

IT管理者として、カーネル拡張機能を必要とする可能性のあるデバイスドライバ、ファイルプロバイダー、ネットワーク、およびセキュリティアプリを使用していることを知っています。

できるだけ早くシステム拡張機能に基づいて構築された新しいバージョンに移行させることについて、ベンダーと話し合うことをお勧めします。

場合によっては、ベンダーを切り替える必要があるかもしれません。

これらの新しいバージョンは、カーネル拡張機能が長年にわたって処理されてきたのと同じように、ユーザースペースで実行され、攻撃面を減らし、MDMを使用して管理できるため、Macコンピュータのカーネルパニックの可能性を大幅に減らします。

古い同等のもの、macOS Big Surの新機能であるカーネル拡張機能については、システム拡張機能またはDriverKitを使用するために更新する必要があるカーネル拡張機能のロードしようとすると、キーストを更新する必要があることをユーザーに警告し、macOS Big Surでは読み込まれないという警告が表示されます。

ただし、MDMによって許可されたkextには例外があります。

これは、大規模な組織のニーズのバランスを取りながら、システム拡張への移行をサポートするように設計されています。

macOS Big Surのデフォルトでは、カーネル拡張機能をインストールしてロードできるようにするには、カーネルキャッシュを再構築するために管理者が開始したアクションが必要です。

私たちは、多くの組織がユーザーが管理者になることを許可していないことを知っているので、macOS Big Surは、組織が管理資格情報を必要とせずにkextsをロードできるようにするための2つのオプションを提供します。

最初のオプションは、プロセスに関与するユーザーに頼るのではなく、MDMを活用してデバイスを再起動し、カーネルキャッシュを再構築します。

RestartDevice MDMコマンドには、これに対応するための3つのオプションがあり、そのうちの1つはmacOS 11.3で新しいものです。

最初のオプションであるRebuildKernelCacheは、Macにキャッシュを再構築して再起動するように指示します。

オプションの付属のKextPathオプションを使用すると、MDMは、アプリのロード試行を通じて、システムによってまだ発見されていない特定のkextのロードを要求できます。

これにより、MDMは、カーネルキャッシュを再構築する再起動の前に、ユーザーが最初にアプリを起動することなく、アプリをインストールしてkextsをロードすることができます。

macOS 11.3の新機能であるNotifyUserオプションは、ユーザーに通知を表示し、通知に「今すぐ再起動」オプションを含めます。

クリックすると、アップルメニューに移動して再起動を選択するなど、macOSの正常な再起動が実行されます。

NotifyUserは、カーネル拡張機能のコンテキスト外でRestartDevice MDMコマンドで使用できるため、ここに示されているkext関連のオプションなしで使用できることは注目に値しますが、それらを組み合わせると特に役立ちます。

2番目のオプションは、MDMからのシステムポリシーカーネル拡張ペイロードにtrueに設定された新しいキー、AllowNonAdminUserApprovalsを含めることです。

このキーを使用すると、標準ユーザーは、管理者の資格情報を提供することなく、システム環境設定、セキュリティ、プライバシー内からMacを再起動することで、ketsのインストールを手動で完了できます。

データセキュリティを強化し、意図しないプロファイルのインストールを防ぐために、プロファイルがダウンロードされると、インストールする前に、システム環境設定でプロファイルのインストールを完了する必要があることを示すアラートがユーザーに表示されます。

これは、iOSとiPadOS 13で導入したものと似ており、MDM登録プロファイルと構成プロファイルの両方に当てはまります。

プロファイルをインストールしたり、MDMにデバイス登録を実行したりするには、ユーザーはシステム環境設定を手動で起動し、プロファイル環境設定ペインに移動し、プロファイルを選択する必要があります。

その時点で、ユーザーはプロファイルが何をするかを説明するウィンドウが表示され、インストールするか無視するかを選択できます。

プロファイルがダウンロードされてから約8分後にユーザーがアクションを実行しない場合、プロファイルはシステム環境設定から自動的に削除されます。

これらの追加手順は、展開ワークフローとドキュメントで考慮することが重要です。

私たちは、ITチームが展開ワークフローで使用している可能性のあるいくつかのコマンドラインツールに影響を与えるセキュリティ強化を続けています。

macOS Big Surでは、プロファイルコマンドラインツールを使用してプロファイルをインストールできなくなりました。

ツールの他のすべての機能は同じままで、期待どおりに動作し続けます。

さらに、networksetupコマンドラインツールでは、標準ユーザーアカウントが管理者ユーザー名とパスワードなしでネットワーク設定を変更することはできません。

標準ユーザーアカウントは、Wi-Fiのオンとオフを切り替えたり、Wi-Fiネットワーク名またはSSIDを変更したり、すべてのネットワーク設定を読んだりできます。

これにより、ネットワークセットアップコマンドラインツールは、標準ユーザーがシステム環境設定のネットワークペインまたはメニューバーのWi-Fiメニューで制御できるものと同等になります。

macOS Big Surはまた、セキュリティコマンドラインツールを使用して、管理者ユーザーからのインタラクティブな許可なしにシステムキーチェーンに証明書を追加するのを防ぎます。

これは、管理者が明示的に承認したり、MDMを使用してインストールしたりすることなく、システム全体でルート証明書を信頼できなくなったことを意味します。

macOS Big Surのソフトウェアアップデートの分野で多くの変更が導入されました。

まず、前に述べたように、macOSはiOSと同様のアップデートメカニズムを採用しています。

これにより、ソフトウェアアップデートを行うときに再起動する必要がある前に、アップデーターがシステムに変更を加えることができます。

これにより、ソフトウェアアップデートのインストール中にシステムのダウンタイムが大幅に削減され、ユーザーエクスペリエンスが向上します。

macOSの主要なアップグレードとマイナー、セキュリティ、ベータ、アプリのアップデートを最大90日間延期できます。

macOS 11.3の新機能では、主要なmacOSアップグレード、マイナーなmacOSアップデート、およびOS以外のアップデートは、それぞれ別々の延期ウィンドウで延期できるということです。これは、それぞれ最大90日間の3つの異なる可能な延期ウィンドウを意味します。

macOSソフトウェアアップデートをインストールするためにScheduleOSUpdate MDMコマンドを送信すると、MDMはアップデートのインストールを強制し、必要に応じて再起動を強制することができます。

softwareupdateコマンドラインツールを使用して特定のアップデートを無視したり、カスタムソフトウェアアップデートカタログを設定したりしている場合は、これらのフラグがmacOS Big Surで削除されており、MDMを使用してソフトウェアアップデートを管理することが今後の方法であることに注意してください。

macOSでは、プライバシー設定ポリシーコントロールには、ユーザーとシステムの2種類のサービスがあります。

ユーザーサービスは、個々のユーザーによって付与され、ユーザーのカメラやマイクへのアクセスなど、そのユーザーのセッション内で動作するプロセスへのアクセスのみを許可します。

対照的に、システムサービスは管理者によってのみアクセスを許可できますが、システム上のすべてのユーザーにサービスを承認します。

一部のサービスは、カメラ、マイク、スクリーンキャプチャ、リスニングイベントなど、特にプライバシーに敏感です。

MDMを使用して設定できますが、拒否のみで許可できません。

macOS Catalinaでは、標準ユーザーはスクリーンキャプチャ用に自分のアプリを承認することができましたが、macOS Big Surでは管理者認証が必要です。

ただし、macOS Big Surでは、MDMは、標準ユーザーがスクリーンキャプチャとリッスンイベントの両方で自分自身を承認できるアプリを指定できます。

これは、ユーザーが特にプライバシーに敏感なサービスにアクセスする必要があるアプリやサービスについて情報に基づいた意識的な決定を下すことができるようにしながら、デバイスを大規模に構成する必要性のバランスを確保するのに役立ちます。

承認キーは、この機能を有効にするために、スクリーンキャプチャとリスニングイベントサービスエントリのAllowStandardUserToSetSystemServiceの値を受け入れることができます。

設定後、セキュリティとプライバシーの設定ペインは、標準ユーザーが承認できるアプリをテーブルリストで明確に視覚的に区別します。

承認キーは、ブール値のtrueとfalseのみだった以前の許可キーを置き換えますが、移行を容易にするために、macOS Big Surの他のサービスタイプの両方のキーをサポートしています。

macOS Big Surにアップグレードしているマシンの場合、以前のバージョンのmacOSで承認されたエントリは、アップグレード時に承認されたままになります。

macOS Big Surには、SSO拡張機能と組み込みのKerberos拡張機能のための多くの新機能と機能強化が含まれています。

まず、SSO拡張機能を設定するMDMペイロードをユーザーチャネルにインストールできるようになり、ユーザーチャネルで設定された設定は、デバイスチャネルで設定された設定よりも優先されます。

SSO拡張機能のPer-App VPNの処理方法が改善されました。これには、関連するドメインがPer-App VPNで動作するようになりました。

SSO拡張機能は、拡張機能を使用しようとしている呼び出しアプリに関する詳細情報も受け取るようになりました。

新しいプロファイル削除操作もあります。

SSO拡張機能を構成するMDMプロファイルがデバイスから削除されると、拡張機能は、サインアウトしたり、ファイルやキーチェーンエントリをクリーンアップしたり、トークンを取り消したり、必要に応じて他のクリーンアップアクションを実行したりする時間が短くなります。

macOS Big SurのSSO拡張機能と改善点の詳細については、WWDC 2020の「Leverage Enterprise Identity and Authentication」セッションをご覧ください。

組み込みのKerberos拡張機能には、多くの新機能も含まれています。

組み込みのKerberos拡張機能に精通していない場合は、実際にMacコンピュータ自体をディレクトリにバインドすることなく、オンプレミスのActive Directory環境へのディレクトリ接続を提供する方法を提供します。

パスワードの同期や自動Kerberosチケット管理など、多くの機能を提供しています。

私たちは、macOS CatalinaとiOSとiPad OS 13のオペレーティングシステムにKerberos拡張機能を構築し、今後はEnterprise Connectの代替品です。

現在、Kerberos拡張機能を設定するためのユーザーチャネルプロファイルの配信をサポートしています。

この改善により、証明書ベースのKerberosまたはPKINITで使用するユーザーレベルの証明書IDが可能になります。

また、macOSのPer-App VPNへのアプリのKerberos拡張機能の設定もサポートしています。

この改善を利用するには、Kerberosメニューの追加とAppSSOAgentをapp-to-Per App VPNペイロードに追加する必要があります。

最初のログインプロンプトを遅らせる新しいMDM構成オプションや、展開プロセス中に最も便利なときに最初のログインプロンプトを手動でトリガーするAppSSOコマンドラインツールの新しいフラグなど、ITが最初のログインエクスペリエンスをより詳細に制御できるようになりました。

追加メニューは、ユーザーへの拡張機能の状態をより正確に表し、クリックすると、ネットワークの状態と資格情報に関する追加情報を提供します。

そして最後に、カスタムID名やカスタムヘルプテキストを設定する機能など、ユーザーインターフェイスもカスタマイズできるようになりました。

以下は、カスタムヘルプテキストとともにカスタマイズされているID名の例です。

エンタープライズコネクトに関しては、macOS Big Surはエンタープライズコネクトをサポートする最後のリリースです。

新しいKerberos拡張機能を使用してワークフローと展開方法をテストし、ワークフローと移行のガイダンスにAppleチームを参加させてください。

Enterprise Connectからの移行ガイダンスを含むKerberos拡張機能のユーザーガイドは、apple.com/businessのITページの「ID管理リソース」から入手できます。

これは、macOS Big Surで最も重要なプラットフォームの変更の概要です。

すべての最新のアップデートについては、AppleSeed for ITのリリースノートとITのMDM設定ガイドをチェックすることをお勧めします。

さて、ダニエルにAppleシリコンへの移行について話し合いましょう。

ありがとう、マイク。

Macは独自のカスタムシリコンに移行しており、2020年11月にM1でこの移行を開始しました。

これにより、Macに新しくてエキサイティングなパフォーマンスと強力な新技術が得られます。

この変更により、すべてのApple製品で共通のアーキテクチャが可能になり、開発者がAppleエコシステム全体に合わせてアプリを作成して最適化することが容易になります。

私たちは今後何年もの間、インテルベースのMacコンピュータをサポートし続けます。

展開と管理の文脈で、Appleシリコンには、知っておくべき重要な考慮事項がいくつかあります。

今、それらをカバーしましょう。

新しい処理アーキテクチャへの移行に対する大きな考慮事項は、アプリケーションの互換性です。

macOS Big Surには、Appleシリコンへのスムーズでシームレスな移行を保証するテクノロジーが含まれています。

ユニバーサル2アプリケーションバイナリを使用すると、開発者は、IntelベースのMacコンピュータをサポートしながら、Appleシリコンを搭載した新しいMacコンピュータのネイティブパワーとパフォーマンスを活用する単一のアプリを簡単に作成できます。

開発者は既存のアプリをAppleシリコンで実行するように簡単に変換でき、開発者は初めてiOSとiPadOSアプリを変更せずにMacで利用できるようにすることができます。

macOS Big Sur 11.3の新機能であるMDMは、Appleシリコンを搭載したMacコンピュータにiOSとiPadOSアプリをインストールできます。

Rosetta 2の翻訳技術により、ユーザーはプラグインを含む、まだ更新されていないほとんどの既存のMacアプリを実行できます。

ロゼッタはカーネル拡張機能を翻訳できないため、必要に応じてカーネル拡張機能を再コンパイルしてAppleシリコンで実行する必要があります。

しかし、ベンダーは今後、代わりにシステム拡張を採用する必要があります。

ハイパーバイザーフレームワークは、Linuxを実行する機能を含む仮想化を可能にします。

Mac共有モードについて話しましょう。

Appleシリコン搭載のMacコンピュータには、ターゲットディスクモードがありません。

代わりに、ThunderboltまたはUSBケーブルを介した接続にSMBを使用するMac共有モードと呼ばれる機能があります。

ファイルベースであるため、asrやApple Software Restoreなどのツールを使用して、このインターフェイス上でデータをブロックコピーすることはサポートされていません。

Macがユーザーアカウントで設定されると、FileVaultまたはアクティベーションロックが有効になっている場合、Mac共有モードを使用するには認証が必要です。

Mac共有モードは、ユーザーのホームフォルダへのアクセスだけでなく、macOSボリューム全体へのアクセスを提供します。

Appleシリコンを搭載したホストMacは、マウントされたネットワーク共有のように接続しているターゲットMacに表示され、あなたがする必要があるのはゲストとして接続することだけです。

Appleシリコンを搭載したMacコンピュータには、今日アクセスに慣れているrecoveryOSと呼ばれる同様のmacOS回復環境があります。

ただし、Command + Rを使用する代わりに、起動時に電源ボタンを長押ししてアクセスします。

recoveryOSからmacOSを再インストールすると、現在実行しているmacOSのメジャーバージョンで利用可能な最新のアップデートがインストールされます。

たとえば、Macに11.1をインストールしたが、11.3が利用可能な場合、recoveryOSはmacOS 11.3をインストールします。

recoveryOSに問題がある場合、または再インストールが必要な場合、IntelベースのMacコンピュータのようにインターネットリカバリを使用する代わりに、Apple Configurator 2はReviveオプションを使用して再インストールできます。

Apple Configurator 2は、復元オプションを選択すると、プロセス中に最新バージョンのmacOSの新しいコピーをインストールすることもできます。

これにより、Apple Configurator 2は、Appleシリコンを搭載したMacコンピュータで迅速にサービスに戻るための素晴らしい選択肢になります。

Apple Configurator 2の回復メカニズムを使用したmacOSのアップグレードはサポートされていないことに注意してください。

Appleシリコンを搭載したMacコンピュータでは、macOSには新しい統一されたログイン体験があります。

統一されたログイン体験は、FileVaultがオンのときでも新機能を可能にします。

macOSのルックアンドフィールと一致する、加速されたグラフィックスを備えたより豊かなUIをサポートしています。

この経験は、ユーザーがシステムのロックを解除することなく、macOSに完全に起動できることによって可能になります。

たとえば、ユーザーのデフォルトリストの代わりにそのビューを使用することを選択した場合、ユーザー名とパスワードのビューがサポートされるようになりました。

また、CCIDおよびPIV互換のスマートカードによる認証のサポートが組み込まれており、アクセシビリティを高めるためのVoiceOverサポートも含まれています。

Appleシリコンを搭載したMacコンピュータでは、自動デバイス登録でMDMに登録されたデバイスに対して、ソフトウェアアップデートを管理し、カーネル拡張機能をロードする機能が自動的に有効になり、ブートストラップトークンを活用します。

マイクが先に述べた監督に対する小さな警告をカバーするために：以前はユーザー承認MDMとして知られていたデバイス登録を使用して監督されているデバイスの場合、MDMがカーネル拡張を管理できるように、起動セキュリティユーティリティでセキュリティの低下を手動で有効にすることができます。

これは、MDMが最新バージョンへのソフトウェアアップデートを管理するために必要ではありません。

Appleシリコンを搭載したMacコンピュータは、所有権の概念を導入しています。

所有権は、使用のために設定するためにMacを最初に主張したユーザーとして大まかに定義することができ、真の法的所有権や親権の連鎖に結びついていません。

この文脈での所有権は、macOSの特定のインストールのスタートアップセキュリティポリシーを変更する権限を持つ人を定義します。

スタートアップセキュリティポリシーは、Appleシリコンを搭載したMacコンピュータで起動できるmacOSのバージョンと、サードパーティのカーネル拡張機能をロードして管理する方法と方法に関する制限を定義します。

所有権は、Secure Enclaveで保護された暗号化によって裏付けられており、展開操作の主な考慮事項ではなく、実装の詳細であるべきです。

ただし、セキュリティポリシーはmacOSのインストールごとに固有であるため、macOSの追加コピーをインストールするなど、特定のインストールアクションを実行する前に、現在のユーザーの資格情報、より具体的には現在の所有者の資格情報の入力が求められる場合があります。

また、recoveryOSでの特定のmacOSインストールのスタートアップセキュリティポリシーを変更する前に、所有者の資格情報の入力を求められます。

所有者であることは可能ですが、管理者であることはできませんが、所有権を必要とする特定のタスクは両方をチェックします。

たとえば、スタートアップのセキュリティ設定を変更するには、管理者と所有者の両方である必要があります。

Appleシリコンを搭載したMacコンピュータにソフトウェアアップデートをインストールするには、インストールを開始する前に所有者認証も必要ですが、管理対象デバイスもMDMからのブートストラップトークンを利用することを忘れないでください。

つまり、Appleシリコンを搭載したMacコンピュータの展開に関連する変更点の概要です。

さて、マイクは、1対1の展開と共有展開の両方のベストプラクティスを含む展開ワークフローについて説明します。

ありがとう、ダニエル。

このセクションは、macOSのインストーラーについて話すことから始めたいと思います。

macOSのインストールに不可欠であり、ITがさまざまな展開ワークフローに役立つ強力な自動化ツールが含まれています。

macOS Big Surで8年間のハードウェアサポートを提供できることを誇りに思います。

macOSインストーラーは、2013年にさかのぼるほとんどのMacコンピュータで実行されます。

macOSインストーラーの展開モデルと配布方法は、それを取得する最善の方法を決定します。

歴史的に、ほとんどの場合、私がすぐに通過するものを含め、IT主導のワークフローでは、Mac App Storeまたはシステム環境設定からインストーラーの単一のコピーを取得することが最善の方法でした。

ITポリシーに応じて、ユーザーが自分でMacコンピュータをアップグレードできる場合は、Mac App Storeまたはシステム環境設定を活用してインストーラーをダウンロードすることもできます。

MDMからの配布に使用するために、Apple School ManagerまたはApple Business Manager内のApps and BooksからmacOSインストーラのライセンスを取得できます。

そして、インストーラを取得するためのもう1つの素晴らしいオプションは、ダウンロードをスクリプト化できるsoftwareupdateコマンドラインツール用にmacOS Catalinaで昨年導入されたオプションです。

まもなくこれをもっと詳しく説明します。

インストーラーを入手したら、それをMacコンピュータにどのように配布するかを考えたいと思うでしょう。

お好みのツールを使用して、Macコンピュータにリモートでコピーできます。

インストーラーをUSBサムドライブなどの外部メディアに配置できます。

Apple School ManagerまたはApple Business ManagerのApps and Booksを通じて取得したアプリとして、MDMを使用してインストーラーアプリケーションを直接プッシュできます。

または、私が述べたように、macOS Catalina以降、潜在的にターゲットのMacで直接、ダウンロードを簡単にスクリプト化できます。

macOS Catalina以降、softwareupdateコマンドラインツールのfetch-full-installerフラグは、ソフトウェアアップデートカタログで利用可能なmacOSインストーラの最新のフルコピーを自動的にダウンロードします。

また、そのバージョンがカタログでまだ利用可能であると仮定して、フルインストーラーバージョンフラグを使用して特定のバージョンを指定することもできます。

簡単なメモとして、macOS Catalinaでは、最新のインストーラーをダウンロードするためにもそのフラグを使用する必要があったかもしれませんが、Big Surでは必要ありません。

Big Surでは、リストフルインストーラーオプションを使用して、ダウンロード可能なインストーラーのリストを表示できますが、リストはコマンドが実行されるMac用にカスタマイズされており、そのMacで利用可能な最も古いmacOSバージョンにさかのぼるインストーラーのみが含まれることに注意してください。

すぐに取り上げるstartosinstallで使用すると、完全に自動化されたダウンロードとインストール、またはmacOSの再インストールが可能になります。

macOSインストーラーのコピーを入手したら、macOS Big Surのインストールを実際に開始する方法はたくさんあります。

多くの選択肢を持つことは、多くの異なるワークフローで多くの柔軟性を可能にします。

次のセクションでは、macOSのインストールを開始する方法について説明します。

これらのインストール方法の多くは、コンテンツキャッシングを活用して、ネットワーク上のインターネット帯域幅の使用率を削減するのに役立ちます。

コマンドラインツールのstartosinstallから始めましょう。

startosinstallは、macOSインストーラーのコンテンツとリソースフォルダ内にあります。

スクリプトを使用して自動化されたワークフローを可能にし、このツールには多くのフラグがあり、macOSをアップグレードまたは再インストールするための強力なツールになります。

これらのフラグの1つは eraseinstallです。

このフラグは、macOSをデフォルトの状態に再インストールするのに便利です。

APFSコンテナに新しいボリュームを作成し、macOSをインストールし、再起動し、以前のブートボリュームを含む同じコンテナ内の他のすべてのボリュームを削除するため、AppleファイルシステムまたはAPFSが必要です。

これらの他のボリュームを保存したい場合は、preservecontainerフラグを使用できます。

その結果、ディスクユーティリティを使用して最初に内部ストレージを手動で消去したかのように、macOSがきれいにインストールされます。

もう1つの強力なフラグはインストールパッケージです。

このフラグを使用すると、macOSのインストールが完了した後、macOSインストーラーに任意の数のパッケージをインストールさせることができます。

複数のパッケージをインストールする必要がある場合は、それぞれが異なるパッケージへのパスを持つ複数のインストールパッケージフラグをコマンドに渡すだけです。

eraseinstallとinstallpackageを組み合わせると、最近ヘルプデスクに引き渡されたマシンを持ち帰り、macOSやその他のパッケージアプリケーションを再インストールし、新しいユーザーに配布する準備が整います。

macOS CatalinaとmacOS Big Surは、コマンドに渡されたすべてのパッケージを、コマンドに渡された順序でinstallpackageフラグでインストールします。

Appleシリコンを搭載したMacコンピュータでstartosinstallを使用するには、管理者所有者の資格情報をコマンドに渡す必要があることに注意してください。

-Hでコマンドを実行して、追加の使用情報を表示します。

インストーラーの内部には、createinstallmediaと呼ばれる別のコマンドラインツールがあり、macOSのインストールで使用する起動可能なインストーラーを作成できます。

-Hオプションで実行して、使用情報を取得できます。

このツールは、アップグレードしたいマシンが多く、ネットワークリソースが限られている場合に役立ちます。

外部メディアでインストーラを使用すると、macOSのインストールに必要なほぼすべてのファイルが外部メディア自体に配置されているため、インストール中のネットワークへの影響は最小限です。

ダウンロードアセットと呼ばれるツールには、Apple T2セキュリティチップを搭載したMacコンピュータへのmacOSインストール中に使用されるApple T2セキュリティチップファームウェアを事前にダウンロードするフラグがあります。

Apple T2セキュリティチップを搭載したMacコンピュータのオペレーティングシステムは、インストール中にそのハードウェアに合わせてパーソナライズする必要があるため、そのフラグを使用する場合でも、Macにインターネット接続が必要であることに注意してください。

また、Apple T2セキュリティチップを搭載したMacコンピュータでは、外部メディアからの起動はデフォルトでは許可されていませんが、オプションで許可できることに注意してください。

外部メディアからの起動は、Appleシリコンを含む他のMacコンピュータではデフォルトで許可されています。

リカバリを使用することは、macOS Big Surをインストールするもう1つのオプションです。

リカバリには3つの形式があります。macOSリカバリパーティションであるIntelベースのMacへのローカル、IntelベースのMacコンピュータ用のインターネットリカバリ、およびAppleシリコン用のApple Configurator 2と一緒にrecoveryOSです。

IntelベースのMacコンピュータの場合、起動時にCommand-Rを押すことでローカルmacOS回復パーティションで起動でき、Macにすでにインストールされている最新バージョンのmacOSを再インストールできます。

IntelベースのMacコンピュータのインターネットリカバリは、macOS Recoveryに似ていますが、Appleのクラウドのサーバーに起動してネットワーク経由で処理され、Macのローカルリカバリパーティションに問題がある可能性がある場合でも利用できます。

インターネット復旧にはいくつかの異なるブートキーがありますが、最も一般的に使用されるのは、可能な最新バージョンのmacOSをインストールするOption-Command-Rです。

ローカルまたはインターネットリカバリのいずれかの回復を使用する場合は、オプションでディスクユーティリティを使用して、インストールする前に内部ストレージを手動で消去できます。

Apple T2セキュリティチップを搭載したMacコンピュータのインターネットリカバリでmacOSの最新バージョンへの起動は、インターネットリカバリモードで起動しようとしたときのチップのファームウェアバージョンに依存することに注意してください。

必要に応じて、Apple Configurator 2を使用してDFUモードでT2チップファームウェアを更新することで、macOSとは別に更新できます。

ダニエルは、以前にAppleシリコンを搭載したMacコンピュータ用のApple Configurator 2の新しいrecoveryOSと機能について議論しました。

最後に、ITポリシーで許可されている場合、ユーザーはMac App Storeまたはシステム環境設定のインストールアシスタントを使用して、macOS Big Surを自分でインストールすることもできます。

これは自宅の消費者と同じ経験であり、インストール手順のグラフィカルなウォークスルーをユーザーに提供します。

インストールを開始するには管理者権限が必要です。

今からダニエルに返します。

ありがとう、マイク。

macOSのインストール方法を取り上げたので、1対1と共有デバイスの両方を含む、特定のワークフローに関する推奨事項について説明します。

初期展開、アップグレード、サービスへの復帰について説明します。

最初の展開から始めましょう。

1対1の環境でのMacコンピュータの初期展開の場合、ユーザーとITの両方にとって最高のエクスペリエンスは、Apple Business ManagerとApple School Managerの一部としてMDMと自動デバイス登録を使用するすぐに使用できるワークフローを活用することです。

自動デバイス登録は、Appleシリコンを搭載したMacコンピュータでの監視とカーネル拡張管理とソフトウェアアップデートのインストール機能を可能にします。

自動デバイス登録により、IT部門は、デバイスの消費者セットアップ中に通常見られる一般的なセットアップ画面のいずれかをスキップできるようにすることで、ユーザーのセットアップエクスペリエンスをカスタマイズおよび合理化することができます。

デバイスの初期設定中、MDMは、初回使用のために最も重要なアプリと構成で設定されるまで、セットアップアシスタントでデバイスを保持できます。

私たちは、すべての組織が1対1の展開のために可能な限りローカルアカウントを使用することを奨励します。

その理由の詳細については、WWDC 2020の「エンタープライズアイデンティティと認証の活用」セッションをご覧ください。

共有環境では、同じ理由で自動デバイス登録を使用することをお勧めします。

新しいオートアドバンス機能を使用すると、真のゼロタッチセットアップが可能になり、マイクが先ほど説明したstartosinstallと組み合わせると非常に強力です。

複数のユーザーがMacを使用しているため、ディレクトリサービスまたはIDプロバイダーヘルパーツールがアカウントへのアクセスを提供することがよくあります。

図書館やコンピュータラボなどの交通量の多い地域では、ローカルホームフォルダのクリーンアップに役立つアカウントの有効期限と削除戦略を検討してください。

これを自分でスクリプト化するか、モバイルアカウントの組み込み機能を使用して、一定期間後に自動的に期限切れになるかは、あなた次第です。

では、アップグレードを見てみましょう。

macOS Big Surにアップグレードするときは、マイクが以前にmacOSインストーラーについて話し合ったときにカバーした方法の1つまたは多くを活用することができます。

最終的には、どのオプションがあなたの環境で最もよく機能するかを決めるのはあなた次第ですが、さまざまな状況やワークフローに対応するために利用できるものがたくさんあります。

所定の位置にアップグレードするか、消去してアップグレードするかもあなた次第です。

では、サービスへの復帰を見てみましょう。

サービスに戻るために、startosinstallの eraseinstallフラグは、すべてのMacコンピュータでサポートされており、追加の考慮事項や設定を必要とせずにMacのアップグレードと消去の両方を処理できるため、優れたオプションです。

IntelベースのMacコンピュータでは、インターネットリカバリを使用できます。

また、サービスに戻るというこの文脈では、macOSを再インストールする前に、まず内部ストレージを消去してください。

IntelベースのMacコンピュータとAppleシリコンを搭載したコンピュータでは、macOS Recovery、AppleシリコンのrecoveryOS、または外部メディアワークフローを使用できます。

繰り返しになりますが、まずディスクユーティリティを使用して内部ストレージを消去するか、いくつかのプロビジョニングツールに組み込まれている自動化機能を使用してそうしてください。

復旧環境からstartosinstallを実行することは推奨されておらず、Appleシリコンを搭載したMacコンピュータではサポートされていないことに注意してください。

Appleシリコン搭載のMacコンピュータの場合、先に説明したように、Apple Configurator 2を使用してmacOSを再インストールできます。

Apple Configurator 2を使用すると、復元の実行時に常に最新バージョンのmacOSがインストールされることに注意してください。

つまり、1対1と共有デバイスの両方の推奨事項、初期展開、アップグレード、サービスへの復帰など、展開ワークフローの概要です。

最後に、最後に、利用可能なリソースを見てみましょう。 

主にMDM開発者を対象としていますが、MDM開発者ドキュメントは、MDMがプロトコルレベルでどのように機能するかを理解するのに役立つ、ITが利用できる非常に有用で徹底的なリソースでもあります。

ITのMDM設定ガイドは、MDMから入手可能なペイロードに関する情報を含む技術リソースで、環境内のデバイスの設定に役立ちます。

Macの展開リファレンスは、今日取り上げたトピックに関する技術文書です。

Apple Platform Securityのドキュメントには、プラットフォーム全体のすべてのソフトウェア、ハードウェア、およびサービス機能がリストされています。

AppleCareプロフェッショナルサポートWebサイトは、IT部門とITヘルプデスク向けの各AppleCare OSサポート製品のプログラム情報をホストしています。

新しいAppleソフトウェアのテストに興味がある場合は、Apple School ManagerまたはApple Business Managerの学生以外の管理対象Apple IDは、AppleSeed for ITプログラムに参加できます。

このプログラムでは、環境でテストするためのリリース前のAppleソフトウェアにアクセスでき、詳細なテスト計画が含まれており、フィードバックを提出するための専用のキューにフィードバックを入れ、問題や機能強化が教育と企業に焦点を当てたチームによってレビューされます。

リリースノートは教育や企業も対象としており、組織のオペレーティングシステムにおけるインパクトのある変更や問題を強調することができます。

最後に、私たちが議論したトピックに関連するAppleサポート記事のリストです。

これらのリソースと、macOS Big SurとAppleシリコンに関するすべてのアップデートをご活用いただければ幸いです。

ありがとうございます。