501

革新的なiPhone XとAppleTV 4Kの導入により、高ダイナミックレンジと4Kビデオのサポートが追加され、ビデオ再生体験はまったく新しいレベルに引き上げられます。

4Kは通常、最大3840 x 2160のフレームサイズを指し、HDと比較して非常に詳細で高解像度の画像を提供します。

ワイドカラーはiOS、macOS、tvOSでサポートされており、メディアフレームワークは可視スペクトルの約75%をカバーするrec 2020色空間までサポートしています。

HEVCのサポートの追加により、H.264と比較して約40%低いビットレートで高品質のビデオを配信できます。

HDRビデオはHEVCを使用して配信する必要があります。

私たちがサポートしているHDRフォーマットは、ドルビービジョンとHDR10の2つです。

HDR10は、プログラム全体に適用される静的メタデータを利用します。

このメタデータはHEVC設定ボックスにあり、個々のサンプルデータに保存しないでください。

ドルビービジョンのコンテンツでは、シングルレイヤー、10ビットHEVC、レベル7までのプロファイル5をサポートしています。

どちらのHDRフォーマットでも、コンテンツはHEVCを使用してエンコードする必要があります。

毎秒30フレーム以下のHDRバリアントを含める必要があります。

また、プライマリメディアコンテンツとIフレームプレイリストの両方にSDRバリアントを常に提供する必要があります。

デバイスが互換性のあるバリアントを選択できるように、HLS仕様に新しいビデオ範囲タグを追加しました。

プレイリストにHDRバリアントを含める場合は、このタグを含める必要があります。

標準のダイナミックレンジバリアントにはSDR、HDR10またはドルビービジョンバリアントにはPQを宣言します。

このタグは、サポートできないストリームを再生しようとしないように、クライアントへのアドバイザリです。

HDCP TYPE-1コンテンツ保護をサポートするために、新しいTYPE-1値がHDCPレベルタグに追加されました。

この値は、通常、解像度が1920×1080を超えるコンテンツに適用されます。

このタグは本質的にアドバイザリーであり、クライアントが現在添付されているディスプレイでサポートできないコンテンツを再生しようとするのを防ぎます。

最後に、プレイリストがさまざまな種類のコンテンツを区別する方法と、先ほど説明したタグがどのように適用されるか、いくつかの例を簡単に見てみましょう。

これは、HDCPを必要としない標準ダイナミックレンジHEVCストリームの例です。

この2番目の例では、「VIDEO-RANGE」タグのPQ値で示される4K HDRストリームについて説明します。

「CODECS」タグはそれをドルビービジョンストリームとして記述し、「HDCP-LEVEL」タグは、ストリームを正常に再生するためにTYPE-1が必要であることを示しています。

この4K HDR10の例は、ドルビービジョンの例とは「CODECS」タグによってのみ異なります。

「VIDEO-RANGE」タグと「HDCP-LEVEL」タグは同じです。

HTTPライブストリーミングの詳細については、devleoper.apple.com/streamingにアクセスして、HLSオーサリングガイド、ストリームバリデータを含むHTTPライブストリーミングツール、および独自のアプリでテストできるコンテンツのサンプルにアクセスしてください。