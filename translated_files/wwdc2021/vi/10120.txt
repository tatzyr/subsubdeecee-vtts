10120

♪ Nhạc bass đang phát ♪

♪

Sommer Panage: Xin chào, tên tôi là Sommer Panage.

Tôi rất vui được nói chuyện với bạn hôm nay về Truy cập Bàn phím Đầy đủ trên iOS.

Truy cập bàn phím đầy đủ là một tính năng dành cho khách hàng của chúng tôi bị suy giảm vận động.

Vì vậy, để bắt đầu hôm nay, tôi sẽ cung cấp cho bạn một cái nhìn tổng quan nhanh về khả năng tiếp cận động cơ nói chung trên iOS.

Sau đó, chúng ta sẽ xem xét kỹ hơn về Truy cập Bàn phím Đầy đủ và tất cả sức mạnh mà nó mang lại cho người dùng, đặc biệt là trên iPad.

Và cuối cùng, chúng tôi sẽ đi sâu vào các API và nguyên tắc chính mà bạn với tư cách là nhà phát triển nên chắc chắn ghi nhớ khi bạn xây dựng các ứng dụng của mình để chắc chắn rằng chúng hỗ trợ người dùng bàn phím.

Bây giờ, hãy bắt đầu với đánh giá về khả năng tiếp cận động cơ.

Khi chúng tôi thảo luận về việc phát triển các ứng dụng có thể truy cập cho iOS, chúng tôi muốn ghi nhớ tất cả người dùng.

Chúng ta thường nói về khả năng tiếp cận về mặt VoiceOver, một công nghệ dành cho những người mù hoặc thị lực kém.

Tuy nhiên, điều quan trọng là phải đảm bảo phần mềm của chúng tôi hoạt động cho bất kỳ ai bị suy giảm vận động.

Suy giảm vận động là một thuật ngữ phổ biến và có thể ảnh hưởng đến cách ai đó sử dụng thiết bị iOS của họ theo nhiều cách.

Một số người có thể có phạm vi chuyển động hạn chế.

Những người khác có thể bị suy giảm vận động tốt hơn như run hoặc những khó khăn khác khi chạm vào màn hình.

Và tùy thuộc vào mức độ nghiêm trọng của suy giảm vận động, nhiều người thấy việc tương tác với thiết bị của họ dễ dàng hơn hoặc thậm chí cần thiết thông qua phần cứng bên ngoài như bàn phím, cần điều khiển hoặc nút bấm.

iOS cung cấp nhiều công nghệ hỗ trợ để giúp những người bị suy giảm vận động có trải nghiệm liền mạch với thiết bị của họ.

Ví dụ, chúng tôi cung cấp AssistiveTouch cho những người có thể gặp một số khó khăn với các tương tác phần cứng hoặc cử chỉ Multi-Touch.

AssistiveTouch sử dụng menu trên màn hình để đơn giản hóa các tương tác này thành các thao tác đơn giản.

Điều khiển công tắc cho phép những người có khả năng vận động hạn chế hơn tương tác với các thiết bị iOS của họ bằng cách sử dụng một hoặc nhiều công tắc hoặc nút bên ngoài.

Và tất nhiên, cũng có Điều khiển bằng giọng nói, cho phép mọi người tương tác với các thiết bị iOS của họ chỉ bằng giọng nói của họ.

Và điều đó đưa chúng ta đến một trong những công nghệ động cơ mới nhất của chúng ta, Truy cập Bàn phím Đầy đủ.

Mặc dù iOS đã cung cấp hỗ trợ cho bàn phím từ iOS 9, nhưng đây là một chế độ nhập bổ sung.

Với Full Keyboard Access, được phát hành trong iOS 13.4.1, giờ đây khách hàng có thể tương tác với thiết bị của họ 100% thông qua bàn phím.

Đó là nền tảng trung gian giữa AssistiveTouch và Switch Control dành cho những người có thể không đủ khéo léo để chạm vào màn hình của họ nhưng cũng không nhất thiết cần hoặc muốn sử dụng các công tắc bên ngoài.

Nó cũng cung cấp một giải pháp thay thế cho Điều khiển bằng giọng nói cho những người có thể không nói, bị suy giảm khả năng nói hoặc đơn giản là có thể ở trong một môi trường mà việc sử dụng Điều khiển bằng giọng nói không có ý nghĩa.

Truy cập bàn phím đầy đủ cũng rất tuyệt vời cho những người phụ thuộc vào bố cục bàn phím tùy chỉnh hoặc có thể truy cập như bàn phím một tay hoặc bàn phím chia nhỏ tiện dụng này ở đây.

Để Truy cập Bàn phím Đầy đủ mang đến cho mọi người trải nghiệm iOS thực sự mà không cần màn hình cảm ứng, nó cung cấp nhiều bổ sung cho đầu vào bàn phím cơ bản.

Truy cập bàn phím đầy đủ cũng có các lệnh điều hướng để người dùng có thể truy cập mọi yếu tố trên màn hình, lệnh tương tác và chế độ Cử chỉ cho những thứ như kéo và thả.

Và tất cả các lệnh này đều sử dụng Tab làm khóa sửa đổi.

Tuy nhiên, chúng cũng hoàn toàn có thể tùy chỉnh cho những người có thể thích các combo phím khác nhau.

Vì vậy, chúng ta hãy xem cách người dùng có thể điều hướng trên iPad của họ bằng cách sử dụng Truy cập Bàn phím Đầy đủ.

Vì vậy, trước tiên, tôi có thể sử dụng các phím mũi tên để di chuyển đến ứng dụng Ghi chú và phím cách để kích hoạt.

Từ đó, tôi có thể Tab qua để tạo một ghi chú mới và sau đó tôi có thể chỉnh sửa ngay lập tức.

Tôi nghĩ tôi sẽ ghi chú một số về phiên bản hai từ một trong những ứng dụng của tôi có tên là Shape Shuffle.

Hãy làm cho nó trở nên tuyệt vời cho iPad.

Khi tôi chỉnh sửa xong, tôi có thể sử dụng Control-Tab để thoát khỏi chế độ chỉnh sửa.

Bây giờ nếu tôi muốn xóa một ghi chú cũ, tôi có thể sử dụng Tab-Z để hiển thị danh sách các hành động.

Sau đó tôi có thể sử dụng mũi tên và Dấu cách để xóa ghi chú.

Bây giờ, giả sử tôi muốn tạo thêm một ghi chú mới.

Chà, tôi có thể Tab lại nút Tạo Ghi chú hoặc tôi có thể sử dụng tính năng Tìm bằng cách sử dụng Tab-F.

Sau đó, tôi chỉ cần nhập "mới", và thế là xong.

Vì vậy, bây giờ bạn đã biết tất cả về Truy cập Bàn phím Đầy đủ và cách nó được sử dụng, đã đến lúc xem xét cách bạn, với tư cách là một nhà phát triển ứng dụng, có thể đảm bảo rằng người dùng bàn phím có trải nghiệm tốt nhất có thể.

Vào năm 2020, tôi đã nói chuyện với bạn về Switch Control, và chúng tôi đã làm việc trên trò chơi thú vị này cho trẻ em để tìm hiểu hình dạng, màu sắc và số của chúng.

Cùng nhau, chúng tôi đã làm cho ứng dụng này có thể truy cập được.

Năm nay, tôi quyết định cải tiến Shape Shuffle cho iPad để chúng tôi có thể đảm bảo rằng nó hoạt động tốt với Full Keyboard Access.

Nếu bạn chưa xem Shape Shuffle, đừng lo lắng.

Đây là một chuyến tham quan nhanh.

Ở mỗi cấp độ, người chơi nhận được một lời nhắc giống như cái mà chúng ta thấy ở đây: Hai ô vuông màu vàng.

Sau đó, họ phải nhấn qua các thẻ bên dưới để cố gắng tìm ba thẻ bắt buộc; trong trường hợp này, một thẻ có hai đồ vật, một thẻ vuông và một thẻ vàng.

Khi họ đã khai thác gấp đôi từng thẻ chính xác, họ có thể chuyển sang cấp độ tiếp theo.

Và khi các cấp độ tăng lên, các lời nhắc trở nên khó khăn hơn.

Có vẻ như tôi vừa tìm thấy hai cái, vì vậy tôi có thể nhấn đúp để thêm nó vào bảng của mình và tiếp tục tìm kiếm màu vàng và hình vuông.

Bây giờ, nếu tôi không chắc liệu thẻ có đúng hay không, tôi có thể ghim vào đó bằng cách nhấn và giữ nó để tôi biết quay lại sau.

Tôi sẽ ghim vào hai cái này ở phía dưới bên trái.

Sau đó, khi tôi trở lại, tôi có thể thực hiện lựa chọn cuối cùng của mình và đánh bại cấp độ.

Hừm... Tôi hiểu rồi!

Bây giờ hãy bắt đầu với chế độ xem trò chơi của chúng ta để xem mọi thứ hoạt động như thế nào khi tôi chơi một vòng khác nhưng lần này thông qua bàn phím của tôi.

Vì vậy, khi tôi nhấn Tab và phím cách, mọi thứ dường như đang hoạt động tốt.

Tôi có thể di chuyển giữa các thẻ bằng Tab và lật chúng bằng Space.

Bây giờ hãy thử thêm hoặc ghim thẻ tam giác của chúng ta.

Tôi sẽ nhấn Tab-Z để hiển thị menu Hành động của mình, nhưng tôi không thấy bất kỳ hành động nào có sẵn.

Bây giờ, thực sự có hai cách chúng tôi có thể giải quyết để giúp người dùng nhanh chóng thực hiện các hành động phổ biến trong trò chơi của chúng tôi, như thêm và ghim.

Cách đầu tiên chúng ta có thể giải quyết vấn đề này là thông qua một hành động tùy chỉnh.

Các hành động tùy chỉnh rất tuyệt vì chúng dịch qua nhiều công nghệ hỗ trợ.

Khi bạn thêm các hành động tùy chỉnh vào một cái gì đó, nó sẽ hiển thị trong VoiceOver, Switch Control và Full Keyboard Access.

Các hành động tùy chỉnh là những gì hiển thị khi bạn nhấn Tab-Z.

Như bạn có thể thấy ở đây, tất cả những gì tôi cần làm là tạo một UIAccessibilityCustomAction cho các hành động tôi muốn thêm, sau đó tiếp tục và đặt chúng thành mảng accessibilityCustomActions của tôi trên cardView của tôi.

Ngoài ra, thật tuyệt khi thêm một hình ảnh.

Mặc dù những hình ảnh này sẽ không hiển thị cho Truy cập Bàn phím Đầy đủ, nhưng chúng sẽ hiển thị cho Điều khiển Chuyển đổi.

Đây là giao diện người dùng của tôi trông như thế nào khi các hành động tùy chỉnh được thêm vào.

Khi tôi nhấn Tab-Z, tôi thấy cửa sổ bật lên đẹp mắt này cho phép tôi thêm thẻ hoặc ghim nó.

Các hành động tùy chỉnh rất tuyệt vời cho bất kỳ ai sử dụng các tính năng trợ năng của chúng tôi; tuy nhiên, có một cách tiếp cận thực sự thú vị khác mà bạn có thể thực hiện ở đây.

Bạn có thể thêm một phím tắt tùy chỉnh.

Điều tuyệt vời với phím tắt tùy chỉnh là nó sẽ hoạt động cho cả người dùng Truy cập Bàn phím Đầy đủ của bạn cũng như cho những người chỉ đang sử dụng bàn phím với thiết bị của họ, nhưng họ không bật Truy cập Bàn phím Đầy đủ.

Nó tuyệt vời cho khả năng tiếp cận và người dùng thành thạo.

Để xem danh sách các phím tắt, bạn chỉ cần giữ phím Command.

Bạn có thể tìm hiểu tất cả về các phím tắt và nhiều hơn nữa cho iPad trong bài nói chuyện của chúng tôi năm nay, "Đưa các ứng dụng iPad của bạn lên một tầm cao mới."

Hôm nay, tôi sẽ chỉ cho bạn một ví dụ ngắn về cách bạn có thể khai thác API mới này trong Mac Catalyst 13 và hiện được đưa lên iOS và iPadOS 15.

Bằng cách ghi đè buildMenu trong AppDelegate của bạn, bạn có thể đặt các lệnh chính của mình Tại đây tôi tạo hai UIKeyCommands; một cho hành động thêm của tôi và một cho hành động ghim của tôi.

Tôi đảm bảo thêm tiêu đề khả năng khám phá vì đó là những gì sẽ hiển thị trong KeyCommand HUD của tôi khi tôi giữ Command.

Tiếp theo, tôi tạo một menu giao diện người dùng mới, mà tôi đặt tên là "gameplay", và tôi chuyển các lệnh mới là "trẻ em".

Cuối cùng, tôi chèn menu vào trình tạo menu của mình, và tôi đã hoàn tất!

Bây giờ, vì tôi chỉ muốn các mục này hoạt động trong HUD khi tôi thực sự có một thẻ đã chọn, tôi cũng ghi đè canPerformAction trên GameViewController của mình để tôi chỉ hiển thị các mục này khi thẻ thực sự được chọn.

Đây là trò chơi của chúng tôi trông như thế nào khi tôi giữ phím Command và tôi đã chọn một thẻ.

Và ở đây, tôi muốn nhấn mạnh một nguyên tắc chính của việc phát triển để Truy cập Bàn phím Đầy đủ.

Bạn nên cố gắng thêm các hành động tùy chỉnh và phím tắt vào tất cả các hành động phổ biến của mình để cải thiện hiệu quả cho người dùng của bạn.

Cả hai không chỉ có thể dễ dàng phát hiện mà còn cải thiện trải nghiệm cho bất kỳ ai tương tác với ứng dụng của bạn thông qua bàn phím.

Hãy quay lại trò chơi của chúng ta.

Tôi đã thêm hình tam giác với các hành động mới của mình.

Bây giờ tôi sẽ sử dụng Shift-Tab để quay lại nút trang chủ.

Tuy nhiên, khi tôi đang làm điều đó, tôi thấy một vấn đề khác.

Hình tam giác đó có thể lựa chọn được mặc dù khi tôi chạm vào nó bằng phím cách thì không có gì xảy ra.

Vậy trước hết, tại sao con trỏ của chúng ta lại đi đến phần tử này nếu chúng ta không thể tương tác với nó?

Chà, tôi đã thực hiện một số công việc hỗ trợ VoiceOver trên ứng dụng này và đây là những gì nó trông như thế nào.

Bạn sẽ thấy rằng tôi đang đặt isAccessibilityElement thành true trên các mục của mình cũng như cung cấp cho nó một accessibilityLabel.

Điều này thật tuyệt vì VoiceOver cần đọc từng mục cho người dùng của chúng tôi.

Tuy nhiên, nếu ai đó chỉ là người dùng Truy cập Bàn phím Đầy đủ, thì con trỏ của họ cũng sẽ đi đến nhiều mục được đánh dấu bằng isAccessibilityElement.

Để yêu cầu Full Keyboard Access bỏ qua yếu tố này, chúng ta cần thêm một dòng nữa.

Tại đây, bạn có thể thấy rằng chúng tôi đặt accessibilityResponds ToUserInteraction thành false.

Điều này cho hệ thống của chúng tôi biết rằng mặc dù đây là một yếu tố khả năng tiếp cận, nhưng nó không phải là yếu tố mà người dùng có thể tương tác.

Vì vậy, con trỏ cho các công nghệ động cơ như Truy cập Bàn phím Đầy đủ hoặc Điều khiển Công tắc nên bỏ qua nó.

Lưu ý rằng khả năng truy cập RespondsToUserInteraction chỉ có ý nghĩa nếu isAccessibilityElement đã đúng.

Theo mặc định, hệ thống cố gắng thiết lập chính xác các phần tử với isAccessibilityElement đúng với tương tác hay không.

Trong hầu hết các trường hợp, bạn sẽ chỉ cần đặt accessibilityResponds ToUserInteraction thành false khi bạn có một đối tượng mà bạn muốn có thể truy cập vào VoiceOver nhưng không phải với Full Keyboard Access hoặc các công nghệ động cơ khác.

Điều này đưa chúng ta đến nguyên tắc chính thứ hai của việc phát triển cho Truy cập Bàn phím Đầy đủ.

Khi bạn đang thử nghiệm ứng dụng của mình, bạn sẽ muốn chắc chắn rằng con trỏ chỉ đi đến các mục mà người dùng có thể tương tác.

Bây giờ, khi bạn đang xây dựng ứng dụng của mình và đảm bảo chỉ tập trung vào đúng nơi, có thể rất hấp dẫn để ghi đè canBecomeFocused thay vì API mà chúng ta vừa thảo luận.

Tuy nhiên, điều này ghi đè lên hành vi lấy nét cho toàn bộ công cụ lấy nét và sẽ tác động đến những người sử dụng Tab để điều hướng khi Truy cập Bàn phím Đầy đủ thậm chí không được bật.

Vì vậy, tốt nhất là tránh xa điều này khi chỉ muốn sửa đổi hành vi cho người dùng Truy cập Bàn phím Đầy đủ.

Trên thực tế, điều này đưa ra một lĩnh vực quan trọng.

Hệ thống lấy nét được sử dụng để điều khiển Truy cập Bàn phím Đầy đủ cũng giống như hệ thống điều khiển điều hướng Tab trên tất cả các hệ điều hành của chúng tôi như iPadOS.

Mặc dù bạn có thể sẽ không cần chạm vào nó để làm việc với Full Keyboard Access, nhưng nếu bạn muốn tìm hiểu thêm, tôi khuyên bạn nên sử dụng ba bài nói chuyện này.

Năm nay chúng tôi có hai cuộc nói chuyện khác được gọi là "Tập trung vào điều hướng bàn phím iPad" và "Trực tiếp và phản ánh sự tập trung trong SwiftUI."

Và trở lại năm 2017, có một cuộc nói chuyện tuyệt vời về cách công cụ lấy nét điều khiển tvOS.

Bây giờ, quay trở lại màn hình chính của chúng tôi, tôi muốn chắc chắn rằng tôi có thể sử dụng tính năng Tìm kiếm tuyệt vời của Full Keyboard Access.

Vậy hãy thử xem nào.

Được rồi, các mức số hoạt động tốt ngay lập tức.

Tìm kiếm cấp độ tám và mười hai thật dễ dàng.

Và bởi vì tôi đã thêm một số hỗ trợ VoiceOver, tôi cũng nhận được nút Cài đặt, với Tìm kiếm.

Nhưng điều gì sẽ xảy ra nếu tôi không biết rằng nút được gọi là Cài đặt?

Có lẽ tôi gõ "tùy chọn" hoặc "prefs".

Hừm. Không có may mắn.

Để giải quyết vấn đề này, chúng ta có thể đặt một mảng các chuỗi cho khả năng truy cậpUserInputLabels của mình.

Ở đây, tôi đang đặt các từ được bản địa hóa cho prefs, tùy chọn, thiết bị và cài đặt cho nhãn này để đảm bảo rằng mọi người có thể tiếp cận nó bất kể họ có thể nhập gì.

Bằng cách thêm các chuỗi này, bạn cũng sẽ ưu tiên người dùng Điều khiển bằng giọng nói của mình, vì giờ đây họ cũng có thể nói bất kỳ tên nào trong số này để nhấn vào nút Cài đặt của bạn.

Tất nhiên, điều này sẽ không can thiệp vào nhãn VoiceOver của bạn.

Vì vậy, bây giờ khi bạn nhập "prefs", nó hoạt động rất tốt!

Và điều này đưa tôi đến nguyên tắc thứ ba và cuối cùng của chúng tôi ngày hôm nay.

Đảm bảo rằng bạn luôn cung cấp càng nhiều nhãn càng tốt cho các điều khiển dựa trên hình ảnh của mình để người dùng của bạn luôn có thể truy cập chúng nhanh chóng với Tìm kiếm.

Bây giờ, trước khi chúng ta kết thúc, tôi muốn đánh bóng một chút vui vẻ.

Vậy chúng ta hãy nhìn lại màn hình chính của tôi.

Vì tất cả các mục này là các nút giao diện người dùng, Tab đang di chuyển đến chúng một cách tự nhiên.

Và điều đó thật tuyệt.

Nhưng chú ý làm thế nào con trỏ của tôi luôn là một hình chữ nhật?

Để làm cho mọi thứ vui tươi hơn, hãy làm cho nó phù hợp với hình dạng của các nút.

Để hiển thị các hình dạng con trỏ đẹp xung quanh các nút của chúng tôi, chúng tôi chỉ có thể sử dụng accessibilityPath - trên thực tế, tương tự accessibilityPath mà bạn sẽ sử dụng cho VoiceOver.

Đối với các chế độ xem tĩnh, bạn có thể đặt accessibilityPath thành hình dạng của chính nó bằng UIBezierPath.

Lưu ý rằng tôi đang thiết lập accessibilityPath trong tọa độ màn hình.

Nếu bạn đang ở chế độ xem cuộn, bạn sẽ muốn ghi đè accessibilityPath để nó luôn chính xác so với tọa độ màn hình, ngay cả khi bạn đang cuộn.

Hãy cùng xem chút đánh bóng này trông vui như thế nào.

Bây giờ khi tôi lướt qua, chúng ta có thể thấy các hình tròn, hình tam giác và hình vuông.

Và nó cũng sẽ giống với VoiceOver.

Với điều đó, hãy xem lại một số ý tưởng chính cần ghi nhớ khi bạn phát triển ứng dụng của mình cho bàn phím, nhưng đặc biệt là để truy cập bàn phím đầy đủ.

Đầu tiên, sử dụng các hành động tùy chỉnh và phím tắt để thực sự đi xa hơn, thêm các phương tiện hiệu quả để điều hướng các ứng dụng của bạn.

Tiếp theo, đảm bảo con trỏ không rơi vào các mục mà người dùng không thể thực sự tương tác.

Và cuối cùng, hãy chắc chắn rằng bạn thêm nhãn đầu vào của người dùng, đặc biệt là trên các điều khiển dựa trên hình ảnh, để mọi người có thể tận dụng tối đa tính năng Tìm kiếm của Truy cập Bàn phím Đầy đủ.

Và đó là tất cả!

Tôi hy vọng rằng hôm nay bạn đã hiểu được tầm quan trọng của khả năng tiếp cận động cơ trong tất cả các sản phẩm của Apple.

Mặc dù có rất nhiều cách tương tác với các thiết bị của chúng tôi, bàn phím đã trở thành một công cụ mạnh mẽ cho người dùng của chúng tôi.

Với thông tin từ buổi nói chuyện này, giờ đây bạn sẽ có thể chắc chắn rằng các ứng dụng của mình cung cấp trải nghiệm tuyệt vời cho người dùng Full Keyboard Access và cho mọi người.

Cảm ơn bạn và chúc bạn có một WWDC 2021 tuyệt vời.

♪