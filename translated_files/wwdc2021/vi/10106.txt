10106

♪ Nhạc bass đang phát ♪

♪

Garrett Davidson: Xin chào, tôi là Garrett, một kỹ sư trong nhóm Trải nghiệm Xác thực và tôi rất vui mừng được cung cấp cho bạn cái nhìn về những gì chúng tôi đang làm: bước đầu tiên Apple đang thực hiện để hỗ trợ quá trình chuyển đổi toàn ngành khỏi mật khẩu.

Mỗi khi bạn đăng nhập vào một ứng dụng hoặc trang web hôm nay, có lẽ bạn đang nhập mật khẩu.

Cặp trường Tên người dùng và Mật khẩu mang tính biểu tượng có thể nhận ra ngay lập tức và thực sự dễ sử dụng, và hầu hết mọi người ngay lập tức biết phải làm gì khi họ gặp phải nó.

Nhưng các nhà phát triển, người dùng và toàn bộ ngành công nghiệp đã học được rằng sự tiện lợi tuyệt vời này của việc có thể nhanh chóng xác thực để đăng nhập vào tài khoản đi kèm với chi phí bảo mật tài khoản.

Khi các công nghệ xác thực đã phát triển qua nhiều năm, có một vài bài học cơ bản mà ngành công nghiệp đã học được.

Trước hết, việc bảo vệ bí mật rất khó, đặc biệt là khi những bí mật đó được chia sẻ.

Hầu hết xác thực ngày nay phụ thuộc vào việc người dùng và máy chủ chia sẻ bí mật - như mật khẩu - khi tài khoản được tạo và chia sẻ lại bí mật đó trong mỗi lần xác thực.

Mỗi lần bí mật đó được chia sẻ, có nguy cơ ai đó không phải là người nhận dự định sẽ biết bí mật đó.

Lừa đảo - chẳng hạn như email và cuộc gọi điện thoại giả mạo hoặc các trang web gây hiểu lầm - là cách phổ biến nhất để nhầm bên tìm hiểu bí mật.

Và nếu một bí mật như mật khẩu thoát ra, việc sử dụng mật khẩu yếu hoặc sử dụng lại cùng một mật khẩu trên nhiều tài khoản có thể nhanh chóng làm phức tạp thêm vấn đề.

Trên thực tế, theo Báo cáo Điều tra Vi phạm Dữ liệu Verizon năm 2020, hơn 80 phần trăm các vi phạm dữ liệu liên quan đến hack liên quan đến lực lượng thông tin đăng nhập vũ phu hoặc sử dụng thông tin đăng nhập bị mất hoặc bị đánh cắp.

Nó không nhất thiết phải theo cách này.

Công nghệ xác thực đã tiếp tục phát triển để cố gắng giảm thiểu một số rủi ro này.

Lúc đầu, mật khẩu chủ yếu được lưu trữ trong đầu mọi người.

Nhưng hóa ra mọi người thường không giỏi trong việc nghĩ ra và ghi nhớ mật khẩu mạnh và duy nhất cho mọi tài khoản.

Trình quản lý mật khẩu có thể tạo mật khẩu mạnh, duy nhất cho mỗi tài khoản và có thể cung cấp gợi ý về một số hình thức lừa đảo có thể xảy ra.

Trình quản lý mật khẩu của iCloud Keychain được tích hợp vào các thiết bị Apple của bạn và chúng tôi đã cung cấp API cho các bên thứ ba để tích hợp trình quản lý mật khẩu của riêng họ vào hệ thống.

Chủ sở hữu dịch vụ cũng có thể thêm các bước bổ sung vào quy trình đăng nhập, chẳng hạn như yêu cầu mật khẩu cộng với yếu tố bổ sung như OTP; ví dụ: SMS hoặc mã xác minh một lần được tạo.

macOS Monterey và iOS 15 thậm chí còn có trình tạo mã được tích hợp vào trình quản lý mật khẩu Chuỗi khóa iCloud, bạn có thể tìm hiểu thêm trong video "Đăng nhập an toàn bằng mã xác minh Chuỗi khóa iCloud" từ đồng đội Eryn của tôi.

Một số ứng dụng và trang web thay vào đó chọn thuê ngoài xác thực hoàn toàn cho bên thứ ba thông qua xác thực liên kết, chẳng hạn như Đăng nhập bằng Apple.

Xác thực liên kết cho phép mọi người giữ niềm tin của họ bị giới hạn trong một số lượng nhỏ các tài khoản được bảo vệ cao.

Nhưng đối với video này, tôi sẽ tập trung vào các tùy chọn xác thực không liên kết.

Hãy nói về cách những thứ này so sánh.

Tất cả chúng đều khá dễ sử dụng, tất cả chúng đều hoạt động trên hầu hết các thiết bị và ít nhiều chúng luôn ở bên bạn.

Nhưng mức độ bảo mật có thể tốt hơn.

Mật khẩu có thể được ghi nhớ có lẽ không mạnh và duy nhất cho mọi tài khoản.

Trình quản lý mật khẩu có thể được sử dụng để tạo mật khẩu mạnh và duy nhất, nhưng nó chỉ mạnh bằng mật khẩu - và các yếu tố bổ sung tiềm ẩn - mà bạn sử dụng để bảo vệ nó.

Và mã sử dụng một lần cũng có thể hữu ích nhưng vẫn phải chịu nhiều vấn đề tương tự như mật khẩu, vì chúng vẫn là những bí mật có thể đánh máy, lừa đảo, được chia sẻ.

Ngoài ra, nếu mật khẩu ở trong đầu bạn, bạn có thể quên chúng đi.

Điều này có nghĩa là các ứng dụng và trang web cần một quy trình khôi phục riêng biệt, mà ngày nay thường là một liên kết trong email.

Điều này có thể làm giảm mức độ bảo mật của toàn bộ tài khoản xuống mức độ bảo mật của nhà cung cấp email, đây thường không phải là thứ bạn kiểm soát.

Một số trình quản lý mật khẩu và giải pháp yếu tố thứ hai có thể giúp khôi phục nhưng có xu hướng phải đối mặt với các vấn đề tương tự.

Mật khẩu được ghi nhớ cũng không cung cấp bất kỳ loại kháng lừa đảo nào.

Trình quản lý mật khẩu có thể cung cấp gợi ý về lừa đảo - chẳng hạn như không đề nghị điền mật khẩu trên trang web lừa đảo có vẻ hợp pháp - nhưng họ vẫn không thể ngăn ai đó tự nhập mật khẩu theo cách thủ công và bị lừa đảo.

Mã một lần có các vấn đề tương tự, mặc dù có một số biện pháp giảm thiểu hiện đại mà bạn có thể đưa ra.

Và cuối cùng, tất cả các phương pháp này đều dựa vào bí mật được chia sẻ giữa người dùng và máy chủ, về cơ bản chúng không mạnh hơn sự bảo vệ yếu nhất của bí mật được chia sẻ đó.

Với biểu đồ đó trong tâm trí, hãy nói về các thuộc tính của một giải pháp thực tế cho vấn đề mật khẩu.

Trước hết, việc thay thế mật khẩu cần được bảo mật theo thiết kế.

Mật khẩu có thể được bảo mật hợp lý, nếu tuân thủ tất cả các phương pháp hay nhất.

Tuy nhiên, kinh nghiệm đã cho chúng ta thấy rằng điều đó khá khó để mọi người làm mọi lúc.

Việc thay thế mật khẩu nên xây dựng bảo mật đó ngay từ đầu.

Nhưng chúng tôi cũng không muốn đi ngược lại khả năng sử dụng.

Mật khẩu đã tồn tại với chúng tôi quá lâu vì chúng rất dễ sử dụng.

Chúng tôi không muốn đánh mất điều đó.

Dễ dàng bao gồm luôn có sẵn và có thể sử dụng ở mọi nơi.

Hôm nay, miễn là tôi biết hoặc có thể tra cứu mật khẩu của mình, tôi có thể cho rằng thiết bị tôi muốn đăng nhập hỗ trợ nó.

Bất kỳ ma sát bổ sung nào trong việc xác thực trên các thiết bị mới sẽ làm tổn thương việc áp dụng từ những người chỉ muốn nhanh chóng đăng nhập.

Và cuối cùng, phục hồi nên là một tính năng hạng nhất chứ không phải là thứ được thêm vào như một suy nghĩ sau.

Mọi người mắc lỗi, những điều tồi tệ xảy ra và một giải pháp cho mật khẩu phải đủ chịu lỗi để xử lý con người là con người mà không ảnh hưởng đến bảo mật tổng thể.

Một trong những tùy chọn bảo mật mạnh nhất hiện nay là khóa bảo mật, dongle phần cứng hoặc fobs thường được sử dụng làm yếu tố thứ hai trong bối cảnh bảo mật đặc biệt cao.

Chúng dựa trên tiêu chuẩn xác thực web - hoặc WebAuthn -, mở cửa cho tất cả mọi người.

Và hầu hết chúng đều khá dễ sử dụng sau đường cong học tập ban đầu.

Và chúng an toàn hơn nhiều so với chỉ một mật khẩu.

Hầu hết sức mạnh này đến từ WebAuthn, mà tôi sẽ nói thêm một chút.

Các trình duyệt web hiện đại cũng hỗ trợ các khóa bảo mật trên hầu hết các thiết bị hiện đại.

Safari trên macOS và iOS đã hỗ trợ các phím bảo mật USB, NFC và Lightning trong một thời gian.

Hầu hết các khóa bảo mật cũng hỗ trợ nhiều hơn một phương thức kết nối, vì vậy một khóa phần cứng duy nhất có thể được sử dụng trên nhiều thiết bị khác nhau.

Hãy so sánh WebAuthn và mật khẩu.

Một trong những ưu điểm lớn nhất của WebAuthn là nó sử dụng các cặp khóa công khai/riêng tư thay vì các bí mật được chia sẻ.

Nếu chúng tôi kiểm tra mật khẩu hoạt động như thế nào hôm nay, trước tiên bạn hãy nhập mật khẩu của mình.

Sau đó, nó thường bị xáo trộn thông qua một cái gì đó như băm cộng với muối, và kết quả là băm muối được gửi đến máy chủ.

Bây giờ, cả bạn và máy chủ đều có một bản sao của bí mật, mặc dù bản sao của máy chủ bị xáo trộn và cả hai bạn đều có trách nhiệm như nhau trong việc bảo vệ bí mật đó.

Đây là những gì chúng tôi đang loại bỏ.

Với các cặp khóa công khai/riêng tư, thay vì mật khẩu, thiết bị của bạn tạo ra một cặp khóa.

Một trong những khóa này là công khai; cũng công khai như tên người dùng của bạn.

Nó có thể được chia sẻ với bất kỳ ai và tất cả mọi người, và không phải là một bí mật.

Chìa khóa còn lại là riêng tư.

Khóa riêng tư này là một bí mật và được bảo vệ bởi thiết bị của bạn.

Thiết bị của bạn không bao giờ chia sẻ khóa này với bất kỳ ai khác, kể cả máy chủ.

Khi bạn tạo một tài khoản, thiết bị của bạn sẽ tạo ra hai khóa liên quan này.

Sau đó nó chia sẻ khóa công khai với máy chủ.

Bây giờ, máy chủ có một bản sao của khóa công khai, không có các yêu cầu bảo vệ giống như mật khẩu vì đó là thông tin công khai.

Khóa riêng tư vẫn còn trên thiết bị của bạn và chỉ có thiết bị đó chịu trách nhiệm bảo vệ nó.

Sau đó, khi bạn muốn đăng nhập, bạn không gửi cho máy chủ bất cứ điều gì bí mật.

Thay vào đó, bạn chứng minh rằng đó là tài khoản của bạn bằng cách chứng minh rằng thiết bị của bạn biết khóa riêng được liên kết với khóa công khai của tài khoản của bạn.

Sự trao đổi đó hoạt động như thế này.

Đầu tiên, tôi đăng nhập vào tài khoản của mình.

Sau đó, trang web yêu cầu thiết bị của tôi chứng minh rằng đó thực sự là tài khoản của tôi.

Nó thực hiện điều này bằng cách thực hiện cái được gọi là "thách thức" để tôi chứng minh rằng thiết bị của tôi có khóa riêng được liên kết với khóa công khai của tài khoản của tôi mà không thực sự nói khóa riêng tư của tôi là gì.

Để làm như vậy, máy chủ sẽ gửi lại một thử thách sử dụng một lần.

Thiết bị của tôi có khóa riêng tư, vì vậy nó thực hiện thử thách đó và thực hiện một việc gọi là "ký" thử thách, sử dụng khóa riêng tư của tôi.

Chỉ có khóa riêng tư của tôi mới có thể tạo ra chữ ký hợp lệ cho tài khoản của tôi.

Chữ ký này sau đó được gửi lại cho máy chủ.

Máy chủ đã có khóa công khai của tôi, vì vậy nó có thể kiểm tra chữ ký này đối với khóa công khai đó.

Bất cứ ai có khóa công khai của tôi đều có thể dễ dàng kiểm tra xem chữ ký có khớp với khóa đó không.

Tuy nhiên, chỉ có tôi mới có thể tạo chữ ký hợp lệ cho thử thách vì chỉ có tôi mới có khóa riêng.

Do đó, bất kỳ ai cũng có thể dễ dàng xác minh danh tính của tôi mà không bao giờ biết bí mật của tôi là gì.

Và cuối cùng, giả sử chữ ký thực sự khớp với khóa công khai của tôi, máy chủ cho tôi biết tôi đã đăng nhập!

Lưu ý rằng khóa riêng tư của tôi không bao giờ rời khỏi thiết bị của tôi.

Máy chủ đã có thể xác minh rằng đây là tài khoản của tôi mà không bao giờ biết bí mật của tôi - khóa riêng tư của tôi - thực sự là gì.

Bởi vì các cặp khóa công khai/riêng tư có nghĩa là thông tin đăng nhập được tạo và quản lý bởi thiết bị - và các khóa riêng tư không bao giờ được chia sẻ với máy chủ - những khóa này sẽ không bao giờ có thể đoán được, sử dụng lại, yếu hoặc dễ bị vi phạm bởi máy chủ của bạn.

WebAuthn cũng bắt nguồn từ niềm tin vào trình duyệt và hệ điều hành, không phải con người.

Phần mềm thực thi nghiêm ngặt rằng thông tin đăng nhập chỉ có thể sử dụng được trên các trang web và ứng dụng mà chúng được tạo ra, ngăn ai đó thậm chí cố gắng xác thực trên trang web không chính xác.

Và bởi vì tất cả thông tin đăng nhập trong WebAuthn là các cặp khóa công khai/riêng tư, máy chủ không còn chịu trách nhiệm duy trì bí mật xác thực nữa.

Điều này có nghĩa là ít công việc hơn ở phía máy chủ để giữ bí mật an toàn và máy chủ là mục tiêu ít giá trị hơn cho kẻ tấn công vì không có bí mật xác thực nào để kẻ tấn công đánh cắp.

Hãy so sánh các khóa bảo mật với các mục khác trong biểu đồ đó.

Chúng khá dễ sử dụng sau đường cong học tập ban đầu.

Chúng hoạt động trên tất cả các thiết bị Apple của bạn và nhiều thiết bị không phải Apple hiện đại.

Nhưng họ không nhất thiết phải luôn ở bên bạn.

Bạn cần mua và mang theo phần cứng bổ sung mọi lúc.

Đây có thể là một rào cản đối với việc gia nhập để áp dụng và là một bước lùi về khả năng sử dụng so với mật khẩu.

Tuy nhiên, mức độ bảo mật rất tốt.

Thông tin đăng nhập trên khóa bảo mật được đảm bảo không bao giờ dễ dàng đoán hoặc sử dụng lại trên nhiều tài khoản và có tính năng bảo vệ chống lừa đảo được tích hợp ở cấp hệ điều hành.

Tuy nhiên, sự an toàn đó phải trả giá.

Nếu thông tin đăng nhập được gắn với khóa bảo mật duy nhất và khóa bảo mật đó từng bị mất, bị đánh cắp hoặc bị hỏng, thì tất cả các thông tin đăng nhập đó cũng vậy.

Những người nhận nuôi phải có một hệ thống dự phòng tại chỗ, chẳng hạn như mua một khóa bảo mật bổ sung, lưu trữ nó ở một nơi an toàn và hy vọng họ không bao giờ mất cả hai cùng một lúc.

Tuy nhiên, nhờ WebAuthn, chúng cung cấp khả năng chống lừa đảo rất mạnh và loại bỏ nhu cầu về các bí mật được lưu trữ trên máy chủ.

Trong iOS 14.5, chúng tôi đã mở rộng hỗ trợ khóa bảo mật để hoạt động trong tất cả các trình duyệt trên iOS.

Mới trong macOS Monterey và iOS 15, chúng tôi cũng lần đầu tiên cung cấp API khóa bảo mật cho tất cả các ứng dụng trên macOS và iOS.

API này đang được thêm vào họ API ASAuthorization trong khung AuthenticationServices, tương đương với API WebAuthn trên web.

ASAuthorization là cửa hàng một cửa của bạn để đăng nhập bằng bất kỳ cơ chế nào mà hệ thống hỗ trợ, bao gồm mật khẩu, Đăng nhập bằng Apple và bây giờ là các khóa bảo mật.

Tuy nhiên, việc mang theo phần cứng bổ sung, như khóa bảo mật, không nhất thiết phải dành cho tất cả mọi người.

Chúng tôi tin rằng API này sẽ hữu ích cho các ứng dụng trong bối cảnh bảo mật đặc biệt cao, nơi sự đánh đổi khả năng sử dụng cho người dùng của bạn vượt xa nhu cầu bảo mật đặc biệt và chúng tôi rất vui khi bạn dùng thử nếu bạn thuộc danh mục đó.

Giờ đây, xác thực không cần mật khẩu bằng cách sử dụng các cặp khóa là điều quan trọng tiếp theo trong công nghệ xác thực.

Tiêu chuẩn là một nỗ lực hợp tác trong toàn ngành từ cả nhà cung cấp nền tảng và chủ sở hữu dịch vụ với mục tiêu thúc đẩy bảo mật tài khoản về phía trước.

Hỗ trợ cho WebAuthn đang phát triển trên các hệ điều hành, nền tảng ứng dụng, trình duyệt web và trang web.

Những gì tôi sẽ nói trong phần còn lại của video này và những gì tôi thực sự hào hứng giới thiệu ở đây, là bản xem trước về sự đóng góp của Apple cho thế giới sau mật khẩu; một tính năng mới xây dựng tính bảo mật của WebAuthn vào mọi iPhone, iPad và Mac, vì vậy nó có thể được sử dụng ở mọi nơi để thay thế mật khẩu

Nó được gọi là "passkeys trong iCloud Keychain".

Tính năng mới này lưu trữ một loại thông tin xác thực mới, được gọi là "passkey", trong Chuỗi khóa iCloud của bạn.

Mật khẩu là thông tin đăng nhập WebAuthn với tính bảo mật tuyệt vời mà tiêu chuẩn cung cấp kết hợp với khả năng sử dụng được sao lưu, đồng bộ hóa và làm việc trên tất cả các thiết bị của bạn.

Chúng tôi đang lưu trữ chúng trong Chuỗi khóa iCloud.

Giống như mọi thứ khác trong Chuỗi khóa iCloud của bạn, chúng được mã hóa đầu cuối, vì vậy ngay cả Apple cũng không thể đọc chúng.

Bí mật của bạn là bí mật của bạn.

Và chúng rất dễ sử dụng.

Trong hầu hết các trường hợp, chỉ cần một cú chạm hoặc nhấp chuột để đăng nhập.

Và chúng mạnh hơn hầu hết các giải pháp mật khẩu cộng với yếu tố thứ hai hiện nay, nhờ vào tính bảo mật kết hợp của WebAuthn và Chuỗi khóa iCloud.

Và bởi vì nó chỉ là một cú chạm để đăng nhập, nó đồng thời dễ dàng hơn, nhanh hơn và an toàn hơn hầu hết các hình thức xác thực phổ biến hiện nay.

Hãy thêm nó vào biểu đồ đó.

Như tôi vừa nói, nó cực kỳ dễ sử dụng; thường chỉ cần một cú chạm hoặc nhấp chuột để đăng nhập.

Những gì chúng tôi đang phát hành như một phần của macOS Monterey và iOS 15 hoạt động trên tất cả các thiết bị Apple của bạn.

Tất nhiên, để thay thế mật khẩu cho mọi người, công nghệ này cần hoạt động trên tất cả các thiết bị của bạn, bao gồm cả những thiết bị không hỗ trợ Chuỗi khóa iCloud.

Chức năng đó không có trong macOS Monterey và iOS 15.

Bởi vì nó được tích hợp vào tất cả các thiết bị Apple của bạn, nó có sẵn bất cứ khi nào bạn có iPhone, iPad hoặc Mac gần đó.

Không yêu cầu phần cứng bổ sung.

Nó được xây dựng trên tất cả các biện pháp bảo vệ nâng cao là một phần của cả tiêu chuẩn WebAuthn và Chuỗi khóa iCloud.

Và vì nó được hỗ trợ bởi Chuỗi khóa iCloud, bạn vẫn có thể lấy lại thông tin đăng nhập của mình, ngay cả khi bạn mất tất cả các thiết bị Apple của mình.

Nó có khả năng chống lừa đảo được cung cấp bởi nền tảng mạnh mẽ giống như các khóa bảo mật.

Và bởi vì nó sử dụng các cặp khóa công khai/riêng tư, nó cũng có nghĩa là các máy chủ có thể thoát khỏi công việc lưu trữ bí mật xác thực, khiến chúng trở thành mục tiêu ít có giá trị hơn đối với những kẻ tấn công.

Vậy đây là cách nó hoạt động.

Đây là Shiny, ứng dụng demo xác thực yêu thích của chúng tôi, có mã nguồn bạn có thể tìm thấy trong các liên kết liên quan cho video này.

Đầu tiên, tôi cần tạo tài khoản của mình.

Tôi sẽ nhập tên người dùng của mình và nhấn vào nút Tạo tài khoản.

Sau đó, một bảng hệ thống đáng tin cậy đưa ra một số thông tin về thông tin xác thực và nơi tôi có thể mong đợi sử dụng nó.

Tôi sẽ nhấn Tiếp tục, Face ID, và tôi đã hoàn tất.

Tôi thực sự không phải suy nghĩ về nó, nhưng bây giờ tôi có thông tin xác thực khóa công khai/riêng tư rất mạnh cho tài khoản này, được lưu trữ an toàn trong Chuỗi khóa iCloud của tôi.

Khi tôi quay lại ứng dụng này và muốn đăng nhập, nó cũng dễ dàng như vậy.

Khi trang tính xuất hiện, tôi được hỏi một câu hỏi rất rõ ràng, bao gồm tên của ứng dụng tôi đang đăng nhập và tài khoản của tôi.

Đó là những gì tôi muốn, vì vậy tôi sẽ nhấn Tiếp tục, Face ID, và tôi đã hoàn tất.

Thế là xong!

Đây là tất cả những gì mọi người cần để tạo và sử dụng những thông tin đăng nhập mới này.

Và bởi vì chúng là các cặp khóa công khai/riêng tư do hệ thống quản lý, chúng sẽ không được sử dụng lại hoặc đoán được, chúng không dễ bị vi phạm ứng dụng hoặc trang web và các biện pháp bảo vệ lừa đảo rất mạnh được tích hợp vào hệ điều hành và trình duyệt.

Nói về trình duyệt, những thông tin đăng nhập này cũng hoạt động trên web.

Tôi đang ở Safari trên trang chủ của trang web Shiny, trang đã áp dụng WebAuthn.

Khi tôi nhấn vào nút Đăng nhập, tôi nhận được các tùy chọn ở đây để sử dụng thông tin xác thực mà tôi vừa tạo hoặc khóa bảo mật nếu tôi muốn sử dụng nó.

Tôi có thể nhấn Tiếp tục ở đây, Face ID, và tôi đã đăng nhập, giống như trong ứng dụng.

Điều này cũng hoạt động trong tất cả các ứng dụng trình duyệt web trên iOS.

Và nó cũng hoạt động trên Mac!

Những thông tin đăng nhập này được lưu trữ trong Chuỗi khóa iCloud, vì vậy chúng đồng bộ hóa trên tất cả các thiết bị của bạn và chúng hoạt động trong tất cả các loại ứng dụng Mac, cũng như trên web trong Safari.

Bây giờ chúng ta hãy xem qua việc triển khai.

Trước hết, để bảo vệ chống lừa đảo mạnh mẽ, do nền tảng cung cấp hoạt động cho các ứng dụng của bạn, thiết bị cần một liên kết chặt chẽ giữa ứng dụng và trang web của bạn.

Điều này được thực hiện thông qua các miền liên quan, sử dụng loại liên kết "webcredentials".

Tôi sẽ không đi sâu vào quá nhiều chi tiết ở đây, nhưng bạn có thể tìm hiểu thêm bằng cách xem video "Giới thiệu tự động điền mật khẩu cho ứng dụng" từ vài năm trước.

Tiếp theo, hãy nói về việc tạo một tài khoản.

Mã ở đây thực sự khá đơn giản.

Hãy phá vỡ nó.

Chức năng createAccount của chúng tôi cần ba đầu vào: thử thách sử dụng một lần được tìm nạp từ máy chủ của bạn, tên người dùng cho tài khoản và userID, thường là số nhận dạng cho tài khoản trên phụ trợ của bạn.

Đầu tiên, bạn cần một nhà cung cấp yêu cầu để tạo các đối tượng yêu cầu.

relyingPartyIdentifier phụ thuộc vào thiết lập WebAuthn của bạn, nhưng nó thường là tên miền của bạn.

Sử dụng nhà cung cấp đó để tạo Yêu cầu đăng ký và chuyển yêu cầu đến bộ điều khiển ủy quyền.

Cuối cùng, đặt đại diện và presentationContextProvider trên bộ điều khiển ủy quyền và bắt đầu yêu cầu của bạn.

Điều này sẽ khiến trang tính đó từ trước đó bật lên và yêu cầu bạn tạo thông tin xác thực.

Khi giao dịch kết thúc, bạn sẽ nhận được một cuộc gọi lại đại diện với các chi tiết của thông tin xác thực mới.

Bây giờ, đăng nhập rất giống nhau.

Chỉ một vài thứ cần thay đổi.

Thay vì tạo Yêu cầu đăng ký, bây giờ bạn tạo Yêu cầu xác nhận, đây là thuật ngữ WebAuthn được sử dụng khi đăng nhập.

Yêu cầu khẳng định chỉ cần một thử thách.

Và đó là tất cả những gì bạn cần thay đổi.

Tôi muốn dành một giây để nhấn mạnh rằng tham số này đối với bộ điều khiển ủy quyền là một mảng.

Bạn có thể chuyển danh sách yêu cầu ở đây cho tất cả các cơ chế xác thực khác nhau mà ứng dụng của bạn hỗ trợ, bao gồm mật khẩu và Đăng nhập bằng Apple.

Tờ đó từ trước đó sẽ được điền với bất kỳ thông tin đăng nhập nào hiện có sẵn.

Lưu ý duy nhất là các yêu cầu đăng ký khóa công khai không thể bị trộn lẫn với các tùy chọn không đăng ký.

Được rồi, cuối cùng, hãy nói về việc gọi lại đối tượng đại diện của bạn khi ủy quyền hoàn tất.

Thông tin xác thực là một thuộc tính của đối tượng ủy quyền được cung cấp.

Nếu người dùng đã đăng ký thông tin đăng nhập nền tảng mới, bạn sẽ nhận được đăng ký thông tin đăng nhập nền tảng.

Nếu họ đăng nhập bằng thông tin xác thực nền tảng hiện có, bạn sẽ nhận được xác nhận thông tin xác thực nền tảng.

Hoặc nếu họ đăng nhập bằng thứ gì đó khác mà bạn hỗ trợ, bạn cũng có thể xử lý điều đó tại đây.

Trong mọi trường hợp, bạn nên đọc các thuộc tính mà bạn cần từ đối tượng thông tin xác thực giống như bạn làm trên web, gửi các giá trị đó đến máy chủ của bạn, xác minh chúng và hoàn tất thao tác.

Và đó là cách nó hoạt động.

Bây giờ, tôi chỉ muốn đề cập thêm một vài chi tiết.

Việc chuyển đổi khỏi mật khẩu sẽ mất thời gian và điều quan trọng là phải làm đúng chi tiết.

Trong macOS Monterey và iOS 15, mật khẩu trong Chuỗi khóa iCloud đang được phát hành dưới dạng bản xem trước công nghệ và bị tắt theo mặc định.

Trên iOS, có một công tắc mới trong phần cài đặt Nhà phát triển của ứng dụng Cài đặt.

Bật tính cách này sẽ cho phép bạn sử dụng các phím được đồng bộ hóa này trong cả ứng dụng và trên web.

Và trên macOS, công tắc tồn tại trong menu Phát triển của Safari.

Đầu tiên, bạn sẽ cần bật menu Phát triển, trong cài đặt Nâng cao của Safari.

Bạn sẽ tìm thấy cài đặt cho điều này ở cuối ngăn Nâng cao trong tùy chọn của Safari.

Sau đó, bạn có thể tìm thấy tùy chọn bật Trình xác thực nền tảng đồng bộ hóa trong menu Phát triển.

Đảm bảo bật tính năng khi thử nghiệm.

Trong macOS Monterey và iOS 15, những mật khẩu này chỉ dành cho thử nghiệm, không dành cho tài khoản sản xuất.

Điểm nhấn của bản xem trước này là công nghệ xác thực, triển khai WebAuthn được hỗ trợ bởi Chuỗi khóa iCloud.

Một quá trình chuyển đổi toàn ngành khỏi mật khẩu sẽ cần các mẫu thiết kế được áp dụng chu đáo và nhất quán, không phải là một phần của bản xem trước này.

Và cuối cùng, vì đây là bản xem trước, chúng tôi đã đảm bảo rằng nó hoạt động duyên dáng khi tắt.

Các yêu cầu đăng ký nền tảng sẽ trả về lỗi và các yêu cầu xác nhận nền tảng sẽ bị âm thầm bỏ qua khi tắt công tắc, ngay cả khi trộn lẫn với các loại yêu cầu thông tin xác thực khác.

Vậy đây là những gì bạn có thể làm tiếp theo.

Thông tin đăng nhập dựa trên khóa công khai, chống lừa đảo là biên giới tiếp theo trong xác thực tài khoản.

Hãy xem tài liệu dành cho nhà phát triển của chúng tôi và mã mẫu được liên kết từ video này để giúp bạn bắt đầu.

Và nếu bạn chưa có, hãy triển khai WebAuthn trên máy chủ của bạn, để bạn có thể bắt đầu dùng thử thông tin đăng nhập dựa trên WebAuthn.

Bây giờ, phần yêu thích của tôi: hãy thử bản xem trước công nghệ này của mật khẩu trong Chuỗi khóa iCloud để xem nó phù hợp với quy trình làm việc hiện tại của bạn như thế nào trong các trang web và ứng dụng của bạn.

Khi bạn đang dùng thử, vui lòng cho chúng tôi biết suy nghĩ của bạn trong diễn đàn nhà phát triển và Trợ lý phản hồi.

Chúng tôi thực sự muốn nghe ý kiến của bạn.

Như tôi đã đề cập trước đó, đây là bước đầu tiên của nỗ lực nhiều năm trong việc thay thế mật khẩu và chúng tôi rất quan tâm đến những gì tất cả các bạn phải nói.

Cảm ơn bạn đã xem!

♪