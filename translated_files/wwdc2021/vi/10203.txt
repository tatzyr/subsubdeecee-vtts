10203

Xin chào.

Chào mừng đến với sự cố phân loại TestFlight với Xcode Organizer.

Tên tôi là Matt, và tôi là một kỹ sư Xcode.

Hôm nay tôi sẽ chỉ cho bạn một số công cụ mới mà chúng tôi đã tích hợp trong Trình tổ chức Xcode sẽ giúp bạn phân loại sự cố trên tất cả các mục tiêu của ứng dụng và cách tận dụng phản hồi từ người dùng TestFlight của bạn để bạn có thể khắc phục sự cố vào các bản dựng của mình nhanh hơn.

Sau đó, tôi sẽ cho bạn thấy Trình tổ chức chấm dứt mới và những tiến bộ mà chúng tôi đã thực hiện trong MetricKit.

Nếu ứng dụng của bạn đang sử dụng TestFlight để kiểm tra các phiên bản beta của bạn, bạn sẽ biết rằng phản hồi sự cố từ những người thử nghiệm của bạn có thể thực sự có giá trị.

Khi người kiểm tra viết một số phản hồi sau khi họ gặp sự cố, bạn có thể xem phản hồi đó trong App Store Connect và tải xuống nhật ký sự cố để bắt đầu phân tích những gì đã xảy ra.

Sau này, tôi sẽ cho bạn thấy những thay đổi mà chúng tôi đã thực hiện trong Xcode sẽ tăng cường quy trình làm việc này.

Đầu tiên, tôi muốn đưa ra một cái nhìn tổng quan nhanh về các tính năng có sẵn trước Xcode 13.

Trong Crashes Organizer, chúng tôi hỗ trợ sự cố cho cả hai ứng dụng trên App Store và TestFlight.

Chúng tôi hiển thị sự cố ứng dụng của bạn trên tất cả các nền tảng của chúng tôi, bao gồm sự cố từ App Clip và tiện ích mở rộng ứng dụng của bạn.

Người tổ chức xếp hạng các vấn đề của bạn để cho bạn thấy các sự cố ưu tiên cao nhất và cho bạn thấy cách các sự cố đó được phân phối trên các thiết bị và phiên bản hệ điều hành khác nhau.

Và một khi bạn đã quyết định bắt đầu tấn công sự cố đó, bạn có thể mở nó trực tiếp trong dự án Xcode của mình.

Tất cả các tính năng tuyệt vời này hoạt động ngay lập tức bằng cách đăng nhập vào Xcode bằng tài khoản nhà phát triển của bạn.

Hành trình tạo ra một ứng dụng tuyệt vời đôi khi có thể dài và gập ghềnh, bởi vì một khi bạn giao nó, khách hàng dường như luôn phá vỡ nó theo những cách mà bạn thậm chí không biết là có thể.

Trong Xcode 13, chúng tôi muốn làm cho Crashes Organizer trở nên tốt hơn để bạn có thể tiếp tục tiến gần hơn đến mục tiêu không có sự cố.

Điều này đặt chúng tôi vào nhiệm vụ phân phối nhật ký sự cố gần như ngay lập tức, cung cấp dữ liệu phong phú hơn về sự cố của bạn và cung cấp cho bạn nhiều ngữ cảnh hơn để giúp bạn khắc phục những vấn đề khó tái tạo đó.

Tôi rất vui được giới thiệu cho bạn tất cả các tính năng mới đáng kinh ngạc mà chúng tôi đã thêm vào Xcode 13 trong Crashes Organizer.

Có sáu cải tiến lớn mà tôi sẽ chia sẻ với bạn.

Đầu tiên, giao hàng nhanh chóng các sự cố TestFlight của bạn.

Bây giờ khi bất kỳ người thử nghiệm nào của bạn gặp sự cố bản dựng TestFlight, chúng tôi sẽ giao sự cố đó cho bạn trong Trình tổ chức chỉ vài phút sau đó.

Giao hàng sự cố nhanh chóng này hiện cho phép bạn xem tất cả các sự cố TestFlight của mình từ ngày cuối cùng và bây giờ bạn sẽ có biểu đồ hàng giờ cho bạn biết khi nào sự cố đã chọn xảy ra.

Trong Xcode 13, chúng tôi hiện đang cung cấp cho bạn lịch sử sự cố trị giá một năm.

Bây giờ bạn có thể lọc các sự cố theo khoảng thời gian để xem tất cả các sự cố đã xảy ra trong năm ngoái.

Bởi vì bây giờ chúng tôi có thể cho bạn thấy giá trị của các vụ tai nạn trong một năm, bạn sẽ thấy sự phân bố thời gian trong khu vực biểu đồ của thanh tra cho bạn thấy mức độ phổ biến của một vụ tai nạn trên cơ sở hàng tháng.

Chúng tôi muốn cung cấp cho bạn nhiều công cụ hơn để hiểu rõ hơn về sức khỏe trên tất cả các phần của ứng dụng của bạn.

Vì vậy, năm nay, chúng tôi sẽ thêm nhiều bộ lọc hơn vào Crashes Organizer để cho phép bạn tập trung vào các phần cụ thể của ứng dụng của mình.

Người tổ chức giờ đây cũng có thể lọc danh sách sự cố theo tất cả các phiên bản và bản dựng hoặc đi sâu vào bất kỳ bản phát hành riêng lẻ nào trong quá khứ.

Bạn cũng có thể lọc theo bất kỳ tiện ích mở rộng nào đi kèm với ứng dụng của mình, như ứng dụng đồng hồ, Kẹp ứng dụng hoặc tiện ích mở rộng chia sẻ của bạn.

Bạn thậm chí có thể kiểm tra xem ứng dụng iOS của mình đang chạy như thế nào trên những chiếc Apple silicon Mac phi thường đó.

Một phần của việc phân loại các vấn đề của ứng dụng của bạn là có được bức tranh đầy đủ về những người bị ảnh hưởng bởi một sự cố cụ thể và sự cố đó được phân phối trên các danh mục khác nhau.

Vì vậy, năm nay, chúng tôi đã thêm khả năng xem sự cố duy nhất được phân phối như thế nào trên các phiên bản ứng dụng của bạn và trên TestFlight và App Store.

Tất cả các bạn đã vận chuyển một số ứng dụng tuyệt vời với tư cách là nghệ sĩ solo, trong các nhóm lớn và mọi thứ ở giữa.

Trong Xcode 13, chúng tôi đang giới thiệu một cách mới để cộng tác với nhau bằng cách thêm khả năng để bạn chia sẻ báo cáo sự cố trực tiếp từ Người tổ chức.

Sử dụng nút Chia sẻ mới trên thanh công cụ, bạn có thể chia sẻ sự cố trực tiếp với các thành viên trong nhóm của mình hoặc chỉ cần thêm nó vào danh sách việc cần làm của bạn.

Và khi bạn nhấp vào một trong những liên kết này, Người tổ chức sẽ tải xuống và tập trung vào vấn đề này, cho phép bạn tập trung vào sự cố này và bắt đầu điều tra.

TestFlight là một công cụ có giá trị để các nhà phát triển nhanh chóng có được các tính năng và bản sửa lỗi mới trong tay những người thử nghiệm của họ, những người giúp tìm ra các sự cố và lỗi mới.

Thử nghiệm beta một ứng dụng với TestFlight giúp thấm nhuần niềm tin vào các nhà phát triển rằng họ sẽ gửi một bản cập nhật ngọt ngào đến App Store.

Tôi rất vui mừng thông báo rằng trong Xcode 13, chúng tôi sẽ đưa Phản hồi về sự cố TestFlight trực tiếp vào Trình tổ chức sự cố.

App Store Connect hiển thị cho bạn tất cả phản hồi TestFlight của bạn, bao gồm cả phản hồi sự cố.

Bạn có thể tiếp tục tải xuống phản hồi thô và nhật ký sự cố trực tiếp từ App Store Connect hoặc, mới trong năm nay, bạn có thể mở sự cố liên quan ngay trong Trình tổ chức bằng nút Mở trong Xcode mới.

Xem phản hồi sự cố của bạn giờ đây dễ dàng hơn bao giờ hết.

Có một thanh tra mới trong Crashes Organizer dành riêng cho phản hồi về sự cố TestFlight.

Mở Thanh tra này sẽ hiển thị cho bạn tất cả các phản hồi đã được gửi bởi những người thử nghiệm đã gặp sự cố mà bạn đã chọn.

Điều này cho phép bạn xem một danh sách phản hồi thống nhất cùng với báo cáo sự cố của mình mà bạn có thể nhanh chóng sàng lọc để tìm thêm một chút thông tin cần thiết để giúp bạn khắc phục sự cố.

Chúng tôi nghĩ rằng bối cảnh bổ sung này là vô giá khi theo dõi các vấn đề khó tái tạo.

Vì vậy, rất nhiều thứ mới thú vị.

Hãy đi sâu vào và bắt đầu phân loại một số sự cố trong Trình tổ chức sự cố mới.

Tôi đang làm việc trên ứng dụng của nhóm mình, Fruta, và gần đây chúng tôi đã chuyển một phiên bản mới lên App Store nhưng cũng liên tục triển khai các phiên bản mới cho TestFlight với Xcode Cloud.

Hôm nay tôi muốn xem liệu có bất kỳ sự cố nào gần đây trong App Clip của chúng tôi không, vì vậy hãy mở Trình tổ chức và xem chuyện gì đang xảy ra.

Tôi có thể làm điều này bằng cách chọn mục thanh menu Window và chọn Organizer.

Từ thanh bên trái, tôi có thể biết rằng Xcode đã mở cho Crashes Organizer cho ứng dụng iOS của tôi, Fruta.

Trong thanh công cụ ở đầu cửa sổ, bạn sẽ nhận thấy tất cả các tùy chọn bộ lọc mới có sẵn trong năm nay.

Bên dưới thanh lọc là danh sách sự cố, hiển thị cho chúng ta tất cả các sự cố của chúng ta trong hai tuần qua trên tất cả các phiên bản, bản dựng và sản phẩm.

Nhanh chóng quét danh sách này, tôi có thể thấy một số loại vấn đề khác nhau.

Sự cố trong danh sách hiển thị các huy hiệu khác nhau cho biết chúng đến từ App Clip, ứng dụng đồng hồ của chúng tôi hay tiện ích mở rộng ứng dụng.

Điều này cho phép chúng tôi nhanh chóng xác định khu vực nào trong ứng dụng của chúng tôi mà sự cố đang ảnh hưởng.

Ở bên phải của danh sách sự cố, tôi thấy chế độ xem nhật ký.

Điều này cho tôi thấy cái nhìn thân thiện, đơn giản về vụ tai nạn mà tôi đã chọn trong danh sách sự cố.

Và cuối cùng, ở bên phải của chế độ xem nhật ký, tôi thấy thanh tra, hiển thị cho tôi tất cả các loại thông tin thú vị về vụ tai nạn đã chọn.

Bây giờ chúng ta đã quen thuộc với Ban tổ chức, tôi muốn xem xét tất cả các vấn đề gần đây của chúng tôi đối với App Clip của chúng tôi.

Tôi có thể mở bộ lọc sản phẩm trên thanh công cụ liệt kê tất cả các sản phẩm đi kèm với ứng dụng của tôi, như ứng dụng đồng hồ, Kẹp ứng dụng hoặc tiện ích mở rộng ứng dụng của chúng tôi.

Tôi sẽ tiếp tục và chọn App Clip ở đây.

Chọn App Clip đã lọc danh sách sự cố để chỉ hiển thị sự cố App Clip của chúng tôi trong hai tuần qua.

Sự cố đầu tiên trong danh sách ở đây là sự cố hàng đầu của chúng tôi.

Bên dưới tiêu đề, Ban tổ chức cho chúng tôi biết rằng sự cố này đã ảnh hưởng đến 21 thiết bị trong hai tuần qua và 7 thiết bị trong ngày cuối cùng.

Bây giờ, trước khi tôi bắt đầu đào sâu vào mã, tôi muốn tự hỏi mình một số câu hỏi sẽ giúp hướng dẫn cuộc điều tra của tôi và dẫn tôi đến một số manh mối ngữ cảnh.

Đầu tiên, đây là một vấn đề kéo dài bao lâu rồi?

Nếu chúng ta đi đến khu vực đồ thị của thanh tra ở phía bên phải của cửa sổ, chúng ta có thể biết từ chú giải đồ thị rằng sự cố này lần đầu tiên xuất hiện trong phiên bản 2.0 và đang ảnh hưởng đến bản dựng TestFlight mới nhất của chúng ta, 2.0.1.

Câu hỏi tiếp theo, điều này ảnh hưởng đến ứng dụng sản xuất của tôi hay chỉ TestFlight?

Tôi có thể thay đổi bộ lọc thành Phát hành để phát hiện ra rằng điều này đang ảnh hưởng đến cả bản dựng TestFlight và App Store.

Vì vậy, vấn đề này khá quan trọng, bởi vì khách hàng của chúng tôi đang gặp phải nó và có vẻ như nó có thể đã thoái lui trong bản phát hành App Store gần đây nhất của chúng tôi.

Bây giờ hãy tập trung vào chế độ xem nhật ký.

Chế độ xem nhật ký thuận tiện làm nổi bật khung hình chính xác đã bị lỗi.

Tôi cũng biết rằng điều này đã xảy ra trên một luồng nền bằng cách nhìn vào số luồng phía trên dấu vết phía sau, luồng số 6.

Tôi có thể thấy điều này đang gặp sự cố trong khi chúng tôi đang đồng bộ hóa các mục yêu thích, nhưng không phải là một vùng mã mà tôi làm việc quá thường xuyên, và vì vậy tôi không biết cách tái tạo điều này.

Tôi thực sự không thể nghĩ ra nhiều câu hỏi hơn để tự hỏi bản thân sẽ giúp tôi hiểu rõ hơn về vụ tai nạn này, vì vậy sẽ thực sự hữu ích nếu có thêm một số bối cảnh.

May mắn thay, có một biểu tượng phản hồi bên cạnh sự cố này trong danh sách, vì vậy tôi biết rằng một trong những người thử nghiệm của chúng tôi đã trải qua sự cố này và đã gửi phản hồi.

Đây có thể chỉ là phần bối cảnh còn thiếu mà tôi cần bắt đầu giải quyết vụ tai nạn này.

Tôi có thể xem phản hồi của họ bằng cách đi đến khu vực thanh tra và mở Thanh tra Phản hồi mới.

Tôi thấy rằng một số người thử nghiệm đã gặp phải sự cố tương tự, bao gồm cả một người đã nhìn thấy nó chỉ một phút trước.

Trong thanh tra, tôi có thể xem bản xem trước của từng báo cáo phản hồi hoặc nếu tôi nhấp vào một báo cáo, tôi có thể xem thêm chi tiết trong cửa sổ bật lên.

Tôi sẽ nhấp vào phản hồi mới nhất này, mở ra một cửa sổ bật lên và hiển thị cho tôi tất cả bối cảnh phong phú cho sự cố của người thử nghiệm này, như phiên bản và bản dựng chính xác mà họ đã cài đặt, kiểu thiết bị, mức pin và dung lượng đĩa khả dụng.

Tất cả những điều này có thể là những manh mối hữu ích khi chẩn đoán một vụ tai nạn.

Trong trường hợp này, tôi có thể thấy người kiểm tra đang ở trên mạng di động và nhận xét của họ nói rằng, "Tôi đang đi qua một đường hầm và tôi nhấn nút yêu thích.

Vài giây sau, nó bị rơi."

Hmm. nếu họ đang đi qua một đường hầm, họ có thể đã có kết nối mạng kém.

Bây giờ chúng ta có thể kết hợp tất cả các manh mối của mình lại với nhau để biết rằng nhấn nút yêu thích sẽ kích hoạt một số tác vụ nền mà cuối cùng sẽ gặp sự cố.

Tôi nghĩ chúng ta có đủ để bắt đầu đi sâu vào mã.

Tôi sẽ sử dụng nút Mở trong Dự án để mở sự cố này trực tiếp trong dự án Fruta Xcode.

Được rồi, vì vậy Xcode đã mở và đang hiển thị dấu vết ngược trong Trình điều hướng gỡ lỗi ở bên trái và trình chỉnh sửa với tệp nguồn của chúng tôi và dòng mã gặp sự cố chính xác được tô sáng.

Vậy tại sao mã này lại gặp sự cố?

Chà, có vẻ như chúng ta đang cố tình gặp sự cố với một lỗi nghiêm trọng, đó là một lựa chọn thú vị.

Hãy xem nhanh chức năng syncFavorites của chúng tôi để hiểu nó đang cố gắng làm gì.

Đầu tiên, chúng ta đang nhảy vào một chủ đề nền.

Tiếp theo, có vẻ như chúng ta đang lưu món sinh tố này như một món yêu thích vào đĩa.

Sau đó, chúng tôi đang cập nhật back end của mình và chúng tôi đang sử dụng một nhóm điều phối để đồng bộ hóa các hoạt động này với nhau.

Sau đó, chúng tôi chờ đợi các hoạt động này với thời gian chờ 10 giây và nếu mất nhiều thời gian hơn, chúng tôi sẽ gặp sự cố.

Điều này khá không công bằng.

Nhớ lại phản hồi của người thử nghiệm của chúng tôi, nó nói rằng họ đang đi qua một đường hầm khi họ yêu thích một ly sinh tố.

Nếu họ đang đi qua một đường hầm, thì họ có thể có kết nối mạng kém chất lượng, điều đó có nghĩa là việc đồng bộ hóa với phụ trợ của chúng tôi chắc chắn có thể mất nhiều thời gian hơn 10 giây.

Vụ tai nạn này hoàn toàn có ý nghĩa bây giờ.

Bây giờ chúng tôi biết rằng thời gian chờ của chúng tôi quá ngắn và chúng tôi không xử lý nó đúng cách, hãy khắc phục điều này.

Gần đây tôi đã thực hành các kỹ năng Kết hợp của mình, vì vậy tôi nghĩ tôi muốn sử dụng Kết hợp để khắc phục điều này.

Tuyệt vời.

Vì vậy, bây giờ chúng tôi đang hợp nhất kết quả của hai nhà xuất bản với nhau và khi chúng tôi hết thời gian chờ, bây giờ là 30 giây, chúng tôi gọi trình xử lý hoàn thành của mình thay vì gặp sự cố.

Vấn đề đã được giải quyết.

Hãy quay lại với Ban tổ chức và đánh dấu vấn đề này là đã được giải quyết.

Ồ, có vẻ như sếp của tôi vừa gửi cho tôi một tin nhắn.

Ồ, Craig gặp tai nạn trong bản demo của anh ấy.

Rất may, sếp của tôi đã sử dụng tính năng chia sẻ mới trong Trình tổ chức để gửi cho tôi sự cố chính xác mà Craig gặp phải, vì vậy tôi không cần phải đào bới nó.

Khi tôi nhấp vào liên kết này, Người tổ chức sẽ tạo ra chế độ xem tập trung này về sự cố duy nhất được nhúng trong liên kết đó.

Tôi thực sự đã từng thấy vụ tai nạn này trước đây.

Tôi vừa sửa cái này vào ngày hôm trước và đánh dấu nó là đã được giải quyết.

Tôi cũng đã đặt cho vụ tai nạn một cái tên thân thiện hơn để tôi có thể nhớ vấn đề tiềm ẩn.

Tôi sẽ tiếp tục và cho sếp của tôi biết rằng tôi đã sửa cái này rồi.

Vì vậy, chúng tôi vừa xem xét cách phân loại sự cố Clip ứng dụng của mình bằng cách sử dụng các bộ lọc mới trong Trình tổ chức, cách sử dụng biểu đồ phân phối mới trong trình kiểm tra và cách sử dụng phản hồi TestFlight của chúng tôi để khắc phục sự cố khó tái tạo.

Bây giờ chúng ta hãy xem xét Trình tổ chức chấm dứt mới và những cải tiến mà chúng tôi đã thực hiện đối với MetricKit.

Trình tổ chức chấm dứt mới cho thấy xu hướng chấm dứt ứng dụng có thể ảnh hưởng đến khách hàng của bạn.

Sự cố bạn sẽ thấy trong Trình tổ chức sự cố là kết quả của lỗi lập trình, nhưng có nhiều cách khác để quá trình ứng dụng của bạn có thể bị chấm dứt.

Việc chấm dứt được phân loại theo các lý do như "thời gian khởi chạy" hoặc "đang đến giới hạn bộ nhớ hệ thống".

Bạn có thể so sánh các loại sự kiện chấm dứt này cho ứng dụng của mình với các phiên bản trước để tìm hồi quy.

Một số trường hợp chấm dứt này xảy ra trong nền, nhưng trong một số trường hợp nhất định, chúng có thể xảy ra trong khi ứng dụng của bạn ở trên màn hình.

Người tổ chức chấm dứt có thể giúp bạn hiểu sự khác biệt để bạn có thể lập kế hoạch khắc phục chúng.

Nếu bạn muốn đi sâu vào hồi quy, hãy xem phiên hướng dẫn sinh tồn hiệu suất Ứng dụng năm nay và để tìm hiểu thêm về việc chấm dứt, tôi khuyên bạn nên xem phiên Tại sao ứng dụng của tôi bị tắt? Từ năm 2020.

Nếu bạn không quen, bạn có thể sử dụng khung MetricKit của Apple để thu thập nhật ký sự cố trong mã của mình.

Tất cả những gì bạn cần làm là nhập MetricKit, bắt đầu nghe trình quản lý MetricKit và sử dụng thuộc tính crashDiagnostics trên tải trọng chẩn đoán MetricKit khi chúng được nhận.

Mới trong năm nay, chẩn đoán sự cố không còn được tổng hợp và phân phối một lần mỗi ngày mà hiện được phân phối trong lần khởi chạy tiếp theo của ứng dụng của bạn để bạn có quyền truy cập vào nhật ký sự cố nhanh hơn.

Tôi cũng vui mừng thông báo rằng MetricKit hiện hỗ trợ macOS.

Để tìm hiểu thêm về cách sử dụng MetricKit, tôi đề xuất phiên Có gì mới trong MetricKit từ năm 2020.

Có nhiều cách khác để theo dõi và xem các sự cố.

Bạn có thể truy cập sự cố trên thiết bị được kết nối của mình từ cửa sổ Thiết bị hoặc bằng cách chia sẻ nhật ký trực tiếp từ thiết bị của bạn.

XCTest sẽ thu thập các sự cố xảy ra khi chạy thử nghiệm của bạn và bạn có thể sử dụng ứng dụng Bảng điều khiển để xem sự cố từ máy Mac và trình giả lập của mình.

Để biết thêm về các công cụ bổ sung này, hãy xem phiên Hiểu về sự cố và nhật ký sự cố từ năm 2018.

Hôm nay chúng ta đã thấy một số tính năng mới tuyệt vời.

Chúng tôi hy vọng rằng việc phân phối nhật ký sự cố nhanh chóng mới, tích hợp phản hồi TestFlight và các chỉ số phân phối sẽ cải thiện đáng kể trải nghiệm của bạn, khắc phục sự cố và cuối cùng cải thiện sức khỏe ứng dụng và trải nghiệm người dùng của bạn.

Cảm ơn bạn đã xem.

Và hãy nhớ rằng, con đường dẫn đến thành công luôn được xây dựng.

[Nhạc gõ].