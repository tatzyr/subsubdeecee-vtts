10121

Xin chào, tôi là Nandini Sundara Raman, và hôm nay, tôi sẽ chỉ cho bạn cách bạn có thể điều chỉnh trải nghiệm VoiceOver trong các ứng dụng giàu dữ liệu của mình bằng AXCustomContent API.

VoiceOver là trình đọc màn hình của Apple cho phép bạn tương tác với bất kỳ thiết bị Apple nào, ngay cả khi bạn không thể nhìn thấy màn hình.

Bạn có thể sử dụng VoiceOver bằng cách chạm vào màn hình để nghe những gì dưới ngón tay của bạn và sau đó thực hiện các cử chỉ đơn giản như vuốt để điều hướng giao diện.

Vì vậy, ở đây tôi có một ứng dụng đơn giản mà tôi đã tạo có tên Woof Woof Kennel, nơi chúng tôi có mô tả chi tiết về một số con chó được liệt kê trong chế độ xem bảng và người dùng VoiceOver có thể vuốt qua danh sách để khám phá cũi.

Hãy cùng xem nhanh trải nghiệm VoiceOver của ứng dụng này.

Bailey, beagle, happy-go-lucky, chó săn xuất sắc và người bạn đồng hành trung thành.

Phổ biến, số một. Tuổi, ba năm.

Cân nặng, 25 pound. Chiều cao, 14 inch.

Winston, pug, yêu thương, thông minh, tình cảm, trung thành, quyến rũ, vui tươi và tinh nghịch.

Phổ biến, số hai.

Tuổi, ba năm. Cân nặng, 14 pound.

Chiều cao, 10 inch.

Whoa! Đó là rất nhiều dữ liệu được đọc bởi VoiceOver cho mỗi con chó, nơi tất cả nội dung của ô được đọc từ trên cùng bên trái xuống dưới cùng bên phải.

Trong khi điều hướng giao diện với VoiceOver, quá nhiều dữ liệu có thể bị quá tải, với tải nhận thức đối với người dùng và khiến ứng dụng của bạn khó điều hướng.

Và quá ít dữ liệu sẽ dẫn đến trải nghiệm không đầy đủ về ứng dụng của bạn.

Cả hai thái cực đều gây bực bội và việc tìm kiếm sự cân bằng ở đây có thể khó khăn vì những người dùng khác nhau có thể muốn thông tin khác nhau khi sử dụng ứng dụng của bạn.

Để đạt được sự cân bằng này, chúng tôi có API nội dung tùy chỉnh khả năng truy cập.

Lớp và giao thức này trong khung Trợ năng có sẵn trên tất cả các nền tảng.

Một vấn đề phổ biến với việc trình bày dữ liệu phức tạp với Voiceover được giải quyết bởi API này bằng cách cung cấp thông tin khả năng truy cập cho người dùng của bạn theo các phần được đo lường.

Với API này, bạn có thể tận dụng các công nghệ hỗ trợ để chỉ trình bày nội dung mà người dùng ứng dụng của bạn cần khi họ cần.

Bây giờ, hãy xem cách AXCustomContent API có thể được triển khai trong các ứng dụng giàu dữ liệu của chúng tôi.

Và để làm điều đó, trước tiên tôi muốn cho bạn thấy ứng dụng của tôi trông như thế nào với AXCustomContent API được triển khai.

Bailey, beagle. Nhiều nội dung hơn có sẵn.

Vâng! Bạn đã nghe đúng điều đó.

VoiceOver vừa thông báo rằng chúng tôi có nhiều nội dung hơn trên ô này.

Bằng cách này, điều đó có nghĩa là bạn có thể truy cập nội dung bổ sung trên ô này bằng cách sử dụng rôto Thêm nội dung.

Rôto lồng tiếng cho phép người dùng điều hướng các ứng dụng một cách nhanh chóng và hiệu quả.

Nó có nhiều cách sử dụng tích hợp sẵn như thiết lập ngôn ngữ VoiceOver, điều chỉnh tốc độ nói và cũng di chuyển giữa các liên kết trên trang web, v.v.

Tại đây, với nhiều nội dung hơn, chúng ta có thể điều hướng giữa nội dung bổ sung của một phần tử dưới con trỏ VoiceOver.

Để truy cập vào Rôto Thêm Nội dung với VoiceOver trong các thiết bị iOS, hãy xoay hai ngón tay trên màn hình như thể xoay mặt số cho đến khi bạn đạt được tùy chọn rôto mong muốn là Rôto Thêm Nội dung.

Nhiều nội dung hơn.

Và sau đó, vuốt xuống hoặc lên để điều hướng đến nội dung bổ sung tiếp theo hoặc trước đó có sẵn dưới con trỏ VoiceOver.

Bây giờ, khi tôi vuốt xuống ô, VoiceOver sẽ trình bày nội dung bổ sung có trên đó.

Ba năm, tuổi.

Số một, sự nổi tiếng.

25 pound, cân nặng. 14 inch, chiều cao.

Happy-go-lucky, chó săn xuất sắc và người bạn đồng hành trung thành. Mô tả.

Hãy xem phiên bản macOS của cùng một ứng dụng hoạt động như thế nào sau khi triển khai AXCustomContent API trên đó.

Bailey, beagle. Nhiều nội dung hơn có sẵn.

Khi con trỏ VoiceOver ở trên phần tử có nhiều nội dung hơn, chúng ta có thể hiển thị rôto bằng lệnh VO + + / để hiển thị nội dung tùy chỉnh của nó.

Thêm menu Nội dung. Năm mặt hàng.

Tuổi, ba năm. Phổ biến, số một.

Cân nặng, 25 pound.

Chiều cao, 14 inch.

Mô tả, vui vẻ-đi-may mắn, chó săn xuất sắc và người bạn đồng hành trung thành.

Trong iOS, để nhận thông báo khi phần tử VoiceOver có nội dung bổ sung, hãy chuyển đến tùy chọn VoiceOver và mở cài đặt Verbosity.

Trong cài đặt Verbosity, chọn Thêm Nội dung.

Và chọn nói gợi ý, phát âm thanh hoặc thay đổi cao độ để nhận thông báo khi có nội dung bổ sung.

Tương tự, bạn cũng có thể đặt độ chi tiết của nhiều thông báo nội dung có sẵn hơn trong macOS.

Bạn có thể làm điều này bằng cách sử dụng tùy chọn Tiện ích VoiceOver.

Bây giờ, hãy xem cách chúng tôi có thể làm cho ứng dụng Woof Woof Kennel của mình hỗ trợ API nội dung tùy chỉnh khả năng truy cập.

Ở đây, chúng tôi có DogTableViewCell với các biến cho ảnh chó, tên, loại, mô tả, mức độ phổ biến, tuổi tác, cân nặng và chiều cao.

Để triển khai AXCustomContent API, trước tiên chúng tôi nhập khung Trợ năng.

Sau đó, chúng tôi cần thêm và triển khai Giao thức AXCustomContentProvider trên TableViewCell của chúng tôi.

Trước khi triển khai các phương thức giao thức, hãy ghi đè thuộc tính accessibilityLabel và chỉ trả về tên và loại chó, vì chúng là những chi tiết phù hợp nhất ở đây.

Sau đó, chúng tôi triển khai khả năng truy cập phương thức giao thức AXCustomContentProviderCustomContent với một mảng các đối tượng AXCustomContent trong đó các đối tượng AXCustomContent là một cặp khóa-giá trị của các chuỗi được bản địa hóa.

Ở đây chúng tôi tạo đối tượng AXCustomContent để mô tả với chuỗi "Mô tả" làm nhãn và giá trị văn bản của mô tả làm giá trị của đối tượng AXCustomContent.

Sau đó, chúng tôi cũng tạo ra các đối tượng AXCustomContent cho mức độ phổ biến, tuổi tác, cân nặng và chiều cao.

Sau đó, chúng tôi trả về một mảng của tất cả các đối tượng AXCustomContent này theo thứ tự bạn muốn VoiceOver trình bày chúng cho người dùng của mình.

Bây giờ, hãy xem trải nghiệm VoiceOver đã được cải thiện như thế nào sau khi triển khai giao thức AXCustomContentProvider trên TableViewCell của chúng tôi.

Bailey, beagle. Nhiều nội dung hơn có sẵn.

Số một, sự nổi tiếng.

Ba tuổi, tuổi. 25 pound, cân nặng.

14 inch, chiều cao.

Chúc mừng-đi-may mắn, chó săn xuất sắc, và người bạn đồng hành trung thành, mô tả.

Đối với người dùng đang cố gắng duyệt danh sách này, tuổi của con chó có thể là một thông tin quan trọng đối với họ nếu họ muốn nhận nuôi nó.

Hiện tại, giá trị của nó bị ẩn đằng sau rôto Thêm Nội dung.

Đối tượng AXCustomContent có một thuộc tính có tên là "importance" có thể được sử dụng để giải quyết vấn đề này.

Chúng tôi có thể đặt giá trị của thuộc tính này thành "cao" và nội dung sẽ luôn được trình bày khi VoiceOver tập trung vào phần tử mà không cần đạp xe qua các yếu tố bổ sung.

Để đảm bảo rằng tuổi của con chó luôn được VoiceOver trình bày, chúng tôi đã đặt thuộc tính quan trọng đối với đối tượng nội dung tùy chỉnh độ tuổi là "cao".

Bây giờ, ở đây chúng ta thấy rằng tuổi của con chó luôn được VoiceOver đọc.

Bailey, beagle, ba năm.

Nhiều nội dung hơn có sẵn.

Thông tin về độ tuổi này cũng sẽ có sẵn trong rôto Thêm nội dung của bạn.

Điều mới trong năm nay là chúng tôi cũng hỗ trợ khả năng tương tự với SwiftUI.

Chúng tôi có thể đặt công cụ sửa đổi accessibilityCustomContent trên các chế độ xem tùy chỉnh của mình trong SwiftUI bằng cách chuyển văn bản có thể định vị cho cả nhãn và các tham số giá trị và đặt thuộc tính quan trọng khi cần thiết.

Cách này hoạt động tốt trong các tình huống mà giá trị nội dung tùy chỉnh được thêm vào ở một nơi và không bị thao tác sau này trong hệ thống phân cấp.

Để thực hiện điều này trong Chế độ xem DogCell của chúng tôi, trước tiên chúng tôi đặt các công cụ sửa đổi ẩn về khả năng truy cập trên văn bản mô tả và trên HStack có chứa mức độ phổ biến, tuổi tác, cân nặng và chiều cao của con chó để chúng không được tự động chọn cho nhãn khả năng truy cập của DogCell.

Sau đó, chúng tôi đặt các công cụ sửa đổi accessibilityCustomContent cho độ tuổi với tầm quan trọng được đặt thành cao, mức độ phổ biến, cân nặng, chiều cao và mô tả.

Nếu chúng tôi muốn giá trị nội dung tùy chỉnh của mình được thao tác ở nhiều nơi trong hệ thống phân cấp giao diện người dùng Swift, chúng tôi có thể tránh xác định lại khóa bằng cách tạo tiện ích mở rộng của AccessibilityCustomContentKey.

Điều này sẽ cung cấp khả năng cập nhật hoặc xóa giá trị cho khóa đó mà không cần tạo lại chuỗi văn bản có thể định vị.

Trong ví dụ DogCell của chúng tôi, chúng tôi đã tạo một phần mở rộng của AccessibilityCustomContentKey và thêm age làm một trong những khóa tùy chỉnh.

Trên VStack của thân DogCell, chúng tôi đã thêm công cụ sửa đổi CustomContent có khả năng truy cập với "tuổi" AccessibilityCustomContentKey, thay vì sử dụng khóa chuỗi ở đây.

Cuối cùng, đây là những gì chúng tôi hy vọng bạn sẽ làm để điều chỉnh trải nghiệm VoiceOver của các ứng dụng giàu dữ liệu của chúng tôi.

Đầu tiên, xác định các phần giàu dữ liệu trực quan trong ứng dụng của bạn.

Bật VoiceOver và xác định xem nội dung dưới con trỏ VoiceOver có quá dài dòng hay không.

Nếu nó dài dòng, hãy triển khai giao thức AXCustomContentProvider và xem xét chuyển thông tin bổ sung sang accessibilityCustomContent.

Đặt thuộc tính quan trọng thành "cao" cho thông tin bạn luôn muốn trình bày cho người dùng của mình.

Đối với người dùng VoiceOver, việc có tùy chọn truy cập nội dung của họ theo các phần được đo lường và chỉ trình bày nội dung cho họ khi họ cần, nó sẽ cải thiện đáng kể trải nghiệm Trợ năng của ứng dụng của bạn.

Vì vậy, bây giờ, để mang lại trải nghiệm tốt hơn cho người dùng VoiceOver của chúng tôi, tôi thực sự khuyến khích bạn xem cách bạn có thể kết hợp API AXCustomContent vào các ứng dụng giàu dữ liệu của mình!

Và cảm ơn mọi người rất nhiều vì đã xem phiên này.

Tạm biệt!

[Nhạc gõ].