10037

♪ Nhạc bass đang phát ♪

♪

Tao Jia: Xin chào, tên tôi là Tao.

Hôm nay, đồng nghiệp Jack của tôi và tôi sẽ nói về việc xây dựng các ứng dụng iOS động với khung Create ML.

Vậy ý tôi là gì khi nói một ứng dụng năng động?

Ứng dụng động là những ứng dụng cung cấp cho người dùng sự linh hoạt để tùy chỉnh các yếu tố nhất định của ứng dụng.

Các ứng dụng động cũng điều chỉnh nội dung của chúng để phù hợp nhất với các nhu cầu khác nhau của người dùng.

Các tính năng thích ứng trong ứng dụng này mang đến cho người dùng của bạn những trải nghiệm thông minh và được cá nhân hóa hơn được thiết kế riêng cho họ.

Bạn có thể cung cấp một số trải nghiệm như vậy bằng các phương pháp suy nghiệm đơn giản và các quy tắc được xác định trước.

Nhưng thông thường, những cách tiếp cận này có thể không mang lại trải nghiệm tốt nhất cho tất cả người dùng ứng dụng của bạn vì nền tảng và sở thích của họ có thể khác nhau.

Mặt khác, các kỹ thuật học máy cho phép bạn tạo ra các mô hình học trực tiếp từ dữ liệu người dùng.

Điều này thường khái quát hơn và có khả năng phù hợp với nhiều người dùng hơn là heuristics và các quy tắc được xác định trước.

Vậy bạn có thể sử dụng công cụ nào để mang lại trải nghiệm như vậy?

Ứng dụng Create ML, có sẵn trên máy Mac của bạn, giúp bạn dễ dàng tạo các mô hình bằng cách chọn một số dữ liệu đào tạo và nhấn nút tàu.

Nó hỗ trợ tất cả các loại mô hình thông qua một bộ mẫu phong phú.

Ứng dụng được xây dựng dựa trên khuôn khổ Create ML cung cấp đào tạo tăng tốc cho các mô hình học máy.

Khung Create ML ban đầu được giới thiệu trong macOS Mojave cho phép các mô hình được đào tạo bằng mã Swift và từ bên trong ứng dụng macOS của bạn.

Và bây giờ chúng tôi đang đưa khuôn khổ đó lên iOS 15 và iPadOS 15.

Với nó có sẵn trên thiết bị, các ứng dụng của bạn có thể làm tất cả các loại điều mới và năng động.

Nói cách khác, bạn có thể truy cập các API có lập trình trực tiếp từ ứng dụng của mình để tạo mô hình trên thiết bị.

Nó cung cấp cho ứng dụng của bạn khả năng học hỏi và do đó thích ứng với người dùng của bạn.

Cuối cùng nhưng quan trọng nhất, dữ liệu người dùng không bao giờ phải rời khỏi thiết bị của họ; do đó, quyền riêng tư của người dùng được bảo toàn.

Bây giờ, chúng ta hãy đi sâu vào.

Có nhiều nhiệm vụ khác nhau có sẵn trong Create ML.

Đây là tất cả những cái có sẵn trên macOS, và những cái này hiện có sẵn trên iOS.

Trong số đó có các tác vụ phổ biến như phân loại hình ảnh, âm thanh và văn bản.

Những cái được thêm vào gần đây hơn bao gồm chuyển phong cách cũng như bổ sung mới của các bộ phân loại tư thế tay và hành động tay trong năm nay.

Với những công cụ này có sẵn, có rất nhiều ý tưởng và trường hợp sử dụng thú vị.

Đây là một vài ví dụ.

Với phân loại hình ảnh, một ứng dụng có thể tìm hiểu những con thú nhồi bông yêu thích của một đứa trẻ trông như thế nào và sau đó giúp tìm thêm ảnh của chúng để giúp tạo ra một câu chuyện về những cuộc phiêu lưu của chúng cùng nhau.

Trình phân loại văn bản có thể được sử dụng để giúp người dùng nhanh chóng sắp xếp ghi chú mà họ vừa viết với các thẻ và thư mục được đề xuất đã học được từ các hành động trong quá khứ của họ.

Trình phân loại hành động tay, mới trong năm nay, có thể cung cấp cho người dùng của bạn sức mạnh để kích hoạt các hiệu ứng hình ảnh trong ứng dụng với các hành động tay tùy chỉnh.

Có rất nhiều điều thú vị bạn có thể làm với Create ML trên iOS nhưng tốt hơn hết là chỉ cho bạn thấy ý tôi với một bản demo.

Tôi có một ứng dụng trông hơi giống một ứng dụng gian hàng ảnh, nhưng năng động hơn vì nó cho phép tôi tạo một bộ lọc ảnh tùy chỉnh.

Hãy để tôi chỉ cho bạn cách nó hoạt động.

Ở đây trên iPad của tôi, nó hiển thị ở trên cùng danh sách các bộ lọc hiện có mà tôi đã đào tạo trên máy Mac của mình bằng cách sử dụng tác vụ chuyển kiểu Tạo ML.

Mỗi người trong số họ được thể hiện bằng hình ảnh phong cách cụ thể được sử dụng để tạo bộ lọc.

Ở phía dưới, ứng dụng đang chờ ảnh để thử các bộ lọc đó, bằng cách chụp hoặc chọn ảnh.

Để tôi chụp ảnh ngay bây giờ.

Chụp ảnh tự sướng thì sao?

Hãy xem những bộ lọc này trông như thế nào.

Trước tiên hãy để tôi nhấp vào hình ảnh đầu tiên này về dạng sóng.

Ồ, tôi có tất cả những giọt nước này trên mặt và tóc; làm tôi nhớ đến kỳ nghỉ của mình ở Miami từ lâu rồi.

Còn bức ảnh birdies này thì sao?

Hãy nhìn xem tôi đầy màu sắc như thế nào.

Còn bức ảnh thứ ba trông giống như băng nứt này thì sao?

Ồ, tôi trông ngầu và băng giá.

Bây giờ những thứ này trông thực sự thú vị, nhưng tôi cảm thấy mình vẫn đang thiếu thứ gì đó.

Điều gì sẽ xảy ra nếu tôi có thể tạo một bộ lọc bằng bất kỳ bức ảnh nào tôi chọn?

Điều đó sẽ làm cho ứng dụng này thực sự thú vị khi sử dụng.

Hãy để tôi thử xem.

Tôi có bức vẽ này từ con gái tôi khi nó 3 tuổi.

Tôi thực sự yêu thích kết cấu và màu sắc.

Tôi tò mò muốn xem tôi sẽ trông như thế nào trong phong cách nghệ thuật của con gái tôi.

Hãy để tôi nhấp vào nút "+ Bộ lọc" này, chọn Máy ảnh và chụp ảnh.

"Sử dụng ảnh.

Bây giờ bộ lọc đang được tạo ra.

Dưới mui xe, nó đang đào tạo một mô hình chuyển phong cách tùy chỉnh.

Hãy để tôi giải thích nó hoạt động như thế nào.

Đầu tiên, chọn một hình ảnh kiểu duy nhất.

Hình ảnh phong cách tôi sử dụng là bản vẽ của con gái tôi.

Tiếp theo, tôi cần cung cấp một bộ hình ảnh nội dung cho người mẫu để học cách áp dụng phong cách trong khi vẫn giữ nguyên nội dung gốc của những hình ảnh này.

Trong bản demo này, tôi đã sử dụng vài chục bức ảnh từ album của mình, bao gồm ảnh phong cảnh và ảnh tự chụp.

Nếu bạn muốn áp dụng phong cách trên các loại ảnh khác - ví dụ: ảnh của thú cưng của bạn - bạn cũng có thể bao gồm một vài ảnh như vậy trong bộ nội dung của mình.

Sau đó, chọn loại bộ lọc của bạn dưới dạng hình ảnh hoặc video, tùy thuộc vào kịch bản ứng dụng của bạn.

Đối với bản demo này, tôi đã chọn hình ảnh, vì tôi muốn áp dụng phong cách trên các bức ảnh tĩnh.

Bạn cũng có thể thử nghiệm với sức mạnh phong cách và mật độ phong cách, cũng như số lần lặp lại để có được sự kết hợp yêu thích của bạn giữa cách điệu và nội dung gốc.

Để biết chi tiết về cách thiết lập các thông số này, vui lòng tham khảo phiên WWDC năm ngoái.

Bây giờ hãy thử bộ lọc mới được tạo trên ảnh của tôi.

Chà, đó là cách tôi sẽ nhìn vào bức vẽ của con gái tôi.

Nó thực sự đã chọn những kết cấu và màu sắc này.

Làm thế nào về việc tôi thử một bức ảnh khác?

Tôi có chú thỏ này mà con gái tôi thực sự thích chơi cùng.

Làm thế nào về việc tôi chụp ảnh tự sướng với chú thỏ và áp dụng bộ lọc?

Chú thỏ cũng đã được cách điệu bởi bức vẽ của cô ấy.

Tôi nóng lòng muốn cho cô ấy xem cái này và thử các bức vẽ khác của cô ấy.

Nó sẽ rất vui.

Trong bản demo này, tôi đã chỉ cho bạn cách tận dụng mô hình chuyển phong cách có sẵn trong khung Tạo ML trên iOS để tạo bộ lọc ảnh tùy chỉnh.

Vậy nó trông như thế nào trong mã?

Đầu tiên, xác định nguồn dữ liệu đào tạo chỉ định một hình ảnh phong cách và một tập hợp các hình ảnh nội dung.

Tiếp theo, xác định các thông số phiên của bạn, để chỉ định những thứ như nơi bạn muốn lưu các điểm kiểm tra của mình.

Tiếp theo, xác định công việc đào tạo của bạn bằng cách sử dụng các thông số này.

Cuối cùng, gửi công việc đào tạo và sau khi nhận được hoàn thành thành công, hãy lưu mô hình đã đào tạo để cách điệu hình ảnh, biên dịch và khởi tạo mô hình Core ML, bắt đầu đưa ra dự đoán.

Và thế là xong.

Đó là những gì tôi đã sử dụng để tạo một bộ lọc ảnh tùy chỉnh, sử dụng API chuyển kiểu từ khung Tạo ML.

Các tác vụ khác tuân theo một mô hình API tương tự.

Cho đến nay tôi đã nói về các nhiệm vụ cho phép tạo mô hình từ các loại dữ liệu đa phương tiện, chẳng hạn như hình ảnh, văn bản, âm thanh và video.

Nhưng nếu ứng dụng của bạn không tương tác với các loại dữ liệu như vậy thì sao?

Hãy để tôi mời đồng nghiệp Jack của tôi nói về cách bạn có thể làm cho ứng dụng của mình trở nên năng động trong những trường hợp này.

Jack Cackler: Cảm ơn, Tao.

Ngoài các nhiệm vụ mà chúng tôi đã đề cập cho đến nay, khung Tạo ML trên iOS cũng hỗ trợ các trình phân loại và hồi quy cho dữ liệu dạng bảng có cấu trúc.

Hãy cùng xem qua một ví dụ về cách những thứ này có thể tạo ra trải nghiệm ứng dụng năng động hơn.

Đầu tiên, một số nền tảng về phân loại và hồi quy.

Một trình phân loại học cách dự đoán các lớp cụ thể từ dữ liệu trong tập dữ liệu đào tạo.

Một regressor tương tự, nhưng học cách dự đoán một giá trị số thay vì một nhãn lớp rời rạc.

Dưới đây là các API để đào tạo phân loại và hồi quy từ dữ liệu bảng chung, cho phép chúng được sử dụng trong nhiều tình huống khác nhau.

Đặc biệt, Create ML trên iOS cung cấp bốn thuật toán khác nhau cho mỗi thuật toán này.

Làm việc với các mô hình bảng chung có thể yêu cầu thêm một chút công việc để sử dụng, vì bạn phải quyết định tính năng và giá trị mục tiêu nào bạn muốn sử dụng trong mô hình.

Tuy nhiên, điều này thường có thể đơn giản.

Hãy xem xét một ứng dụng sử dụng hồi quy dạng bảng để thêm trải nghiệm được cá nhân hóa.

Đây là một ứng dụng đơn giản để đặt bữa ăn từ các nhà hàng.

Ứng dụng có các nhà hàng trong khu vực.

Đây là một nhà hàng Thái địa phương tên là Amazing Thai.

Nếu tôi chọn nó, ứng dụng sẽ hiển thị các món ăn tôi có thể gọi từ nhà hàng và thông tin về từng món ăn.

Đó là một ứng dụng đơn giản, nhưng nếu tôi có thể làm cho nó tốt hơn thì sao?

Điều thực sự gọn gàng là nếu theo thời gian ứng dụng của tôi học được hành vi của tôi và giúp đưa ra các đề xuất nhà hàng và món ăn thông minh mà tôi có thể thích.

Điều này sẽ đưa điều này từ một ứng dụng đơn giản thành một trải nghiệm thực sự năng động.

Tôi có thể đạt được điều này bằng cách đào tạo một bộ hồi quy dạng bảng ngay trong ứng dụng.

Tôi sẽ lấy ba loại thông tin và kết hợp chúng trong một bảng có cấu trúc để đào tạo mô hình và mang lại trải nghiệm năng động mới.

Đầu tiên là nội dung, đó là dữ liệu tôi đã tải vào ứng dụng.

Trong trường hợp ứng dụng nhà hàng của chúng tôi, đó là thông tin về các món ăn.

Thứ hai là bối cảnh.

Trong trường hợp này, thời gian trong ngày người dùng đặt hàng.

Cuối cùng, tôi thêm lịch sử đặt hàng của người dùng và tạo ra trải nghiệm phù hợp với họ ngay trên thiết bị của họ.

Bằng cách kết hợp nội dung và bối cảnh, cũng như tương tác người dùng trong quá khứ, tôi có thể dự đoán tương tác trong tương lai; một cơ hội tuyệt vời để cá nhân hóa, trong trường hợp này để giúp dự đoán các món ăn mà người dùng có thể thích trong tương lai.

Hãy quay lại ứng dụng với mô hình được thêm vào.

Tôi đang gọi bữa trưa hôm nay và tôi đang có tâm trạng muốn ăn pizza.

Tôi đặt bữa ăn thành Bữa trưa và chọn Pizza Parlor, chọn một chiếc bánh pizza margherita và gọi nó.

Có một vài thông tin trên cửa sổ này thực sự là những gì đang đào tạo bộ hồi quy dạng bảng của chúng tôi.

Nội dung là từ khóa cho món ăn này; những thứ như nguyên liệu - cà chua, phô mai mozzarella - cũng như chính nhà hàng - Pizza Parlor - và thể loại thực phẩm - pizza.

Bối cảnh cho mô hình này là thời gian trong ngày.

Đây là từ bữa trưa, và bây giờ tôi đã dạy mô hình của mình rằng đây là những thứ tôi có thể thích vào bữa trưa.

Cuối cùng, sự tương tác của tôi là tôi đã gọi món này chứ không phải những món khác.

Bộ hồi quy mà tôi đang đào tạo đang dự đoán điểm ưu tiên cho từng món ăn mà tôi có thể gọi, và hôm nay nó biết rằng tôi đã gọi món này chứ không phải những món khác.

Quay trở lại màn hình chính, mô hình đã được đào tạo và có một cửa sổ mới gợi ý các món ăn chỉ dành cho tôi.

Món ăn tôi thực sự gọi - pizza margherita - là đề xuất đầu tiên, nhưng đề xuất tiếp theo là một chiếc bánh sandwich caprese từ một nhà hàng hoàn toàn khác.

Một số loại pizza khác cũng ở gần đỉnh.

Hãy thử một ví dụ khác.

Giả sử tôi đang gọi bữa tối bây giờ.

Lần này tôi gọi món cà ri vàng từ Amazing Thai.

Bây giờ mô hình đã cập nhật lại.

Nó đã học được sở thích mới của tôi, theo ngữ cảnh vào thời gian trong ngày tôi đang đặt hàng.

Món cà ri vàng tôi vừa gọi bây giờ là đề xuất hàng đầu và một món cà ri tương tự là đề xuất thứ hai.

Đề xuất tiếp theo là pizza chay.

Nó có nấm và ớt giống như món cà ri tôi vừa gọi, và ứng dụng biết tôi có thể thích pizza ngay cả khi nó có thể không phải là lựa chọn đầu tiên của tôi cho bữa tối.

Nếu sau đó tôi đi gọi bữa trưa vào ngày hôm sau, người mẫu đã học cách phân biệt những gì tôi có thể gọi cho bữa trưa so với những gì tôi có thể gọi cho bữa tối.

Điều này mang lại trải nghiệm thực sự được cá nhân hóa giúp tôi tìm thấy chính xác những gì tôi muốn vào thời điểm tôi muốn và đó chỉ với hai đơn đặt hàng.

Có ba bước thực tế để thêm trình phân loại hoặc trình hồi quy dạng bảng vào ứng dụng: thiết lập dữ liệu, đào tạo và dự đoán.

Chức năng đầu tiên ở đây tạo ra các tính năng được tận dụng trong bộ hồi quy này từ bữa ăn và từ khóa.

Tôi lấy các từ khóa liên quan đến từng món ăn, kết hợp chúng với bữa ăn hiện tại (bối cảnh) để tạo ra một từ khóa mới cho phép mô hình nắm bắt sự tương tác giữa các từ khóa nội dung (món ăn) và các từ khóa ngữ cảnh (bữa ăn).

Chúng tôi đưa vào giá trị 1.0 trong từ điển để chỉ ra rằng một từ khóa cụ thể có trong mục nhập dữ liệu.

Đầu tiên, đối với mỗi món ăn mà người dùng đặt hàng, tôi thêm vào một mục nhập với các tính năng được tạo trước đó và giá trị mục tiêu tích cực.

Tuy nhiên, nếu tôi chỉ bao gồm điều này, người mẫu sẽ không học cách phân biệt những món ăn tôi thích và những món ăn nào tôi không thích.

Để làm điều này, tôi cũng thêm một mục nhập bằng cách sử dụng tất cả các từ khóa không có trong món ăn với giá trị mục tiêu âm là -1.

Điều này cho phép người mẫu tìm hiểu từ khóa nào phù hợp nhất với sở thích của người dùng.

Tôi chuyển đổi thông tin kết hợp này thành Khung dữ liệu, chỉ định cả từ khóa và mục tiêu.

Cuối cùng, tôi đào tạo mô hình, chỉ định rằng cột tôi đang cố gắng dự đoán là cột mục tiêu mà tôi đã đặt thành 1 hoặc -1.

Trong trường hợp này, mô hình là một bộ hồi quy tuyến tính đơn giản tạo ra các kết quả có ý nghĩa mà tôi có thể sử dụng trong ứng dụng.

Tại thời điểm dự đoán, tôi chỉ cần lấy dữ liệu mà tôi muốn chạy suy luận và gọi dự đoán từ mô hình mà tôi đã đào tạo.

Cho đến nay, chúng tôi đã chỉ ra cách đào tạo mô hình chuyển đổi kiểu dáng và bộ hồi quy dạng bảng trong các ứng dụng iPadOS và iOS.

Hãy nói về một số phương pháp hay nhất để tích hợp đào tạo học máy vào ứng dụng của bạn.

Đừng quên làm theo các phương pháp hay nhất cho việc học máy nói chung.

Ví dụ, luôn kiểm tra cách mô hình của bạn hoạt động trên dữ liệu không có trong tập dữ liệu đào tạo.

Đối với các nhiệm vụ đào tạo kéo dài, hãy tận dụng cơ chế kiểm soát và kiểm tra đào tạo không đồng bộ để tùy chỉnh quy trình tạo mô hình của bạn.

Một số khía cạnh của việc tạo mô hình có thể chuyên sâu về tính toán, tiêu tốn thêm bộ nhớ hoặc yêu cầu tải xuống các tài sản bổ sung.

Hãy cân nhắc những điều này khi tích hợp vào ứng dụng của bạn.

Vui lòng tham khảo API và tài liệu của chúng tôi để biết thêm thông tin.

Nếu bạn muốn tìm hiểu thêm về các phương pháp hay nhất, tôi thực sự khuyến khích bạn kiểm tra các phiên WWDC khác của chúng tôi từ những năm trước về "Thiết kế trải nghiệm ML tuyệt vời" và "Đào tạo kiểm soát trong Tạo ML với Swift".

Trong phiên này, chúng tôi đã nói về cách bạn có thể sử dụng khung Create ML trên iOS.

Chúng tôi đã đưa ra các ví dụ bằng cách sử dụng chuyển đổi kiểu và bộ hồi quy dạng bảng, và hầu hết các mẫu Tạo ML hiện có thể được đào tạo trực tiếp trên iPhone hoặc iPad.

Thông qua đào tạo về iOS, bạn có thể tạo các ứng dụng động cung cấp cho người dùng trải nghiệm tùy chỉnh và cá nhân hóa trong khi vẫn giữ được quyền riêng tư của người dùng.

Bởi vì đào tạo và suy luận hoàn toàn trong ứng dụng, nên cũng không có việc triển khai mô hình nào phải lo lắng.

Chúng tôi thực sự mong chờ được thấy những gì bạn nghĩ ra.

Cảm ơn bạn đã lắng nghe và tận hưởng phần còn lại của WWDC.

♪