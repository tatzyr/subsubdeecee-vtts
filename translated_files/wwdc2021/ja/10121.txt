10121

こんにちは、私はNandini Sundara Ramanです。今日は、AXCustomContent APIを使用して、データ豊富なアプリでVoiceOverエクスペリエンスを調整する方法を紹介します。

VoiceOverは、画面が見えなくても、あらゆるAppleデバイスと対話できるAppleのスクリーンリーダーです。

VoiceOverを使用すると、画面をタッチして指の下にあるものを聞き、スワイプなどの簡単なジェスチャーを実行してインターフェイスをナビゲートできます。

だから、ここに私が作成したWoof Woof Kennelというシンプルなアプリがあり、テーブルビューにリストされているいくつかの犬の詳細な説明があり、VoiceOverユーザーはリストをスワイプして犬小屋を探索することができます。

このアプリのVoiceOver体験を簡単に見てみましょう。 

ベイリー、ビーグル、ハッピーゴーラッキー、優れた狩猟犬、そして忠実な仲間。

人気、ナンバーワン。年齢、3歳。

体重、25ポンド。高さ、14インチ。

ウィンストン、パグ、愛情深く、知的で、愛情深く、忠実で、魅力的で、遊び心があり、いたずら好き。

人気、ナンバー2。

年齢、3歳。体重、14ポンド。

高さ、10インチ。

うわー！それは、セルのすべての内容が左上から右下に読み取られた各犬のVoiceOverによって読み取られた多くのデータでした。

VoiceOverでインターフェイスをナビゲートしている間、あまりにも多くのデータが圧倒的になり、ユーザーに認知負荷がかかる可能性があり、アプリをナビゲートするのが難しくなります。

また、データが少なすぎると、アプリのエクスペリエンスが不完全になります。

両方の極端はイライラし、異なるユーザーがアプリを使用するときに異なる情報を望む可能性があるため、ここでバランスを見つけるのは難しいかもしれません。

このバランスを達成するために、アクセシビリティカスタムコンテンツAPIがあります。

アクセシビリティフレームワークのこのクラスとプロトコルは、すべてのプラットフォームで利用できます。

Voiceoverで複雑なデータを提示する一般的な問題は、測定された部分でアクセシビリティ情報をユーザーに配信することで、このAPIによって解決されます。

このAPIを使用すると、支援技術を活用して、アプリユーザーが必要なときに必要とするコンテンツのみを表示できます。

では、AXCustomContent APIをデータ豊富なアプリに実装する方法を見てみましょう。

これを行うには、まず、AXCustomContent APIが実装された状態で私のアプリがどのように見えるかをお見せしたいと思います。

ベイリー、ビーグル。より多くのコンテンツが利用可能です。

はい！あなたはそれを正しく聞きました。

VoiceOverは、このセルで利用可能なより多くのコンテンツがあることを発表しました。

これにより、More Contentローターを使用して、このセルの追加コンテンツにアクセスできることを意味します。

ボイスオーバーローターを使用すると、ユーザーはアプリケーションを迅速かつ効率的にナビゲートできます。

VoiceOver言語の設定、発話速度の調整、Webページ上のリンク間の移動など、多くの組み込みの用途があります。

ここでは、More Contentローターを使用すると、VoiceOverカーソルの下の要素の追加コンテンツ間を移動できます。

iOSデバイスのVoiceOverでMore Contentローターにアクセスするには、More Contentローターである目的のローターオプションに到達するまで、ダイヤルを回転させるかのように画面上の2本の指をひねります。

より多くのコンテンツ。

そして、下または上にスワイプして、VoiceOverカーソルの下で利用可能な次または前の追加コンテンツに移動します。

今、セルを下にスワイプすると、VoiceOverには追加のコンテンツが表示されます。

3歳、歳。

ナンバーワン、人気。

25ポンド、体重。14インチ、身長。

ハッピーゴーラッキー、優れた狩猟犬、そして忠実な仲間。説明。

AXCustomContent APIを実装した後、同じアプリのmacOSバージョンがどのように機能するかを見てみましょう。

ベイリー、ビーグル。より多くのコンテンツが利用可能です。

VoiceOverカーソルがより多くのコンテンツを持つ要素上にあると、VO +コマンド+ /でローターを表示して、カスタムコンテンツを表示できます。

より多くのコンテンツメニュー。5つのアイテム。

年齢、3歳。人気、ナンバーワン。

体重、25ポンド。

高さ、14インチ。

説明、ハッピーゴーラッキー、優れた狩猟犬、そして忠実な仲間。

iOSでは、VoiceOver要素に追加のコンテンツがあるときに通知を受け取るには、VoiceOver環境設定に移動し、Verbosity設定を開きます。

[詳細設定] で、[その他のコンテンツ] を選択します。

また、ヒントを話すか、サウンドを再生するか、ピッチを変更するかを選択して、追加のコンテンツが利用可能になったときに通知を受け取ります。

同様に、macOSでも、より多くのコンテンツが利用可能なアナウンスの冗長性を設定できます。

これは、VoiceOverユーティリティの環境設定を使用して行うことができます。

さて、Woof Woof KennelアプリがアクセシビリティカスタムコンテンツAPIをサポートする方法を見てみましょう。

ここでは、犬の写真、名前、種類、説明、人気、年齢、体重、身長の変数を含むDogTableViewCellがあります。

AXCustomContent APIを実装するには、まずアクセシビリティフレームワークをインポートします。

次に、TableViewCellにAXCustomContentProviderプロトコルを追加して実装する必要があります。

プロトコルメソッドを実装する前に、accessibilityLabelプロパティをオーバーライドし、ここで最も関連性の高い詳細であるため、犬の名前とタイプだけを返しましょう。

次に、AXCustomContentオブジェクトがローカライズされた文字列のキーと値のペアであるAXCustomContentオブジェクトの配列を使用して、AXCustomContentProviderプロトコルメソッドaccessibilityCustomContentを実装します。

ここでは、文字列「Description」をラベルとして、説明のテキスト値をAXCustomContentオブジェクトの値として、説明用のAXCustomContentオブジェクトを作成します。

次に、人気、年齢、体重、身長のAXCustomContentオブジェクトも作成します。

次に、これらすべてのAXCustomContentオブジェクトの配列を、VoiceOverがユーザーに表示する順序で返します。

さて、TableViewCellにAXCustomContentProviderプロトコルを実装した後、VoiceOverエクスペリエンスがどのように改善されたかを見てみましょう。

ベイリー、ビーグル。より多くのコンテンツが利用可能です。

ナンバーワン、人気。

3歳、年齢。25ポンド、体重。

14インチ、高さ。

ハッピーゴーラッキー、優れた狩猟犬、そして忠実な仲間、説明。

このリストを閲覧しようとしているユーザーにとって、犬の年齢は、彼らがそれを採用したい場合、彼らにとって重要な情報かもしれません。

現在、その価値はMore Contentローターの後ろに隠されています。

AXCustomContentオブジェクトには、この問題を解決するために使用できる「重要度」という名前のプロパティがあります。

このプロパティの値を「高」に設定することができ、VoiceOverが追加の要素を循環せずに要素に焦点を当てると、コンテンツが常に表示されます。

犬の年齢が常にVoiceOverによって提示されるように、年齢カスタムコンテンツオブジェクトの重要度プロパティを「高」に設定しました。

さて、ここでは、犬の年齢が常にVoiceOverで読まれていることがわかります。

ベイリー、ビーグル、3年。

より多くのコンテンツが利用可能です。

この年齢情報は、More Contentローターでも入手できます。

今年の新機能は、SwiftUIでも同じ機能をサポートしていることです。

ラベルと値パラメータの両方にローカライズ可能なテキストを渡し、必要に応じて重要度プロパティを設定することで、SwiftUIのカスタムビューにaccessibilityCustomContent修飾子を設定できます。

この方法は、カスタムコンテンツの値が1か所に追加され、後で階層で操作されない状況でうまく機能します。

DogCellビューでこれを実装するには、まず、説明テキストと犬の人気、年齢、体重、身長を含むHStackにアクセシビリティ隠し修飾子を設定し、DogCellのアクセシビリティラベルに自動的にピックアップされないようにします。

次に、重要度が高い、人気、体重、身長、説明に設定された年齢のaccessibilityCustomContent修飾子を設定します。

カスタムコンテンツ値をSwift UI階層の複数の場所で操作したい場合は、AccessibilityCustomContentKeyの拡張機能を作成することで、キーの再定義を回避できます。

これにより、ローカライズ可能なテキスト文字列を再作成することなく、そのキーの値を更新または削除できます。

DogCellの例では、AccessibilityCustomContentKeyの拡張機能を作成し、カスタムキーの1つとして年齢を追加しました。

DogCellボディのVStackでは、ここで文字列キーを使用する代わりに、AccessibilityCustomContentKey「age」でaccessibility CustomContent修飾子を追加しました。

最後に、データ豊富なアプリのVoiceOverエクスペリエンスを調整するために、あなたが行うことを願っています。

まず、アプリの視覚的にデータが豊富な部分を特定します。

VoiceOverをオンにして、VoiceOverカーソルの下のコンテンツが冗長すぎるかどうかを判断します。

冗長な場合は、AXCustomContentProviderプロトコルを実装し、補足情報をaccessibilityCustomContentに移動することを検討してください。

常にユーザーに提示したい情報の重要度プロパティを「高」に設定します。

VoiceOverユーザーにとって、測定された部分でコンテンツにアクセスし、必要なときにのみコンテンツを提示するオプションを持つことで、アプリのアクセシビリティ体験が大幅に向上します。

だから今、VoiceOverユーザーにより良い体験を提供するために、AXCustomContent APIをデータ豊富なアプリに組み込む方法を見てみることを本当にお勧めします!

そして、皆さん、このセッションをご覧いただきありがとうございます。

バイバイ！おと

[パーカッシブミュージック]。