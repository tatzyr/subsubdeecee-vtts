10077

こんにちは、WWDCへようこそ。

私の名前はダグです。今日は同僚のネイトと私は、ユニバーサルシーンの説明（USD）をさまざまな3Dワークフローにどのように使用できるかを見ていきます。

USDとは何かについて少し話し、USDの世界のエキサイティングな開発を見て、プレビューでいくつかの信じられないほどの新機能を示し、USDがどのように創造的な3Dワークフローの中心にいるかを実証します。

USDは、シーン、ショット、または仮想オブジェクトへの任意の数の資産の組み立て、交換、および整理を可能にするライブラリとファイル形式のセットです。

オブジェクトキャプチャ、アセットの作成、レイアウト、編集から、共有やフィードバックのためのクイックサムネイルのレンダリング、拡張現実、またはARで使用するUSDZアセットの作成まで。

USDの柔軟性は、拡張可能で協力的な3Dパイプラインのコアコンポーネントになる可能性があります。

USDは、デジタルコンテンツ作成ツールへの統合の拡大と深化に伴い、資産やコンテンツを作成する方法がますます増えている基礎技術です。

レンダリング、コラボレーション、ゲーム、AR、映画はすべてUSDを中心に。

USDは、私たちが愛する非常に複雑な映画を作成できるようにするためにピクサーによって開発されました。

Appleは数年前にピクサーと協力して、USDZ形式を開発し、1つのファイルでUSDを利用して、豊富なARコンテンツをデバイスに直接配信しました。

USDベースのワークフローは非常に協力的であり、資産の一部で独立して作業し、変更を他の人と簡単に組み込むことができます。

それは本質的に設計によって拡張可能であり、重要なワークフロー技術として急速に浮上しています。

映画業界で何十年もの制作経験に基づいて構築されており、ゲーム、シミュレーション、AR、製造、電子商取引にますます採用されています。

ピクサーは、USDプロジェクトがフォローしているオープンで協力的なモデルを使用しています。

USDフォーラムは活発で、質問に答えるコアコントリビューターでいっぱいで、アカデミーソフトウェア財団には、関心のあるグループからのインプットを収集するために定期的に開催されるワーキンググループがあります。

今日、そこにある他のフォーマットを高レベルで見てみましょう。

最も基本的なフォーマットは.objで、多くの場合、本質的には単一の3Dモデルのみが含まれています。

素材のサポートは限られており、アニメーションのサポートはありません。

次に、より現代的なファイル形式の大規模なグループがあります。

これらは通常、シーングラフにレイアウトできる複数のモデルをサポートし、素材と定義に対するさまざまなレベルのサポートがあります。

多くは独自のツールに結びついています。

USDはこれらすべてをサポートし、さらに高度にスケーラブルになるように設計されています。

ピクサーは映画での使用のためにUSDを開発したので、何百万ものオブジェクトを表すのが典型的なケースです。

そして、USDはコア機能としてコラボレーションで構築されており、多くのアーティストがお互いの邪魔をすることなく1つのシーンで作業することができます。

USDZはUSDのアーカイブパッケージであり、これらの機能のほとんどを継承し、共有用に最適化されており、1つのファイルに豊富なAR交換に必要なすべてのリソースを含めることができます。

USDは当然、ARコンテンツのUSDZファイルを作成できます。

しかし、それはまた、ARと電子商取引のためのUSDZとオフラインレンダリングのための資産を提供するフル機能のパイプラインのフロントエンドでもあります。

昨年、USDファイル、.obj、alembic、その他のさまざまな3Dフォーマットのコレクションから自己完結型のUSDZを簡単に作成できるスタンドアロンユーティリティであるRealityConverterをリリースしました。

Apple Developerサイトには、アセットのバッチ処理を自動化できるコマンドラインツールがあります。

ARの配信形式として、USDZは特定のAppleデバイスをターゲットに作成できるため、オーディエンスに合わせてエクスペリエンスを調整できます。

米ドルの生態系は急速に成長しています。

USDが提供するもののルーツから成長しているのを見るのは本当にエキサイティングです。

J-CubeのMultiverseは、非破壊的なUSD編集のフルパワーをMacにもたらし、Metal Hydra Stormレンダラーを搭載したMultiverse USD Standalone Editorでの編集だけでなく、非常に高速なマルチDCCワークフローを可能にします。

OTOYのOctaneレンダラーは、HoudiniのようなDCCに接続でき、GPUの超高速パワーを利用して、USDファイルから直接スペクトル的に正しい画像をレンダリングします。

ZBrushはUSDメッシュデータと直接連携し、彫刻のすべての力をUSDワークフローにもたらします。

そして、MayaはUSDをより深く統合し続け、現在はVP2ビューポートで直接USD Hydraレンダリングを使用しています。

Maya 2022は、USDのネイティブシームレスな統合を持つ最初のバージョンです。

これは、数秒でギガバイトのUSDデータをロードし、Mayaのネイティブツールを使用してそのデータを直接操作できることを意味します。

USDデータは、属性エディタとアウトライナーに統合されています。

非破壊編集、バリアント、コラボレーションなど、すべてのUSDの利点をDCC内にもたらします。

Appleはオートデスクと協力して、BlendshapeのサポートやUSDZファイルでのテクスチャの直接使用など、USDのインポートとエクスポート機能も改善しました。

もちろん、米ドルは静的な技術ではありません。

Appleは、PixarおよびUSDコミュニティの残りの部分と協力して、3Dコンテンツ作成の最新機能に対するUSDのサポートを拡張および改善しています。

昨年、Apple、Nvidia、Pixarは、物理シミュレーションに必要なプロパティを表すスキーマを共同で開発しました。

リアルタイムのAR物理学から、ロボット工学や映画のオフラインシミュレーションまで、プロパティを表すことができます。

このような広範なサポートと、USDエコシステムへの非常に多くの素晴らしいアップデートを見るのはエキサイティングです。

米ドルのもう一つの重要な特徴はヒドラです。

Hydraは、何百万ものオブジェクトをできるだけ早く画面に表示するために特別に設計された、USDの高性能でモダンなレンダリングアーキテクチャです。

Hydra Stormは、USDのコアオープンソースディストリビューションの一部であるそのようなレンダラーの1つです。

macOSのプレビューとクイックルックには、メタルアクセラレーションのHydra Stormレンダラーが含まれることを共有できることを嬉しく思います。

これにより、DCCを開くことなく、他のプラットフォームでHydra Stormと一致する方法でUSDファイルをすばやく表示できます。

複雑なプロダクショングレードのアセットを処理でき、いくつかの3Dシーン探索ツールが組み込まれています。

これは、プレビューでリアルタイムでレンダリングするアンティークモールであるピクサーの「トイストーリー4」のレイアウトアセットです。

数万の個々のオブジェクトと約3400万の三角形があります。

これは生産品質の資産の素晴らしい例であり、レンダラーだけでなく、あらゆるシーンナビゲーションツールにとっても本当の課題です。

シーン内を移動するために、USDファイル内のカメラは左側のサムネイルビューに表示され、クリックすることができます。

通常のカメラコントロールと同様に、ビュー内のオブジェクトをクリックしてカメラをロックすることができます。

シーンの構成をより詳細に把握するために、すべてのオブジェクトノードを表示するアウトライナーを追加しました。

ビューでオブジェクトを選択すると、アウトライナーで強調表示されます。

しかし、この巨大なリストからわかるように、この複雑なシーンを支援するためのより良いツールを提供する必要がありました。

そのため、オブジェクトを名前で検索する機能も追加しました。

たとえば、シーン内のすべてのジュークボックスを検索すると、それらのリストを取得し、順番にそれぞれに集中できます。

興味のあるものを見つけたら、別のUSDファイルとして保存できます。

そして、プレビューとクイックルックでこれをもう一度表示し、Reality ComposerのARシーンで使用できます。

先ほどお見せした機能に加えて、プレビューでは、アニメーション化されたUSDシーンをムービーファイルにレンダリングしたり、現在のビューをアルファチャンネルで画像にレンダリングしたりすることもできます。

ARの場合、PreviewはRealityKitレンダリングエンジンを使用してUSDZファイルを表示します。

iOSのARクイックルックと同じレンダラーで、デバイス上のビューがどのように見えるかを確認するのに最適な方法です。

私たちはピクサーアニメーションスタジオと協力して、「ソウル」や今後の映画「ルカ」のような3D映画を制作するための強力なGPUレンダラーにメタルとM1アクセラレーションサポートを追加しました。

ピクサーアニメーションスタジオは、2021年末までにUSDオープンソースプロジェクトを通じて、Metal-accelerated Hydra Stormをアプリに統合できるようにしています。

では、これらすべてのエキサイティングなUSDツールを1つのワークフローでどのように使用できるかを見てみましょう。

では、ネイトを仕事に任せましょう。

ありがとう、ダグ。

USDを使用して現実世界のオブジェクトをキャプチャして3Dに取り込む方法を紹介します。

途中で編集し、豪華なフォトリアル製品をUSDでレンダリングします。

従来の3Dワークフローでは、DCC間でデータを共有するのは面倒でエラーが発生しやすい。

あるツールから別のツールにデータを移動するには、長いインポートとエクスポートの手順が必要です。

この伝統的なワークフローも一方通行です。

パイプラインの最後の段階だけが全体的なシーンを見ることができるので、以前の段階は彼らの貢献がどのように使用されるかについての文脈を欠いています。

対照的に、USDを使用すると、異なるツールを使用して並行して作業し、同じデータでネイティブに作業することができます。

重要なことに、当社のデータはすべて米ドルとして表されるため、インポート/エクスポートのステップは排除され、共有は自動的に実行されます。

USDワークフローは、より高速な反復、より良いコラボレーションを可能にし、新しい、より創造的な可能性を開きます。

どこかで朝なので、朝食の時間だと仮定できます。

では、パンケーキを作りましょう。

これは、私たちの全体的なシーンがどのように見えるかのスケッチです。

私たちはいくつかの異なるコンセプト、カメラアングル、レイアウトをストーリーボード化し、これが私たちのお気に入りだと決めました。

このスケッチを現実に変えるために米ドルをどのように使用できるか見てみましょう。

USDを使用しているので、シーンをいくつかの別々のファイルに整理できます。

各ファイルは、モデルのレイアウト、ジオメトリの彫刻、追加したいアニメーションや照明など、シーンのいくつかの側面に貢献します。

これらのファイルはすべてメインシーンに参照またはリンクされています。

これは、任意の数の人々やツールが同時に同じシーンでコラボレーションすることを可能にするUSDのコア機能です。

では、まずテーブルをセットしましょう。

オートデスクのMayaを使用して、全体的なシーンを構築しています。

すべてのレイアウトデータを保存するには、USDファイルが必要です。

これは、すべての資産を組み立てて現場に配置する場所です。

また、クールなカメラの動きが欲しいので、カメラアニメーションのシーンにUSDファイルを追加します。

パンケーキの3Dモデルを作成するには、実際のパンケーキにオブジェクトキャプチャを使用します。

モデルをキャプチャした後、PixologicのZBrushを使用してクリーンアップを行い、いくつかの機能強化を行います。

ここでは、このデータが存息するシーンにスカルプティングUSDファイルを追加しました。

シロップなしではパンケーキはできない。

流体シミュレーション機能とUSDのネイティブサポートを使用して、SideFX Houdiniでバーチャルシロップを作ります。

最後に、Houdiniを使用して、シーンにバーチャルライトを追加します。

これらすべてがどのように組み合わされるか、もう少し詳しく見てみましょう。

まず、オブジェクトキャプチャを使用して、実際の物理的なパンケーキから3Dモデルを作成します。

さまざまな角度から撮影された一連の写真を使用して、パンケーキの3Dメッシュと表面材料を構築できます。

このモデルを取得したら、プレビューで表示できます。

これは、テクスチャの有無にかかわらず、キャプチャされたモデルの内訳です。

これを彫刻USDの基礎として使用し、後でZBrushで編集します。

パンケーキをキャプチャしている間、Mayaを使用して、すべてのデータが保存されるUSDファイルの初期セットを構築できます。

Maya 2022の時点で、USDはネイティブにサポートされており、このようなセットアップを簡単に作成できます。

ファイルを設定し、キャプチャしたパンケーキにリンクしたら、レイアウトを行うことができます。

ここでは、シーンを構成する小道具のいくつかを組み立てました。

もう少し調整する必要があります。 もう少し調整する必要があります。

これは、レイアウトを行った後のシーンの内訳です。

オブジェクトキャプチャは優れた結果を生み出しますが、食べる前にパンケーキのすべての角度をキャプチャできなかったので、デジタルエンハンスメントのためにZBrushに持ち込もう。

ZBrushを使用すると、撮影時にプレートに休んだパンケーキのスタックの下部にある不足しているジオメトリをペイントできます。

さらに、モデルにさらに物理的な詳細を追加し、表面材料にいくつかの改善を加えることができます。

これらの編集は、先ほど作成したsculpting.usdファイルで行われています。

メインシーンはこのファイルを参照しているため、チームの全員がこれらの更新を取得します。

オブジェクトキャプチャは素晴らしく見えますが、モデルにディテールと磨きを加えることで、ZBrushがもたらす改善を見ることができます。

彼らはすでにおいしいように見えますが、彼らはもう少し甘味を使うことができます。

このタスクでは、パンケーキをHoudiniに入れ、仮想シロップと照明を追加します。

Houdiniでは、すべてのUSDファイルをネイティブデータとして直接読み込むことができます。

Houdiniには、あらゆる種類の効果を生成する強力な手続きツールがあり、それを使用して、パンケーキのスタック全体に仮想シロップを注ぐことができます。

Maya、ZBrush、Houdiniからの貢献で、私たちのシーンはこんな感じです。

すべてがまとめられています、そして今、私たちはそれを共有する必要があります。

幸いなことに、私たちはUSDを使用しており、多くのオプションがあります。

iOSのARクイックルックを使用して、USDZファイルを作成し、拡張現実でシーンを共有できます。

Macでは、ダグが以前に実証したプレビューの新しい組み込み機能を使用できます。

または、スタジオレベルのオフラインレンダラーを使用して、フォトリアルビデオを作成することもできます。

まず、パンケーキをARに持ち込みます。

Reality Composerを使用すると、USDシーンをロードし、AR対応のUSDZファイルとして保存する前に最終的な調整を行うことができます。

これをiPad Proにロードして見てみましょう。

USDZファイルをタップするだけで、ARクイックルックが開きます。

数秒で、ARでパンケーキを作りました。

美味しそう。

次に、Macのプレビューで私たちのシーンをチェックしてみましょう。

シーンをナビゲートし、オブジェクトを検査し、アセットを選択し、エクスポートし、共有することができます。

すべてが米ドルのままです。

最後に、OTOYのOctaneを使用してビデオを作成し、シーンのオフラインでパストレースされたレンダリングを作成します。

照明や素材を調整するために行った変更は、ARで共有したり、プレビューで表示したりできます。

米ドルはこれをすべて可能にします。

スケッチから現実まで、USDといくつかの素晴らしいツールのおかげで、私たちは本物のパンケーキを仮想の朝食に変えました。

USDを使用してエキサイティングで複雑な3Dシーンやアセットを作成する方法を垣間見ることができることを願っています。

これらのソフトウェアベンダーはすべて、USDを製品に積極的に統合しているため、最新かつ最高のものを入手し、USDの世界を探索して楽しむことをお勧めします。

オブジェクトキャプチャの詳細については、今年のWWDCのこのセッションをチェックしてください。

また、Appleプラットフォームで米ドルについていくつかの話し合いがあります。

昨年の会議の「米ドルの新機能」に関するこの講演をチェックしてください。

ありがとうございます。

[音楽]。