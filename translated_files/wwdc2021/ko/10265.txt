10265

♪ 베이스 음악 연주 ♪

♪

사이먼 골드레이: 안녕하세요! 이 세션에서, 우리는 당신의 앱을 공간 오디오에 몰입시키는 방법을 탐구할 것입니다.

저는 사이먼이고 여기 애플의 스트리밍 미디어 팀의 일원입니다.

영화관의 경험으로 고객에게 제공하고 서비스를 차별화하고 싶으신가요?

거기에 있다는 느낌을 제공하는 멀티포인트 오디오 소스의 렌더링과 함께 몰입형 오디오를 제공하고 싶으신가요?

고객의 주머니에 있는 모바일 장치의 편리함에서 이 모든 것을 할 수 있을까요?

이 세션에서, 우리는 공간 오디오와 Core AVFoundation 재생 API와 WebKit으로 전달하는 방법을 살펴볼 것입니다.

우리는 완전한 의제를 가지고 있다.

우리는 함께 우리가 익숙한 기존 기술과 대조하여 공간 오디오가 무엇인지 다룰 것이다.

그런 다음 우리는 그 기능이 제공하는 기술과 치료법을 열거할 것이다.

후반부에, 나는 API를 소개하고 적용되는 다양한 치료법을 강조할 것이다.

다음으로, 우리는 당신이 기능을 적절하게 타겟팅할 수 있도록 이전 릴리스에서 공간 오디오에 대한 지원 수준을 검토할 것입니다.

나는 또한 2021년 가을 OS 출시에서 올해 새로운 것을 밝힐 것이다.

그리고 나서 모든 것을 마무리하기 위해, 우리는 데모로 끝낼 것이다.

그걸 너와 공유하게 되어 신나.

넌 대접을 받을 거야!

공간 오디오가 무엇인지 이해하려면, 클래식 스테레오를 고려하는 것으로 시작합시다.

과거의 헤드폰이든 스테레오 스피커 배열이든, 우리가 인식하는 사운드 스테이지는 다소 제한적이다.

우리는 우리 뒤에서, 바로 앞에서, 또는 우리 위에서 소리를 듣지 못한다.

그것은 실물과 같은 위치 번식을 놓치고 있다.

그리고 헤드폰의 경우, 소리는 우리 머리 안의 작은 스피커에서 방출됩니다. 우리는 이것을 머리 속의 경험이라고 부릅니다.

우리가 영화를 보면서 자연스럽게 머리를 움직일 때, 그 작은 스피커들은 우리와 함께 움직인다.

이것은 극장과 같은 경험은 아니지만, 공간 오디오가 도움이 될 수 있는 곳이다.

공간 오디오는 극장과 같은 경험을 제공한다

그것은 매력적인 가상 사운드 스테이지를 생산하는 효과가 있는 정신 음향 기술이다.

멀티채널 콘텐츠에서 가장 잘 작동하지만 스테레오 콘텐츠에 대한 매력적인 경험도 제공합니다.

마지막으로, 시청각 및 오디오 전용 미디어 소스에 대한 공간 오디오 지원이 제공됩니다.

무엇보다도, 그것은 당신의 고객이 이미 가지고 있는 다양한 Apple 제품과 함께 작동합니다.

우리는 당신의 고객에게 공간 오디오 경험을 제공하는 것을 간단하게 만들었습니다.

방금 언급했듯이, 응용 프로그램에서 공간 오디오를 즐기는 가장 좋은 방법은 멀티채널 오디오를 제공하는 것입니다.

그 경험은 다중 채널 오디오 대체를 참조하는 HLS 변형을 제공할 때 고객의 환경에 가장 잘 적응합니다.

사실, 당신은 이미 콘텐츠 라이브러리에 멀티채널 오디오 소스 미디어를 가지고 있을 수 있습니다.

이것을 게시하기만 하면 기본적으로 애플리케이션에서 공간 오디오를 활성화할 수 있습니다.

소프트웨어 변경은 전혀 필요하지 않습니다.

일반 미디어 파일의 멀티채널 오디오 트랙과 2021년 가을에 출시된 WebKit의 MSE도 나중에 자세히 설명할 제한된 지원의 혜택을 받습니다.

당신이 지금 만들 것으로 예상할 수 있는 미디어 경험에 대해 말씀드리겠습니다.

이제 공간 오디오로 재현할 수 있는 많은 경험이 있습니다.

당신은 우리를 둘러싸고 있는 음악, 마치 콘서트에 있는 것처럼 느껴지는 음악을 전달할 수 있습니다.

게이머들을 몰입형 모험으로 데려가는 인터랙티브 장면으로 풀 모션 비디오 게임을 만들 수 있습니다.

하지만 이 기술은 어떻게 작동하나요?

공간 오디오를 사용할 때, 가상 사운드 스테이지는 정적이다.

우리가 이전에 스테레오로 본 것과는 달리, 사운드 스테이지는 캐주얼한 머리 움직임으로 움직이지 않는다.

우리가 얻는 것은 우리가 극장에서 기대하는 것과 같은 가청 효과와 느낌이다.

이 효과는 많은 제품의 내장 스피커에서 모두 가능하며 현재 일부 헤드폰 제품에서도 사용할 수 있습니다.

공간 지원 헤드폰을 사용할 때, 재생 장치의 관성 측정 단위의 측정은 헤드폰의 유사한 측정과 비교하여 고객의 머리 포즈를 결정합니다.

이것은 정적 사운드 스테이지 효과를 유지하기 위해 오디오 렌더링을 동적으로 변경하는 데 사용됩니다.

그 결과는 오디오가 머리 밖의 경험을 위해 카메라 또는 청취자 주변의 원래 위치에서 나오는 것 같은 느낌이다.

그것은 심지어 회전 버스나 은행 비행기에서도 작동한다.

우리는 또한 5.1 채널 경험을 재현하기 위해 스테레오 소스를 업믹스하는 기술을 제공합니다.

우리는 당신의 기존 스테레오 콘텐츠 라이브러리와 함께 공간 오디오를 제공하기 위해 이 기능을 제공합니다.

지원되는 헤드폰의 경우, 2021년 가을 출시의 기본 스테레오 처리입니다.

우리는 또한 당신이 채택하고 제공할 수 있도록 공간 오디오를 더욱 설득력 있게 만들기 위해 이 치료법을 암묵적으로 사용합니다. 왜냐하면 지금 당장은 멀티채널 오디오를 배포하는 것이 미디어의 시각적 품질을 방해할 수 있다고 생각하고 있기 때문입니다.

결국, 멀티채널 오디오는 오늘날 당신이 제공하는 스테레오 AAC 변환보다 비트 전송률이 훨씬 높습니다.

제한된 네트워크 대역폭 환경에서 어떻게 둘 다 맞출 수 있나요?

이건 진짜 문제야.

우리는 고객의 대역폭에 적응할 수 있는 공간 오디오 경험을 만들어 이 문제를 해결했습니다.

대역폭이 고품질 시청각 경험을 제공하기에 불충분할 때, 오디오는 스테레오, 업믹스 - 하지만 여전히 공간적인 - 처리로 원활하게 저하됩니다.

전환 전에 제공되는 헤드 트래킹은 유지된다.

얼마 지나지 않아, 대역폭이 안정적으로 복구되면, 전체 다중 채널 공간 처리가 복원됩니다.

이 적응형 공간 오디오 경험을 통해, 스테레오와 멀티채널 렌디션 사이의 볼륨 레벨을 정상화하는 것이 더욱 중요합니다.

또한, DRC -- 동적 범위 제어 --와 dialnorm 메타데이터를 미디어 인코딩에 적절하게 제공하십시오.

이것은 developer.apple.com에서 사용할 수 있는 HLS 저작 사양에 더 자세히 설명되어 있습니다.

이제 공간 오디오 경험을 맞춤화하는 데 사용할 수 있는 인터페이스를 살펴봅시다.

AVPlayerItem 또는 AVSampleBufferAudioRenderer를 통해 애플리케이션의 기본 공간 오디오 경험을 사용자 정의하려면 네 개의 AVAudioSpatializationFormats 중 하나를 지정하십시오.

이것들은 모노와 스테레오, 멀티채널, 그리고 마지막 두 가지의 조합인 모노, 스테레오 및 멀티채널 소스 오디오 포맷의 공간화를 허용하기 위한 것이다.

오디오 공간화를 억제하기 위해 0을 지정할 수도 있습니다.

우리의 플랫폼은 고객이 제어 센터와 블루투스 설정을 통해 오디오 경로의 유형에 따라 경험을 더욱 맞춤화할 수 있도록 시스템 수준의 제어를 제공한다는 점에 유의하십시오.

우리는 이 네 가지 값 중 하나를 AVPlayerItem의 allowedAudioSpatialization Formats 속성에 설정하고 이제 2021년 가을 릴리스의 새로운 AVSampleBufferAudioRenderer에 설정합니다.

이제 AVFoundation API를 사용하여 오디오 경로가 공간 오디오를 지원하는지 발견하는 방법이 궁금할 것입니다.

AVSampleBufferAudioRenderer 인스턴스에 멀티채널 오디오를 전달해야 하는지 어떻게 알 수 있나요?

음, 2021년 가을 출시에서, 우리는 AVAudioSessionPortDescription에 이것을 나타내는 속성을 도입하고 있습니다.

또한, AVAudioSession에서, 우리는 당신의 애플리케이션이 멀티채널 오디오를 제공할 수 있는 시스템에 광고할 수 있는 메커니즘을 도입하고 있습니다.

이 표시는 고객이 제어 센터 또는 블루투스 환경 설정에서 공간 오디오 처리를 활성화하지 않은 경우 표시됩니다.

애플리케이션이 AVPlayer를 사용하는 경우, 이러한 표시는 귀하를 위해 관리됩니다.

isSpatialAudioEnabled 속성은 포트가 공간 오디오를 렌더링할 수 있고 고객이 허용한다는 것을 나타냅니다.

경로 변경 알림을 관찰하고 각 이벤트에서 isSpatialAudioEnabled를 확인하는 것이 좋습니다.

마찬가지로, AVAudioSession은 고객이 제어 센터 및 블루투스 설정에서 공간 설정을 변경할 때 spatialPlaybackCapabilities ChangedNotification을 방출합니다.

편의상, 이 알림은 공간 오디오 활성화 상태에 대한 정보를 전달합니다.

AVAudioSession SpatialAudioEnabledKey를 사용하여 이 알림과 관련된 상태를 검색하십시오.

마지막으로, 소프트웨어나 서비스가 멀티채널 콘텐츠를 제공할 수 있다는 것을 시스템에 나타내기 위해, 당신은 당신의 의도로 setSupportsMultichannelContent 함수를 호출합니다.

이것은 네트워크 조건이 허용되고 치료가 활성화된 경우 공간적 경험을 사용할 수 있다는 것을 고객에게 전달하는 데 사용됩니다.

이제 지난 3년 동안의 기능 지원을 조사해 봅시다.

macOS Catalina, iOS 및 iPad OS 13에서 공간 오디오는 http 구성표로 URL을 지정하여 AVPlayerItem 및 WebKit 비디오 태그가 있는 내장 스피커를 통해 제공됩니다.

2018년 이후 모델 MacBook, iPhone 및 iPad Pro 제품 라인을 사용하는 고객이 이용할 수 있습니다.

기본값은 가능한 멀티채널 오디오 변환을 선택하여 공간화를 제공하는 것입니다.

macOS Big Sur, iOS 및 iPad OS 14에서 우리는 AirPods Pro 및 AirPods Max 헤드 트랙 지원 헤드폰에 대한 지원을 도입했습니다.

이러한 액세서리를 통한 공간화 기능은 2016년 이후의 iPhone 및 iPad 페어링 장치에 제공됩니다.

기본값은 가능한 멀티채널 오디오 변환을 선택하여 공간화를 제공하는 것입니다.

그것은 우리를 macOS Monterey, iOS, iPadOS, 그리고 이제 tvOS 15에서 완전히 새로운 지원을 제공합니다.

여기서 우리는 AVPlayerItem, AVSampleBufferAudioRenderer 및 W3C 미디어 소스 확장, MSE에 대한 제한된 WebKit 지원을 통해 지원을 제공합니다.

MSE 경로는 공간화 경험을 맞춤화하기 위한 인터페이스를 제공하지 않는다.

그러나 Media Capabilities API 세트 내의 AudioConfiguration 사전을 통해 공간 오디오 지원의 가용성을 감지하는 인터페이스가 있습니다.

이 릴리스의 기본값은 사용 가능하고 조건이 허용하는 경우 모든 모노, 스테레오 및 멀티채널 소스에 대해 기본적으로 오디오 공간화를 제공하는 것입니다.

모든 AVSampleBuffer AudioRenderer 사용을 포함한 오디오 전용 프레젠테이션의 경우, 기본적으로 멀티채널 오디오 변환만 제공됩니다.

이제 공간 오디오가 무엇이고 어떻게 사용하는지 알았으니, 오늘 당신을 위해 정말 특별한 것이 준비되어 있습니다.

소프트웨어와 서비스에서 공간 오디오를 사용하여 새롭고 창의적인 방식으로 이야기를 전하는 방법을 보여드리겠습니다.

한 가지 들어보자!

♪ 낙관적인 음악 연주 ♪

< 어-오. 다시 해보자.

음... 어...

쿠퍼티노? 우리는 문제가 있어.

오프스크린 음성: 이번에는 뭐야?

사이먼: 나도 알아. 나도 알아. 뭐 있어?

화면 밖에서 속삭임: 미안해, 사이먼. 사이먼: 아니?

화면 밖에서 속삭임: 그것은 작동하지 않을 것이다.

사이먼: 정말? 화면 밖에서 속삭임: 나도 알아...

사이먼: 젠장. 알았어. 알았어. 알았어.

그래서 우리는 공간 오디오로 할 수 있는 모든 멋진 것들을 보여주기 위해 정말 훌륭한 데모를 만들었지만... 알다시피...

오늘은 이런 일이 일어나지 않는 것 같아.

봐.

우리는 뭔가를 시도해 볼 거야.

나는 너에게 이 비디오를 보여줄 수 없지만 만약 내가 할 수 있다면, 음...

...설명해 줄래?

좋아. 그래서 나는 네가 지금 어디에 있는지 모르겠지만, 나는 네가 눈을 감고 우리가 WWDC 홀에 있다고 상상해봐.

그게 어떻게 들리는지 알지?

그건 어떤 느낌이야?

네 마음속으로 상상해봐.

무대와 큰 화면을 상상해 보세요.

우리는 이제 막 불을 어둡게 하고 이 비디오를 재생하기 시작하려고 합니다.

오이! 너! 불을 어둡게 해.

우리는 샌프란시스코 위의 하늘 높이에 있다.

만에서 우며, 높은 건물들을 뚫고 내려갔다.

바람이 우리 주위를 맴돌고 있고, 우리는 도시에서 나와 반도를 따라 내려가서 애플 파크까지 가고 있다.

우리는 공원으로 날아가고 당신은 우리가 지나갈 때 놀라운 머리 오리를 가진 누군가를 봅니다.

그는 "천천히 해!"라고 외친다.

정말 멋진 왼쪽에서 오른쪽으로 도플러 효과가 있다.

천천히 해!

그리고 우리는 지금 사과 과수원을 날아다니고 있어.

나무의 윙윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 윙 

우리는 평화와 평온의 순간을 위해 연못에서 우리 자신을 발견한다.

속삭이는 목소리: 나는 솔직히 공간 오디오에 팔리지 않는다.

사이먼: 그리고 나서, 우리는 다시 움직이고 있으며, 이 여자를 찾을 때까지 부드러운 테라조 바닥을 가로질러 미끄러지는 Caffè Macs의 큰 유리문에 도달할 때까지 새들 위로 울부림을 하고 있다.

그녀는 아이패드를 테이블 위에 올려놓고 피자를 먹고 있어, 정말, 정말 긴장된 이 영화에 완전히 몰두하고 있어.

황혼의 가장 이른 시간에 이 붐뜬 정글이다.

그 오디오는 말 그대로 -- 아니 정말!

그건 -- 우리를 현장으로 끌어당기고 있어.

속삭이는 목소리: 그는 이 데모를 훌륭하게 설명하고 있다.

내가 거기 있는 것 같아. 정말 생생해.

사이먼: ...그리고 먼 원숭이가 부른다.

하지만 갑자기 섬뜩해진다...

...그리고 모든 생물들은 조용해진다.

우리가 들을 수 있는 것은 나뭇잎이 바스락거리는 소리뿐이다.

그런 다음 나무가 쓰러질 때 c-c-c-c 충돌.

뭔가 오고 있어! 뭔가 큰 것!

쿵. 쿵. 쿵.

우리는 가슴에서 심장이 뛰는 소리를 들을 수 있다.

그리고 나서... 침묵.

우리는 긴장을 풀려고 해...

공룡이 우리 바로 건너편에 있는 나무들을 뚫고 튀어나와!

그리고 우리는 똑바로 쳐다본다!

PA의 목소리: 그건 42의 랩이야...

사이먼: 우리는 우리가 영화 세트장에 있다는 것을 밝히기 위해 뒤로 물러난다.

남자: 내가 그 조명을 좋아하는지 잘 모르겠어...

사이먼: 공룡은 움직임을 멈췄고 한 무리의 사람들이 세트를 치우는 것처럼 보였다.

여자: 켈리를 위해 가.

라디오 음성: 배우 20명 받았어?

여자: 응. 그들은 출시를 보면서 화장을 하고 있다. 통신을 끊고 있어.

여자: 너 올 거야?

사이먼: 우리는 오늘의 우주 발사를 보기 위해 그들 중 두 명을 트레일러로 따라갑니다 - 물론 서라운드 오디오로 스트리밍합니다.

관객들은 숨을 참고 있지만 우리는 그들을 통해 TV로 들어간다.

여자: 발사하러 가. 남자: 전반적으로 좋아.

사이먼: 그리고 이제 우리는 캡슐 안에 있어.

여자: 페달을 바닥에 밟자.

사이먼: 로켓이 점화된다!

여자: 여기 있어!

달로 가는 특급 서비스! 다음 정거장, 고요함.

남자: 여전히 괜찮아.

세 개, 두 개, 한 개로 부스터 분리...

깨끗하고 매끄럽다.

사이먼: 로켓의 두 번째 단계는 떨어졌고, 우리는 그것과 함께 떨어졌다...

...그리고 지구로 되돌아갈 때 무대를 따라가세요, 점점 더 빨라지고 있습니다.

우리는 지금 대기를 뚫고, 땅으로 돌아가고 있다.

무언가를 향해.

큰 제트기.

점점 더 커지고, 그리고 -- PA의 여성: 좋은 아침입니다, 여러분.

비행 갑판에서 말하는 당신의 선장입니다.

...오늘 우리의 최종 목적지를 향한 우리의 하강.

더 이상은 안 돼...

사이먼: 아름다워!

음, 그래서, 어... 그거 재밌었어.

우리가 보고 들은 것을 요약하자.

우리는 고객에게 공간 오디오 경험을 제공하는 것이 얼마나 쉬운지 발견했습니다.

사실, 공간 오디오를 활용하기 위해 응용 프로그램에 아무것도 할 필요가 없을 수도 있습니다.

HLS 변형 재생 목록에서 멀티채널 오디오를 제공하는 것만으로도 종종 충분합니다.

스테레오와 멀티채널 렌디션 사이의 볼륨 레벨을 정상화하고 DRC 메타데이터를 포함하는 것이 중요하다는 것을 기억하세요.

마지막으로, 우리는 지난 3년 동안 OS 출시 기간 동안 광범위한 고객 기반에 공간 오디오를 제공할 수 있는 방법을 보았습니다.

관련 세션에서 HLS 리소스에 멀티채널 오디오가 있는지 발견하는 방법을 배울 수 있습니다.

AVFoundation에서 HLS 변형을 탐색하면서 그것에 대해 모두 알아보세요.

나는 네가 여기 있는 팀과 나만큼 이 세션을 즐겼기를 바란다.

우리는 당신이 공간과 앱을 공간 오디오에 몰입하고 나머지 WWDC 2021을 즐기기를 바랍니다.

고마워.

♪