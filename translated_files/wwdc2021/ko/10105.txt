10105

안녕. 저는 인증 경험 팀의 엔지니어인 Eryn Wells입니다.

앱이나 웹사이트가 누군가에게 비밀번호를 묻는다면, 계정 보안이 매우 중요하다는 것을 알고 있습니다.

이 비디오에서는 고객의 계정을 더 안전하게 유지하는 방법과 iCloud 키체인에 내장된 새로운 인증 코드 생성기로 인증 코드로 더 쉽게 로그인하는 방법에 대해 이야기할 것입니다.

이것은 큰 주제이고, 나는 그것을 세 가지 중요한 부분으로 나눌 것이다.

먼저, 우리는 비밀번호, 그들이 가지고 있는 보안 문제 중 일부, 그리고 다단계 인증이 이러한 문제 중 일부를 해결하는 데 어떻게 도움이 되는지에 대해 이야기할 것입니다.

둘째, iOS 15와 macOS Monterey의 iCloud 키체인에 내장된 새로운 인증기를 포함한 시간 기반 인증 코드에 대해 이야기하겠습니다.

마지막으로, 저는 인증 세계에서 일어나는 큰 변화의 시작과 사람들이 인증 코드로 로그인하는 방법을 개선할 수 있는 다른 기회에 대해 논의하기 위해 한 걸음 물러서겠습니다.

좋아, 비밀번호와 다단계 인증에 대해 이야기해 보자.

비밀번호는 어디에나 있으며, 사람들은 그것을 사용하는 방법을 이해한다.

그러나, 그들이 올바르게 사용하기 어렵다는 것이 밝혀졌다.

사실, 비밀번호를 올바르게 사용하는 것보다 오용하는 것이 더 쉽다.

사람들은 종종 여러 웹사이트에서 비밀번호를 재사용하거나 추측하기 쉬운 비밀번호를 선택합니다.

또한 공격자가 누군가에게 비밀번호를 포기하도록 설득하는 것은 꽤 쉽다.

그래서 서비스는 딜레마에 직면해 있습니다: 어떻게 하면 쉽게 로그인할 수 있도록 하면서 사용자 계정에 보안을 추가할 수 있을까요?

많은 서비스가 로그인 흐름에 단계를 추가한다.

그들은 누군가의 신원을 확인하기 위해 추가 정보를 요구한다.

이와 같은 단계를 추가하면 누군가의 비밀번호를 가진 공격자가 그 사람의 계정에 접근할 수 있는 가능성이 줄어듭니다.

그것은 또한 공격자가 그 사람이 같은 비밀번호를 사용한 다른 계정에 자동으로 접근할 수 없다는 것을 의미합니다.

확인 코드는 일반적인 추가 단계이다.

서비스는 누군가가 사용자 이름과 비밀번호를 입력한 후 이 코드를 요청합니다.

이 코드는 SMS, 이메일 또는 푸시 알림을 통해 전달되거나, 그 사람의 휴대폰이나 하드웨어 열쇠 고리로 인증 앱에 의해 생성됩니다.

이 코드의 필수적인 특징은 일회용이라는 것이다.

그것들은 외우거나 저장하기 위한 것이 아니기 때문에, 비밀번호처럼 재사용에 취약하지 않다.

하지만 인증 코드는 여전히 사람이 코드를 입력해야 하므로, 여전히 비밀번호와 같은 방식으로 피싱을 하기 쉽다.

인증 코드가 전달되는 가장 일반적인 방법은 SMS입니다.

휴대폰을 가진 거의 모든 사람이 문자 메시지를 받을 수 있으며, 사람들은 문자를 보내고 받는 것을 이해한다.

자동 완성은 이 코드들을 훨씬 더 쉽게 사용할 수 있게 해주었다.

한 번의 탭으로 모든 텍스트 필드에 코드를 채웁니다.

하지만 SMS를 통해 전달된 인증 코드에는 여전히 실제 문제가 있다.

우선, 그들은 그다지 안전하지 않다.

그들은 공격자가 다른 사람을 위한 메시지를 받을 수 있는 통신사 네트워크 스누핑과 SIM 교환 공격에 취약하다.

사람들은 문자 메시지가 오류 없이 오고 가는 것을 당연하게 여기는 경향이 있지만, 네트워크 액세스가 필요하다.

따라서 누군가가 비행기에 있거나 강력한 서비스에서 멀리 떨어져 있다면, 메시지가 도착하는 데 오랜 시간이 걸리거나 전혀 도착하지 않을 수 있습니다.

마지막으로, SMS 메시지는 보내고 받는 데 비용이 든다.

그래서 수백만 개의 메시지를 보내는 것은 정말 합산될 수 있다.

인증 코드를 하는 또 다른 방법은 온디바이스 코드 생성기를 사용하는 것이다.

이를 위한 알고리즘은 RFC 6238에 정의되어 있으며 "시간 기반 일회성 비밀번호" 또는 "TOTP"라고 불린다.

비밀 키와 시간이 필요하며 그 정보를 기반으로 짧은 숫자 코드를 생성합니다.

일반적으로, 인증 앱이나 하드웨어 장치는 코드를 생성합니다.

서비스와의 어떠한 의사소통도 필요하지 않습니다.

그것은 모두 장치에서 일어난다.

이것은 보안과 사용자 경험 측면에서 큰 이점이다.

코드는 짧은 시간 동안 유효하며, 일반적으로 30초 정도입니다.

그리고 아무도 SMS 메시지를 보내거나 받을 필요가 없기 때문에 서비스와 고객 모두에게 더 낮은 비용을 초래한다.

TOTP의 과제는 설정이 조금 더 복잡해지는 경향이 있다는 것이다.

서비스는 고객의 장치가 코드 생성을 시작할 수 있도록 몇 가지 다른 매개 변수와 함께 고객과 비밀 키를 공유해야 합니다.

일반적인 설정 프로세스는 한 장치에 QR 코드를 표시하고, 다른 장치에 인증 앱을 다운로드한 다음, 해당 앱으로 QR 코드를 스캔하는 것을 포함합니다.

이것은 번거로운 과정이며, 사람들에게 설명하기 어렵다.

장치에서 코드를 생성하는 것은 모두에게 더 나은 경험이지만, 여전히 설정과 관련하여 성가신 문제가 있습니다.

우리는 이러한 어려움 중 일부를 주의 깊게 살펴보고 AutoFill과 함께 간소화된 설정 경험을 제공하는 iCloud 키체인의 새로운 기능을 개발했습니다.

iOS 15와 macOS Monterey의 새로운 기능인 우리는 시간 기반 인증 코드 생성기를 iCloud 키체인 비밀번호 관리자로 구축했으며, 이것이 어떻게 작동하는지 보여드리게 되어 매우 기쁩니다.

우리는 기본 사항부터 시작했습니다: 이 장치나 다른 장치에서 사용할 코드를 찾고 복사하는 것.

이것들은 모든 인증 앱의 중요한 기능이다.

하지만 자동 완성은 이것을 정말 빛나게 한다.

SMS를 통해 전달된 코드와 마찬가지로, 자동 완성은 한 번의 탭으로 생성된 인증 코드를 채웁니다.

코드를 즉시 사용할 수 있기 때문에, 고객은 더 간소화되고 신뢰할 수 있는 로그인 경험을 얻을 수 있으며, SMS 메시지를 보내는 비용을 줄일 수 있습니다.

이 기능에서 내가 가장 좋아하는 부분 중 하나는 새로운 인증 코드를 설정하는 것이 얼마나 쉬운지이다.

TOTP 설정 페이지에 특별한 링크나 버튼을 추가하면, iOS 15 또는 macOS Monterey를 사용하는 사람은 몇 번의 탭만으로 동일한 장치에서 새 인증 코드를 설정할 수 있습니다.

그건 정말, 정말 쉬워.

마지막으로, 인증 코드는 사람의 모든 장치에서 동기화되며, iCloud 키체인으로 안전하게 백업됩니다.

그래서 그들은 Mac에서 계정에 로그인할 때 인증 코드를 채우기 위해 iPhone을 꺼낼 필요가 없습니다.

이것은 계정 복구에도 좋다.

인증 코드가 iCloud에 안전하게 백업되면, 장치를 잃는 것은 더 이상 계정에 대한 액세스 권한을 잃는 것을 의미하지 않습니다.

이미 잘 알고 계시겠지만, iCloud 키체인의 모든 것은 종단간 암호화되어 있으므로, Apple이나 다른 사람이 아닌 계정 소유자를 제외하고는 아무도 접근할 수 없습니다.

iCloud 키체인이 활성화된 장치는 Face ID, Touch ID 또는 암호로 보호됩니다.

그리고 모든 Apple 장치는 운영 체제에서 지원하는 최고 수준의 보안을 갖추고 있습니다.

따라서 키체인 데이터는 사람이 어떤 장치를 가지고 있든 상관없이 안전합니다.

애플의 플랫폼 보안 가이드는 이 모든 것을 훨씬 더 자세히 설명한다.

고객이 코드를 설정하고 작성하는 최상의 경험을 할 수 있도록 하기 위해 할 수 있는 몇 가지 쉬운 일이 있습니다.

설정 흐름에는 두 가지가 있으며, 로그인 흐름에는 한 가지만 있습니다.

각각에 대해 조금 이야기해 봅시다.

몇 번의 탭만으로 새로운 인증 코드를 설정할 수 있다는 것은 큰 문제이다.

수억 명의 iPhone 사용자는 iOS 15로 업데이트하자마자 이것을 할 수 있을 것이다.

설정 화면에 이 작업을 수행하는 링크나 버튼을 추가하여 장치에서 인증 코드를 매우 쉽게 설정할 수 있습니다.

이미 TOTP 코드로 로그인을 지원하는 인프라가 있다면, otpauth: URL에 익숙할 수 있습니다.

이 URL에는 base32로 인코딩된 비밀 키, 각 코드의 숫자 수, 각 코드가 유효한 기간 및 도메인 이름으로 설정해야 하는 발급자 필드를 포함하여 코드 생성기를 설정하는 데 필요한 모든 정보가 포함되어 있습니다.

iCloud 키체인은 이 필드를 사용하여 인증 코드를 추가할 계정을 제안합니다.

이것은 TOTP 설정 프로세스의 일반적인 부분인 QR 코드로 인코딩하는 것과 동일한 URL입니다.

URL 앞에 "apple-"를 붙여서 iCloud 키체인 비밀번호 관리자에 직접 연결할 수 있습니다.

이 apple otpauth: URL을 가지고 웹 페이지의 앵커 태그에 넣을 수 있습니다.

그리고 앱에는 두 가지 옵션이 있습니다.

textView의 attributedString 속성에 할당하는 NSAttributedString에 "링크" 속성을 추가하여 링크를 만들거나, 창 장면에서 열린 API로 버튼 탭에 대한 응답으로 URL을 열 수 있습니다.

시스템이 apple otpauth를 열 수 있는지 확인할 수 있습니다: 가용성 확인과 함께 URL.

이전 버전의 iOS에서는 설정 버튼을 숨기고 설정 URL을 제거해야 합니다.

설정 중에 할 수 있는 두 번째 일은 다른 TOTP 앱에서 스캔할 QR 코드에 JPG, PNG 또는 GIF와 같은 래스터 이미지를 사용하는 것입니다.

사파리는 장치 내 이미지 분석을 사용하여 QR 코드를 감지하고 포함된 정보를 디코딩합니다.

사파리가 QR 코드에 otpauth: URL이 포함되어 있다고 판단하면, QR 코드 이미지의 컨텍스트 메뉴에서 코드 생성기를 설정할 것을 제안합니다.

마지막으로 해야 할 일은 생성된 코드를 입력하기 위한 텍스트 필드에 관한 것이다.

자동 완성이 사용자 이름, 비밀번호 및 인증 코드를 채울 위치를 정확히 알 수 있도록, 해당 텍스트 필드에 콘텐츠 유형으로 주석을 달 수 있습니다.

SwiftUI에서 textContentType 보기 수정자를 사용하여, UIKit에서 UIKit에서 textContentType 속성으로, NSTextFields에서 contentType 속성이 있는 AppKit 앱에서, 웹에서 입력 요소에서 자동 완성 속성을 "일회성 코드"로 설정할 수 있습니다.

그래서 이제, 나는 한 걸음 뒤로 물러서고 싶어.

인증의 큰 그림을 살펴보고 기존 인프라를 더 안전하게 만드는 방법에 대해 조금 이야기해 봅시다.

인증 메커니즘은 스펙트럼에 존재하며, 이동함에 따라 강도와 보안이 증가합니다.

비밀번호는 업계의 전통적인 기준이며, 서비스가 비밀번호 기반 로그인 흐름을 강화하는 방법에는 여러 가지가 있습니다.

가장 일반적인 두 가지는 SMS를 통해 전달된 비밀번호 + 코드와 TOTP로 생성된 비밀번호 + 코드입니다.

추가 결정 서비스는 전체 인증 프로세스를 다른 서비스에 위임하는 연합 로그인 공급자를 사용할지 여부입니다.

연합 인증 옵션은 전통적인 방법과 동일한 메커니즘을 기반으로 하지만 사람들이 더 적은 수의 비밀번호를 추적해야 한다.

강력하고 안전한 인프라에 구현될 때--Apple로 로그인하는 경우처럼--그들은 또한 전통적인 메커니즘보다 더 안전할 수 있다.

이것들을 넘어서는 한 걸음은 비밀번호를 완전히 없애는 것이다.

WebAuthentication 표준 또는 "WebAuthn"은 정확히 이것을 한다.

대신, 그것은 계정을 안전하게 유지하기 위해 공개 키 암호화를 사용한다.

iOS 15와 macOS Monterey에는 사용 가능한 비밀번호 대체를 제공하는 이 기술의 미리보기가 포함되어 있습니다.

내 팀 동료 Garrett은 네가 꼭 확인해야 할 비디오를 가지고 있어.

우리 산업 전체가 비밀번호 없이 미래를 건설하기 위해 계속 노력함에 따라, 당신이 이미 가지고 있고 한동안 계속 가질 수 있는 인프라의 보안을 개선하기 위한 조치를 취하는 것은 여전히 실질적인 가치가 있습니다.

온라인에서 사람들을 더 안전하게 유지하기 위해 당신이 할 수 있는 모든 것은 좋습니다.

한 단계에서 SMS를 통해 전달된 인증 코드에 대한 우려를 취할 수 있습니다.

시간 기반 인증 코드 채택을 평가할 때, 여전히 SMS로 코드를 보내야 할 수도 있습니다.

iOS 14와 macOS Big Sur에서, 우리는 메시지에 도메인 바인딩을 추가하여 SMS 코드를 피싱에 더 잘 견딜 수 있도록 하는 간단한 메커니즘을 도입했습니다.

도메인 바인딩은 이 메시지의 코드가 특정 도메인을 위한 것이라는 자동 완성과 통신하는 방법입니다.

코드가 이러한 방식으로 바인딩되면, AutoFill은 바인딩된 도메인이 웹 페이지의 도메인 또는 앱의 관련 도메인 중 하나와 일치하는 경우에만 코드를 제공합니다.

앱에서, 이것은 관련 도메인 및 범용 링크와 동일한 메커니즘에서 작동합니다.

따라서 이미 해당 기술에 대한 앱을 구성했다면, 도메인 바인딩을 추가할 수 있습니다.

도메인 바인딩을 통한 SMS 코드의 보안 강화에 대해 우리가 출판한 기사에서 이에 대해 자세히 알아볼 수 있습니다.

이제 인증 코드에 대한 모든 것을 알았으니, 가서 이 두 가지 중요한 일을 하세요.

먼저, 앱과 웹사이트에서 시간 기반 인증 코드를 채택하세요.

백엔드의 지원을 추가하고, 고객이 SMS를 통해 코드를 받는 대신 사용하도록 장려하십시오.

둘째, SMS 인증 코드를 계속 지원한다면, 메시지에 도메인 바인딩을 추가하세요.

봐줘서 고마워.

[음악].