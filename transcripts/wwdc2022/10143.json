[
  {
    "text": "♪ ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=0"
  },
  {
    "text": "Bob: Hi, I'm Bob Whiteman, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=9"
  },
  {
    "text": "Senior iOS Device Management Engineer. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=11"
  },
  {
    "text": "It is my pleasure to share with you an important new security feature ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=13"
  },
  {
    "text": "for managed devices in enterprise and education environments. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=17"
  },
  {
    "text": "Let's start by reviewing the device security landscape. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=22"
  },
  {
    "text": "Your users need to access organization resources, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=26"
  },
  {
    "text": "such as websites, application servers, and databases. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=29"
  },
  {
    "text": "And there's attackers who also want to access those resources. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=34"
  },
  {
    "text": "The classic model for securing resources is perimeter security. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=39"
  },
  {
    "text": "You draw a security boundary around an intranet, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=43"
  },
  {
    "text": "and stand up a firewall or VPN ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=46"
  },
  {
    "text": "that permits legitimate clients and rejects threats. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=49"
  },
  {
    "text": "But this model hasn't kept up with the way people interact with modern organizations. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=53"
  },
  {
    "text": "Cloud service providers put resources outside the perimeter. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=59"
  },
  {
    "text": "Threats can start from inside the perimeter.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=64"
  },
  {
    "text": "And threats can spoof legitimate clients to penetrate the perimeter.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=68"
  },
  {
    "text": "A more modern security model does not trust a network perimeter. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=75"
  },
  {
    "text": "Instead, each resource performs its own trust evaluation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=80"
  },
  {
    "text": "This is a core principle of zero trust architecture.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=84"
  },
  {
    "text": "You can think of trust evaluation as a function: ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=89"
  },
  {
    "text": "the input is posture information about the client, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=93"
  },
  {
    "text": "and the output is the decision to grant or deny access. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=96"
  },
  {
    "text": "It's critical to get trust evaluation right. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=101"
  },
  {
    "text": "A false negative gets in the way of user activities, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=105"
  },
  {
    "text": "or worse, a false positive allows an attacker to access your resources. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=109"
  },
  {
    "text": "And that means having accurate posture information is also critical. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=115"
  },
  {
    "text": "Let's investigate common components of posture. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=120"
  },
  {
    "text": "You use all available information about the client and its request: ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=123"
  },
  {
    "text": "who is making the request, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=128"
  },
  {
    "text": "what device they're using, where they are, and so on. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=129"
  },
  {
    "text": "Trust evaluation may use different details ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=133"
  },
  {
    "text": "within the posture for accessing different resources. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=136"
  },
  {
    "text": "Accessing a low-security resource may only require the user's identity, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=140"
  },
  {
    "text": "but accessing critical infrastructure may require evaluating all posture items. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=145"
  },
  {
    "text": "It's up to the organization to decide which details are relevant.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=150"
  },
  {
    "text": "One central element of posture is the user's identity. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=156"
  },
  {
    "text": "This indicates who is making the request.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=160"
  },
  {
    "text": "Apple devices provide several technologies to support user identity, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=164"
  },
  {
    "text": "such as the Extensible Single Sign On feature, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=168"
  },
  {
    "text": "including the built-in Kerberos extension, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=171"
  },
  {
    "text": "to facilitate user authentication for apps, websites, and accounts. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=174"
  },
  {
    "text": "And the new Enrollment Single Sign On feature ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=179"
  },
  {
    "text": "lets an app facilitate user authentications during and after ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=182"
  },
  {
    "text": "the enrollment process of User Enrollments. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=185"
  },
  {
    "text": "But this session isn't about user identity, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=189"
  },
  {
    "text": "it's about device identity. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=192"
  },
  {
    "text": "This element of posture indicates which device is making the request.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=195"
  },
  {
    "text": "The UDID that the device reports in each MDM communication ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=202"
  },
  {
    "text": "is the primary way that your MDM server knows which device it's managing. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=206"
  },
  {
    "text": "The DeviceInformation query also provides to the MDM server ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=211"
  },
  {
    "text": "attributes of the device, including the serial number. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=215"
  },
  {
    "text": "A managed device often communicates with other systems inside the organization ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=219"
  },
  {
    "text": "aside from the MDM server. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=224"
  },
  {
    "text": "So, often the MDM server configures the device with client certificates ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=227"
  },
  {
    "text": "that declare the device's identity to those other systems. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=232"
  },
  {
    "text": "These methods of identifying a device have served us well, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=237"
  },
  {
    "text": "but they amount to trusting that the device is the one that it claims to be. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=241"
  },
  {
    "text": "As the landscape has changed, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=247"
  },
  {
    "text": "with devices more distributed than ever before, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=249"
  },
  {
    "text": "our security needs have evolved. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=251"
  },
  {
    "text": "To address this, I'm excited to share a powerful new method ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=254"
  },
  {
    "text": "for proving a device's identity, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=258"
  },
  {
    "text": "Managed Device Attestation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=261"
  },
  {
    "text": "With Managed Device Attestation, a device provides strong evidence about itself ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=264"
  },
  {
    "text": "when making a request. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=270"
  },
  {
    "text": "It improves posture information, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=272"
  },
  {
    "text": "so trust evaluations based on that are more accurate. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=274"
  },
  {
    "text": "In short, Managed Device Attestation means legitimate devices ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=279"
  },
  {
    "text": "reliably access resources, and attackers are thwarted. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=283"
  },
  {
    "text": "This release brings Managed Device Attestation for iOS 16, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=288"
  },
  {
    "text": "iPadOS 16, and tvOS 16. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=293"
  },
  {
    "text": "This session we'll start with an overview of the new attestation features, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=298"
  },
  {
    "text": "explain the benefits of using attestations, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=302"
  },
  {
    "text": "and then dive into the implementation details. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=306"
  },
  {
    "text": "First, what are attestations? ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=310"
  },
  {
    "text": "An attestation is a declaration of a fact. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=314"
  },
  {
    "text": "If you trust the entity making the claim, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=318"
  },
  {
    "text": "you accept that the fact is true. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=321"
  },
  {
    "text": "In software, an attestation is a fact that is cryptographically signed. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=325"
  },
  {
    "text": "This is usually an X.509 certificate. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=330"
  },
  {
    "text": "If you trust the signer, you accept that the fact is true. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=333"
  },
  {
    "text": "For Managed Device Attestation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=338"
  },
  {
    "text": "the facts are the identity and other properties of a device, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=340"
  },
  {
    "text": "and the signer is Apple. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=345"
  },
  {
    "text": "Accepting the accuracy of these device facts requires trusting Apple. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=347"
  },
  {
    "text": "However, it doesn't require trusting every line of code ever written by Apple.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=351"
  },
  {
    "text": "It only requires trusting the Secure Enclave ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=358"
  },
  {
    "text": "and Apple's attestation servers, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=361"
  },
  {
    "text": "which access Apple's manufacturing records and operating system catalog. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=364"
  },
  {
    "text": "And if you keep your data on Apple devices at all, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=368"
  },
  {
    "text": "you're implicitly trusting those. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=371"
  },
  {
    "text": "Here's how we're bringing the power of attestations to managed devices. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=375"
  },
  {
    "text": "Managed Device Attestation offers two ways to use attestation certificates. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=380"
  },
  {
    "text": "We've enhanced the DeviceInformation MDM command, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=386"
  },
  {
    "text": "which makes the benefits of attestation available to the MDM server. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=389"
  },
  {
    "text": "And we've added support for the Automatic Certificate Management Environment, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=394"
  },
  {
    "text": "or ACME, protocol by adding an ACME profile payload, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=399"
  },
  {
    "text": "which makes the benefits of attestation available ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=404"
  },
  {
    "text": "throughout the organization's infrastructure.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=406"
  },
  {
    "text": "For DeviceInformation attestation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=410"
  },
  {
    "text": "the MDM server issues a DeviceInformation query and specifies some new keys. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=413"
  },
  {
    "text": "The device obtains an attestation from Apple’s servers ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=418"
  },
  {
    "text": "and returns it to the MDM server. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=422"
  },
  {
    "text": "Then the MDM server evaluates the attestation.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=425"
  },
  {
    "text": "But be careful. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=430"
  },
  {
    "text": "DeviceInformation attestation declares to the MDM server, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=431"
  },
  {
    "text": "\"A device exists with these properties.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=436"
  },
  {
    "text": "It does not prove that the device the MDM server is currently communicating with ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=439"
  },
  {
    "text": "is that same device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=443"
  },
  {
    "text": "For that, you need ACME payload attestation.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=445"
  },
  {
    "text": "ACME payload attestation provides the strongest proof ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=451"
  },
  {
    "text": "of the identity of the device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=454"
  },
  {
    "text": "When you install a profile containing an ACME payload, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=457"
  },
  {
    "text": "the device requests a certificate from an organization ACME server. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=460"
  },
  {
    "text": "This is very similar to installing a SCEP payload. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=465"
  },
  {
    "text": "The device provides an attestation to the ACME server. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=469"
  },
  {
    "text": "Based upon this strong proof of the identity of the device, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=473"
  },
  {
    "text": "the ACME server issues a new client certificate ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=477"
  },
  {
    "text": "that the rest of your organization's servers trust. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=480"
  },
  {
    "text": "These two new features use attestation certificates ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=484"
  },
  {
    "text": "to prove several things: ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=486"
  },
  {
    "text": "the device is genuine Apple hardware; ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=488"
  },
  {
    "text": "the device is a specific device; ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=491"
  },
  {
    "text": "the device has certain properties; ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=495"
  },
  {
    "text": "and a private key is bound to the device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=498"
  },
  {
    "text": "And it proves to different servers that they are communicating ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=502"
  },
  {
    "text": "with the same device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=506"
  },
  {
    "text": "How do these attestations benefit you? ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=508"
  },
  {
    "text": "Attestations are primarily a security feature, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=512"
  },
  {
    "text": "so I'll describe some of the threats and how attestations mitigate them.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=515"
  },
  {
    "text": "First, a compromised device lies about its properties, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=520"
  },
  {
    "text": "so Apple attests to the properties. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=525"
  },
  {
    "text": "Even if the OS is compromised, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=527"
  },
  {
    "text": "that doesn't affect the reliability of the attestation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=529"
  },
  {
    "text": "It only requires the Secure Enclave to be intact. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=532"
  },
  {
    "text": "Or a compromised device provides an outdated attestation of properties ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=536"
  },
  {
    "text": "that have since changed. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=541"
  },
  {
    "text": "A nonce in the attestation ensures that the facts are up to date. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=543"
  },
  {
    "text": "ACME payload attestation mitigates other threats. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=549"
  },
  {
    "text": "A compromised device sends a different device's identifiers ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=552"
  },
  {
    "text": "when communicating with the MDM server. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=557"
  },
  {
    "text": "So Apple attests device identifiers in a way that's tied to the client identity ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=560"
  },
  {
    "text": "that the device uses to authenticate its TLS connection. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=565"
  },
  {
    "text": "This proves to your MDM server ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=569"
  },
  {
    "text": "and other organization servers which device they are communicating with.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=571"
  },
  {
    "text": "Or, an attacker extracts a private key from a legitimate device ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=577"
  },
  {
    "text": "and uses it to make requests, spoofing the legitimate device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=582"
  },
  {
    "text": "Apple attests that the private key is protected by the Secure Enclave, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=587"
  },
  {
    "text": "which has exceptionally strong protections ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=591"
  },
  {
    "text": "against exporting or importing private keys. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=593"
  },
  {
    "text": "Last, an attacker hijacks a certificate request ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=597"
  },
  {
    "text": "to get a certificate authority to issue a certificate for a different device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=601"
  },
  {
    "text": "Apple attests the identity of the requesting device ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=606"
  },
  {
    "text": "in a way that ties it to the certificate request, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=610"
  },
  {
    "text": "so the certificate authority only issues certificates ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=613"
  },
  {
    "text": "to the legitimate device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=615"
  },
  {
    "text": "Attestations give you security benefits that mitigate several threats. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=619"
  },
  {
    "text": "So how do you use them in your environment? ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=623"
  },
  {
    "text": "Let's get into the details of how to implement Managed Device Attestation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=626"
  },
  {
    "text": "First, there are the enhancements to the DeviceInformation command. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=631"
  },
  {
    "text": "An MDM server can issue this command to a managed device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=636"
  },
  {
    "text": "The request includes a list of properties that the server wants to know. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=640"
  },
  {
    "text": "We've added a new property, DevicePropertiesAttestation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=645"
  },
  {
    "text": "Adding it to the Queries array means the MDM server ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=649"
  },
  {
    "text": "is requesting an attestation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=653"
  },
  {
    "text": "To ensure that the attestation is fresh, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=656"
  },
  {
    "text": "the MDM server can use the DeviceAttestationNonce key. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=659"
  },
  {
    "text": "This appears at the same level in the request as the Queries key. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=664"
  },
  {
    "text": "This key is optional. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=668"
  },
  {
    "text": "Its value is a data object, with a maximum size of 32 bytes. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=670"
  },
  {
    "text": "Here's an example that requests attestation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=675"
  },
  {
    "text": "The Queries array contains the DevicePropertiesAttestation key, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=679"
  },
  {
    "text": "and there's a 32 byte nonce. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=683"
  },
  {
    "text": "When obtaining the attestation is successful, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=686"
  },
  {
    "text": "the response contains a DevicePropertiesAttestation key. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=689"
  },
  {
    "text": "Its value is an array of data objects. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=694"
  },
  {
    "text": "Each element in the array is a certificate in a certificate chain. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=697"
  },
  {
    "text": "This is an example response. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=702"
  },
  {
    "text": "The leaf certificate appears first in the array, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=704"
  },
  {
    "text": "and it contains device properties in custom OIDs. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=708"
  },
  {
    "text": "The first two OIDs are device identifying properties, serial number and UDID. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=713"
  },
  {
    "text": "They are omitted from the certificate if the MDM enrollment is a User Enrollment. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=719"
  },
  {
    "text": "The remaining OIDs are anonymous, and available for all enrollment types. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=725"
  },
  {
    "text": "sepOS version refers to the version of the operating system ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=730"
  },
  {
    "text": "that runs on the Secure Enclave. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=734"
  },
  {
    "text": "And the presence of the correct value in the nonce OID ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=737"
  },
  {
    "text": "proves that the certificate was just generated. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=740"
  },
  {
    "text": "When the MDM server receives an attestation ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=744"
  },
  {
    "text": "it must carefully validate it, in the following order. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=747"
  },
  {
    "text": "It verifies that the cert chain is rooted with the expected ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=750"
  },
  {
    "text": "Apple certificate authority. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=754"
  },
  {
    "text": "The Apple certificate authority is available ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=756"
  },
  {
    "text": "from the Apple Private PKI Repository. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=758"
  },
  {
    "text": "It verifies that the nonce in the leaf certificate matches the nonce ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=762"
  },
  {
    "text": "in the DeviceInformation request, if one was specified. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=766"
  },
  {
    "text": "And then it parses out the remaining OIDs and evaluates their values. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=770"
  },
  {
    "text": "Generating new attestations uses significant resources on the device ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=775"
  },
  {
    "text": "and Apple's servers, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=779"
  },
  {
    "text": "so there's a rate limit on how often new attestation certificates can be requested, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=781"
  },
  {
    "text": "currently one new attestation every seven days. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=786"
  },
  {
    "text": "You request a fresh attestation by specifying a new nonce. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=790"
  },
  {
    "text": "Omitting a nonce indicates that freshness is not a concern, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=796"
  },
  {
    "text": "so the device can return its most recent attestation instead. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=799"
  },
  {
    "text": "And if the nonce is specified and matches that cached attestation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=804"
  },
  {
    "text": "the cached attestation is returned. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=809"
  },
  {
    "text": "When the MDM server validates the nonce in an attestation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=812"
  },
  {
    "text": "it should detect a mismatched nonce ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=816"
  },
  {
    "text": "and determine whether that was expected due to caching or not. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=818"
  },
  {
    "text": "But don't request a new attestation every seven days ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=824"
  },
  {
    "text": "just because that's the rate limit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=828"
  },
  {
    "text": "Doing that will only delay how quickly your MDM server discovers changes ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=830"
  },
  {
    "text": "in device properties, not to mention waste resources. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=834"
  },
  {
    "text": "Instead, monitor for relevant changes in the other DeviceInformation properties, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=838"
  },
  {
    "text": "such as the OS version. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=843"
  },
  {
    "text": "When one of those changes, then request a fresh attestation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=845"
  },
  {
    "text": "This ensures the attestation is updated as quickly as possible after a change, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=850"
  },
  {
    "text": "rather than waiting for the rate limit to expire. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=854"
  },
  {
    "text": "And, just in case the device is compromised and lying about these other properties, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=858"
  },
  {
    "text": "slip in the occasional random request for a fresh attestation ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=863"
  },
  {
    "text": "to keep the device honest. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=867"
  },
  {
    "text": "Requesting an attestation may fail. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=869"
  },
  {
    "text": "When that happens, the device still responds ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=873"
  },
  {
    "text": "but some information is omitted. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=876"
  },
  {
    "text": "Either the DevicePropertiesAttestation field is omitted from the response, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=878"
  },
  {
    "text": "or an expected OID or its value is omitted. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=883"
  },
  {
    "text": "There are many potential reasons for a failure: ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=887"
  },
  {
    "text": "the device experiences a network issue reaching Apple's attestation servers. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=890"
  },
  {
    "text": "No server is up 100% of the time, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=895"
  },
  {
    "text": "so there may be an issue with Apple's attestation servers. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=898"
  },
  {
    "text": "Or the device hardware or software may be compromised, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=902"
  },
  {
    "text": "or it's not even genuine Apple hardware. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=905"
  },
  {
    "text": "In these last three cases, Apple's attestation servers ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=908"
  },
  {
    "text": "refuse to issue an attestation for properties that they cannot verify. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=912"
  },
  {
    "text": "The different causes of a failed attestation ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=917"
  },
  {
    "text": "range from a harmless network glitch to an active attack. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=920"
  },
  {
    "text": "Unfortunately, there is no trustworthy way ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=924"
  },
  {
    "text": "for the MDM server to know the exact cause. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=927"
  },
  {
    "text": "This is because the only source of information about the failure ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=930"
  },
  {
    "text": "is the device itself, which may be a compromised device that's lying. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=934"
  },
  {
    "text": "So how should an MDM server interpret a failure? ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=939"
  },
  {
    "text": "Don't always assume the worst when attestation fails. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=943"
  },
  {
    "text": "If you have a zero trust architecture, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=948"
  },
  {
    "text": "here's how you would likely handle it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=950"
  },
  {
    "text": "The organization calculates a trust score for the device, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=952"
  },
  {
    "text": "with a failed or unexpectedly stale attestation lowering that score. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=956"
  },
  {
    "text": "A lowered trust score triggers different actions, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=962"
  },
  {
    "text": "such as denying access to services, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=965"
  },
  {
    "text": "flagging the device for manual investigation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=969"
  },
  {
    "text": "or remediating by wiping it and revoking its certificates. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=971"
  },
  {
    "text": "This ensures an appropriate response to a failed attestation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=975"
  },
  {
    "text": "Let's move on to implementing ACME payload attestation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=980"
  },
  {
    "text": "Installing an ACME payload involves several steps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=984"
  },
  {
    "text": "I'll describe the different participants in the process, then each of those steps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=988"
  },
  {
    "text": "We start with an iPhone, iPad or Apple TV.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=993"
  },
  {
    "text": "In most cases this is managed by an MDM server. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=998"
  },
  {
    "text": "There's an ACME server. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1003"
  },
  {
    "text": "This implements the ACME protocol, RFC 8555, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1005"
  },
  {
    "text": "so it can issue client certificates from an organization certificate authority. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1010"
  },
  {
    "text": "And there's Apple's attestation servers that issue the attestations.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1016"
  },
  {
    "text": "The first step is for the MDM server to install a profile ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1023"
  },
  {
    "text": "containing an ACME payload. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1027"
  },
  {
    "text": "The payload specifies properties of the key the device will generate, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1030"
  },
  {
    "text": "properties of the certificate that the device will request, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1036"
  },
  {
    "text": "and how to request the certificate from the ACME server. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1042"
  },
  {
    "text": "To start installing the profile, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1047"
  },
  {
    "text": "the device generates the requested type of key. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1049"
  },
  {
    "text": "In order to use attestations, the key must be hardware-bound. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1053"
  },
  {
    "text": "While the ACME payload supports RSA and various sizes of keys, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1058"
  },
  {
    "text": "in order to get a hardware-bound key, you must use ECSECPrimeRandom. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1062"
  },
  {
    "text": "Your best choice is a ECSECPrimeRandom 384 bit key ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1067"
  },
  {
    "text": "because that's the highest security hardware-bound key. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1073"
  },
  {
    "text": "Once the key is created, the device makes initial contact with the ACME server.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1078"
  },
  {
    "text": "The device requests the DirectoryURL, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1085"
  },
  {
    "text": "which specifies the URLs to use for the rest of the process ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1088"
  },
  {
    "text": "of communicating with the ACME server. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1091"
  },
  {
    "text": "Then the two systems create an account and an order. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1094"
  },
  {
    "text": "The server offers the device-attest-01 validation type. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1098"
  },
  {
    "text": "Then, the ACME server generates a nonce ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1104"
  },
  {
    "text": "and sends it to the device in the token field. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1107"
  },
  {
    "text": "The ACME protocol was initially used to issue server certificates. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1112"
  },
  {
    "text": "Here however, the validation type we use ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1116"
  },
  {
    "text": "was introduced in an IETF draft ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1119"
  },
  {
    "text": "specifying an extension of the ACME protocol ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1122"
  },
  {
    "text": "for receiving attestations and issuing client certificates.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1125"
  },
  {
    "text": "Attestation is optional. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1130"
  },
  {
    "text": "When the payload specifies attestation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1133"
  },
  {
    "text": "the device requests an attestation from Apple. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1135"
  },
  {
    "text": "This is nearly identical to the DeviceInformation attestation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1139"
  },
  {
    "text": "It uses the same OIDs, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1143"
  },
  {
    "text": "and device-identifying OIDs are omitted for User Enrollments. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1145"
  },
  {
    "text": "But there's a few differences. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1150"
  },
  {
    "text": "The nonce is hashed using SHA-256 before embedding it in the attestation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1153"
  },
  {
    "text": "The nonce comes from the ACME server, not the MDM server. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1160"
  },
  {
    "text": "And the private key that matches the attestation leaf certificate ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1165"
  },
  {
    "text": "is the one the device just generated. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1169"
  },
  {
    "text": "The attestation certificate matches the private key, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1173"
  },
  {
    "text": "however that certificate can't be used for any purposes besides attestation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1176"
  },
  {
    "text": "So the device requests from the ACME server another certificate ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1182"
  },
  {
    "text": "matching the private key, and this cert is good for TLS.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1186"
  },
  {
    "text": "The device provides a certificate signing request ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1193"
  },
  {
    "text": "containing the certificate request properties from the payload. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1196"
  },
  {
    "text": "It provides the attestation chain. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1200"
  },
  {
    "text": "And it provides the ClientIdentifier from the ACME payload. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1203"
  },
  {
    "text": "Typically this is used like a ticket ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1208"
  },
  {
    "text": "that is good for the issuance of a single certificate, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1210"
  },
  {
    "text": "to prevent repeated requests. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1213"
  },
  {
    "text": "The ACME server must carefully validate the request ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1215"
  },
  {
    "text": "before issuing a certificate, in this order. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1219"
  },
  {
    "text": "It must verify that the ClientIdentifier is valid and unused. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1223"
  },
  {
    "text": "The attestation certificate must chain up to the correct Apple CA. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1228"
  },
  {
    "text": "The public key in the attestation leaf certificate must match the CSR. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1234"
  },
  {
    "text": "The nonce must match the SHA-256 hash of the one that the ACME server sent earlier. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1240"
  },
  {
    "text": "And then the ACME server can evaluate the remaining OIDs. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1247"
  },
  {
    "text": "And remember that attestations may fail. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1252"
  },
  {
    "text": "The ACME server should carefully consider a failure when issuing a certificate, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1255"
  },
  {
    "text": "just like we reviewed with a failed attestation in the DeviceInformation case. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1260"
  },
  {
    "text": "From here, things rapidly finish up. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1265"
  },
  {
    "text": "The ACME server issues a client certificate ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1268"
  },
  {
    "text": "from the organization CA and returns it to the device.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1271"
  },
  {
    "text": "The ACME server is the final authority for client certificate issuance. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1277"
  },
  {
    "text": "It can choose to honor or override the properties in the CSR ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1282"
  },
  {
    "text": "such as the SubjectAltName. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1285"
  },
  {
    "text": "The device stores the certificate in the keychain, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1288"
  },
  {
    "text": "and this completes the installation of the ACME payload.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1291"
  },
  {
    "text": "Let's tie all this together. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1296"
  },
  {
    "text": "How do servers know the device communicating with them ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1299"
  },
  {
    "text": "is the one it claims to be? ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1302"
  },
  {
    "text": "The device uses the same private key in multiple ways: ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1305"
  },
  {
    "text": "when getting an attestation from Apple, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1309"
  },
  {
    "text": "when getting a client certificate from the ACME server, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1311"
  },
  {
    "text": "and when using TLS to communicate with other servers. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1315"
  },
  {
    "text": "Because the key is hardware-bound, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1318"
  },
  {
    "text": "we know all these actions were performed by the same device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1321"
  },
  {
    "text": "And we have an attestation certificate which describes that device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1325"
  },
  {
    "text": "Combining these, organization servers now have confidence ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1331"
  },
  {
    "text": "in the device's identity when granting access.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1335"
  },
  {
    "text": "Just like with the certificate and SCEP payloads, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1341"
  },
  {
    "text": "other payloads in the profile can reference the ACME payload ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1344"
  },
  {
    "text": "in order to use the certificate. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1348"
  },
  {
    "text": "Use it for MDM, Wi-Fi, VPN, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1350"
  },
  {
    "text": "Kerberos, Safari. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1353"
  },
  {
    "text": "All these systems benefit from attestation.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1356"
  },
  {
    "text": "A device can have up to 10 ACME payloads ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1362"
  },
  {
    "text": "that use attestation installed at the same time. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1364"
  },
  {
    "text": "Note that hardware-bound keys are not preserved ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1368"
  },
  {
    "text": "when a managed device's backup is restored, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1372"
  },
  {
    "text": "even when restoring to the same device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1374"
  },
  {
    "text": "And if you do nothing else with Managed Device Attestation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1378"
  },
  {
    "text": "use an ACME payload for the MDM client identity ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1382"
  },
  {
    "text": "so the MDM server can be sure which device it's managing. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1385"
  },
  {
    "text": "Let's wrap up. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1390"
  },
  {
    "text": "You use Managed Device Attestation to remediate multiple classes of threats. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1392"
  },
  {
    "text": "You leverage DeviceInformation attestation to improve the device identity component ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1397"
  },
  {
    "text": "of posture for better trust evaluation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1403"
  },
  {
    "text": "And, you can now prove a device's identity as it accesses organization resources ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1407"
  },
  {
    "text": "using ACME attestation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1413"
  },
  {
    "text": "We look forward to your implementation of Managed Device Attestation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1415"
  },
  {
    "text": "Together, we'll improve the security of your device deployments. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1420"
  },
  {
    "text": "Thank you, and have a great WWDC.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10143/?time=1424"
  }
]