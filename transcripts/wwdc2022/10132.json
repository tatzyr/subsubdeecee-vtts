[
  {
    "text": "♪ Mellow instrumental hip-hop music ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=0"
  },
  {
    "text": "♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=3"
  },
  {
    "text": "Hi, my name is Mindy ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=9"
  },
  {
    "text": "and I'm an engineer on the Photos team.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=11"
  },
  {
    "text": "Today, I'll be going over how to access ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=14"
  },
  {
    "text": "Photos change history in your apps.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=16"
  },
  {
    "text": "PhotoKit provides a rich set of APIs ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=20"
  },
  {
    "text": "for accessing and updating photos, videos, and albums ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=23"
  },
  {
    "text": "stored in the photo library.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=27"
  },
  {
    "text": "PhotoKit is designed for apps that require a deep level ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=29"
  },
  {
    "text": "of Photos access and integration ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=33"
  },
  {
    "text": "for managing or editing photos, custom cameras, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=36"
  },
  {
    "text": "or apps that give people a way to browse their photo library ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=39"
  },
  {
    "text": "in a unique way.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=42"
  },
  {
    "text": "These types of applications may want to monitor ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=45"
  },
  {
    "text": "how the photo library changes over time ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=48"
  },
  {
    "text": "to closely mirror the Photos experience.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=50"
  },
  {
    "text": "Let's say I've created a social hiking app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=54"
  },
  {
    "text": "that allows people to share and edit photos ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=57"
  },
  {
    "text": "of hiking trips with friends.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=60"
  },
  {
    "text": "When someone launches the app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=62"
  },
  {
    "text": "the app gathers photos from the start and end timestamp ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=64"
  },
  {
    "text": "of their latest hiking workout to generate a collage ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=67"
  },
  {
    "text": "of their experience on the mountain.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=71"
  },
  {
    "text": "The collages stay in sync with the selected photos ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=73"
  },
  {
    "text": "from the photo library.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=76"
  },
  {
    "text": "If someone receives hiking photos ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=78"
  },
  {
    "text": "from a friend, for instance, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=79"
  },
  {
    "text": "the app will generate new collages using these updates.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=81"
  },
  {
    "text": "Up until now, in order for the app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=85"
  },
  {
    "text": "to discover newly inserted assets ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=88"
  },
  {
    "text": "and changes to previous hiking collages, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=90"
  },
  {
    "text": "the app would need to perform a series of fetches.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=93"
  },
  {
    "text": "To determine which assets were inserted, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=97"
  },
  {
    "text": "the app can fetch assets ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=100"
  },
  {
    "text": "with a date created later than the last app launch date.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=101"
  },
  {
    "text": "Determining asset updates and deletions is trickier.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=106"
  },
  {
    "text": "The app would need to refetch every asset in every collage ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=110"
  },
  {
    "text": "and check the modification date ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=114"
  },
  {
    "text": "to determine asset updates, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=116"
  },
  {
    "text": "but this could bring up false positives, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=118"
  },
  {
    "text": "as the asset modification date ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=120"
  },
  {
    "text": "can be set by internal Photos processing activities.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=122"
  },
  {
    "text": "Deletions in the photo library are more difficult to track, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=126"
  },
  {
    "text": "as all tracked assets need to be fetched and diffed ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=129"
  },
  {
    "text": "for assets that were not returned with the fetch.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=133"
  },
  {
    "text": "In total, this means that there are three separate checks ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=136"
  },
  {
    "text": "that need to be done each time the app is launched, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=139"
  },
  {
    "text": "which can be especially costly ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=142"
  },
  {
    "text": "if the app is displaying large quantities of assets.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=144"
  },
  {
    "text": "Instead of performing different fetches and checks ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=148"
  },
  {
    "text": "for uncertain results, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=151"
  },
  {
    "text": "what if there was a way to know exactly what changed ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=152"
  },
  {
    "text": "in one unified API call? ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=155"
  },
  {
    "text": "Well, I'm excited to say that we've done just that! ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=158"
  },
  {
    "text": "The new change history API allows for an easier way ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=162"
  },
  {
    "text": "to track offline updates to the photo library.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=166"
  },
  {
    "text": "Change history consists of a timeline of changes ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=170"
  },
  {
    "text": "such as insertions, updates, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=173"
  },
  {
    "text": "and deletions to the photo library.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=175"
  },
  {
    "text": "In this example timeline, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=178"
  },
  {
    "text": "there are a variety of asset, album, and folder changes ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=180"
  },
  {
    "text": "in the change history from the past three days.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=184"
  },
  {
    "text": "Using this timeline, how can you determine ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=187"
  },
  {
    "text": "which changes have happened in the last two days, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=190"
  },
  {
    "text": "or the last time you launched your app? ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=194"
  },
  {
    "text": "You can now use a persistent change token ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=197"
  },
  {
    "text": "that represents the state of the photo library ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=200"
  },
  {
    "text": "at a given point in time.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=203"
  },
  {
    "text": "This token can be persisted across app launches, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=205"
  },
  {
    "text": "and it can be used to fetch changes to the photo library ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=209"
  },
  {
    "text": "that have occurred since that token, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=212"
  },
  {
    "text": "including third-party app changes.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=214"
  },
  {
    "text": "Note that if your app is in limited library mode, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=217"
  },
  {
    "text": "only changes for user-selected PhotoKit objects ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=220"
  },
  {
    "text": "will be returned.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=223"
  },
  {
    "text": "This change token is local to the device ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=225"
  },
  {
    "text": "and is cheap to access from a persistent change ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=228"
  },
  {
    "text": "or photo library instance at any time.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=231"
  },
  {
    "text": "This new API is available on every platform ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=235"
  },
  {
    "text": "that supports PhotoKit: macOS, iOS, iPadOS, and tvOS.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=238"
  },
  {
    "text": "As your app is running and working with the photo library, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=246"
  },
  {
    "text": "you can store a persistent change token within the app.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=250"
  },
  {
    "text": "Later, you can use the token to fetch the photo library changes ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=254"
  },
  {
    "text": "that have occurred since.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=259"
  },
  {
    "text": "For each persistent change, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=261"
  },
  {
    "text": "you can grab the change details ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=263"
  },
  {
    "text": "for three types of Photos objects: ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=265"
  },
  {
    "text": "asset, asset collection, and collection list.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=268"
  },
  {
    "text": "So what does this look like in code? ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=273"
  },
  {
    "text": "You first use the last stored change token ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=276"
  },
  {
    "text": "to fetch the persistent changes.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=279"
  },
  {
    "text": "Next, you enumerate through the persistent changes ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=282"
  },
  {
    "text": "and grab the change details -- in this case, of type \"asset\" -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=285"
  },
  {
    "text": "for each persistent change object.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=290"
  },
  {
    "text": "These change details provide information ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=293"
  },
  {
    "text": "on which local identifiers were updated, deleted, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=295"
  },
  {
    "text": "and inserted into the photo library ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=299"
  },
  {
    "text": "since the change token.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=301"
  },
  {
    "text": "After processing these changes, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=304"
  },
  {
    "text": "you can store the last change token for future use.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=306"
  },
  {
    "text": "Let's compare and contrast the new persistent history API ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=310"
  },
  {
    "text": "with the existing change observer APIs.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=314"
  },
  {
    "text": "PHChanges deal with active, in-memory fetch results ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=318"
  },
  {
    "text": "and are used to record live changes to the photo library ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=322"
  },
  {
    "text": "while your app is running.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=325"
  },
  {
    "text": "Persistent history, on the other hand, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=328"
  },
  {
    "text": "records long-running changes to the photo library, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=330"
  },
  {
    "text": "and can be used to report changes ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=333"
  },
  {
    "text": "from when your app is not active.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=335"
  },
  {
    "text": "You can use both or either of these APIs ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=338"
  },
  {
    "text": "depending on the requirements of your app.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=341"
  },
  {
    "text": "Going back to the hiking app example, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=345"
  },
  {
    "text": "I'd like to now use the persistent history API ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=347"
  },
  {
    "text": "to track asset changes in order to create ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=350"
  },
  {
    "text": "and update hiking collages.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=353"
  },
  {
    "text": "First, I'll use the last stored change token ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=355"
  },
  {
    "text": "and fetch the persistent changes.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=359"
  },
  {
    "text": "Next, I'll iterate through the persistent changes, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=362"
  },
  {
    "text": "grab the relevant asset change details, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=365"
  },
  {
    "text": "and process the inserted, updated, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=368"
  },
  {
    "text": "and deleted identifiers.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=371"
  },
  {
    "text": "Now I need to identify library changes ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=373"
  },
  {
    "text": "that affect the app from the change history, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=376"
  },
  {
    "text": "as the app doesn't need all of the information ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=379"
  },
  {
    "text": "returned from fetching changes.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=382"
  },
  {
    "text": "It's important for the app to know which assets ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=385"
  },
  {
    "text": "were added to the photo library for new hiking workouts, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=388"
  },
  {
    "text": "and updated and deleted assets ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=392"
  },
  {
    "text": "referenced in previous hiking collages.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=394"
  },
  {
    "text": "I've already identified the three sets ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=398"
  },
  {
    "text": "of inserted, updated, and deleted asset local identifiers ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=400"
  },
  {
    "text": "from enumerating through the persistent changes.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=404"
  },
  {
    "text": "How do I now update the app to reflect this? ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=407"
  },
  {
    "text": "Using the insertedIdentifiers set, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=411"
  },
  {
    "text": "I can determine which assets were added ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=413"
  },
  {
    "text": "between hiking timestamps by fetching the inserted assets ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=416"
  },
  {
    "text": "and checking their creation dates ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=420"
  },
  {
    "text": "against each hike start and end date.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=422"
  },
  {
    "text": "The updated assets may now have adjustments applied, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=428"
  },
  {
    "text": "so I can use the new hasAdjustments API ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=431"
  },
  {
    "text": "to check if I need to redraw the asset in the UI.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=435"
  },
  {
    "text": "I can use the deleted asset local identifiers ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=440"
  },
  {
    "text": "to determine which collages need to be regenerated.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=443"
  },
  {
    "text": "Now I've handled all of the offline photo library changes ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=447"
  },
  {
    "text": "and my app is up to date.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=451"
  },
  {
    "text": "Here are a few things you should keep in mind ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=456"
  },
  {
    "text": "when using the new change history API.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=458"
  },
  {
    "text": "First, determine what changes are important to you ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=462"
  },
  {
    "text": "and your app, and only check for those changes.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=465"
  },
  {
    "text": "Consider performing one large fetch request ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=469"
  },
  {
    "text": "of updated and inserted assets ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=471"
  },
  {
    "text": "instead of multiple smaller requests to improve performance.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=474"
  },
  {
    "text": "Photo libraries can change a lot due to processing ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=479"
  },
  {
    "text": "and sync activity under the hood, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=482"
  },
  {
    "text": "so you may end up enumerating through ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=485"
  },
  {
    "text": "a large amount of changes, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=487"
  },
  {
    "text": "especially if your app is not frequently launched.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=488"
  },
  {
    "text": "Because of this, we recommend ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=492"
  },
  {
    "text": "that you ask for change history on a background thread ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=494"
  },
  {
    "text": "to not block the UI.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=497"
  },
  {
    "text": "There are two types of errors that can occur ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=500"
  },
  {
    "text": "when fetching persistent history.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=502"
  },
  {
    "text": "If the change token ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=505"
  },
  {
    "text": "is older than the available history of changes, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=506"
  },
  {
    "text": "the expired change token error will be returned.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=509"
  },
  {
    "text": "In some cases, the persistent change ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=513"
  },
  {
    "text": "cannot be relied upon to completely reconstruct ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=515"
  },
  {
    "text": "the changes that occurred, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=518"
  },
  {
    "text": "and will return an error that change details are unavailable.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=520"
  },
  {
    "text": "In these instances, we recommend ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=524"
  },
  {
    "text": "refetching tracked objects in the photo library ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=527"
  },
  {
    "text": "to ensure your app is up to date.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=531"
  },
  {
    "text": "Before we wrap up, there are a few more ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=534"
  },
  {
    "text": "new PhotoKit APIs I'd like to share with you.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=536"
  },
  {
    "text": "PhotoKit now supports accessing cinematic videos ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=541"
  },
  {
    "text": "by media subtype and smart album.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=544"
  },
  {
    "text": "There are also two new error codes.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=548"
  },
  {
    "text": "If the photo library bundle ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=551"
  },
  {
    "text": "is in a File Provider sync root directory on macOS, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=553"
  },
  {
    "text": "the library can become corrupted, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=557"
  },
  {
    "text": "and an error will be returned when trying to perform changes.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=559"
  },
  {
    "text": "If an asset resource cannot be found ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=563"
  },
  {
    "text": "due to network issues, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=565"
  },
  {
    "text": "the resource request will now return a network error.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=567"
  },
  {
    "text": "Please check the developer documentation ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=571"
  },
  {
    "text": "for all of the latest updates.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=573"
  },
  {
    "text": "Lastly, be sure to check out this year's session ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=575"
  },
  {
    "text": "on the Photos picker, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=578"
  },
  {
    "text": "as it is the easiest way to work with and access Photos.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=579"
  },
  {
    "text": "We're so excited for you to use the new change history API ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=584"
  },
  {
    "text": "and all of the great new features in PhotoKit.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=588"
  },
  {
    "text": "Thank you! ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=591"
  },
  {
    "text": "♪",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10132/?time=592"
  }
]