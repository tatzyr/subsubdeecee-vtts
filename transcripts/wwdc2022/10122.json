[
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1"
  },
  {
    "text": "Ram: Hi. My name is Ram. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=10"
  },
  {
    "text": "I'm an engineer on the account experiences team. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=12"
  },
  {
    "text": "I'll be joined by my colleague Patrick ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=15"
  },
  {
    "text": "to talk about how you can enhance ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=17"
  },
  {
    "text": "your Sign in with Apple experience for your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=18"
  },
  {
    "text": "Since Sign in with Apple was introduced in iOS 13, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=22"
  },
  {
    "text": "people love the fast, easy account setup and sign-in. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=25"
  },
  {
    "text": "With just a few lines of code, you can enable ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=29"
  },
  {
    "text": "quick, one-tap account setup ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=32"
  },
  {
    "text": "with no forms or passwords. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=34"
  },
  {
    "text": "Every Sign in with Apple account is protected ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=37"
  },
  {
    "text": "by a strong two-factor authentication ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=39"
  },
  {
    "text": "that is already used to secure the user's Apple ID. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=42"
  },
  {
    "text": "If you need to communicate with your users, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=46"
  },
  {
    "text": "Sign in with Apple provides you with an email address ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=48"
  },
  {
    "text": "that just works. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=51"
  },
  {
    "text": "There is no additional verification required. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=52"
  },
  {
    "text": "Sign in with Apple also provides an indicator ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=56"
  },
  {
    "text": "for how likely the user is indeed real. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=58"
  },
  {
    "text": "This can help you combat fraud. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=61"
  },
  {
    "text": "And Sign in with Apple works everywhere, including your managed Apple IDs ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=64"
  },
  {
    "text": "that you use for work and school. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=69"
  },
  {
    "text": "To learn more about how you can integrate your app with work and school accounts, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=71"
  },
  {
    "text": "check out the session \"Discover Sign in with Apple at Work & School.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=76"
  },
  {
    "text": "In this session, we are going to talk about how you can enhance and streamline ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=80"
  },
  {
    "text": "your Sign in with Apple experience.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=84"
  },
  {
    "text": "First, I will discuss how you can prevent account duplication ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=87"
  },
  {
    "text": "by checking for existing credentials in your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=91"
  },
  {
    "text": "Next, I'll take a deep dive into the Apple ID credential, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=94"
  },
  {
    "text": "and then, I'll talk about some of the ways you can monitor credential changes ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=99"
  },
  {
    "text": "and discuss how to handle scenarios like account deletion. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=104"
  },
  {
    "text": "And finally, Patrick will discuss how to integrate Sign in with Apple ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=107"
  },
  {
    "text": "on the web and other platforms. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=111"
  },
  {
    "text": "Let's get started. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=114"
  },
  {
    "text": "Sign in with Apple is a convenient and secure alternative ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=116"
  },
  {
    "text": "to traditional username- and-password-based authentication, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=119"
  },
  {
    "text": "but your users could still have accounts that are unlocked with passwords. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=123"
  },
  {
    "text": "So if your user already has an account that works for them, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=127"
  },
  {
    "text": "it is important not to create a second account for your app.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=130"
  },
  {
    "text": "I'll explore how you can guide someone to make the right decision ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=134"
  },
  {
    "text": "while signing in.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=138"
  },
  {
    "text": "This is Juice, a sample app that uses Sign in with Apple. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=140"
  },
  {
    "text": "You can find its source code in the related links for this video.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=144"
  },
  {
    "text": "You can sign in to Juice either using traditional email and password ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=148"
  },
  {
    "text": "or using Sign in with Apple. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=153"
  },
  {
    "text": "If your user has either of these credentials already, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=156"
  },
  {
    "text": "it is in your hands to help them sign into the right account. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=159"
  },
  {
    "text": "To start with, be sure to implement password autofill ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=163"
  },
  {
    "text": "so that existing password credentials ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=166"
  },
  {
    "text": "are displayed on the keyboard for your login screen.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=168"
  },
  {
    "text": "This way, the user can autofill the credential with just one tap.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=172"
  },
  {
    "text": "Also, you should provide your users ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=177"
  },
  {
    "text": "to upgrade their password-based accounts ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=179"
  },
  {
    "text": "to Sign in with Apple. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=181"
  },
  {
    "text": "Once upgraded, your users will get an account ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=183"
  },
  {
    "text": "that has security built in, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=186"
  },
  {
    "text": "and they have one less password to remember. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=188"
  },
  {
    "text": "This is implemented using the Account Authentication ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=191"
  },
  {
    "text": "Modification Extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=194"
  },
  {
    "text": "The extension-based API provides seamless experience for your users ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=196"
  },
  {
    "text": "to upgrade the way they sign in ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=201"
  },
  {
    "text": "using Sign in with Apple.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=203"
  },
  {
    "text": "For more information ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=205"
  },
  {
    "text": "on providing security upgrades for your users' accounts, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=206"
  },
  {
    "text": "check out the docs \"Get the most out of Sign in with Apple\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=209"
  },
  {
    "text": "and \"One-tap account security upgrades.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=213"
  },
  {
    "text": "Apart from providing password autofill, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=216"
  },
  {
    "text": "you can go a step further ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=219"
  },
  {
    "text": "by presenting existing credentials ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=220"
  },
  {
    "text": "as soon as your app launches. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=222"
  },
  {
    "text": "This way, your users can sign in ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=224"
  },
  {
    "text": "using the right account ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=227"
  },
  {
    "text": "even before they reach the login screen.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=228"
  },
  {
    "text": "The Authentication Services API is really flexible this way. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=230"
  },
  {
    "text": "Besides allowing a user to create ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=234"
  },
  {
    "text": "a Sign in with Apple credential, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=236"
  },
  {
    "text": "the API can also present existing credentials, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=238"
  },
  {
    "text": "including password-based credentials.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=241"
  },
  {
    "text": "Adopting this is really easy. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=244"
  },
  {
    "text": "Let me take you through some code on how to achieve this. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=246"
  },
  {
    "text": "If you're already using the Authentication Services API, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=250"
  },
  {
    "text": "this code should be very familiar.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=253"
  },
  {
    "text": "You start by creating an instance of ASAuthorizationController ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=256"
  },
  {
    "text": "and include both ASAuthorizationAppleIDProvider ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=260"
  },
  {
    "text": "as well as an ASAuthorizationPasswordProvider ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=264"
  },
  {
    "text": "in the authorization request array. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=267"
  },
  {
    "text": "Then you'll need to set up a delegate and an object ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=269"
  },
  {
    "text": "to help with presenting the interface. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=272"
  },
  {
    "text": "And finally, you'll need to call performRequests ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=274"
  },
  {
    "text": "with the option preferImmediatelyAvailableCredentials ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=277"
  },
  {
    "text": "on your authorization controller. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=280"
  },
  {
    "text": "This option is new on iOS 16. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=283"
  },
  {
    "text": "It tells the system that you only want credentials ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=286"
  },
  {
    "text": "that are immediately available on the device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=289"
  },
  {
    "text": "It is intended specifically to be called on app launch.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=292"
  },
  {
    "text": "If you want to support previous iOS versions, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=296"
  },
  {
    "text": "you can use performRequests. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=299"
  },
  {
    "text": "When you do this, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=301"
  },
  {
    "text": "you will be presented with a list of existing credentials. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=302"
  },
  {
    "text": "Your user can now select ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=306"
  },
  {
    "text": "either an existing Sign in with Apple credential ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=308"
  },
  {
    "text": "or an existing password credential. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=311"
  },
  {
    "text": "After the user has selected a credential, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=315"
  },
  {
    "text": "the system will call ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=317"
  },
  {
    "text": "didCompleteWithAuthorization ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=319"
  },
  {
    "text": "on the ASAuthorizationController delegate. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=321"
  },
  {
    "text": "If the user chose a Sign in with Apple account, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=324"
  },
  {
    "text": "you continue with the appleIDCredential. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=327"
  },
  {
    "text": "If the user chose a password-based account, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=329"
  },
  {
    "text": "you sign in with the passwordCredential returned. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=332"
  },
  {
    "text": "If the user has no existing credential, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=335"
  },
  {
    "text": "the API will not present the user ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=337"
  },
  {
    "text": "to create a Sign in with Apple account. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=339"
  },
  {
    "text": "Instead, the system will call didCompleteWithError. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=342"
  },
  {
    "text": "You should fall back to showing standard login flows in such scenarios.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=346"
  },
  {
    "text": "By the way, the same Authentication Services API ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=350"
  },
  {
    "text": "also works seamlessly for passkeys. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=354"
  },
  {
    "text": "To learn more about passkeys, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=357"
  },
  {
    "text": "a next-generation authentication technology to replace passwords, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=359"
  },
  {
    "text": "check out the session \"Meet passkeys.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=363"
  },
  {
    "text": "With just a few lines of code, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=365"
  },
  {
    "text": "you can take full advantage ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=367"
  },
  {
    "text": "of the sign-in experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=369"
  },
  {
    "text": "You can now help your users select the right account, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=371"
  },
  {
    "text": "and hopefully, this prevents duplicate accounts ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=373"
  },
  {
    "text": "from being created in your system.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=376"
  },
  {
    "text": "Next, I'd like to take you on a deep dive on Apple ID credential.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=379"
  },
  {
    "text": "As you know, the response you get after a successful authorization ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=384"
  },
  {
    "text": "using Sign in with Apple ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=388"
  },
  {
    "text": "is an ASAuthorizationAppleIDCredential object. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=389"
  },
  {
    "text": "It contains values like user, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=394"
  },
  {
    "text": "fullName, email, realUserStatus, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=396"
  },
  {
    "text": "identityToken, and authorizationCode.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=399"
  },
  {
    "text": "I'll cover each of them briefly. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=403"
  },
  {
    "text": "User is a unique and stable identifier. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=405"
  },
  {
    "text": "It is the same identifier across all the apps ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=409"
  },
  {
    "text": "in your developer team.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=411"
  },
  {
    "text": "Use this to uniquely identify users in your system. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=414"
  },
  {
    "text": "You should ask for fullName only if you need it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=418"
  },
  {
    "text": "If requested, your users can share any name they want. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=421"
  },
  {
    "text": "If you want to communicate with your users, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=425"
  },
  {
    "text": "you should ask for the email. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=427"
  },
  {
    "text": "When requested, your users have two options ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=429"
  },
  {
    "text": "to share their email address. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=432"
  },
  {
    "text": "One option is to share the email associated with their Apple ID. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=434"
  },
  {
    "text": "The other option is to use the \"hide my email\" feature. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=439"
  },
  {
    "text": "This creates a hidden email address that routes to their inbox.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=443"
  },
  {
    "text": "It is a two-way relay, so it can handle replies, too.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=447"
  },
  {
    "text": "Regardless of which option is chosen, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=451"
  },
  {
    "text": "the email address has been previously verified by Apple, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=454"
  },
  {
    "text": "and it is ready to use. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=456"
  },
  {
    "text": "Also, not all accounts have an associated email, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=458"
  },
  {
    "text": "so be prepared to handle scenarios ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=462"
  },
  {
    "text": "where there is no value for email, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=464"
  },
  {
    "text": "even if you requested it.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=466"
  },
  {
    "text": "RealUserStatus is a high-confidence indicator ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=468"
  },
  {
    "text": "on how likely the user is real. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=471"
  },
  {
    "text": "It is calculated using on-device machine learning, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=473"
  },
  {
    "text": "account history, and hardware attestation ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=476"
  },
  {
    "text": "whilst preserving the user's privacy. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=479"
  },
  {
    "text": "There's three types for realUserStatus. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=481"
  },
  {
    "text": "\"Likely real\" means the user appears to be a real person. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=484"
  },
  {
    "text": "Provide this user with the best experience, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=488"
  },
  {
    "text": "such as skipping additional fraud verification checks ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=490"
  },
  {
    "text": "like CAPTCHAs. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=493"
  },
  {
    "text": "\"Unknown\" is when the system hasn't determined ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=495"
  },
  {
    "text": "whether the user is a real person. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=498"
  },
  {
    "text": "Trust this user as you would for any account with limited information ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=500"
  },
  {
    "text": "that requires additional verification steps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=504"
  },
  {
    "text": "The user could still be real, so do not block them ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=507"
  },
  {
    "text": "from using your app.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=509"
  },
  {
    "text": "And finally, \"unsupported\" means the system is not capable ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=511"
  },
  {
    "text": "of this determination.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=515"
  },
  {
    "text": "I should take a moment to call out that the properties ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=517"
  },
  {
    "text": "like fullName, email, and realUserStatus ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=519"
  },
  {
    "text": "are only returned when an account is created for the very first time.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=523"
  },
  {
    "text": "They're not returned upon subsequent sign-ins, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=527"
  },
  {
    "text": "so make sure to securely cache properties like fullName and email ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=530"
  },
  {
    "text": "until you can verify that an account has been created in your system.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=534"
  },
  {
    "text": "The identityToken is a JSON web token ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=539"
  },
  {
    "text": "that contains most of the data ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=542"
  },
  {
    "text": "that the app server needs, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=543"
  },
  {
    "text": "including the user information. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=545"
  },
  {
    "text": "This is an industry-standard approach to authentication.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=547"
  },
  {
    "text": "The JSON web token, or JWT, consists of three parts: ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=551"
  },
  {
    "text": "a base-64 URL encoded header, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=555"
  },
  {
    "text": "a base-64 URL encoded payload, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=559"
  },
  {
    "text": "and a signature signed by Apple.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=563"
  },
  {
    "text": "You should verify the signature with Apple's public key ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=566"
  },
  {
    "text": "to ensure that the response has not been tampered with ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=568"
  },
  {
    "text": "and is indeed from Apple ID servers. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=571"
  },
  {
    "text": "It is also equally important ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=575"
  },
  {
    "text": "that your app server checks the validity of the token. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=576"
  },
  {
    "text": "Once you decode the payload, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=580"
  },
  {
    "text": "you should verify the issuer is appleid.apple.com, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=581"
  },
  {
    "text": "verify the audience field is your app's bundle identifier, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=586"
  },
  {
    "text": "then make sure the expiry timestamp is greater than the current time ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=591"
  },
  {
    "text": "so that you know the token is valid. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=595"
  },
  {
    "text": "Subject will be your user identifier. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=598"
  },
  {
    "text": "If you requested for the user's email address, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=601"
  },
  {
    "text": "it will also be included. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=604"
  },
  {
    "text": "You can also find the realUserStatus. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=606"
  },
  {
    "text": "The value will be 0 for \"unsupported,\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=609"
  },
  {
    "text": "1 for \"unknown,\" 2 for \"likely real.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=611"
  },
  {
    "text": "And finally, verify that the nonce is the same ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=615"
  },
  {
    "text": "as the one generated prior to the creation of the authorization request.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=617"
  },
  {
    "text": "For more information on nonce ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=622"
  },
  {
    "text": "and how to secure your authorization process ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=624"
  },
  {
    "text": "to mitigate replay attacks, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=626"
  },
  {
    "text": "check out the session \"Get the most out of Sign in with Apple.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=628"
  },
  {
    "text": "AuthorizationCode is a short-lived, single-use token ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=632"
  },
  {
    "text": "that you can provide Apple ID servers ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=636"
  },
  {
    "text": "in exchange for refresh tokens.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=638"
  },
  {
    "text": "If your systems already use open standards ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=640"
  },
  {
    "text": "like OAuth 2.0, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=643"
  },
  {
    "text": "this might be familiar for you.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=644"
  },
  {
    "text": "To generate a refresh token, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=646"
  },
  {
    "text": "you should send a post request to the auth/token endpoint.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=648"
  },
  {
    "text": "You pass on the client ID and the client secret ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=653"
  },
  {
    "text": "along with the authorization code that you just received. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=656"
  },
  {
    "text": "A detailed description on how to create the client secret ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=659"
  },
  {
    "text": "is available in the Apple Developer documentation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=662"
  },
  {
    "text": "In the response, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=665"
  },
  {
    "text": "you will get a refresh token, an access token, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=666"
  },
  {
    "text": "and a new identity token ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=669"
  },
  {
    "text": "similar to the one you received earlier. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=671"
  },
  {
    "text": "If you have an expired access token, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=674"
  },
  {
    "text": "you can use the refresh token ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=676"
  },
  {
    "text": "to obtain a new access token ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=678"
  },
  {
    "text": "using the same endpoint. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=679"
  },
  {
    "text": "You can also continue to use the same refresh token ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=682"
  },
  {
    "text": "until it gets invalidated. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=684"
  },
  {
    "text": "The refresh token could get invalidated ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=687"
  },
  {
    "text": "if the token verification fails ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=689"
  },
  {
    "text": "or if there are changes around your user's session.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=691"
  },
  {
    "text": "Speaking of user session, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=695"
  },
  {
    "text": "next, I’ll talk about handling and monitoring changes ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=697"
  },
  {
    "text": "around the credential state.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=700"
  },
  {
    "text": "After verifying the identity token, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=702"
  },
  {
    "text": "your app is responsible for managing the user session.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=705"
  },
  {
    "text": "There are various scenarios that can trigger user session changes. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=708"
  },
  {
    "text": "For example, a user could stop using Apple ID with your app from Settings, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=712"
  },
  {
    "text": "or they could have been signed out of the device.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=717"
  },
  {
    "text": "To handle session changes gracefully, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=721"
  },
  {
    "text": "call the getCredentialState(forUserID:) ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=723"
  },
  {
    "text": "on the ASAuthorizationAppleIDProvider. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=726"
  },
  {
    "text": "This API is recommended to be called ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=730"
  },
  {
    "text": "as soon as your app launches ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=732"
  },
  {
    "text": "or at any point where you wish to check the state. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=734"
  },
  {
    "text": "You should also observe for credentialRevokedNotification ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=738"
  },
  {
    "text": "so that your app is notified when the credential is revoked. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=741"
  },
  {
    "text": "If you observe any change in the state, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=745"
  },
  {
    "text": "you should assume that a different user has signed in ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=747"
  },
  {
    "text": "and sign the current user out of the app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=750"
  },
  {
    "text": "If you have an app server, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=752"
  },
  {
    "text": "you should subscribe to server-to-server notifications. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=754"
  },
  {
    "text": "Your server will receive important updates ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=757"
  },
  {
    "text": "about your users and their accounts. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=759"
  },
  {
    "text": "Notifications are sent to each group of apps ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=762"
  },
  {
    "text": "for the following scenarios: ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=765"
  },
  {
    "text": "when the user disables or enables their mail forwarding preference; ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=767"
  },
  {
    "text": "when the user stops using their Apple ID with your app; ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=771"
  },
  {
    "text": "or when the user permanently deletes their Apple ID.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=775"
  },
  {
    "text": "To start receiving notifications, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=779"
  },
  {
    "text": "you should first register an endpoint URL ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=781"
  },
  {
    "text": "in the Apple Developer portal. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=783"
  },
  {
    "text": "All events arrive at the same endpoint URL.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=786"
  },
  {
    "text": "The events are sent as JSON web tokens signed by Apple. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=789"
  },
  {
    "text": "If mail forwarding is disabled, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=794"
  },
  {
    "text": "in the payload of the JWT, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=796"
  },
  {
    "text": "you will receive an email-disabled event.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=798"
  },
  {
    "text": "When the user stops using their Apple ID with your app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=803"
  },
  {
    "text": "you will get a consent-revoked event.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=806"
  },
  {
    "text": "It is important to invalidate any active user session ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=809"
  },
  {
    "text": "when you get this event.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=812"
  },
  {
    "text": "And if the user deletes their Apple ID, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=814"
  },
  {
    "text": "you will get an account-delete event. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=816"
  },
  {
    "text": "Again, be sure to invalidate any active user session ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=819"
  },
  {
    "text": "and update their accounts according to your process.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=823"
  },
  {
    "text": "Now I'd like to focus on account deletion. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=826"
  },
  {
    "text": "Accounts are part of our identities, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=829"
  },
  {
    "text": "and we use them to manage some of our most personal and private data. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=832"
  },
  {
    "text": "Someone might want to delete their account, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=835"
  },
  {
    "text": "and you need to support this in your app.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=838"
  },
  {
    "text": "You should provide a way to initiate account deletion ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=841"
  },
  {
    "text": "from your app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=843"
  },
  {
    "text": "and it is your responsibility ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=844"
  },
  {
    "text": "to manage the entire deletion process.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=846"
  },
  {
    "text": "If you have an app server ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=849"
  },
  {
    "text": "that stores user information, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=851"
  },
  {
    "text": "typically, the app notifies the server ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=853"
  },
  {
    "text": "to delete user accounts. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=855"
  },
  {
    "text": "Now, you can include Sign in with Apple as ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=857"
  },
  {
    "text": "part of your deletion process. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=859"
  },
  {
    "text": "This is done using a new REST endpoint ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=862"
  },
  {
    "text": "that your server can use ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=864"
  },
  {
    "text": "to delete an account associated with your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=866"
  },
  {
    "text": "Let me briefly take you through this API.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=869"
  },
  {
    "text": "In order to delete an account, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=872"
  },
  {
    "text": "you must have either a valid refresh token ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=874"
  },
  {
    "text": "or a valid access token for the user. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=877"
  },
  {
    "text": "If you don't have either of the tokens, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=880"
  },
  {
    "text": "you can generate using the auth/token endpoint. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=882"
  },
  {
    "text": "Once you have either of the tokens, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=886"
  },
  {
    "text": "you can use the auth/revoke endpoint ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=888"
  },
  {
    "text": "with the required parameters. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=890"
  },
  {
    "text": "When using the refresh token, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=893"
  },
  {
    "text": "set the token type to REFRESH_TOKEN.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=894"
  },
  {
    "text": "If you want to delete using the access token, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=898"
  },
  {
    "text": "set the token type to ACCESS_TOKEN.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=901"
  },
  {
    "text": "If you get a successful response, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=904"
  },
  {
    "text": "the tokens and the user's active sessions ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=906"
  },
  {
    "text": "will be instantly invalidated.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=909"
  },
  {
    "text": "Once deleted, the user returning to your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=912"
  },
  {
    "text": "and using Sign in with Apple ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=915"
  },
  {
    "text": "will have an experience similar ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=916"
  },
  {
    "text": "to when they first created the account with the app.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=918"
  },
  {
    "text": "With that, I will sign out ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=921"
  },
  {
    "text": "and pass it on to my colleague Patrick ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=923"
  },
  {
    "text": "to discuss how you can use Sign in with Apple ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=925"
  },
  {
    "text": "on the web and other platforms.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=927"
  },
  {
    "text": "Patrick: Thank you, Ram! ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=930"
  },
  {
    "text": "People love how Sign in with Apple works seamlessly ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=931"
  },
  {
    "text": "across all of Apple's platforms. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=934"
  },
  {
    "text": "But it doesn’t stop there. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=937"
  },
  {
    "text": "Sign in with Apple also works seamlessly on the web and other platforms. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=938"
  },
  {
    "text": "Let’s discuss how you can enhance your Sign in with Apple experience ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=943"
  },
  {
    "text": "to support the web and other platforms.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=947"
  },
  {
    "text": "We have an existing iOS app that Ram introduced to you earlier, called Juice. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=950"
  },
  {
    "text": "We’d like to bring Juice to even more users ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=955"
  },
  {
    "text": "by expanding to the web. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=958"
  },
  {
    "text": "Let’s begin by discussing how to group ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=960"
  },
  {
    "text": "our similar apps together.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=963"
  },
  {
    "text": "It is recommended that you group related apps together ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=965"
  },
  {
    "text": "to streamline the user experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=968"
  },
  {
    "text": "By grouping related apps together, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=971"
  },
  {
    "text": "your users only need to provide their consent once ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=973"
  },
  {
    "text": "to share their information with your app.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=975"
  },
  {
    "text": "For example, your app may be available on iOS and macOS ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=978"
  },
  {
    "text": "but use different bundle identifiers for each platform.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=982"
  },
  {
    "text": "It’s recommended that you group these apps together.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=986"
  },
  {
    "text": "When using Sign in with Apple, your users ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=989"
  },
  {
    "text": "will see the App Icon for the app you set ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=991"
  },
  {
    "text": "as the primary app.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=993"
  },
  {
    "text": "Let’s discover how you can configure a Services ID ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=995"
  },
  {
    "text": "to support Sign in with Apple on your website.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=998"
  },
  {
    "text": "To begin, log into the Apple Developer Portal ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1002"
  },
  {
    "text": "and navigate to \"Certificates, Identifiers & Profiles.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1005"
  },
  {
    "text": "Select the radio button next to Services IDs ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1011"
  },
  {
    "text": "and then click \"Continue.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1013"
  },
  {
    "text": "Enter a description for your Service.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1016"
  },
  {
    "text": "Enter a unique identifier for your Service ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1019"
  },
  {
    "text": "and click Continue.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1022"
  },
  {
    "text": "Click on the checkbox next to Sign in with Apple ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1024"
  },
  {
    "text": "and then click the Configure button.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1027"
  },
  {
    "text": "On the Web Authentication Configuration screen, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1030"
  },
  {
    "text": "select a Primary App ID from the drop-down menu.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1033"
  },
  {
    "text": "Next, input the domains and subdomains ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1037"
  },
  {
    "text": "your website will use to support Sign in with Apple. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1040"
  },
  {
    "text": "Last, enter a redirect URL for Apple ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1044"
  },
  {
    "text": "to redirect your user back to your app or website ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1047"
  },
  {
    "text": "after a successful authorization. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1050"
  },
  {
    "text": "That’s it! ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1052"
  },
  {
    "text": "You’ve configured a Services ID ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1053"
  },
  {
    "text": "to support Sign in with Apple on your website.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1055"
  },
  {
    "text": "You’ll need a button to show users ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1058"
  },
  {
    "text": "your website supports Sign in with Apple.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1060"
  },
  {
    "text": "Apple provides a highly configurable button API ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1063"
  },
  {
    "text": "to generate Sign in with Apple button images.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1066"
  },
  {
    "text": "Use this to customize and embed your button of choice ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1070"
  },
  {
    "text": "in your app or website. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1073"
  },
  {
    "text": "Sign in with Apple JS is a simple Javascript framework ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1076"
  },
  {
    "text": "that makes integrating Sign in with Apple even easier on the web.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1079"
  },
  {
    "text": "In your application or website, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1084"
  },
  {
    "text": "start by including the Sign in with Apple ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1086"
  },
  {
    "text": "JavaScript framework. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1088"
  },
  {
    "text": "This simple API will allow you to authenticate your users ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1090"
  },
  {
    "text": "and obtain different assets, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1093"
  },
  {
    "text": "like the Sign in with Apple button ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1096"
  },
  {
    "text": "that you can create with just one simple DIV. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1098"
  },
  {
    "text": "You can also customize the button to fit your app or website ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1101"
  },
  {
    "text": "by modifying the properties of the button.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1105"
  },
  {
    "text": "For example, with the current properties, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1108"
  },
  {
    "text": "you’ll get a white \"Sign in with Apple\" button ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1111"
  },
  {
    "text": "with a border and a default corner radius.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1113"
  },
  {
    "text": "By changing the data-color property, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1117"
  },
  {
    "text": "we can choose a different background color for the button.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1119"
  },
  {
    "text": "If we change the data type to \"continue\", ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1122"
  },
  {
    "text": "the button text will update to show ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1125"
  },
  {
    "text": "\"Continue with Apple.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1127"
  },
  {
    "text": "Alternatively, you can create a logo-only button ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1129"
  },
  {
    "text": "by setting the data mode property to logo-only.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1132"
  },
  {
    "text": "The Sign in with Apple Javascript Button API ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1136"
  },
  {
    "text": "provides even more customizable properties. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1139"
  },
  {
    "text": "You can refer to the Sign in with Apple button resource ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1142"
  },
  {
    "text": "to easily configure these many options.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1145"
  },
  {
    "text": "If you’d prefer to use a REST API ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1148"
  },
  {
    "text": "to generate your Sign in with Apple button, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1150"
  },
  {
    "text": "you can use one of the Apple ID button endpoints ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1152"
  },
  {
    "text": "to generate a button. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1154"
  },
  {
    "text": "There are separate endpoints for center-aligned, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1156"
  },
  {
    "text": "left-aligned, and logo buttons.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1159"
  },
  {
    "text": "You can customize the button by using query parameters. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1162"
  },
  {
    "text": "In this example request, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1165"
  },
  {
    "text": "I customize a white Sign in with Apple button ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1167"
  },
  {
    "text": "with a border. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1169"
  },
  {
    "text": "I receive a response with the customized button as a PNG image. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1170"
  },
  {
    "text": "Now that you have personalized your Sign in with Apple button, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1174"
  },
  {
    "text": "it's time to authenticate your user.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1178"
  },
  {
    "text": "You’ll need to send an authorization request ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1181"
  },
  {
    "text": "with the required parameters to Apple. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1183"
  },
  {
    "text": "These are the parameters you need ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1186"
  },
  {
    "text": "in order to successfully log in a user.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1188"
  },
  {
    "text": "Since you have already implemented Sign in with Apple on an Apple platform, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1192"
  },
  {
    "text": "these parameters are very familiar.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1195"
  },
  {
    "text": "First, we’ll need to set the “clientID”. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1199"
  },
  {
    "text": "This will be the Services ID ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1201"
  },
  {
    "text": "that you created on the Apple Developer Portal ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1203"
  },
  {
    "text": "for your app or website.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1205"
  },
  {
    "text": "Next, if your app or website requires email or name, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1208"
  },
  {
    "text": "fill in the \"scope\" parameter. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1212"
  },
  {
    "text": "If you are requesting multiple scopes, use a space to separate each scope.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1213"
  },
  {
    "text": "It is important that you only request the data you need.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1219"
  },
  {
    "text": "The “redirectURI” parameter is where you will add ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1223"
  },
  {
    "text": "the URL you registered previously ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1226"
  },
  {
    "text": "on the Apple Developer Portal ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1228"
  },
  {
    "text": "and informs Apple where to direct the user to on your website.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1230"
  },
  {
    "text": "You can also add a “state” and “nonce” to secure your request.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1235"
  },
  {
    "text": "And finally, with the \"usePopup\" parameter, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1240"
  },
  {
    "text": "you can choose to display the login screen ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1242"
  },
  {
    "text": "in a separate pop-up window ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1244"
  },
  {
    "text": "or have the existing window ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1246"
  },
  {
    "text": "redirect to the Apple Sign in website.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1248"
  },
  {
    "text": "If someone is using Safari, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1251"
  },
  {
    "text": "they’ll see a native screen like this one providing them ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1253"
  },
  {
    "text": "a first-class experience to sign into your website.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1255"
  },
  {
    "text": "After the Apple ID server processes the authorization request, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1259"
  },
  {
    "text": "you’ll receive a DOM event ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1263"
  },
  {
    "text": "containing the results of the authorization.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1264"
  },
  {
    "text": "To handle a success response, add an event listener ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1268"
  },
  {
    "text": "for \"AppleIDSignInOnSuccess.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1271"
  },
  {
    "text": "To handle a failure response, add an event listener ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1276"
  },
  {
    "text": "for \"AppleIDSignInOnFailure.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1279"
  },
  {
    "text": "If the authorization was a success, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1283"
  },
  {
    "text": "you’ll receive a response that contains the authorization code, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1285"
  },
  {
    "text": "the identity token, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1289"
  },
  {
    "text": "and the user information if requested. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1290"
  },
  {
    "text": "This is similar to the response you are already used to ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1293"
  },
  {
    "text": "on Apple platforms. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1296"
  },
  {
    "text": "If you’d prefer to use a REST API to integrate directly ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1297"
  },
  {
    "text": "with Apple ID servers, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1300"
  },
  {
    "text": "direct the authorization request to the authorize endpoint ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1302"
  },
  {
    "text": "with the required parameters. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1305"
  },
  {
    "text": "If the authorization is successful, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1307"
  },
  {
    "text": "you’ll get a response that contains the authorization code, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1309"
  },
  {
    "text": "the identity token, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1312"
  },
  {
    "text": "and the user information. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1314"
  },
  {
    "text": "This is very similar ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1316"
  },
  {
    "text": "to the response you're already used to on Apple platforms. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1317"
  },
  {
    "text": "That’s it! ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1320"
  },
  {
    "text": "You’ve successfully adopted Sign in with Apple on your website! ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1321"
  },
  {
    "text": "To wrap up, I’d like to highlight some important things to keep in mind ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1325"
  },
  {
    "text": "while implementing Sign in with Apple.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1329"
  },
  {
    "text": "Unless your app requires significant account-based features, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1332"
  },
  {
    "text": "let people use your app without a login. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1336"
  },
  {
    "text": "For example, you may allow a user ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1339"
  },
  {
    "text": "to purchase an item using Apple Pay ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1341"
  },
  {
    "text": "and then optionally offer them to tie their purchase to an account ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1343"
  },
  {
    "text": "after the purchase is complete.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1346"
  },
  {
    "text": "Offer existing users the ability to upgrade the security of their account ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1349"
  },
  {
    "text": "by switching away from username and password authentication ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1353"
  },
  {
    "text": "to Sign in with Apple.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1357"
  },
  {
    "text": "If you just need a unique identifier to identify the user, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1359"
  },
  {
    "text": "don't collect name or email.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1362"
  },
  {
    "text": "And if you do collect email through Sign In with Apple, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1364"
  },
  {
    "text": "make sure that you respect the user's choice.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1367"
  },
  {
    "text": "You should not prompt for an additional email.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1370"
  },
  {
    "text": "It’s important to implement Sign in with Apple ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1374"
  },
  {
    "text": "across all of the platforms your app or website is available.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1376"
  },
  {
    "text": "Your users may use multiple platforms, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1380"
  },
  {
    "text": "and they will expect to use Sign in with Apple everywhere.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1382"
  },
  {
    "text": "We’re really excited to see what you do with Sign in with Apple in your apps, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1386"
  },
  {
    "text": "and we look forward to your feedback. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1389"
  },
  {
    "text": "Thank you for watching, and enjoy the rest of WWDC! ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1391"
  },
  {
    "text": "",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10122/?time=1394"
  }
]