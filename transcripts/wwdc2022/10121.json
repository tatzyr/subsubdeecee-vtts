[
  {
    "text": "♪ Mellow instrumental hip-hop music ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=0"
  },
  {
    "text": "♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=3"
  },
  {
    "text": "Hello, I am Teja, an engineer on the iOS System Experience team, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=9"
  },
  {
    "text": "and in this session, you'll get to meet Focus filters. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=14"
  },
  {
    "text": "Focus was introduced in iOS 15, macOS Monterey and watchOS 8. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=18"
  },
  {
    "text": "It is a way for people to concentrate on what's important ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=24"
  },
  {
    "text": "by configuring system behavior for a period of time. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=27"
  },
  {
    "text": "Focus is enabled by simply going into Control Center ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=31"
  },
  {
    "text": "and selecting from either a system Focus or a custom Focus. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=34"
  },
  {
    "text": "During the time that a Focus is enabled, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=39"
  },
  {
    "text": "notification behavior can be customized. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=42"
  },
  {
    "text": "For example, during Work Focus, someone may want ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=45"
  },
  {
    "text": "to only allow notifications from their coworkers ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=48"
  },
  {
    "text": "or only allow notifications for a select few apps ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=51"
  },
  {
    "text": "that are relevant to work. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=55"
  },
  {
    "text": "For each Focus, system behavior can be configured ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=57"
  },
  {
    "text": "and scheduled in Settings. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=61"
  },
  {
    "text": "iOS 16 and macOS Ventura enhance the Focus feature ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=64"
  },
  {
    "text": "with Focus filters. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=68"
  },
  {
    "text": "I'll start by introducing you to Focus filters ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=70"
  },
  {
    "text": "and how they behave. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=73"
  },
  {
    "text": "Then, I'll go over how to define a Focus filter in your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=75"
  },
  {
    "text": "After that, I'll cover what it means to act on a Focus filter. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=80"
  },
  {
    "text": "And finally, I'll cover how your app can provide ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=85"
  },
  {
    "text": "additional context back to the system. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=88"
  },
  {
    "text": "Focus filters are a way for someone ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=91"
  },
  {
    "text": "to customize app behavior based on the currently enabled Focus. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=94"
  },
  {
    "text": "There are some great examples of system apps ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=99"
  },
  {
    "text": "that have adopted Focus filters. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=101"
  },
  {
    "text": "The Calendar app allows people ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=104"
  },
  {
    "text": "to filter which calendars should be visible by default ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=106"
  },
  {
    "text": "when a Focus is enabled. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=110"
  },
  {
    "text": "This is what my calendar normally looks like. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=113"
  },
  {
    "text": "And as you can see, I have a mix ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=115"
  },
  {
    "text": "of work and personal calendar events. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=117"
  },
  {
    "text": "I can configure a Focus filter for Calendar, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=121"
  },
  {
    "text": "during the Personal Focus, to only show my personal calendar. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=124"
  },
  {
    "text": "After setting up the Focus filter, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=128"
  },
  {
    "text": "this is what my calendar looks like. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=130"
  },
  {
    "text": "Calendar has indicated that this is filtered by Focus ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=133"
  },
  {
    "text": "and provided a way to toggle the filtering. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=136"
  },
  {
    "text": "Now I won't be overwhelmed with my work calendar ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=139"
  },
  {
    "text": "when trying to enjoy some personal time. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=142"
  },
  {
    "text": "The Mail app's inbox can be filtered ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=146"
  },
  {
    "text": "to show only relevant mailboxes during a Focus. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=148"
  },
  {
    "text": "Mail notifications are also filtered ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=152"
  },
  {
    "text": "to show only the relevant notifications prominently. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=155"
  },
  {
    "text": "This means that I can set up Mail ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=160"
  },
  {
    "text": "to only deliver work-related Mail notifications ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=162"
  },
  {
    "text": "during the Work Focus and prevent ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=165"
  },
  {
    "text": "personal mail notifications from interrupting me. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=168"
  },
  {
    "text": "There are many reasons ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=172"
  },
  {
    "text": "why your app may want to implement Focus filters. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=173"
  },
  {
    "text": "Perhaps your app manages multiple accounts, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=176"
  },
  {
    "text": "and it's appropriate to associate a Focus ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=179"
  },
  {
    "text": "with a particular account. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=181"
  },
  {
    "text": "Apps with large amount of data may need to filter content ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=184"
  },
  {
    "text": "for the Focus. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=187"
  },
  {
    "text": "If you would like to help your users ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=189"
  },
  {
    "text": "avoid getting distracted while focused, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=191"
  },
  {
    "text": "you can do this by reducing badge counts, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=193"
  },
  {
    "text": "in-app alerts, and notifications ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=196"
  },
  {
    "text": "to what is salient for the enabled Focus. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=198"
  },
  {
    "text": "Regarding appearance, your app may want to surface a theme ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=203"
  },
  {
    "text": "or a layout based on the enabled Focus. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=206"
  },
  {
    "text": "Fundamentally, if your app can surface different content ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=210"
  },
  {
    "text": "based on context, you may be able to employ Focus filters ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=214"
  },
  {
    "text": "to enhance user experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=218"
  },
  {
    "text": "Let me explain how Focus filters work. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=221"
  },
  {
    "text": "Your app defines what can be customized by a user per Focus, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=224"
  },
  {
    "text": "and this is done using an AppIntent. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=229"
  },
  {
    "text": "The system will expose what can be configured per Focus. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=232"
  },
  {
    "text": "UI to configure properties defined by your AppIntent ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=237"
  },
  {
    "text": "will be exposed in Focus settings as a Focus filter. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=240"
  },
  {
    "text": "Users can configure your app to behave a certain way ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=245"
  },
  {
    "text": "by navigating to Focus settings and configuring Focus filters ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=249"
  },
  {
    "text": "for your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=253"
  },
  {
    "text": "Now, I'm going to go over how you can incorporate ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=255"
  },
  {
    "text": "Focus filters into your codebase. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=257"
  },
  {
    "text": "There are a few parts to defining your Focus filter. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=261"
  },
  {
    "text": "The first is implementing SetFocusFilterIntent. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=264"
  },
  {
    "text": "This indicates to the system that your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=268"
  },
  {
    "text": "is interested in having custom settings per Focus. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=270"
  },
  {
    "text": "The second step is defining your app's parameters. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=275"
  },
  {
    "text": "These will represent what can be configured within your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=278"
  },
  {
    "text": "by the user. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=282"
  },
  {
    "text": "The final step is to set the display representation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=284"
  },
  {
    "text": "so your Focus filter appears in system settings ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=287"
  },
  {
    "text": "with the correct content. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=290"
  },
  {
    "text": "This way, users are aware of what is configured. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=292"
  },
  {
    "text": "I'll dive into some code. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=297"
  },
  {
    "text": "The first thing you need to do is import AppIntents ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=299"
  },
  {
    "text": "and define a struct that implements SetFocusFilterIntent. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=302"
  },
  {
    "text": "This is your Focus filter. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=307"
  },
  {
    "text": "Setting the title and description ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=310"
  },
  {
    "text": "will help users discover what your Focus is all about. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=312"
  },
  {
    "text": "Focus filters appear in a grid view in Settings. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=317"
  },
  {
    "text": "Before your Focus filter has been configured, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=322"
  },
  {
    "text": "it will be surfaced to the user with this look. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=324"
  },
  {
    "text": "The icon here is your app's icon, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=328"
  },
  {
    "text": "the primary text is your app's name, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=331"
  },
  {
    "text": "and the secondary text will match the title variable ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=334"
  },
  {
    "text": "that you set in your Focus filter. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=337"
  },
  {
    "text": "When the user taps in to configure your filter, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=340"
  },
  {
    "text": "the same content is displayed. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=344"
  },
  {
    "text": "This time, the system also includes the description string ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=346"
  },
  {
    "text": "that you've provided, for additional context. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=350"
  },
  {
    "text": "Both the title and description strings are static, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=354"
  },
  {
    "text": "and they are read by the system ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=357"
  },
  {
    "text": "at the time that your app is installed. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=359"
  },
  {
    "text": "When defining your Focus filter, you'll have to specify ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=362"
  },
  {
    "text": "what a person can customize by providing a series ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=365"
  },
  {
    "text": "of properties that are decorated as parameters. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=368"
  },
  {
    "text": "When specifying a parameter, you must give it a name ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=373"
  },
  {
    "text": "and a data type. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=376"
  },
  {
    "text": "Parameters can be of a standard data type ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=377"
  },
  {
    "text": "such as Bool, string, float, etcetera. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=379"
  },
  {
    "text": "If you have a custom data type that you would like ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=383"
  },
  {
    "text": "to have configured, you can make it an entity, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=385"
  },
  {
    "text": "which will allow you to decorate it as a parameter. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=388"
  },
  {
    "text": "To learn more about entities and App Intents, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=392"
  },
  {
    "text": "watch the \"Dive into App Intents\" session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=395"
  },
  {
    "text": "When defining your Focus filter, you will only specify ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=398"
  },
  {
    "text": "the data type and name for each parameter. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=401"
  },
  {
    "text": "It is up to users to configure the value of the parameter ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=404"
  },
  {
    "text": "that would apply during each Focus. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=408"
  },
  {
    "text": "Parameters can be marked as optional, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=412"
  },
  {
    "text": "which means that they do not have to be configured. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=414"
  },
  {
    "text": "Parameters that are not optional should provide default values. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=417"
  },
  {
    "text": "In code, you specify a parameter -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=423"
  },
  {
    "text": "or an optional parameter -- by defining a variable ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=426"
  },
  {
    "text": "of the type you want in your Focus filter ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=429"
  },
  {
    "text": "and decorating it as a parameter. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=432"
  },
  {
    "text": "Here, I've created a required Bool parameter that represents ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=435"
  },
  {
    "text": "whether my Focus filter should always use Dark Mode. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=439"
  },
  {
    "text": "I've set its default to false. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=443"
  },
  {
    "text": "I've also created an optional string parameter ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=445"
  },
  {
    "text": "that represents a user's status message during this Focus. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=449"
  },
  {
    "text": "Lastly, I've included an optional account parameter ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=453"
  },
  {
    "text": "that is an entity defined by my app; ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=457"
  },
  {
    "text": "it contains information about a particular account. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=460"
  },
  {
    "text": "The title, which is set on all three of these parameters, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=464"
  },
  {
    "text": "is displayed in Settings to describe the parameter ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=468"
  },
  {
    "text": "to the user. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=471"
  },
  {
    "text": "In Focus settings, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=474"
  },
  {
    "text": "once a user configures your app's Focus filter, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=475"
  },
  {
    "text": "it'll be presented in a similar grid ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=478"
  },
  {
    "text": "to what I showed earlier. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=480"
  },
  {
    "text": "But this time, because the filter ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=482"
  },
  {
    "text": "has already been configured, the content is dynamic ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=484"
  },
  {
    "text": "in order to reflect what has been configured. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=487"
  },
  {
    "text": "The icon here is still your app's icon. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=491"
  },
  {
    "text": "The primary text and the secondary text ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=494"
  },
  {
    "text": "can be customized using the display representation property ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=497"
  },
  {
    "text": "on your FocusFilterIntent. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=501"
  },
  {
    "text": "The primary text should represent what parameters ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=504"
  },
  {
    "text": "have been configured, such as Select Account, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=507"
  },
  {
    "text": "Set Status, etcetera. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=511"
  },
  {
    "text": "The secondary text should represent what the parameters ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=514"
  },
  {
    "text": "have been configured to, such as Work Account or Working. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=517"
  },
  {
    "text": "In my code, I set the display representation ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=523"
  },
  {
    "text": "to be generated dynamically. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=526"
  },
  {
    "text": "Since account and status are optional parameters, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=529"
  },
  {
    "text": "they only get included in the dynamic primary ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=533"
  },
  {
    "text": "and secondary texts if they are actually set. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=536"
  },
  {
    "text": "Since alwaysUseDarkMode is a required parameter, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=539"
  },
  {
    "text": "it is always included in the primary and secondary texts. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=543"
  },
  {
    "text": "OK, you have now defined your Focus filter, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=549"
  },
  {
    "text": "so users can go into Focus settings ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=551"
  },
  {
    "text": "and customize certain values for a particular Focus. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=553"
  },
  {
    "text": "But how can your app know what someone has customized? ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=557"
  },
  {
    "text": "And how can your app update itself accordingly? ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=560"
  },
  {
    "text": "It has to act on a change from the system. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=563"
  },
  {
    "text": "When a Focus change occurs and the system has determined ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=566"
  },
  {
    "text": "that it's important for your app to know about this change, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=569"
  },
  {
    "text": "it will deliver this information to you in one of two ways. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=572"
  },
  {
    "text": "If the app is running, you will receive a call ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=576"
  },
  {
    "text": "to the perform method in your FocusFilterIntent, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=579"
  },
  {
    "text": "if you've implemented it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=582"
  },
  {
    "text": "If the app is not running, you can implement an extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=584"
  },
  {
    "text": "that will get spun up. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=587"
  },
  {
    "text": "Again, if you've implemented perform ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=589"
  },
  {
    "text": "in your FocusFilterIntent, that will get called ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=591"
  },
  {
    "text": "in your extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=595"
  },
  {
    "text": "Since perform can get called on either your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=598"
  },
  {
    "text": "or your extension, not every app needs an extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=601"
  },
  {
    "text": "Typically, if your app is only updating its own view ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=606"
  },
  {
    "text": "in response to a Focus transition, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=609"
  },
  {
    "text": "then implementing perform just in the app would suffice. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=612"
  },
  {
    "text": "If your app's widget, notifications or badges ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=618"
  },
  {
    "text": "would need to change based on the Focus transition, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=621"
  },
  {
    "text": "then you may want to consider implementing an extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=624"
  },
  {
    "text": "Basically, if your app would want ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=629"
  },
  {
    "text": "to update anything outside its own views, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=631"
  },
  {
    "text": "you would need to implement the extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=634"
  },
  {
    "text": "For the rest of this session, I may refer to \"your app\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=637"
  },
  {
    "text": "but that can mean either your app or your extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=640"
  },
  {
    "text": "depending on this context. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=644"
  },
  {
    "text": "To respond to a Focus filter, implement the perform function, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=647"
  },
  {
    "text": "access the populated values for parameters ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=652"
  },
  {
    "text": "provided via Settings, and then use these values ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=654"
  },
  {
    "text": "to update your app's views and behavior. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=658"
  },
  {
    "text": "Your implementation of perform is called ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=662"
  },
  {
    "text": "when the system determines that your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=664"
  },
  {
    "text": "needs to respond to a Focus transition. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=666"
  },
  {
    "text": "Perform is also called when the system determines ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=670"
  },
  {
    "text": "that the previously delivered values are no longer relevant. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=673"
  },
  {
    "text": "In this case, your Focus filter parameters ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=678"
  },
  {
    "text": "are configured with the default values. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=681"
  },
  {
    "text": "When perform is called on your app's Focus filter, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=684"
  },
  {
    "text": "the values of all the parameters will be filled out ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=687"
  },
  {
    "text": "to match what was configured in Settings. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=690"
  },
  {
    "text": "The values of the named parameters can be read ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=692"
  },
  {
    "text": "by calling self.\"name of the parameter.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=695"
  },
  {
    "text": "In this example, at the end of perform, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=699"
  },
  {
    "text": "I update my app with the data I received. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=701"
  },
  {
    "text": "Sometimes, you may need to query ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=706"
  },
  {
    "text": "the current Focus filter parameters. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=707"
  },
  {
    "text": "In my case, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=710"
  },
  {
    "text": "since my filter is called ExampleChatAppFocusFilter, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=711"
  },
  {
    "text": "I access ExampleChatAppFocus Filter.current.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=715"
  },
  {
    "text": "Now that your app is able to act on a Focus filter, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=722"
  },
  {
    "text": "the next step is to take the user experience further ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=724"
  },
  {
    "text": "by providing additional context about how your app behavior ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=728"
  },
  {
    "text": "has changed back to the system.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=731"
  },
  {
    "text": "By providing additional context, you can influence ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=736"
  },
  {
    "text": "your app behavior outside your app's views. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=739"
  },
  {
    "text": "Examples of this include notifications filtering ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=742"
  },
  {
    "text": "and setting your app's notification badge count. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=746"
  },
  {
    "text": "One way you can give the system information ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=750"
  },
  {
    "text": "is via the App Context object. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=752"
  },
  {
    "text": "This is an object that can be returned ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=755"
  },
  {
    "text": "as part of the result of the perform function. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=757"
  },
  {
    "text": "Or you can return the App Context at any time ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=761"
  },
  {
    "text": "in your Focus filter and force the system ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=763"
  },
  {
    "text": "to get the updated value by calling invalidate. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=766"
  },
  {
    "text": "When a Focus filter is active, your app may have ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=770"
  },
  {
    "text": "additional context to determine if a particular notification ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=773"
  },
  {
    "text": "should not interrupt the user. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=777"
  },
  {
    "text": "To pass along this information, your app must set ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=780"
  },
  {
    "text": "the filterPredicate property in the AppContext. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=783"
  },
  {
    "text": "This filter predicate works in conjunction ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=788"
  },
  {
    "text": "with a new string property called filterCriteria ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=791"
  },
  {
    "text": "on the UNNotification. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=795"
  },
  {
    "text": "If the filter criteria on the notification does not match ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=797"
  },
  {
    "text": "the filter predicate, the notification is silenced. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=801"
  },
  {
    "text": "To set the filter predicate from your FocusFilterIntent, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=806"
  },
  {
    "text": "include it in your App Context. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=810"
  },
  {
    "text": "Say the device has the Personal Focus enabled ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=812"
  },
  {
    "text": "and the user has set it up so that only the personal account ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=815"
  },
  {
    "text": "is selected; ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=818"
  },
  {
    "text": "in this case, I set up the filter predicate ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=820"
  },
  {
    "text": "to be the personal account's identifier. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=822"
  },
  {
    "text": "If the incoming notification is not from the personal account, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=826"
  },
  {
    "text": "it should not interrupt the user. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=829"
  },
  {
    "text": "Here, when I'm configuring this notification, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=833"
  },
  {
    "text": "I set the filterCriteria to be the work account's identifier. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=836"
  },
  {
    "text": "This is because I know this notification ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=840"
  },
  {
    "text": "is being sent to the work account, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=843"
  },
  {
    "text": "and I expect that this notification would be silenced ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=846"
  },
  {
    "text": "because the account identifier does not match the predicate ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=849"
  },
  {
    "text": "that I had just set, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=853"
  },
  {
    "text": "which only matched with the personal account's identifier. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=854"
  },
  {
    "text": "This example is for a local notification ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=859"
  },
  {
    "text": "but filter criteria can also be set on the JSON payload ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=862"
  },
  {
    "text": "of a remote notification. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=865"
  },
  {
    "text": "Another way to provide the system additional context ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=869"
  },
  {
    "text": "is by updating your app's badge count to reflect ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=872"
  },
  {
    "text": "what is important during the currently-enabled Focus. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=875"
  },
  {
    "text": "This prevents distractions for your users. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=879"
  },
  {
    "text": "There is a new API in UserNotifications ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=882"
  },
  {
    "text": "for this purpose. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=885"
  },
  {
    "text": "On UNUserNotificationCenter, you simply call setBadgeCount ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=887"
  },
  {
    "text": "with an unsigned integer that represents the new badge value. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=892"
  },
  {
    "text": "Now, you know how to provide additional context ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=897"
  },
  {
    "text": "to filter notifications or set the badge count. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=899"
  },
  {
    "text": "Remember, the goal of this feature is to surface ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=902"
  },
  {
    "text": "what is most relevant to a user when they are focused. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=905"
  },
  {
    "text": "Sometimes this requires minimizing unrelated content ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=908"
  },
  {
    "text": "to prevent distraction when a Focus is enabled. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=912"
  },
  {
    "text": "For next steps, I encourage you to start considering ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=916"
  },
  {
    "text": "what parts of your app would benefit from a Focus filter, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=918"
  },
  {
    "text": "determine which properties can be configured, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=922"
  },
  {
    "text": "set up your app and your extension to process this, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=925"
  },
  {
    "text": "and then take it a step further ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=929"
  },
  {
    "text": "by assessing whether to provide additional context. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=930"
  },
  {
    "text": "That's it for Focus filters! ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=934"
  },
  {
    "text": "Thank you for joining in on this session ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=936"
  },
  {
    "text": "and have a great rest of WWDC. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=938"
  },
  {
    "text": "♪",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10121/?time=940"
  }
]