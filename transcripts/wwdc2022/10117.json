[
  {
    "text": "♪ Mellow instrumental hip-hop music ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=0"
  },
  {
    "text": "♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=3"
  },
  {
    "text": "Kevin Ferrell: Hi, my name is Kevin, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=9"
  },
  {
    "text": "and I'm an engineer working on the new PushToTalk framework, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=11"
  },
  {
    "text": "which enables a walkie-talkie system experience ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=14"
  },
  {
    "text": "for apps on iOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=16"
  },
  {
    "text": "Later I'll be joined by my colleague Trevor ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=19"
  },
  {
    "text": "to talk about how you can enhance voice communication ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=21"
  },
  {
    "text": "in your apps with this new framework. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=24"
  },
  {
    "text": "First, I'll introduce the PushToTalk framework ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=27"
  },
  {
    "text": "and explain how it fits into your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=29"
  },
  {
    "text": "Next, we'll go over how to configure your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=32"
  },
  {
    "text": "for PushToTalk. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=34"
  },
  {
    "text": "After that, Trevor will walk through ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=37"
  },
  {
    "text": "how to transmit and receive audio using the framework. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=38"
  },
  {
    "text": "Finally, Trevor will wrap up with best practices ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=43"
  },
  {
    "text": "for enhancing the Push To Talk user experience ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=46"
  },
  {
    "text": "while preserving battery life for your users. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=48"
  },
  {
    "text": "I'll get started by introducing key features ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=52"
  },
  {
    "text": "of the new PushToTalk framework. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=54"
  },
  {
    "text": "The PushToTalk framework enables you to build ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=57"
  },
  {
    "text": "a new class of audio communication app on iOS ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=59"
  },
  {
    "text": "that provides a walkie-talkie style experience for your users. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=63"
  },
  {
    "text": "Push To Talk apps have many uses ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=67"
  },
  {
    "text": "in fields where rapid communication is essential ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=69"
  },
  {
    "text": "such as health care and emergency services. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=72"
  },
  {
    "text": "To provide a great Push To Talk experience, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=75"
  },
  {
    "text": "users need a way to quickly access ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=78"
  },
  {
    "text": "audio transmission features while also being able to see ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=80"
  },
  {
    "text": "who is responding to them. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=83"
  },
  {
    "text": "At the same time, a Push To Talk app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=86"
  },
  {
    "text": "must be power efficient to ensure that users ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=88"
  },
  {
    "text": "can maintain all-day battery life while using the app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=90"
  },
  {
    "text": "The PushToTalk framework provides you with APIs ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=95"
  },
  {
    "text": "to utilize a system UI ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=98"
  },
  {
    "text": "that users can access anywhere on the system ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=99"
  },
  {
    "text": "without having to directly launch your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=102"
  },
  {
    "text": "The system UI allows a user to quickly activate ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=105"
  },
  {
    "text": "an audio transmission, which will launch your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=108"
  },
  {
    "text": "in the background to record and stream audio to your server. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=111"
  },
  {
    "text": "The system provides transparency to users ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=115"
  },
  {
    "text": "by showing who's speaking ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=118"
  },
  {
    "text": "when your app plays audio from your server. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=119"
  },
  {
    "text": "The PushToTalk framework accomplishes this ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=122"
  },
  {
    "text": "by introducing a new push notification type ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=124"
  },
  {
    "text": "that notifies your app when new audio is available for playback. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=127"
  },
  {
    "text": "When your app receives this notification, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=131"
  },
  {
    "text": "it is launched in the background ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=134"
  },
  {
    "text": "so that it can stream and play audio. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=135"
  },
  {
    "text": "The PushToTalk framework is designed to be compatible ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=139"
  },
  {
    "text": "with existing end-to-end communication solutions ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=142"
  },
  {
    "text": "and backend infrastructure. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=145"
  },
  {
    "text": "If you've already implemented ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=147"
  },
  {
    "text": "a Push To Talk workflow in your app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=148"
  },
  {
    "text": "it should be easy for you to integrate ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=150"
  },
  {
    "text": "the PushToTalk framework into your existing code. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=152"
  },
  {
    "text": "The framework allows your app to implement ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=156"
  },
  {
    "text": "its own audio encoding and streaming process ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=158"
  },
  {
    "text": "to transmit audio between users. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=161"
  },
  {
    "text": "This provides flexibility in how audio transmission ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=163"
  },
  {
    "text": "is handled by your app and enables compatibility ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=166"
  },
  {
    "text": "with other platforms. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=169"
  },
  {
    "text": "Finally, many Push To Talk apps ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=171"
  },
  {
    "text": "rely on wireless Bluetooth accessories ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=173"
  },
  {
    "text": "to trigger audio recording and transmission. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=176"
  },
  {
    "text": "Your apps can continue to integrate with these accessories ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=179"
  },
  {
    "text": "using the CoreBluetooth framework ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=182"
  },
  {
    "text": "and can trigger audio recording in PushToTalk. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=184"
  },
  {
    "text": "If you are building your first Push To Talk app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=187"
  },
  {
    "text": "keep these integration considerations in mind ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=190"
  },
  {
    "text": "as you begin architecting your code. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=192"
  },
  {
    "text": "Before we begin walking through the code ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=195"
  },
  {
    "text": "for the new PushToTalk framework, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=197"
  },
  {
    "text": "we want to demonstrate how the Push To Talk experience ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=198"
  },
  {
    "text": "can work in your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=201"
  },
  {
    "text": "Trevor and I have built a demo app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=204"
  },
  {
    "text": "to show how PushToTalk works. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=206"
  },
  {
    "text": "To start, I'll tap the join button ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=208"
  },
  {
    "text": "to connect to a Push To Talk session, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=210"
  },
  {
    "text": "which we call a channel. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=212"
  },
  {
    "text": "Once I'm joined to the channel, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=216"
  },
  {
    "text": "I can transmit and receive audio to other members of the channel. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=217"
  },
  {
    "text": "Trevor and a few of our colleagues ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=221"
  },
  {
    "text": "have joined the same channel ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=222"
  },
  {
    "text": "so that we can communicate throughout the day. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=224"
  },
  {
    "text": "I can transmit audio directly from the app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=227"
  },
  {
    "text": "using the microphone button, but the PushToTalk framework ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=229"
  },
  {
    "text": "allows me to access the transmit feature ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=232"
  },
  {
    "text": "from anywhere in the system. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=234"
  },
  {
    "text": "When there is an active Push To Talk channel, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=239"
  },
  {
    "text": "a blue pill will appear in the status bar. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=240"
  },
  {
    "text": "Tapping that pill shows the system UI. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=243"
  },
  {
    "text": "The system UI displays the name of the Push To Talk channel ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=248"
  },
  {
    "text": "that I've joined and an image provided by the app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=251"
  },
  {
    "text": "to help users quickly identify the channel. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=254"
  },
  {
    "text": "I can transmit audio to the channel ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=258"
  },
  {
    "text": "by pressing and holding the Talk button ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=260"
  },
  {
    "text": "and then waiting for the system chime to indicate ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=262"
  },
  {
    "text": "that I can begin speaking.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=264"
  },
  {
    "text": "Hey, Trevor. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=269"
  },
  {
    "text": "Are you ready to cover your WWDC slides? Over. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=272"
  },
  {
    "text": "Trevor Sheridan: When my device received Kevin's message, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=277"
  },
  {
    "text": "it displayed a notice that contained his name and image, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=279"
  },
  {
    "text": "providing transparency into who I'm receiving messages from. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=282"
  },
  {
    "text": "Once I launch the system UI, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=288"
  },
  {
    "text": "I can quickly respond to Kevin's message ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=290"
  },
  {
    "text": "or leave the channel without having to stop what I'm doing. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=292"
  },
  {
    "text": "I don't want to leave Kevin waiting, so I'll reply now. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=296"
  },
  {
    "text": "Hey, Kevin. I'll be ready in a few minutes. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=301"
  },
  {
    "text": "Over. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=304"
  },
  {
    "text": "Kevin: The PushToTalk system UI can also be accessed ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=307"
  },
  {
    "text": "from the Lock Screen so a user can receive and respond ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=309"
  },
  {
    "text": "to messages without having to unlock their device.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=313"
  },
  {
    "text": "OK, see you soon! Over. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=321"
  },
  {
    "text": "Now that we've discussed how PushToTalk works, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=327"
  },
  {
    "text": "we'll review how to integrate the framework in your own app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=329"
  },
  {
    "text": "There are a few modifications that you need to make ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=333"
  },
  {
    "text": "to your Xcode project to support the PushToTalk framework. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=335"
  },
  {
    "text": "First, you need to add the new Push To Talk background mode. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=339"
  },
  {
    "text": "This enables your app to run in the background ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=343"
  },
  {
    "text": "when responding to Push To Talk events. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=345"
  },
  {
    "text": "Next, you must also add the Push To Talk capability ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=348"
  },
  {
    "text": "to your app to enable the framework features. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=352"
  },
  {
    "text": "The push notification capability is required to allow APNS ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=355"
  },
  {
    "text": "to wake your app in the background ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=359"
  },
  {
    "text": "to play received audio. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=361"
  },
  {
    "text": "Finally, your app must request recording permission ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=364"
  },
  {
    "text": "from the user and include a microphone purpose string ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=366"
  },
  {
    "text": "in its Info.plist file. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=370"
  },
  {
    "text": "Now we're ready to begin integrating the code. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=372"
  },
  {
    "text": "The first step in the Push To Talk workflow ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=376"
  },
  {
    "text": "is to join a channel. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=378"
  },
  {
    "text": "The channel represents and describes ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=379"
  },
  {
    "text": "the Push To Talk session to the system. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=381"
  },
  {
    "text": "Your app interacts with channels through a channel manager. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=384"
  },
  {
    "text": "The channel manager is the primary interface for your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=388"
  },
  {
    "text": "to join channels and perform actions ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=391"
  },
  {
    "text": "like transmitting and receiving audio. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=393"
  },
  {
    "text": "When you join a channel, the Push To Talk system UI ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=397"
  },
  {
    "text": "becomes available and your app receives an APNS device token ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=399"
  },
  {
    "text": "that can be used throughout the life of the channel. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=403"
  },
  {
    "text": "You must join a channel before you can begin transmitting ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=407"
  },
  {
    "text": "and receiving audio. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=409"
  },
  {
    "text": "The first step is to create a channel manager ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=412"
  },
  {
    "text": "using the class initializer. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=414"
  },
  {
    "text": "This initializer requires that you provide ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=417"
  },
  {
    "text": "a channel manager delegate and a channel restoration delegate. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=419"
  },
  {
    "text": "Multiple calls to the initializer ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=424"
  },
  {
    "text": "result in the same shared instance being returned, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=425"
  },
  {
    "text": "but we recommend that you store the channel manager ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=428"
  },
  {
    "text": "in an instance variable. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=431"
  },
  {
    "text": "It is important to initialize your channel manager ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=433"
  },
  {
    "text": "as soon as possible during app start up ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=435"
  },
  {
    "text": "in your ApplicationDelegate's ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=437"
  },
  {
    "text": "didFinishLaunchingWithOptions method. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=439"
  },
  {
    "text": "This ensures that the channel manager is initialized quickly ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=442"
  },
  {
    "text": "so that existing channels can be restored ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=446"
  },
  {
    "text": "and push notifications will be delivered to your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=448"
  },
  {
    "text": "when it launches in the background. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=450"
  },
  {
    "text": "Now we're ready to join a channel. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=453"
  },
  {
    "text": "When someone joins a channel from your app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=455"
  },
  {
    "text": "you must provide a UUID to identify the channel ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=457"
  },
  {
    "text": "and a descriptor that describes the channel to the system. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=460"
  },
  {
    "text": "The same UUID will be used when interacting with the manager ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=464"
  },
  {
    "text": "throughout the life of this channel. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=467"
  },
  {
    "text": "The descriptor includes a name and an image. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=470"
  },
  {
    "text": "Providing a unique image to represent the channel ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=473"
  },
  {
    "text": "makes it easier for your users to identify the channel ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=476"
  },
  {
    "text": "when interacting with the system. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=478"
  },
  {
    "text": "Your app joins a channel by calling the requestJoin method ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=481"
  },
  {
    "text": "on the channel manager. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=484"
  },
  {
    "text": "Note that it is only possible to join a channel ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=486"
  },
  {
    "text": "when your app is running in the foreground. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=489"
  },
  {
    "text": "When your app joins a channel, the channel manager delegate's ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=492"
  },
  {
    "text": "didJoinChannel method will be called. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=495"
  },
  {
    "text": "This delegate method is your indication ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=498"
  },
  {
    "text": "that your app has joined the channel. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=500"
  },
  {
    "text": "In addition, the delegate's ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=503"
  },
  {
    "text": "receivedEphemeralPushToken method will be called ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=504"
  },
  {
    "text": "with the APNS push token that can be used ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=507"
  },
  {
    "text": "to send Push To Talk notifications to this device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=510"
  },
  {
    "text": "This token will only be active ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=514"
  },
  {
    "text": "for the life of the Push To Talk channel. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=515"
  },
  {
    "text": "Keep in mind that APNS push tokens are variable length ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=518"
  },
  {
    "text": "and that you should not hardcode their length into your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=521"
  },
  {
    "text": "It is possible for the channel join request to fail, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=525"
  },
  {
    "text": "such as when attempting to join a channel ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=529"
  },
  {
    "text": "when another channel is already active. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=531"
  },
  {
    "text": "If this occurs, the error handler will be called ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=533"
  },
  {
    "text": "and the error will indicate the reason for the failure. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=536"
  },
  {
    "text": "When the user leaves a channel, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=540"
  },
  {
    "text": "the delegate's didLeaveChannel method will be called. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=541"
  },
  {
    "text": "Your user may leave the channel as a result of either ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=544"
  },
  {
    "text": "your app requesting to leave programmatically ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=547"
  },
  {
    "text": "or the user can tap the Leave Channel button ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=550"
  },
  {
    "text": "in the system UI. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=552"
  },
  {
    "text": "The channel manager delegate has an associated ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=554"
  },
  {
    "text": "LeaveChannel error-handling method that will be called ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=556"
  },
  {
    "text": "if the request to leave the channel fails. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=559"
  },
  {
    "text": "PushToTalk supports restoring previous channels ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=563"
  },
  {
    "text": "whenever your app is relaunched after being terminated ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=565"
  },
  {
    "text": "or after a device reboot. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=568"
  },
  {
    "text": "In order for the system to accomplish this, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=570"
  },
  {
    "text": "you must provide a channel descriptor to update the system. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=573"
  },
  {
    "text": "Here we have a helper method that will fetch ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=577"
  },
  {
    "text": "our cached channel descriptor in our restoration delegate. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=579"
  },
  {
    "text": "In order to keep the system responsive, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=583"
  },
  {
    "text": "you should return from this method as quickly as possible ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=585"
  },
  {
    "text": "and should not perform any long-running or blocking tasks ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=588"
  },
  {
    "text": "such as a network request ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=591"
  },
  {
    "text": "to retrieve your channel descriptor. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=593"
  },
  {
    "text": "Throughout the lifecycle of your Push To Talk session, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=596"
  },
  {
    "text": "you should provide updates to the descriptor ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=599"
  },
  {
    "text": "whenever information about the channel changes. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=601"
  },
  {
    "text": "You should also inform the system about changes ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=604"
  },
  {
    "text": "to your network connection or server availability ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=606"
  },
  {
    "text": "using the service status object. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=609"
  },
  {
    "text": "Here we're updating the descriptor for the channel. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=612"
  },
  {
    "text": "You can call this method ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=615"
  },
  {
    "text": "whenever you need to update the channel name or image. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=616"
  },
  {
    "text": "In this example, we are providing an update ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=620"
  },
  {
    "text": "to the system to indicate that the app's connection ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=622"
  },
  {
    "text": "to its sever is in a reconnecting state. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=625"
  },
  {
    "text": "This updates the system UI accordingly ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=628"
  },
  {
    "text": "and prevents the user from transmitting audio ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=630"
  },
  {
    "text": "if the service status is connecting or disconnected. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=632"
  },
  {
    "text": "Once a connection is reestablished, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=637"
  },
  {
    "text": "you should update the service status to \"ready.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=638"
  },
  {
    "text": "Now let's review how to send and receive audio ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=642"
  },
  {
    "text": "using PushToTalk. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=644"
  },
  {
    "text": "Trevor, are you ready to walk through ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=646"
  },
  {
    "text": "the rest of the API? ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=649"
  },
  {
    "text": "Over. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=651"
  },
  {
    "text": "Trevor: Yep. Send them over. Over. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=655"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=659"
  },
  {
    "text": "Now that we've seen how to configure ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=661"
  },
  {
    "text": "the PushToTalk framework, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=663"
  },
  {
    "text": "let's explore how to transmit and receive audio. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=665"
  },
  {
    "text": "A core capability of the PushToTalk framework ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=669"
  },
  {
    "text": "is to allow your users to quickly transmit audio. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=672"
  },
  {
    "text": "Users can begin audio transmission ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=676"
  },
  {
    "text": "from within your app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=678"
  },
  {
    "text": "or from the system Push To Talk UI. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=679"
  },
  {
    "text": "If your app supports Bluetooth accessories ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=682"
  },
  {
    "text": "through CoreBluetooth, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=685"
  },
  {
    "text": "you can also begin transmission in the background ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=686"
  },
  {
    "text": "in response to a peripheral's characteristic change. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=689"
  },
  {
    "text": "When transmitting, the PushToTalk framework ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=693"
  },
  {
    "text": "unlocks the device's microphone ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=696"
  },
  {
    "text": "and activates your app's audio session ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=699"
  },
  {
    "text": "to enable audio recording in the background. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=701"
  },
  {
    "text": "Let's review this process in detail. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=704"
  },
  {
    "text": "To begin transmission from within your app, you can call ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=708"
  },
  {
    "text": "the requestBeginTransmitting function. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=711"
  },
  {
    "text": "This can be called whenever your app is running in the foreground ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=714"
  },
  {
    "text": "or when reacting to a change ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=717"
  },
  {
    "text": "of a Bluetooth peripheral's characteristic. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=719"
  },
  {
    "text": "If the system is not able to begin transmitting, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=723"
  },
  {
    "text": "the delegate's ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=726"
  },
  {
    "text": "failedToBeginTransmitting InChannel method will be called ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=727"
  },
  {
    "text": "with the reason for the failure. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=731"
  },
  {
    "text": "For example, if the user has an ongoing cellular call active, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=733"
  },
  {
    "text": "they will not be able to begin a Push To Talk transmission. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=737"
  },
  {
    "text": "To stop transmitting, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=742"
  },
  {
    "text": "call the channel manager's stopTransmitting method. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=743"
  },
  {
    "text": "To handle failures when attempting to stop transmitting, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=748"
  },
  {
    "text": "such as when the user was not in a transmitting state, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=751"
  },
  {
    "text": "the channel manager delegate has an associated ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=754"
  },
  {
    "text": "failedToStopTransmitting InChannel method. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=757"
  },
  {
    "text": "Whether you begin transmission from within your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=761"
  },
  {
    "text": "or if the user starts from the system UI, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=764"
  },
  {
    "text": "your channel manager delegate will receive ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=768"
  },
  {
    "text": "a \"Did begin transmitting\" callback. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=770"
  },
  {
    "text": "The transmission source will be passed to the method ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=773"
  },
  {
    "text": "and indicate whether the transmission ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=776"
  },
  {
    "text": "was started from the system UI, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=778"
  },
  {
    "text": "the programmatic API, or a hardware button event. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=780"
  },
  {
    "text": "Once transmission begins, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=784"
  },
  {
    "text": "the system will activate the audio session for your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=786"
  },
  {
    "text": "This is your signal that you can now begin recording. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=790"
  },
  {
    "text": "You should not start or stop your own audio session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=793"
  },
  {
    "text": "When transmission ends, your channel manager delegate ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=799"
  },
  {
    "text": "will receive the end transmission ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=803"
  },
  {
    "text": "and audio session deactivation events. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=805"
  },
  {
    "text": "Keep in mind that while your transmission is active, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=809"
  },
  {
    "text": "your audio session may be interrupted by other sources, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=812"
  },
  {
    "text": "such as phone and FaceTime calls ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=816"
  },
  {
    "text": "for which you need to handle within your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=818"
  },
  {
    "text": "The PushToTalk framework also allows your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=822"
  },
  {
    "text": "to receive and play audio from other users ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=825"
  },
  {
    "text": "while in the background. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=828"
  },
  {
    "text": "This process relies on a new Apple Push Notification type ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=829"
  },
  {
    "text": "that is specific to Push To Talk apps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=833"
  },
  {
    "text": "When your Push To Talk server has new audio ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=836"
  },
  {
    "text": "for a user to receive, it should send the user ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=839"
  },
  {
    "text": "a Push To Talk notification using the device push token ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=842"
  },
  {
    "text": "you received when joining the channel. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=846"
  },
  {
    "text": "When the push notification is received by your app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=849"
  },
  {
    "text": "it must report an active speaker to the framework, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=852"
  },
  {
    "text": "which will cause the system to activate ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=856"
  },
  {
    "text": "your app's audio session and allow it to begin playback. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=858"
  },
  {
    "text": "The new Push To Talk notification ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=863"
  },
  {
    "text": "is similar to other notification types on iOS ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=865"
  },
  {
    "text": "and there are specific attributes that you must set ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=868"
  },
  {
    "text": "to enable delivery to your Push To Talk app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=871"
  },
  {
    "text": "First, the APNS push type must be set to \"pushtotalk\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=874"
  },
  {
    "text": "in the request header. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=879"
  },
  {
    "text": "Next, the APNS topic header must be set ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=881"
  },
  {
    "text": "to your app's bundle identifier ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=885"
  },
  {
    "text": "with a \".voip-ptt\" suffix appended to the end. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=887"
  },
  {
    "text": "The push payload can contain custom keys ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=892"
  },
  {
    "text": "that are relevant to your app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=895"
  },
  {
    "text": "such the name of an active speaker ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=897"
  },
  {
    "text": "or an indication that the session has ended ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=899"
  },
  {
    "text": "and the app should leave the Push To Talk channel. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=902"
  },
  {
    "text": "The body of the \"aps\" property can be left blank. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=905"
  },
  {
    "text": "Additionally, like other communication-related ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=910"
  },
  {
    "text": "push types, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=913"
  },
  {
    "text": "Push To Talk payloads should have an APNS priority of 10 ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=914"
  },
  {
    "text": "to request immediate delivery ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=918"
  },
  {
    "text": "and an APNS expiration of zero to prevent older pushes ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=920"
  },
  {
    "text": "that are no longer relevant from being delivered later. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=925"
  },
  {
    "text": "When your server sends a Push To Talk notification, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=929"
  },
  {
    "text": "your app will be started in the background ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=932"
  },
  {
    "text": "and the incoming push delegate method will be called. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=935"
  },
  {
    "text": "When you receive a push payload, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=939"
  },
  {
    "text": "you will need to construct a push result type ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=941"
  },
  {
    "text": "to indicate what action should be performed ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=943"
  },
  {
    "text": "as a result of the push notification. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=946"
  },
  {
    "text": "To indicate that a remote user is speaking, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=950"
  },
  {
    "text": "return a push result that includes ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=952"
  },
  {
    "text": "the active participant's information, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=954"
  },
  {
    "text": "including their name and an optional image. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=957"
  },
  {
    "text": "This will cause the system ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=961"
  },
  {
    "text": "to set the active participant on the channel ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=962"
  },
  {
    "text": "and indicate that the channel is in receive mode. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=965"
  },
  {
    "text": "The system will then activate your audio session, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=968"
  },
  {
    "text": "and call the didActivateaudioSession ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=971"
  },
  {
    "text": "delegate method. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=973"
  },
  {
    "text": "You should wait for this method to be called ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=975"
  },
  {
    "text": "before beginning playback. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=977"
  },
  {
    "text": "If your server decides that a user ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=979"
  },
  {
    "text": "should no longer be joined to a channel, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=981"
  },
  {
    "text": "it may indicate this in the push payload, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=984"
  },
  {
    "text": "for which you can return a leaveChannel push result. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=987"
  },
  {
    "text": "It's important to note that you should return ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=991"
  },
  {
    "text": "a PTPushResult from this method as quickly as possible ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=993"
  },
  {
    "text": "and not block the thread. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=996"
  },
  {
    "text": "If you are attempting to set the active remote participant ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1000"
  },
  {
    "text": "and do not have their image stored locally, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1003"
  },
  {
    "text": "you can return an activeRemoteParticipant ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1005"
  },
  {
    "text": "with only the speaker's name. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1008"
  },
  {
    "text": "Then download their image on a separate thread, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1010"
  },
  {
    "text": "and once the image is retrieved, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1013"
  },
  {
    "text": "update the activeRemoteParticipant ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1015"
  },
  {
    "text": "by calling setActiveRemoteParticipant ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1017"
  },
  {
    "text": "on the channel manager. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1020"
  },
  {
    "text": "When the remote participant has finished speaking, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1023"
  },
  {
    "text": "you should set the activeRemoteParticipant to nil. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1025"
  },
  {
    "text": "This indicates to the system that you are no longer ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1028"
  },
  {
    "text": "receiving audio on the channel ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1031"
  },
  {
    "text": "and that the system should deactivate your audio session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1033"
  },
  {
    "text": "This will also update the system Push To Talk UI ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1037"
  },
  {
    "text": "and allow the user to transmit again. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1040"
  },
  {
    "text": "Now that we've covered the basics ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1044"
  },
  {
    "text": "of how to integrate PushToTalk into your app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1045"
  },
  {
    "text": "let's review some best practices ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1048"
  },
  {
    "text": "for optimizing the user experience ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1050"
  },
  {
    "text": "and preserving battery life.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1052"
  },
  {
    "text": "The PushToTalk framework provides a system UI ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1057"
  },
  {
    "text": "for users to begin a transmission ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1059"
  },
  {
    "text": "and leave a channel from anywhere within the system. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1062"
  },
  {
    "text": "Additionally, it is flexible and allows you to implement ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1066"
  },
  {
    "text": "your own custom Push To Talk UI ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1070"
  },
  {
    "text": "when your app is in the foreground. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1072"
  },
  {
    "text": "The PushToTalk framework ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1076"
  },
  {
    "text": "utilizes shared system resources. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1077"
  },
  {
    "text": "Only one Push To Talk app can be active ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1080"
  },
  {
    "text": "on the system at a time, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1082"
  },
  {
    "text": "and Push To Talk communication will be superseded ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1084"
  },
  {
    "text": "by cellular, FaceTime, and VoIP calls. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1087"
  },
  {
    "text": "Your app should handle PushToTalk failures gracefully ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1091"
  },
  {
    "text": "and respond accordingly. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1094"
  },
  {
    "text": "As mentioned earlier, the PushToTalk framework ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1098"
  },
  {
    "text": "handles activating and deactivating ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1101"
  },
  {
    "text": "your audio session for you. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1103"
  },
  {
    "text": "However, you should still configure ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1105"
  },
  {
    "text": "your audio session's category to play and record ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1107"
  },
  {
    "text": "when your app launches. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1110"
  },
  {
    "text": "The system provides built-in sound effects ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1113"
  },
  {
    "text": "to alert the user that the microphone is activated ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1116"
  },
  {
    "text": "and deactivated when transmitting. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1119"
  },
  {
    "text": "You should not provide your own sound effects ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1122"
  },
  {
    "text": "for these events. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1124"
  },
  {
    "text": "It is also important for your app to monitor ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1126"
  },
  {
    "text": "and respond to AVAudioSession notifications, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1129"
  },
  {
    "text": "such as session interruptions, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1133"
  },
  {
    "text": "route changes, and failures. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1134"
  },
  {
    "text": "Your Push To Talk app can be affected ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1137"
  },
  {
    "text": "by these audio session events ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1139"
  },
  {
    "text": "just like any other audio app on the system. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1141"
  },
  {
    "text": "It's important to optimize your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1145"
  },
  {
    "text": "to preserve battery life. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1147"
  },
  {
    "text": "The PushToTalk framework provides your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1149"
  },
  {
    "text": "with background runtime when needed, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1151"
  },
  {
    "text": "such as when transmitting and receiving audio. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1153"
  },
  {
    "text": "When your app is not being used by the user, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1157"
  },
  {
    "text": "it will be suspended by the system to preserve battery life. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1159"
  },
  {
    "text": "You should not activate or deactivate ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1164"
  },
  {
    "text": "your own audio sessions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1166"
  },
  {
    "text": "The system will handle audio session activation for you ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1168"
  },
  {
    "text": "at the appropriate times. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1172"
  },
  {
    "text": "This ensures that your audio session ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1174"
  },
  {
    "text": "has the proper priority within the system ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1176"
  },
  {
    "text": "and can be suspended when it is not being used. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1178"
  },
  {
    "text": "Your Push To Talk server ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1183"
  },
  {
    "text": "should use the new push notification type ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1185"
  },
  {
    "text": "to alert your app that there is new audio to be played, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1187"
  },
  {
    "text": "or that the Push To Talk session has ended. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1191"
  },
  {
    "text": "For more information about improving ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1194"
  },
  {
    "text": "the battery life in your app, refer to the ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1196"
  },
  {
    "text": "\"Power down: Improve battery consumption\" session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1199"
  },
  {
    "text": "When your Push To Talk app is in the background ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1203"
  },
  {
    "text": "and the app is not transmitting or receiving audio, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1205"
  },
  {
    "text": "it will be suspended by the system. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1209"
  },
  {
    "text": "When your app is suspended, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1211"
  },
  {
    "text": "any network connections will be disconnected. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1213"
  },
  {
    "text": "You should consider adopting Network.framework ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1217"
  },
  {
    "text": "and QUIC to reduce the steps needed ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1219"
  },
  {
    "text": "to establish a secure TLS connection ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1222"
  },
  {
    "text": "and improve initial connection speed. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1225"
  },
  {
    "text": "Network.framework has built-in support for QUIC. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1228"
  },
  {
    "text": "Check out the ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1231"
  },
  {
    "text": "\"Reduce networking delays for a more responsive app\" session ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1232"
  },
  {
    "text": "for more information about how to use QUIC. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1236"
  },
  {
    "text": "The PushToTalk framework enables you to build ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1240"
  },
  {
    "text": "robust and power-efficient ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1243"
  },
  {
    "text": "walkie-talkie style communication experiences ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1244"
  },
  {
    "text": "within your apps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1247"
  },
  {
    "text": "If you already have an app that implements ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1249"
  },
  {
    "text": "a walk-talkie style experience on iOS, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1251"
  },
  {
    "text": "you should begin updating your existing app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1254"
  },
  {
    "text": "to use the new API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1257"
  },
  {
    "text": "If you're implementing a new walkie-talkie app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1259"
  },
  {
    "text": "you should use the PushToTalk framework now. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1262"
  },
  {
    "text": "Finally, please submit feedback ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1265"
  },
  {
    "text": "as you begin testing the new framework ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1267"
  },
  {
    "text": "and integrating it with your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1270"
  },
  {
    "text": "Thank you and have a great WWDC! ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1272"
  },
  {
    "text": "Over and out! ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1275"
  },
  {
    "text": "♪",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10117/?time=1277"
  }
]