[
  {
    "text": "♪ Mellow instrumental hip-hop music ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=0"
  },
  {
    "text": "♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=3"
  },
  {
    "text": "Hi! My name is Adam Bradford. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=9"
  },
  {
    "text": "I'm an engineer on the VisionKit team, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=11"
  },
  {
    "text": "and if you're looking to add Live Text to your app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=13"
  },
  {
    "text": "you're in the right place. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=16"
  },
  {
    "text": "But first, what is Live Text? ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=18"
  },
  {
    "text": "Live Text analyzes an image and provides features for the users ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=21"
  },
  {
    "text": "to interact with its content, such selecting and copying text, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=24"
  },
  {
    "text": "perform actions like lookup and translate, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=29"
  },
  {
    "text": "providing data-detection workflows, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=33"
  },
  {
    "text": "such as mapping an address, dialing a number, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=34"
  },
  {
    "text": "or jumping to a URL. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=37"
  },
  {
    "text": "Live Text even allows for QR code interaction. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=39"
  },
  {
    "text": "Imagine how you could put this to use in your app? ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=43"
  },
  {
    "text": "You want to know more? Well, you're in the right place. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=45"
  },
  {
    "text": "For this session, I'm going to start with a general overview ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=49"
  },
  {
    "text": "of the Live Text API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=52"
  },
  {
    "text": "Then I will explore how to implement this API ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=54"
  },
  {
    "text": "in an existing application. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=57"
  },
  {
    "text": "Next, I will dive into some tips and tricks ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=60"
  },
  {
    "text": "which may help you when adding Live Text to your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=62"
  },
  {
    "text": "Now for an overview of the Live Text API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=66"
  },
  {
    "text": "At a high level, the Live Text API is available in Swift. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=70"
  },
  {
    "text": "It works beautifully on static images ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=74"
  },
  {
    "text": "and can be adapted to be used for paused video frames. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=77"
  },
  {
    "text": "If you need to analyze video in a live camera stream ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=80"
  },
  {
    "text": "to search for items like text or QR codes, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=83"
  },
  {
    "text": "VisionKit also has a data scanner available. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=85"
  },
  {
    "text": "Check out this session from my colleague Ron for more info. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=88"
  },
  {
    "text": "The Live Text API is available starting on iOS 16 ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=93"
  },
  {
    "text": "for devices with an Apple Neural Engine, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=97"
  },
  {
    "text": "and for all devices that support macOS 13. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=99"
  },
  {
    "text": "It consists of four main classes. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=104"
  },
  {
    "text": "To use it, first, you'll need an image. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=106"
  },
  {
    "text": "This image is then fed into an ImageAnalyzer, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=109"
  },
  {
    "text": "which performs the async analysis. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=111"
  },
  {
    "text": "Once the analysis is complete, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=114"
  },
  {
    "text": "the resulting ImageAnalysis object ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=116"
  },
  {
    "text": "is provided to either an ImageAnalysisInteraction ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=118"
  },
  {
    "text": "or ImageAnalysisOverlayView, depending on your platform. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=120"
  },
  {
    "text": "Seems pretty straightforward so far, right? ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=125"
  },
  {
    "text": "Now, I'm going to demonstrate how one would add it ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=128"
  },
  {
    "text": "to an existing application. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=130"
  },
  {
    "text": "And here's our application. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=133"
  },
  {
    "text": "This is a simple image viewer, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=136"
  },
  {
    "text": "which has an image view inside of a scroll view. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=137"
  },
  {
    "text": "Notice, I can both zoom and pan. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=141"
  },
  {
    "text": "But try as I might, I cannot select any of this text ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=144"
  },
  {
    "text": "or activate any of these data detectors. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=147"
  },
  {
    "text": "This simply will not do. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=150"
  },
  {
    "text": "Here's the project in Xcode. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=153"
  },
  {
    "text": "To add Live Text to this application, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=155"
  },
  {
    "text": "I'll be modifying a view controller subclass. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=157"
  },
  {
    "text": "First, I'm going to need an ImageAnalyzer, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=160"
  },
  {
    "text": "and an ImageAnalysisInteraction. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=163"
  },
  {
    "text": "Here, I'm simply overriding viewDidLoad ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=168"
  },
  {
    "text": "and adding the interaction to the imageview. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=170"
  },
  {
    "text": "Next, I need to know when to perform the analysis.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=174"
  },
  {
    "text": "Notice that when a new image is set, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=181"
  },
  {
    "text": "I first reset the preferredInteractionTypes ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=183"
  },
  {
    "text": "and analysis which were meant for the old image. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=185"
  },
  {
    "text": "Now everything is ready for a new analysis. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=190"
  },
  {
    "text": "Next, I'm going to create the function we will use ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=193"
  },
  {
    "text": "and then check that our image exists.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=197"
  },
  {
    "text": "If so, then create a task. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=203"
  },
  {
    "text": "Next, create a configuration in order to tell the analyzer ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=208"
  },
  {
    "text": "what it should be looking for. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=211"
  },
  {
    "text": "In this case, I'll go with text and machine-readable codes. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=214"
  },
  {
    "text": "Generating the analysis can throw, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=219"
  },
  {
    "text": "so handle that as appropriate. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=221"
  },
  {
    "text": "And now finally, I'm ready to call the method ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=223"
  },
  {
    "text": "analyzeImageWithConfiguration, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=226"
  },
  {
    "text": "which will start the analysis process. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=228"
  },
  {
    "text": "Once the analysis is complete, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=231"
  },
  {
    "text": "an indeterminate amount of time has passed, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=233"
  },
  {
    "text": "and the state of the application may have changed, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=236"
  },
  {
    "text": "so I will check that both the analysis was successful ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=239"
  },
  {
    "text": "and that the displayed image has not changed. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=241"
  },
  {
    "text": "If all of these checks pass, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=245"
  },
  {
    "text": "I can simply set the analysis on the interaction ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=247"
  },
  {
    "text": "and set the preferredInteractionTypes. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=249"
  },
  {
    "text": "I'm using .automatic here, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=252"
  },
  {
    "text": "which will give me the default system behavior. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=253"
  },
  {
    "text": "I think this is ready for a test. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=257"
  },
  {
    "text": "Oh, look at that! ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=260"
  },
  {
    "text": "I see the Live Text button has appeared, and yep, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=262"
  },
  {
    "text": "I can now select text. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=266"
  },
  {
    "text": "Notice how these interface elements ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=268"
  },
  {
    "text": "are positioned for me automatically, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=270"
  },
  {
    "text": "and keep their position inside of both the image bounds ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=272"
  },
  {
    "text": "and the visible area, with no work on my part. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=275"
  },
  {
    "text": "OK, notice that tapping the Live Text button ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=279"
  },
  {
    "text": "will both highlight any selectable items, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=282"
  },
  {
    "text": "underline data detectors, and show Quick Actions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=284"
  },
  {
    "text": "I can easily tap this Quick Action to make a call, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=288"
  },
  {
    "text": "and even see more options by long-pressing. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=291"
  },
  {
    "text": "You have to admit, this is pretty cool. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=294"
  },
  {
    "text": "With just these few lines of code, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=298"
  },
  {
    "text": "I've taken an ordinary image and brought it to life. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=301"
  },
  {
    "text": "This simple application now has the ability ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=304"
  },
  {
    "text": "to select text on images, activate data detectors, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=306"
  },
  {
    "text": "QR codes, lookup, translate text, and more. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=310"
  },
  {
    "text": "Not too shabby from just this few lines of code, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=314"
  },
  {
    "text": "if you ask me. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=316"
  },
  {
    "text": "And now that you've have seen how to implement Live Text, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=318"
  },
  {
    "text": "I'm going to go over a few tips and tricks ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=321"
  },
  {
    "text": "that may help you with your adoption. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=323"
  },
  {
    "text": "I'll start by exploring interaction types. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=326"
  },
  {
    "text": "Most developers will want .automatic, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=329"
  },
  {
    "text": "which provides text selection, but will also highlight ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=330"
  },
  {
    "text": "data detectors if the Live Text button is active. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=333"
  },
  {
    "text": "This will draw a line underneath any applicable detected items ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=336"
  },
  {
    "text": "and allows one-tap access to activate them. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=340"
  },
  {
    "text": "This is the exact same behavior you would see ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=343"
  },
  {
    "text": "from built-in applications. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=345"
  },
  {
    "text": "If it makes sense for your app to only have text selection ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=348"
  },
  {
    "text": "without data detectors, you may set the type to .textSelection ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=350"
  },
  {
    "text": "and it will not change with the state of the Live Text button. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=354"
  },
  {
    "text": "If, however, it makes sense for your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=359"
  },
  {
    "text": "to only have data detectors without text selection, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=360"
  },
  {
    "text": "set the type to .dataDetectors. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=364"
  },
  {
    "text": "Note that in this mode, since selection is disabled, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=366"
  },
  {
    "text": "you will not see a Live Text button, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=369"
  },
  {
    "text": "but data detectors will be underlined and ready ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=371"
  },
  {
    "text": "for one-tap access. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=373"
  },
  {
    "text": "Setting the preferredInteractionTypes ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=377"
  },
  {
    "text": "to an empty set will disable the interaction. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=378"
  },
  {
    "text": "And also, a last note, with text selection or automatic mode, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=381"
  },
  {
    "text": "you'll find you can still activate data detectors ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=386"
  },
  {
    "text": "by long-pressing. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=388"
  },
  {
    "text": "This is controlled by the ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=391"
  },
  {
    "text": "allowLongPressForDataDetectorsIn TextMode property, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=392"
  },
  {
    "text": "which will be active when set to true, which the default. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=395"
  },
  {
    "text": "Simply set to false to disable this if necessary. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=399"
  },
  {
    "text": "I would like to now take a moment ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=403"
  },
  {
    "text": "and talk about these buttons at the bottom, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=404"
  },
  {
    "text": "collectively known as the supplementary interface. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=406"
  },
  {
    "text": "This consists of the Live Text button, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=409"
  },
  {
    "text": "which normally lives in the bottom right-hand corner, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=411"
  },
  {
    "text": "as well as Quick Actions which appear on the bottom left. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=413"
  },
  {
    "text": "Quick Actions represent any data detectors from the analysis ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=416"
  },
  {
    "text": "and are visible when the Live Text button is active. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=419"
  },
  {
    "text": "The size, position, and visibility ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=422"
  },
  {
    "text": "are controlled by the interaction. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=425"
  },
  {
    "text": "And while the default position and look matches the system, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=427"
  },
  {
    "text": "your app may have custom interface elements ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=430"
  },
  {
    "text": "which may interfere or utilize different fonts ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=432"
  },
  {
    "text": "and symbol weights. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=435"
  },
  {
    "text": "Let's look at how you can customize this interface. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=436"
  },
  {
    "text": "First off, the isSupplementary InterfaceHidden property. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=440"
  },
  {
    "text": "If I wanted to allow my app to still select text ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=443"
  },
  {
    "text": "but I did not want to show the Live Text button, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=446"
  },
  {
    "text": "if I set the SupplementaryInterfaceHidden ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=449"
  },
  {
    "text": "to true, you will not see any Live Text button ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=451"
  },
  {
    "text": "or Quick Actions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=454"
  },
  {
    "text": "We also have a content insets property available. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=457"
  },
  {
    "text": "If you have interface elements that would overlap ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=460"
  },
  {
    "text": "the supplementary interface, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=462"
  },
  {
    "text": "you may adjust the content insets ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=463"
  },
  {
    "text": "so the Live Text button and Quick Actions adapt nicely ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=466"
  },
  {
    "text": "to your existing app content when visible. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=468"
  },
  {
    "text": "If your app is using a custom font ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=472"
  },
  {
    "text": "you'd like the interface to adopt, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=474"
  },
  {
    "text": "setting the supplementaryInterfaceFont ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=476"
  },
  {
    "text": "will cause the Live Text button and Quick Actions ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=478"
  },
  {
    "text": "to use the specified font for text ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=480"
  },
  {
    "text": "and font weight for symbols. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=482"
  },
  {
    "text": "Please note that for button-sizing consistency, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=484"
  },
  {
    "text": "Live Text will ignore the point size. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=486"
  },
  {
    "text": "Switching gears for a moment, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=490"
  },
  {
    "text": "if you are not using UIImageview, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=492"
  },
  {
    "text": "you may discover that highlights do not match up with your image. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=494"
  },
  {
    "text": "This is because with UIImageView, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=498"
  },
  {
    "text": "VisionKit can use its ContentMode property ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=500"
  },
  {
    "text": "to calculate the contentsRect automatically for you. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=502"
  },
  {
    "text": "Here, the interaction's view has a bounds that is bigger ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=506"
  },
  {
    "text": "than its image content but is using ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=509"
  },
  {
    "text": "the default's content rect, which is a unit rectangle. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=512"
  },
  {
    "text": "This is easily solved by implementing the delegate method ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=516"
  },
  {
    "text": "contentsRectForInteraction ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=519"
  },
  {
    "text": "and return a rectangle in unit coordinate space ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=521"
  },
  {
    "text": "describing how the image content relates ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=523"
  },
  {
    "text": "to the interaction's bounds in order to correct this. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=526"
  },
  {
    "text": "For example, returning a rectangle with these values ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=529"
  },
  {
    "text": "would correct the issue, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=532"
  },
  {
    "text": "but please return the correct normalized rectangle ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=533"
  },
  {
    "text": "based on your app's current content and layout. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=535"
  },
  {
    "text": "contentsRectForInteraction will be called ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=539"
  },
  {
    "text": "whenever the interaction's bounds change, however, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=541"
  },
  {
    "text": "if your contentsRect has changed ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=544"
  },
  {
    "text": "but your interaction's bounds have not, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=546"
  },
  {
    "text": "you can ask the interaction to update by calling ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=548"
  },
  {
    "text": "setContentsRectNeedsUpdate(). ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=551"
  },
  {
    "text": "Another question you may have when adopting Live Text may be, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=555"
  },
  {
    "text": "Where is the best place to put this interaction? ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=558"
  },
  {
    "text": "Ideally, Live Text interactions are placed directly on the view ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=561"
  },
  {
    "text": "that hosts your image content. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=564"
  },
  {
    "text": "As mentioned before, UIImageView will handle ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=567"
  },
  {
    "text": "the contentsRect calculations for you, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=570"
  },
  {
    "text": "and while not necessary, is preferred. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=572"
  },
  {
    "text": "If you are using UIImageview, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=576"
  },
  {
    "text": "just set the interaction on the imageView ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=578"
  },
  {
    "text": "and VisionKit will handle the rest. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=580"
  },
  {
    "text": "However, if your ImageView is located ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=583"
  },
  {
    "text": "inside of a ScrollView, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=585"
  },
  {
    "text": "you may be tempted to place the interaction on the ScrollView, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=587"
  },
  {
    "text": "however, this is not recommended and could be difficult to manage ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=590"
  },
  {
    "text": "as it will have a continually changing contentsRect. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=594"
  },
  {
    "text": "The solution here is the same, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=598"
  },
  {
    "text": "place the interaction on the view ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=600"
  },
  {
    "text": "that hosts your image content, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=602"
  },
  {
    "text": "even if it is inside a ScrollView ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=604"
  },
  {
    "text": "with magnification applied. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=605"
  },
  {
    "text": "I'm going talk about gestures for a moment, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=608"
  },
  {
    "text": "Live Text has a very, very rich set of gesture recognizers, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=611"
  },
  {
    "text": "to say to least. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=614"
  },
  {
    "text": "Depending on how your app is structured, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=616"
  },
  {
    "text": "it's possible you may find the interaction ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=618"
  },
  {
    "text": "responding to gestures and events ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=620"
  },
  {
    "text": "your app should really handle or vice versa. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=622"
  },
  {
    "text": "Don't panic. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=625"
  },
  {
    "text": "Here are a few techniques you can use to help correct ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=626"
  },
  {
    "text": "if you see these issues occur. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=629"
  },
  {
    "text": "One common way to correct this ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=631"
  },
  {
    "text": "is to implement the delegate method ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=633"
  },
  {
    "text": "interactionShouldBeginAtPointFor InteractionType. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=635"
  },
  {
    "text": "If you return false, the action will not be performed. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=639"
  },
  {
    "text": "A good place to start is to check if the interaction ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=642"
  },
  {
    "text": "has an interactive item at the given point ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=644"
  },
  {
    "text": "or if it has an active text selection. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=647"
  },
  {
    "text": "The text selection check is used here ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=650"
  },
  {
    "text": "so you will be able to have the ability tap off of the text ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=652"
  },
  {
    "text": "in order to deselect it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=655"
  },
  {
    "text": "On the other hand, if you find your interaction ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=658"
  },
  {
    "text": "doesn't seem to respond to gestures, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=661"
  },
  {
    "text": "it may be because there's a gesture recognizer ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=663"
  },
  {
    "text": "in your app that's handling them instead. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=665"
  },
  {
    "text": "In this case, you can craft a similar solution ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=668"
  },
  {
    "text": "using your gestureRecognizer's gestureRecognizerShouldBegin ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=671"
  },
  {
    "text": "delegate method. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=675"
  },
  {
    "text": "Here, I perform a similar check and return false ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=677"
  },
  {
    "text": "if there is an interactive item at the location ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=681"
  },
  {
    "text": "or there's an active text selection. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=683"
  },
  {
    "text": "On a side note. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=685"
  },
  {
    "text": "In this example, I'm first converting ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=686"
  },
  {
    "text": "the gestureRecognizer's location to the window's coordinate space ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=688"
  },
  {
    "text": "by passing in nil, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=692"
  },
  {
    "text": "and then converting it to the interaction's view. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=693"
  },
  {
    "text": "This may be necessary if your interaction ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=696"
  },
  {
    "text": "is inside of a ScrollView with magnification applied. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=699"
  },
  {
    "text": "If you find your points aren't matching up, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=702"
  },
  {
    "text": "give this technique a try. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=704"
  },
  {
    "text": "Another similar option I have found to be useful ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=706"
  },
  {
    "text": "is to override UIView's hitTest:WithEvent. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=709"
  },
  {
    "text": "Here, once again, similar story, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=712"
  },
  {
    "text": "I perform the same types of checks as before, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=714"
  },
  {
    "text": "and in this case, return the appropriate view. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=717"
  },
  {
    "text": "As always, we want your app to be as responsive as possible, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=720"
  },
  {
    "text": "and while the Neural Engine makes analysis ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=725"
  },
  {
    "text": "extremely efficient, there a few ImageAnalyzer tips ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=726"
  },
  {
    "text": "I'd like to share for best performance. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=730"
  },
  {
    "text": "Ideally, you want only one ImageAnalyzer ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=732"
  },
  {
    "text": "shared in your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=734"
  },
  {
    "text": "Also, we support several types of images. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=736"
  },
  {
    "text": "You should always minimize image conversions ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=739"
  },
  {
    "text": "by passing in the native type that you have; ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=741"
  },
  {
    "text": "however, if you do happen to have a CVPixelBuffer, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=744"
  },
  {
    "text": "that would be the most efficient. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=747"
  },
  {
    "text": "Also, in order to best utilize system resources, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=749"
  },
  {
    "text": "you should begin your analysis only when, or just before, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=752"
  },
  {
    "text": "an image appears onscreen. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=756"
  },
  {
    "text": "If your app's content scrolls -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=758"
  },
  {
    "text": "for example, it has a timeline -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=761"
  },
  {
    "text": "begin analysis only once the scrolling has stopped. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=763"
  },
  {
    "text": "Now this API isn't the only place you'll see Live Text, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=767"
  },
  {
    "text": "support is provided automatically ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=771"
  },
  {
    "text": "in a few frameworks across the system your app may already use. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=772"
  },
  {
    "text": "For example, UITextField or UITextView ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=776"
  },
  {
    "text": "have Live Text support using Camera for keyboard input. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=780"
  },
  {
    "text": "And Live Text is also supported in WebKit and Quick Look. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=784"
  },
  {
    "text": "For more information, please check out these sessions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=788"
  },
  {
    "text": "New this year for iOS 16, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=792"
  },
  {
    "text": "we've added Live Text support in AVKit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=794"
  },
  {
    "text": "AVPlayerView and ViewController support Live Text ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=796"
  },
  {
    "text": "in paused frames automatically ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=800"
  },
  {
    "text": "via the allowsVideoFrameAnalysis property, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=802"
  },
  {
    "text": "which is enabled by default. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=805"
  },
  {
    "text": "Please note, this is only available ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=807"
  },
  {
    "text": "with non-FairPlay protected content. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=809"
  },
  {
    "text": "If you're using AVPlayerLayer, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=812"
  },
  {
    "text": "then you are responsible for managing the analysis ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=815"
  },
  {
    "text": "and the interaction but it is very important to use the ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=817"
  },
  {
    "text": "currentlyDisplayedPixelBuffer property ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=820"
  },
  {
    "text": "to get the current frame. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=823"
  },
  {
    "text": "This is the only way to guarantee ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=825"
  },
  {
    "text": "the proper frame is being analyzed. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=826"
  },
  {
    "text": "This will only return a valid value ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=829"
  },
  {
    "text": "if the video play rate is zero, and this is a shallow copy ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=831"
  },
  {
    "text": "and absolutely not safe to write to. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=835"
  },
  {
    "text": "And once again, only available ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=838"
  },
  {
    "text": "for non-FairPlay protected content. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=840"
  },
  {
    "text": "We are thrilled to help bring Live Text functionality ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=844"
  },
  {
    "text": "to your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=846"
  },
  {
    "text": "On behalf of everybody on the Live Text team, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=847"
  },
  {
    "text": "thank you for joining us for this session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=850"
  },
  {
    "text": "I am stoked to see how you use it for images in your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=852"
  },
  {
    "text": "And as always, have fun! ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=856"
  },
  {
    "text": "♪",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10026/?time=858"
  }
]