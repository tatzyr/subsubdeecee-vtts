[
  {
    "text": "♪ Mellow instrumental hip-hop music ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=0"
  },
  {
    "text": "♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=3"
  },
  {
    "text": "Hello! I'm Justin, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=9"
  },
  {
    "text": "and I'm an engineer on the Photos team. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=11"
  },
  {
    "text": "Today, I would like to talk about some of the improvements ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=13"
  },
  {
    "text": "we have made to the system Photos picker. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=15"
  },
  {
    "text": "The system Photos picker is the best way for most apps ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=18"
  },
  {
    "text": "to access photos and videos on iOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=21"
  },
  {
    "text": "The picker runs out of process, so your app doesn't need ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=24"
  },
  {
    "text": "to request any library access to use it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=26"
  },
  {
    "text": "It has an intuitive UI and an easy-to-use API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=29"
  },
  {
    "text": "If you aren't familiar with the PHPicker API, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=33"
  },
  {
    "text": "you can watch our previous years' WWDC sessions ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=36"
  },
  {
    "text": "where we talked about it in depth. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=39"
  },
  {
    "text": "In today's session, I'll start with an overview ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=43"
  },
  {
    "text": "of the new features we added to the picker. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=46"
  },
  {
    "text": "Then, I will talk about additional platforms ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=50"
  },
  {
    "text": "and frameworks the picker now supports. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=53"
  },
  {
    "text": "All right, let's dive in. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=56"
  },
  {
    "text": "The picker supports filtering between images, videos, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=59"
  },
  {
    "text": "and Live Photos since its introduction. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=62"
  },
  {
    "text": "However, we understand that some of your apps ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=66"
  },
  {
    "text": "may have some other requirements. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=68"
  },
  {
    "text": "For example, a screenshot-stitching app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=71"
  },
  {
    "text": "wants to only show screenshots in the picker. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=73"
  },
  {
    "text": "Now it is possible with the new screenshots filter ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=77"
  },
  {
    "text": "we added this year. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=80"
  },
  {
    "text": "In addition to screenshots, we added other asset types ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=83"
  },
  {
    "text": "like screen recordings and slo-mo videos. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=87"
  },
  {
    "text": "There is also a way for you to create a new filter ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=91"
  },
  {
    "text": "using PHAsset.PlaybackStyle. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=94"
  },
  {
    "text": "Other than Cinematic videos, depth effect photos, and bursts, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=98"
  },
  {
    "text": "all of the new filters are backported. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=102"
  },
  {
    "text": "If your app is targeting iOS 15, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=105"
  },
  {
    "text": "you can still use them as long as you are compiling ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=108"
  },
  {
    "text": "with the iOS 16 SDK. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=110"
  },
  {
    "text": "For compound filters, in addition to the existing \"any,\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=113"
  },
  {
    "text": "now you also use \"all\" and \"not.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=118"
  },
  {
    "text": "They are also backported to iOS 15. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=120"
  },
  {
    "text": "Let's look at some code examples. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=124"
  },
  {
    "text": "To show videos and Live Photos, you can combine them with \"any.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=126"
  },
  {
    "text": "Or you may only want to show screenshots. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=132"
  },
  {
    "text": "To show all images without screenshots, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=137"
  },
  {
    "text": "you can combine images and screenshots filters ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=140"
  },
  {
    "text": "using \"all\" and \"not.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=142"
  },
  {
    "text": "And the last example, you can use .cinematicVideos filter ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=145"
  },
  {
    "text": "if you are targeting iOS 16. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=149"
  },
  {
    "text": "Next, let's talk about improvements ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=152"
  },
  {
    "text": "related to the half-height picker. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=155"
  },
  {
    "text": "In iOS 15, UIKit has a new UISheetPresentationController ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=157"
  },
  {
    "text": "API which you can use to present the picker in half-height mode. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=161"
  },
  {
    "text": "It already works great in many cases. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=167"
  },
  {
    "text": "But some of you may want to implement a custom UI ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=170"
  },
  {
    "text": "to adjust selected assets and have those changes ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=173"
  },
  {
    "text": "be reflected back in picker. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=176"
  },
  {
    "text": "In iOS 16, you can deselect assets ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=180"
  },
  {
    "text": "using their asset identifiers. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=183"
  },
  {
    "text": "As shown here, the second photo is no longer selected ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=187"
  },
  {
    "text": "in the picker after deselectAssets is called. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=190"
  },
  {
    "text": "You can also call the moveAsset method to reorder assets. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=196"
  },
  {
    "text": "Now we are familiar with all of the new picker features, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=201"
  },
  {
    "text": "let's talk about platform support. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=204"
  },
  {
    "text": "Currently, the system Photos picker can only be used ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=207"
  },
  {
    "text": "by iOS and iPadOS apps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=210"
  },
  {
    "text": "This year, we are bringing the Photos picker ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=213"
  },
  {
    "text": "to two additional platforms: macOS and watchOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=215"
  },
  {
    "text": "The iPadOS picker is also updated with a new design ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=221"
  },
  {
    "text": "just for the iPad. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=224"
  },
  {
    "text": "Let's take a look at the new iPad UI first. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=226"
  },
  {
    "text": "The picker now shows a sidebar ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=229"
  },
  {
    "text": "to take advantage of the larger iPad display. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=231"
  },
  {
    "text": "The sidebar allows faster navigation ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=235"
  },
  {
    "text": "between different collections. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=237"
  },
  {
    "text": "But if there is not enough space, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=239"
  },
  {
    "text": "like in Split Screen mode, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=241"
  },
  {
    "text": "we will fall back to the existing compact picker UI. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=243"
  },
  {
    "text": "Next, macOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=248"
  },
  {
    "text": "The macOS picker also has a sidebar with Mac-style controls. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=251"
  },
  {
    "text": "And just like the iOS picker, it supports multiple selection, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=256"
  },
  {
    "text": "fluid zooming in the grid, and has a powerful search feature ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=260"
  },
  {
    "text": "which allows you to search for things like people, places, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=263"
  },
  {
    "text": "and a lot more. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=267"
  },
  {
    "text": "The new picker UI is also available in NSOpenPanel. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=270"
  },
  {
    "text": "You can use it to select assets from the system photo library, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=274"
  },
  {
    "text": "and for the first time, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=278"
  },
  {
    "text": "including those assets stored in iCloud Photos. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=279"
  },
  {
    "text": "Your app will get the new UI for free ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=283"
  },
  {
    "text": "without needing to do any adoption work. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=286"
  },
  {
    "text": "Drag and drop is supported in the NSOpenPanel picker. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=289"
  },
  {
    "text": "It's also supported in the standard picker on iOS, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=294"
  },
  {
    "text": "iPadOS, and macOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=297"
  },
  {
    "text": "If your app only needs to select a few images or videos, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=300"
  },
  {
    "text": "the NSOpenPanel API may be all you need. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=304"
  },
  {
    "text": "But keep in mind that selected files in the photo library ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=308"
  },
  {
    "text": "may be deleted by the system at any time. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=311"
  },
  {
    "text": "You should copy them to a location managed by your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=315"
  },
  {
    "text": "if you need to ensure their availability in the long term. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=318"
  },
  {
    "text": "For media-centric macOS apps, we encourage you to default ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=323"
  },
  {
    "text": "to the new Photos picker for the best user experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=328"
  },
  {
    "text": "However, your app should still provide an alternative way ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=332"
  },
  {
    "text": "to select assets from the file system ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=337"
  },
  {
    "text": "using the NSOpenPanel API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=339"
  },
  {
    "text": "Sometimes your customers may still want to select assets ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=342"
  },
  {
    "text": "outside their photo libraries. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=346"
  },
  {
    "text": "Last but not least, let's talk about watchOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=350"
  },
  {
    "text": "For the first time, you can have access to images ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=355"
  },
  {
    "text": "stored on the watch using a new API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=358"
  },
  {
    "text": "The watchOS picker also runs out of process, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=361"
  },
  {
    "text": "like the iOS and the macOS picker, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=364"
  },
  {
    "text": "so you don't need to request any library access to use it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=366"
  },
  {
    "text": "It has a UI similar to the iOS picker ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=370"
  },
  {
    "text": "but optimized for the smaller screen. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=373"
  },
  {
    "text": "You can browse your photos in the grid or by collections. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=377"
  },
  {
    "text": "You can configure the picker to show the selection order, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=381"
  },
  {
    "text": "as well as specifying a selection limit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=384"
  },
  {
    "text": "However, unlike iOS and macOS, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=389"
  },
  {
    "text": "only images will be displayed in the watchOS picker. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=392"
  },
  {
    "text": "If the device has more than 500 images, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=396"
  },
  {
    "text": "only the most recent 500 will be shown. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=399"
  },
  {
    "text": "You may be wondering, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=403"
  },
  {
    "text": "\"PHPickerViewController is UIKit based. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=405"
  },
  {
    "text": "How can I use it for my macOS or watchOS app?\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=408"
  },
  {
    "text": "As you may have guessed, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=412"
  },
  {
    "text": "new picker APIs are now available in AppKit and SwiftUI. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=414"
  },
  {
    "text": "Let's take a look at the AppKit API first. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=420"
  },
  {
    "text": "Actually, it is very similar to the UIKit API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=423"
  },
  {
    "text": "You have access to the same PHPickerConfiguration type ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=427"
  },
  {
    "text": "and its properties. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=431"
  },
  {
    "text": "There is only a small difference: ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=433"
  },
  {
    "text": "PHPickerViewController is a NSViewController subclass ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=436"
  },
  {
    "text": "for AppKit apps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=439"
  },
  {
    "text": "With the introduction of the AppKit-based PHPicker, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=443"
  },
  {
    "text": "it's time to move away from the legacy media library browser. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=447"
  },
  {
    "text": "PHPicker is a lot more powerful. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=451"
  },
  {
    "text": "It's also easier to maintain if you are working on both ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=455"
  },
  {
    "text": "UIKit and AppKit apps at the same time. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=458"
  },
  {
    "text": "Finally, it's time to talk about the SwiftUI API.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=463"
  },
  {
    "text": "Remember the iOS picker you saw at the beginning of the session? ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=469"
  },
  {
    "text": "It can be presented with only a few lines of SwiftUI code. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=473"
  },
  {
    "text": "More importantly, you have access ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=478"
  },
  {
    "text": "to the SwiftUI PhotosPicker API ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=480"
  },
  {
    "text": "on all picker-supported platforms: ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=483"
  },
  {
    "text": "iOS, iPadOS, macOS, and watchOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=486"
  },
  {
    "text": "The picker will automatically choose the best layout ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=490"
  },
  {
    "text": "depending on the platform, your app's configuration, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=493"
  },
  {
    "text": "and available screen space. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=497"
  },
  {
    "text": "You don't need to worry about what the picker UI should be, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=500"
  },
  {
    "text": "so you just can focus on making your app better.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=503"
  },
  {
    "text": "Before we look at the new API in detail via a demo, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=509"
  },
  {
    "text": "we should talk about how to load ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=512"
  },
  {
    "text": "selected photos and videos first. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=514"
  },
  {
    "text": "The selection you receive through the SwiftUI binding ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=518"
  },
  {
    "text": "only contains placeholder objects. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=522"
  },
  {
    "text": "You still need to load actual asset data on demand. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=525"
  },
  {
    "text": "Keep in mind that some asset data ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=530"
  },
  {
    "text": "won't be loaded immediately. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=531"
  },
  {
    "text": "The load operation could also fail ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=534"
  },
  {
    "text": "if an error was encountered, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=536"
  },
  {
    "text": "for example, when the picker was trying to download data ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=538"
  },
  {
    "text": "from iCloud Photos but the device was not connected ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=542"
  },
  {
    "text": "to the internet. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=545"
  },
  {
    "text": "Some large files like videos may take a long time to download, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=548"
  },
  {
    "text": "so we recommend you to show a per-item inline loading UI ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=552"
  },
  {
    "text": "instead of a blocking loading indicator. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=556"
  },
  {
    "text": "The PhotosPicker uses Transferable, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=561"
  },
  {
    "text": "which is a new SwiftUI protocol for transferring data ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=563"
  },
  {
    "text": "between apps and extensions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=566"
  },
  {
    "text": "You can load SwiftUI Image via Transferable directly, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=569"
  },
  {
    "text": "but for advanced use cases, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=573"
  },
  {
    "text": "you should define your own model objects ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=575"
  },
  {
    "text": "conforming to the Transferable protocol ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=577"
  },
  {
    "text": "to fully control the type of data you want to load. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=580"
  },
  {
    "text": "For more information about Transferable, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=584"
  },
  {
    "text": "you can check out the \"Meet Transferable\" session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=587"
  },
  {
    "text": "If your app needs to deal with a lot of items at the same time, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=590"
  },
  {
    "text": "or large assets like videos, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=594"
  },
  {
    "text": "it may not be feasible to load everything in memory ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=597"
  },
  {
    "text": "at the same time. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=600"
  },
  {
    "text": "To reduce memory usage, you can use FileTransferRepresentation ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=603"
  },
  {
    "text": "to load selected assets as files. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=608"
  },
  {
    "text": "When loading assets as files, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=611"
  },
  {
    "text": "keep in mind that your app is responsible ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=613"
  },
  {
    "text": "for managing their lifecycles. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=616"
  },
  {
    "text": "Files should always be copied to your app directory ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=619"
  },
  {
    "text": "when received and deleted when they are no longer needed. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=621"
  },
  {
    "text": "OK, it's time for the demo! ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=627"
  },
  {
    "text": "I have already set up this demo app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=630"
  },
  {
    "text": "showing an account profile page. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=631"
  },
  {
    "text": "Right now the profile image is just a placeholder icon. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=634"
  },
  {
    "text": "We want to add an edit button to change the profile image ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=639"
  },
  {
    "text": "using the PhotosPicker API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=642"
  },
  {
    "text": "The profile image view can already respond ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=645"
  },
  {
    "text": "to the image state defined in our view model, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=647"
  },
  {
    "text": "so we just need to update the image state ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=650"
  },
  {
    "text": "when a picker selection is received. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=652"
  },
  {
    "text": "First, let's go to our view model ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=656"
  },
  {
    "text": "and add a new imageSelection property. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=658"
  },
  {
    "text": "It will be passed to the PhotosPicker API ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=661"
  },
  {
    "text": "as the selection binding. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=664"
  },
  {
    "text": "Now we can go back to our profile image view, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=667"
  },
  {
    "text": "and add an overlay button that brings up the picker.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=670"
  },
  {
    "text": "OK, let's pause for a second and take a look at the code ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=679"
  },
  {
    "text": "we just added. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=682"
  },
  {
    "text": "We added a PhotosPicker view, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=684"
  },
  {
    "text": "given it the selection binding we just defined, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=686"
  },
  {
    "text": "and configured it to only show images. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=689"
  },
  {
    "text": "The label of the PhotosPicker ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=693"
  },
  {
    "text": "is just a pencil glyph with a circle background. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=694"
  },
  {
    "text": "We can build and run to see what we have so far. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=699"
  },
  {
    "text": "I can tap the edit button to bring up the picker. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=702"
  },
  {
    "text": "Tapping an image will automatically close the picker, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=706"
  },
  {
    "text": "but the profile image is not updated. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=709"
  },
  {
    "text": "Why? ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=712"
  },
  {
    "text": "We still need to connect the image selection ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=713"
  },
  {
    "text": "and the image state. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=715"
  },
  {
    "text": "So, let's do that. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=717"
  },
  {
    "text": "We can go back to the view model ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=719"
  },
  {
    "text": "and respond to image selection did set. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=721"
  },
  {
    "text": "We set the image state to empty if the image selection is nil. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=724"
  },
  {
    "text": "Otherwise, we start loading the image. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=728"
  },
  {
    "text": "We are seeing a compiler error because we haven't implemented ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=732"
  },
  {
    "text": "the loadTransferable method yet. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=735"
  },
  {
    "text": "Let's fix it.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=737"
  },
  {
    "text": "The implementation is very simple. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=743"
  },
  {
    "text": "We just need to respond to the completion handler ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=745"
  },
  {
    "text": "and update image state ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=748"
  },
  {
    "text": "if the request is still the most recent one. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=749"
  },
  {
    "text": "Let's build and run to see it in action. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=754"
  },
  {
    "text": "I can tap the edit button and select an image. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=757"
  },
  {
    "text": "Great! It works as expected. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=763"
  },
  {
    "text": "Actually, the project is already set up to run on macOS as well. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=766"
  },
  {
    "text": "Will the code I just added automatically work on macOS? ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=772"
  },
  {
    "text": "Let's build and run to find out. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=776"
  },
  {
    "text": "It compiles! ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=779"
  },
  {
    "text": "I can open the picker, select an image, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=781"
  },
  {
    "text": "and it is reflected in the app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=784"
  },
  {
    "text": "That's it for the demo. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=787"
  },
  {
    "text": "You just saw the demo on iOS and macOS, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=789"
  },
  {
    "text": "but the same code will work on watchOS as well. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=793"
  },
  {
    "text": "However, there are a few things to keep in mind.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=797"
  },
  {
    "text": "The watchOS picker is designed for simple flows ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=803"
  },
  {
    "text": "and short interactions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=805"
  },
  {
    "text": "Images are scaled based on the device size. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=808"
  },
  {
    "text": "Usually, they are synced from the paired iPhone. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=811"
  },
  {
    "text": "However, Family Setup lets your family members ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=816"
  },
  {
    "text": "who don't have their own iPhone ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=819"
  },
  {
    "text": "enjoy the features and benefits of an Apple Watch. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=821"
  },
  {
    "text": "If a device is in the Family Setup mode, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=826"
  },
  {
    "text": "the most recent 1000 images in iCloud Photos can be selected ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=829"
  },
  {
    "text": "using the picker. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=832"
  },
  {
    "text": "The picker may need to download some images from the internet. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=835"
  },
  {
    "text": "And if that's the case, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=839"
  },
  {
    "text": "a loading UI will be shown in the picker before closing.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=841"
  },
  {
    "text": "Before you go, I just want to say ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=846"
  },
  {
    "text": "that we are committed to making the system Photos picker ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=848"
  },
  {
    "text": "the best way for most apps to access photos and videos. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=851"
  },
  {
    "text": "We really encourage you to switch to it ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=855"
  },
  {
    "text": "if you are still using a custom picker. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=857"
  },
  {
    "text": "Thank you, and have a great WWDC! ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=860"
  },
  {
    "text": "♪",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10023/?time=863"
  }
]