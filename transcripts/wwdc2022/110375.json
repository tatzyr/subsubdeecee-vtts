[
  {
    "text": "♪ instrumental hip hop music ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=1"
  },
  {
    "text": "Hello, my name is John, and I'm an engineer on the Xcode Cloud team. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=9"
  },
  {
    "text": "And I'm Jo Lynn, a designer on the Xcode Cloud team. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=12"
  },
  {
    "text": "Today we're going to take a look at some of the features of Xcode Cloud ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=15"
  },
  {
    "text": "that are super helpful when you're using Xcode Cloud ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=18"
  },
  {
    "text": "as part of a team, whether that's a team of 5 or 500. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=20"
  },
  {
    "text": "And I'm going to share some other features and best practices ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=23"
  },
  {
    "text": "that work well when you use Xcode Cloud as part of a team. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=27"
  },
  {
    "text": "In our session today, we're going to go into detail ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=30"
  },
  {
    "text": "on some topics which are also covered in some other sessions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=32"
  },
  {
    "text": "If you want to learn more about webhooks and other advanced workflow topics, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=35"
  },
  {
    "text": "check out the \"Customize your advanced Xcode Cloud workflows\" session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=39"
  },
  {
    "text": "In this session, we're going to look at how we can integrate Xcode Cloud ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=43"
  },
  {
    "text": "into your existing tools and technologies that you use every day, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=45"
  },
  {
    "text": "easily manage your code dependencies, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=49"
  },
  {
    "text": "and showcase Xcode Cloud best practices to help you set up workflows ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=52"
  },
  {
    "text": "to continuously build, test, and distribute your apps effectively.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=55"
  },
  {
    "text": "Let's get started. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=61"
  },
  {
    "text": "When it comes to integrating Xcode Cloud into your existing tools, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=62"
  },
  {
    "text": "we have a couple of options. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=65"
  },
  {
    "text": "Webhooks allow easy integration with tools and services that support them. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=66"
  },
  {
    "text": "You can connect a webhook in App Store Connect ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=70"
  },
  {
    "text": "by telling Xcode Cloud what URL to send the webhook to, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=72"
  },
  {
    "text": "and you should start to see those webhooks come in right away.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=76"
  },
  {
    "text": "Our API also allows a great amount of visibility into your builds, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=80"
  },
  {
    "text": "allowing you to do things like easily create build dashboards, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=83"
  },
  {
    "text": "extract your build artifacts, or, in our example today, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=86"
  },
  {
    "text": "integrate build information into your existing software.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=90"
  },
  {
    "text": "We've been building out a bunch of new features for our food truck app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=94"
  },
  {
    "text": "but we've also been finding new bugs, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=97"
  },
  {
    "text": "and now that we have a team of people working on the app together, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=100"
  },
  {
    "text": "we've found it difficult to understand who is working on what.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=102"
  },
  {
    "text": "To solve this problem, we've decided to use an issue tracker ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=106"
  },
  {
    "text": "to track all of the work going on in our app.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=109"
  },
  {
    "text": "If you're using an issue tracker, you often have a view like this. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=112"
  },
  {
    "text": "A common workflow with issue trackers is to create a ticket, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=115"
  },
  {
    "text": "have designers and developers work on that ticket, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=119"
  },
  {
    "text": "and finally, close it once the feature or bug is complete. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=122"
  },
  {
    "text": "Having the actual build information ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=126"
  },
  {
    "text": "shown in our issue tracker ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=128"
  },
  {
    "text": "would be a big help in connecting all the dots together. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=129"
  },
  {
    "text": "Let's take a look at how we might do that now. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=132"
  },
  {
    "text": "Our plan here is to create a very simple Swift On Server-based service ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=134"
  },
  {
    "text": "that will handle everything we need ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=138"
  },
  {
    "text": "to integrate our issue tracker with Xcode Cloud. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=139"
  },
  {
    "text": "To speed up development, we'll use the Vapor web framework, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=143"
  },
  {
    "text": "which will let us focus on writing the webhook handling code. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=145"
  },
  {
    "text": "The basic flow will look something like this. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=149"
  },
  {
    "text": "A webhook will come from Xcode Cloud to our server. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=152"
  },
  {
    "text": "We will read that webhook and check if the commit message ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=155"
  },
  {
    "text": "written by the committer has a certain string in it ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=158"
  },
  {
    "text": "which maps to an issue in our tracker. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=160"
  },
  {
    "text": "If it does, we'll hit the Xcode Cloud API ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=163"
  },
  {
    "text": "to gather more information about the build. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=165"
  },
  {
    "text": "Then we'll construct a comment we can post onto our issue tracker ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=168"
  },
  {
    "text": "that contains the information we're interested in.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=172"
  },
  {
    "text": "We'll then call an API on our issue tracker, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=176"
  },
  {
    "text": "which will save the message against our issue.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=177"
  },
  {
    "text": "First, let's take a look at the Xcode Cloud API documentation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=181"
  },
  {
    "text": "All of the Xcode Cloud API lives under the App Store Connect API.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=184"
  },
  {
    "text": "If we have already set up authentication tokens ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=188"
  },
  {
    "text": "for the App Store Connect API, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=190"
  },
  {
    "text": "we already have everything we need to also access our Xcode Cloud data. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=192"
  },
  {
    "text": "Opening up the Build Runs collection, we can see some endpoints ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=197"
  },
  {
    "text": "that let us interact with our builds. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=200"
  },
  {
    "text": "You can call an endpoint to create a build, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=202"
  },
  {
    "text": "cancel a build, or get more information about a particular build. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=204"
  },
  {
    "text": "For example, if you wanted to build a dashboard ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=209"
  },
  {
    "text": "to show the status of your builds, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=211"
  },
  {
    "text": "the Ci_Build_Runs endpoint should be all we would need to call. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=213"
  },
  {
    "text": "Next, let's look at the Artifacts collection in the documentation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=216"
  },
  {
    "text": "For our workflow, we want to keep our build artifacts ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=220"
  },
  {
    "text": "outside of Xcode Cloud, and the API should have everything we need to do that. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=222"
  },
  {
    "text": "First, we can get the artifact ID from the build action endpoint, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=226"
  },
  {
    "text": "which will return all the artifacts produced for a given action. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=229"
  },
  {
    "text": "Then we can call ci_artifact, which will give us the URL we need ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=232"
  },
  {
    "text": "to download our artifact in the downloadUrl attribute. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=236"
  },
  {
    "text": "Let's start by downloading the openAPI spec ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=240"
  },
  {
    "text": "from the App Store Connect documentation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=242"
  },
  {
    "text": "and go through what we need to create our client for the API.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=245"
  },
  {
    "text": "Let's create a new directory where we can create our client code. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=249"
  },
  {
    "text": "I'm going to call this xcodecloud-client. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=252"
  },
  {
    "text": "Now we need to download the command line tool for our generator. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=254"
  },
  {
    "text": "There's lots of ways to do this on the openAPI website, and for our session, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=257"
  },
  {
    "text": "I've already set it up ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=260"
  },
  {
    "text": "Let's copy the openAPI spec that we just got ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=262"
  },
  {
    "text": "from the app_store_connect_API into our directory. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=264"
  },
  {
    "text": "Great, now we can call the openAPI generator ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=267"
  },
  {
    "text": "and tell it to create a swift client for our API.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=269"
  },
  {
    "text": "While the generator is running, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=276"
  },
  {
    "text": "we can quickly talk about what it's doing. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=278"
  },
  {
    "text": "An openAPI specification is made up of information ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=279"
  },
  {
    "text": "about all the paths and models that make up our API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=282"
  },
  {
    "text": "The generator is going through each of the API paths ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=285"
  },
  {
    "text": "and generating Swift code that can talk to that particular path, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=289"
  },
  {
    "text": "with a strongly typed swift object. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=291"
  },
  {
    "text": "In most cases, this means you don't have to do ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=295"
  },
  {
    "text": "any JSON encoding or decoding. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=297"
  },
  {
    "text": "Great, our generator is finished, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=301"
  },
  {
    "text": "so let's take a quick look at the files it created.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=303"
  },
  {
    "text": "Conveniently, the client code is a Swift package. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=306"
  },
  {
    "text": "This makes it really easy to include in our webhook server ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=309"
  },
  {
    "text": "that will update our issue tracker. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=312"
  },
  {
    "text": "Now we can commit our code to a new git repository, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=313"
  },
  {
    "text": "and we can then reference this as a Swift package. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=317"
  },
  {
    "text": "Now that we've got everything we need to talk with our API, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=319"
  },
  {
    "text": "let's set up our webhook. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=322"
  },
  {
    "text": "in App Store Connect, we can register our webhook ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=324"
  },
  {
    "text": "that will let our server know every time a build completes.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=325"
  },
  {
    "text": "To do that, go to your product in App Store Connect, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=329"
  },
  {
    "text": "go to settings, and navigate to webhooks.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=332"
  },
  {
    "text": "And I'll paste in the URL for our server. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=344"
  },
  {
    "text": "This will let Xcode Cloud know where to send the webhooks. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=346"
  },
  {
    "text": "With our web hook set up, the only thing left to do ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=349"
  },
  {
    "text": "is write the code to process them, so let's get started on that. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=351"
  },
  {
    "text": "First we have to define a struct ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=355"
  },
  {
    "text": "which matches to the fields we're interested in from our webhook. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=357"
  },
  {
    "text": "The webhook will contain information about the specific build being executed, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=360"
  },
  {
    "text": "as well as each actions being performed, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=363"
  },
  {
    "text": "so let's keep those in our webhook payload struct.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=365"
  },
  {
    "text": "Next, we have to create the code to have Vapor correctly route ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=369"
  },
  {
    "text": "incoming webhooks to our function. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=371"
  },
  {
    "text": "We'll define a function that runs on a post request to the webhook path. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=374"
  },
  {
    "text": "Inside this function, all we need to do ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=379"
  },
  {
    "text": "to convert the incoming JSON payload into a strongly typed Swift object ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=380"
  },
  {
    "text": "is to decode it, so we'll also add that code as well.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=385"
  },
  {
    "text": "Great, now all we need to do is call the Xcode Cloud API ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=388"
  },
  {
    "text": "to get a little bit more information about the build which just completed ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=391"
  },
  {
    "text": "so that we can include it on our issue tracker page. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=394"
  },
  {
    "text": "The webhook payload contains a lot of information ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=397"
  },
  {
    "text": "about the build which just ran, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=399"
  },
  {
    "text": "and what actions succeeded or failed. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=400"
  },
  {
    "text": "We could probably stop there, but let's take it to the next level. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=403"
  },
  {
    "text": "I think it would be amazing if we also include information ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=407"
  },
  {
    "text": "about which issues were found in each action.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=409"
  },
  {
    "text": "We can write an extension function to CiBuildActionsAPI ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=413"
  },
  {
    "text": "that gives us the ability to easily return the issues we're interested in ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=417"
  },
  {
    "text": "for a particular action.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=420"
  },
  {
    "text": "In this extension, we'll write a function ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=423"
  },
  {
    "text": "that takes the build action ID as a parameter ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=425"
  },
  {
    "text": "and returns all the issues found for a particular action.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=427"
  },
  {
    "text": "I already have this in my project, but let's fill in the rest of our code.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=432"
  },
  {
    "text": "We only want our webhook handler to run if the build is complete, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=436"
  },
  {
    "text": "so let's guard against that. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=439"
  },
  {
    "text": "Next we can start working on our comment string. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=441"
  },
  {
    "text": "I think it would be great to have the build number, commit hash, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=444"
  },
  {
    "text": "as well as the author in this string.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=446"
  },
  {
    "text": "Now let's go through each action and call our extension function ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=452"
  },
  {
    "text": "to get the issues for each action. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=455"
  },
  {
    "text": "Let's pass this all on to our issue tracker now.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=457"
  },
  {
    "text": "With all of this information, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=467"
  },
  {
    "text": "I think this will help us keep our issue tracker ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=468"
  },
  {
    "text": "up to date with our builds.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=470"
  },
  {
    "text": "And we're done! ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=472"
  },
  {
    "text": "At this point, we want to host our server code ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=474"
  },
  {
    "text": "at the URL we provided to Xcode Cloud for the webhooks, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=475"
  },
  {
    "text": "and we should start to see Xcode Cloud build information in our issue tracker.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=478"
  },
  {
    "text": "Let's have a quick summary about what we've learned so far. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=483"
  },
  {
    "text": "Xcode Cloud has a great API you can use ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=486"
  },
  {
    "text": "to get an even deeper integration with your existing development workflows. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=488"
  },
  {
    "text": "You can use that API along with webhooks to connect all the dots together ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=492"
  },
  {
    "text": "and integrate your existing tools and technologies with Xcode Cloud. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=497"
  },
  {
    "text": "Next, here's Jo to talk about other features and best practices. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=500"
  },
  {
    "text": "Jo: Thanks, John! ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=504"
  },
  {
    "text": "Xcode Cloud is designed to integrate with Apple developer tools and services ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=505"
  },
  {
    "text": "that you use to create apps and frameworks. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=511"
  },
  {
    "text": "However, your Xcode project may require additional dependencies ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=514"
  },
  {
    "text": "or external tools to compile your code. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=519"
  },
  {
    "text": "Xcode Cloud works great with Swift Package Manager. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=521"
  },
  {
    "text": "It supports Swift package dependencies ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=525"
  },
  {
    "text": "without requiring any additional configuration, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=527"
  },
  {
    "text": "if the package's repository is publicly accessible. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=530"
  },
  {
    "text": "You can also make Xcode Cloud work with third-party dependency managers ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=533"
  },
  {
    "text": "like Cocoapods and Carthage, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=539"
  },
  {
    "text": "but you'll have to do a little extra work by using custom build scripts.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=541"
  },
  {
    "text": "You can refer to the Xcode documentation for instructions ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=545"
  },
  {
    "text": "on how to make dependencies available to Xcode Cloud.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=549"
  },
  {
    "text": "Once we've added our Swift package ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=555"
  },
  {
    "text": "and pushed changes to kick off the workflow, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=557"
  },
  {
    "text": "we can go to the cloud tab of the Report Navigator, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=559"
  },
  {
    "text": "and view the status of our latest build.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=562"
  },
  {
    "text": "Select Logs to view the detailed build logs.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=566"
  },
  {
    "text": "We'll see that Xcode Cloud has automagically resolved the dependencies.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=571"
  },
  {
    "text": "After Xcode Cloud has successfully completed the first build, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=576"
  },
  {
    "text": "you should plan next steps ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=580"
  },
  {
    "text": "for refining your continuous integration and delivery practice ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=582"
  },
  {
    "text": "to make sure that your app or framework is always in a shippable state. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=585"
  },
  {
    "text": "In this section, I'm going to talk about how you can use ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=590"
  },
  {
    "text": "Xcode Cloud with SwiftLint for static code analysis, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=594"
  },
  {
    "text": "how to restrict editing on your workflows, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=598"
  },
  {
    "text": "and the value of configuring multiple start conditions.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=601"
  },
  {
    "text": "SwiftLint is an open source linter tool that enforces ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=605"
  },
  {
    "text": "style guide rules and conventions generally accepted by the Swift community. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=609"
  },
  {
    "text": "It performs static code analysis to improve your code quality ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=614"
  },
  {
    "text": "and prevent bad practices.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=617"
  },
  {
    "text": "We have found that SwiftLint is a great way ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=620"
  },
  {
    "text": "to keep your team's codebase consistent, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=622"
  },
  {
    "text": "especially when working with larger teams. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=624"
  },
  {
    "text": "What we're going to show now is how to integrate SwiftLint ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=627"
  },
  {
    "text": "with Xcode Cloud using a custom build script. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=630"
  },
  {
    "text": "We want Xcode Cloud to run the SwiftLint tool ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=633"
  },
  {
    "text": "after it clones our source code from the team's primary repository. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=636"
  },
  {
    "text": "In the Project navigator, I've already added a post_clone script ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=641"
  },
  {
    "text": "in my ci_scripts folder to my Food Truck project.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=645"
  },
  {
    "text": "The Xcode Cloud build environment includes Homebrew, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=651"
  },
  {
    "text": "and that's what we're using here to install SwiftLint.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=654"
  },
  {
    "text": "On this line, we are executing SwiftLint. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=659"
  },
  {
    "text": "One thing to remember is that the script executes within the ci_scripts directory, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=662"
  },
  {
    "text": "so we have to tell SwiftLint to run within the ci_workspace ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=667"
  },
  {
    "text": "environment variable, which points to our repository.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=670"
  },
  {
    "text": "Let's check out the result of the code analysis. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=676"
  },
  {
    "text": "Looks like SwiftLint found a bunch of violations, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=679"
  },
  {
    "text": "15 of them serious. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=682"
  },
  {
    "text": "Since this is the first time we're integrating our tools, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=684"
  },
  {
    "text": "I'm going to temporarily deactivate this workflow ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=687"
  },
  {
    "text": "so that we can have a discussion with the rest of our team first, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=690"
  },
  {
    "text": "come up with an agreement about coding styles and conventions, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=694"
  },
  {
    "text": "and then decide as a team which issues we want to fix. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=698"
  },
  {
    "text": "You can deactivate a workflow in Xcode from the Manage Workflows menu. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=702"
  },
  {
    "text": "Doing so will stop the start conditions from working, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=706"
  },
  {
    "text": "and only manual builds can be started.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=710"
  },
  {
    "text": "Now that our static code analysis workflow has been deactivated, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=717"
  },
  {
    "text": "we can focus on fixing the issues we want to fix. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=721"
  },
  {
    "text": "Then we can come back and enable this workflow. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=724"
  },
  {
    "text": "Our team has been growing rapidly, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=727"
  },
  {
    "text": "and we want to make conscious choices about workflow configurations. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=729"
  },
  {
    "text": "Because I'm responsible for maintaining and managing ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=733"
  },
  {
    "text": "all of our team's workflows, I don't want team members to make ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=735"
  },
  {
    "text": "unintentional changes to a workflow. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=739"
  },
  {
    "text": "That takes a lot of time to undo. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=741"
  },
  {
    "text": "To prevent unintentional changes, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=743"
  },
  {
    "text": "you can restrict who can make edits to your workflow. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=746"
  },
  {
    "text": "Select the workflow, then choose Restrict Editing from the context menu. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=749"
  },
  {
    "text": "Anyone in the team can use or run this workflow, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=755"
  },
  {
    "text": "but only administrators, account holders, and app managers ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=758"
  },
  {
    "text": "can enforce a restriction, which makes it editable only by them.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=761"
  },
  {
    "text": "A workflow where editing is restricted will have a 'key' symbol. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=767"
  },
  {
    "text": "This means that it is locked and can only be edited by you ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=771"
  },
  {
    "text": "and other administrative users.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=775"
  },
  {
    "text": "If you see a 'lock' symbol instead, this means that it has been locked ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=779"
  },
  {
    "text": "by an administrator and cannot be edited by you. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=783"
  },
  {
    "text": "This feature makes it easy to manage access for complex workflows, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=786"
  },
  {
    "text": "especially if you're part of a large team. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=791"
  },
  {
    "text": "We've just learned how easy it is to pause or lock down our workflows. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=793"
  },
  {
    "text": "Now let's talk about workflow management and maintenance.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=798"
  },
  {
    "text": "I want to run the same tests and archive actions ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=802"
  },
  {
    "text": "whenever I make a pull request or when I merge my branch. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=806"
  },
  {
    "text": "The best way to do so is through multiple start conditions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=810"
  },
  {
    "text": "This improves the maintenance of workflows ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=813"
  },
  {
    "text": "because it reduces the number of workflows that you'll need to create and manage. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=816"
  },
  {
    "text": "To illustrate, in this example, I want to kick off a build ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=821"
  },
  {
    "text": "given the following conditions: if there are changes in the main branch ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=825"
  },
  {
    "text": "or the release branch, or if there's a scheduled build ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=829"
  },
  {
    "text": "for the main branch, then, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=832"
  },
  {
    "text": "run the same set of archive and test actions ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=834"
  },
  {
    "text": "as well as deploy to TestFlight for internal testing. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=837"
  },
  {
    "text": "Instead of creating 3 workflows, then managing them ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=841"
  },
  {
    "text": "and keeping them in sync, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=843"
  },
  {
    "text": "I'd create a single workflow specifying all the start conditions in one go. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=845"
  },
  {
    "text": "This improves manageability, especially when the team has ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=850"
  },
  {
    "text": "many workflows to maintain.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=854"
  },
  {
    "text": "Configuring start conditions in Xcode is easy. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=857"
  },
  {
    "text": "From the workflow editor, pick the type of start conditions ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=860"
  },
  {
    "text": "from the + button menu.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=864"
  },
  {
    "text": "Xcode Cloud in App Store Connect ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=868"
  },
  {
    "text": "provides a fully featured web-based experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=871"
  },
  {
    "text": "Everything that I just did in Xcode to configure our workflow, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=875"
  },
  {
    "text": "from deactivating it and locking it down, to setting up multiple start conditions, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=879"
  },
  {
    "text": "are also available from AppStoreConnect. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=883"
  },
  {
    "text": "Xcode Cloud is a powerful, continuous integration & delivery service ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=886"
  },
  {
    "text": "built right into Xcode that helps development teams of any size ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=891"
  },
  {
    "text": "and can easily be integrated with your existing tools and processes ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=895"
  },
  {
    "text": "to help you deliver high-quality apps for your users. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=899"
  },
  {
    "text": "To the Xcode Cloud beta participants, we really appreciate your feedback ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=903"
  },
  {
    "text": "and look forward to hearing more. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=907"
  },
  {
    "text": "We hope these features can help you refine ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=909"
  },
  {
    "text": "your team's continuous integration & delivery practice. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=911"
  },
  {
    "text": "Thank you for watching, and have a great WWDC! ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=913"
  },
  {
    "text": "♪ instrumental hip hop music ♪",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110375/?time=916"
  }
]