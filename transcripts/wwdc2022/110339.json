[
  {
    "text": "♪ ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=0"
  },
  {
    "text": "Hello, everyone. I'm Elliot Garner. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=9"
  },
  {
    "text": "I'm an engineer on the Internet Technologies team, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=12"
  },
  {
    "text": "and today I'm going to be discussing how to build device-to-device experiences ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=14"
  },
  {
    "text": "using Network framework, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=18"
  },
  {
    "text": "and its new companion framework, DeviceDiscoveryUI. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=20"
  },
  {
    "text": "We'll start off by learning about cross-device connectivity, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=23"
  },
  {
    "text": "and how it can improve your apps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=26"
  },
  {
    "text": "We'll explore how a new framework, DeviceDiscoveryUI, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=30"
  },
  {
    "text": "which pairs with Network framework to make that connectivity as simple as possible. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=33"
  },
  {
    "text": "We'll walk through a code example of how to update your apps ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=39"
  },
  {
    "text": "to use DeviceDiscoveryUI, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=42"
  },
  {
    "text": "including an in-depth look at how to discover devices ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=44"
  },
  {
    "text": "using the new system device picker, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=47"
  },
  {
    "text": "And how to connect to those devices using Network framework. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=50"
  },
  {
    "text": "So let's start with cross-device connectivity. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=55"
  },
  {
    "text": "Connecting to, and exchanging data between, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=58"
  },
  {
    "text": "nearby devices is often essential for building seamless, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=60"
  },
  {
    "text": "integrated experiences within your apps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=64"
  },
  {
    "text": "Fitness and meditation apps often work best on a large screen ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=67"
  },
  {
    "text": "where a coach can demonstrate moves. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=70"
  },
  {
    "text": "People benefit from seeing their heart rate, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=73"
  },
  {
    "text": "calorie burn, and movement data collected from their Apple Watch. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=75"
  },
  {
    "text": "Likewise, gaming experiences can be made more immersive ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=80"
  },
  {
    "text": "with input and actions from a connected iPhone, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=84"
  },
  {
    "text": "or augmented by extending a second-screen experience to a nearby iPad. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=87"
  },
  {
    "text": "All of these experiences– games, fitness, and wellness apps– ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=93"
  },
  {
    "text": "all share a need for reliable and easy-to-use cross-device connectivity. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=98"
  },
  {
    "text": "And that all starts with discovering a device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=103"
  },
  {
    "text": "To help kickstart that discovery, we're introducing DeviceDiscoveryUI– ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=106"
  },
  {
    "text": "a new framework that provides secure, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=110"
  },
  {
    "text": "privacy-preserving discovery of nearby devices. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=113"
  },
  {
    "text": "New in iOS 16, DeviceDiscoveryUI pairs with Network framework ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=117"
  },
  {
    "text": "to enable device-to-device connectivity ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=122"
  },
  {
    "text": "between your Apple TV apps and nearby iPhones, iPads, and Apple Watches.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=125"
  },
  {
    "text": "DeviceDiscoveryUI provides system UI for easy discovery of nearby devices. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=132"
  },
  {
    "text": "Once a device has been discovered, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=139"
  },
  {
    "text": "your app can easily open a connection to that device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=141"
  },
  {
    "text": "Because this connection was established using system UI, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=144"
  },
  {
    "text": "you don't need to worry about managing permissions for local network access. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=147"
  },
  {
    "text": "And because the system handles securely establishing this connection, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=152"
  },
  {
    "text": "you no longer need to implement your own key exchange, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=156"
  },
  {
    "text": "because the platform encrypts transmitted data for you. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=159"
  },
  {
    "text": "Here we can see that system UI in action. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=162"
  },
  {
    "text": "On the left, your app's icon is displayed, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=165"
  },
  {
    "text": "along with a required usage description string ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=168"
  },
  {
    "text": "explaining what your app does with cross-device connectivity. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=171"
  },
  {
    "text": "On the right is the list of discovered devices. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=175"
  },
  {
    "text": "Because some apps may only be available on specific platforms, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=179"
  },
  {
    "text": "you can filter discovered devices by platform.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=182"
  },
  {
    "text": "Upon selection of \"Adam's iPhone\", ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=188"
  },
  {
    "text": "the system prompts for permission to create a connection ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=190"
  },
  {
    "text": "between those devices. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=193"
  },
  {
    "text": "With this explicit user consent, you no longer need to request access ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=195"
  },
  {
    "text": "to the entire local network. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=199"
  },
  {
    "text": "And once permission has been granted, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=201"
  },
  {
    "text": "your app will be launched on the selected device ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=203"
  },
  {
    "text": "to handle incoming connections.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=206"
  },
  {
    "text": "This means your app no longer needs to be running on both devices ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=209"
  },
  {
    "text": "before a connection can be established. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=213"
  },
  {
    "text": "When permission is granted on \"Joe's Apple Watch\", ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=215"
  },
  {
    "text": "the system immediately launches your app so the two devices can connect.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=218"
  },
  {
    "text": "And if your app isn't installed on that device, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=224"
  },
  {
    "text": "the system offers to take people to the App Store. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=226"
  },
  {
    "text": "That way they can immediately download your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=229"
  },
  {
    "text": "and begin using your new features. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=231"
  },
  {
    "text": "Here's how that looks on watchOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=234"
  },
  {
    "text": "Tapping the button will immediately launch your app's page in the App Store, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=237"
  },
  {
    "text": "for a quick and easy download. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=241"
  },
  {
    "text": "So now that we've discussed what DeviceDiscoveryUI can do for your apps, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=244"
  },
  {
    "text": "let's look at how to adopt this new framework.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=248"
  },
  {
    "text": "In previous sessions, we built the Tic-Tac-Toe app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=253"
  },
  {
    "text": "using Network framework. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=256"
  },
  {
    "text": "Today we're gonna be updating it to use DeviceDiscoveryUI ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=258"
  },
  {
    "text": "for discovery of and connections to nearby devices. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=262"
  },
  {
    "text": "In earlier iterations, our app only supported ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=266"
  },
  {
    "text": "playing games between iOS devices. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=269"
  },
  {
    "text": "So to start, we've updated our project for Universal Purchase ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=271"
  },
  {
    "text": "and added a tvOS and watchOS target that all share the same bundle ID. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=275"
  },
  {
    "text": "And we've changed the app so that instead of competing against another player, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=281"
  },
  {
    "text": "you're using your device to play against an AI on the TV. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=285"
  },
  {
    "text": "Next, we need to make additions to the Info.plist ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=289"
  },
  {
    "text": "on both our tvOS application as well as the other platforms ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=292"
  },
  {
    "text": "to declare our new Tic-Tac-Toe application service. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=296"
  },
  {
    "text": "Finally, we'll present the new device picker and use the resulting endpoints ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=300"
  },
  {
    "text": "to make our connection. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=304"
  },
  {
    "text": "Now I'm gonna shift over to Xcode ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=305"
  },
  {
    "text": "and show you what those new Info.plist keys are, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=307"
  },
  {
    "text": "and how they need to be added to the app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=310"
  },
  {
    "text": "On tvOS, our app needs to tell the system what application services to discover, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=314"
  },
  {
    "text": "and what the platforms those services support. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=319"
  },
  {
    "text": "To do that, we need to add our new \"Application Services\" Info.plist.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=322"
  },
  {
    "text": "This dictionary will map to one of two different arrays. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=328"
  },
  {
    "text": "On tvOS, we need to declare the \"Browses\" array, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=332"
  },
  {
    "text": "which contains all of the application services that our app discovers. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=336"
  },
  {
    "text": "Each entry represents a different application service. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=340"
  },
  {
    "text": "Our first item represents our Tic-Tac-Toe application service. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=344"
  },
  {
    "text": "It is a dictionary containing our service identifier, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=348"
  },
  {
    "text": "usage description, and platforms this service supports. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=351"
  },
  {
    "text": "The service identifier is the name of our service, \"TicTacToe\". ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=355"
  },
  {
    "text": "The usage description is a string that will be displayed in the device picker ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=360"
  },
  {
    "text": "to explain why our app needs access to other local devices. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=364"
  },
  {
    "text": "Finally, we have our platform support. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=368"
  },
  {
    "text": "This array contains the platforms supported by the service, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=371"
  },
  {
    "text": "and the system will filter discovered devices accordingly. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=375"
  },
  {
    "text": "You can see here that our service supports iOS, iPadOS, and watchOS devices. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=378"
  },
  {
    "text": "We've already updated the Info.plist used for iOS and iPadOS ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=384"
  },
  {
    "text": "with the corresponding \"Application Services\" dictionary. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=388"
  },
  {
    "text": "Now we're gonna update the plist for watchOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=391"
  },
  {
    "text": "This time, we declare the \"Advertises\" array. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=395"
  },
  {
    "text": "Because DeviceDiscoveryUI will launch our app when it's not running, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=398"
  },
  {
    "text": "the system uses this array to know which services to advertise. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=402"
  },
  {
    "text": "Our entry in the \"Advertises\" array only needs the \"TicTacToe\" service identifier. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=407"
  },
  {
    "text": "Make sure that the service identifier is the same for every platform ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=412"
  },
  {
    "text": "that was declared in the tvOS Info.plist. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=416"
  },
  {
    "text": "Now that Tic-Tac-Toe is configured to browse for ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=419"
  },
  {
    "text": "and advertise our application service, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=422"
  },
  {
    "text": "let's have it actually display the device picker UI. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=425"
  },
  {
    "text": "Our usage description appears on the left. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=428"
  },
  {
    "text": "We made sure this string is active and that it informs people ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=430"
  },
  {
    "text": "of why they want to connect a device and what data they're sharing. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=434"
  },
  {
    "text": "For Tic-Tac-Toe, we're using the connected device as a controller to play the game. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=438"
  },
  {
    "text": "Back in Xcode, because DeviceDiscoveryUI replaces the need ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=443"
  },
  {
    "text": "to manually browse for nearby devices and secures the connection for us, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=447"
  },
  {
    "text": "we can remove the PeerBrowser file and our passcode extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=452"
  },
  {
    "text": "to NWParameters since they're no longer necessary. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=456"
  },
  {
    "text": "Now, we need parameters to describe how we'd like to connect to nearby devices.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=460"
  },
  {
    "text": "First, we use the new convenience initializer, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=468"
  },
  {
    "text": "applicationService, on NWParameters, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=471"
  },
  {
    "text": "which gives us everything we need for this kind of local connectivity.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=475"
  },
  {
    "text": "Next, we can use our existing framer for communicating gameplay actions, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=480"
  },
  {
    "text": "without any changes, and simply add it to the protocol stack in those parameters. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=484"
  },
  {
    "text": "Now, we're ready to create and show the device picker. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=490"
  },
  {
    "text": "The device picker is how our application discovers nearby iPhones, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=493"
  },
  {
    "text": "iPads, and Apple Watches. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=497"
  },
  {
    "text": "First, we need to check to see if the device picker is supported ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=501"
  },
  {
    "text": "on the current device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=504"
  },
  {
    "text": "To do that, we call the isSupported function ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=506"
  },
  {
    "text": "with the browse descriptor and parameters that we'll be using with the picker. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=509"
  },
  {
    "text": "Assuming it returns true, we can go ahead and create the device picker.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=514"
  },
  {
    "text": "We instantiate the device picker with the parameters we created earlier, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=520"
  },
  {
    "text": "and a browse descriptor of type .applicationService, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=524"
  },
  {
    "text": "specifying the name of the application service that we defined in the Info.plist.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=527"
  },
  {
    "text": "Now that the device picker has been created, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=535"
  },
  {
    "text": "we need to present the view controller. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=537"
  },
  {
    "text": "The device picker needs to always be presented as a full screen modal view.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=540"
  },
  {
    "text": "Next, we need to access the picker's async endpoint property. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=547"
  },
  {
    "text": "Once the connection has been confirmed and our application has been launched ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=552"
  },
  {
    "text": "on the remote device, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=555"
  },
  {
    "text": "we'll receive an NWEndpoint, and execution will continue. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=557"
  },
  {
    "text": "Now that our application has received an NWEndpoint, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=561"
  },
  {
    "text": "we can use it to connect to the selected device, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=564"
  },
  {
    "text": "just like we did in prior Tic-Tac-Toe versions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=567"
  },
  {
    "text": "We'll use the same parameters when opening the connection ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=571"
  },
  {
    "text": "as provided to the device picker. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=574"
  },
  {
    "text": "Aside from the parameters, opening a connection to this device ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=577"
  },
  {
    "text": "looks exactly the same as it did before.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=580"
  },
  {
    "text": "Moving to the selected device, once our application has been launched, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=584"
  },
  {
    "text": "we need to immediately fulfill the promise our application made to the system ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=588"
  },
  {
    "text": "by creating an NWListener. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=592"
  },
  {
    "text": "The NWListener needs to be created as soon as the app is launched ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=594"
  },
  {
    "text": "to accept any incoming connections for that application service. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=598"
  },
  {
    "text": "The NWListener needs to be created with the exact same parameters as before, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=603"
  },
  {
    "text": "and we need to set the application service on the listener ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=608"
  },
  {
    "text": "using the identifier from the Info.plist. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=610"
  },
  {
    "text": "When the TV opens a connection to this device, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=614"
  },
  {
    "text": "the listener that we established will receive that connection here, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=616"
  },
  {
    "text": "in the new connection handler, same as before. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=620"
  },
  {
    "text": "So now that the connection has been properly established, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=623"
  },
  {
    "text": "we need to handle application state transitions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=626"
  },
  {
    "text": "When our application is backgrounded, the connection will transition ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=629"
  },
  {
    "text": "to the failed state with the associated error ECONNABORTED. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=632"
  },
  {
    "text": "If we want to continue communication between the devices, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=637"
  },
  {
    "text": "we establish a new connection from the TV to the same endpoint. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=640"
  },
  {
    "text": "Once started, this new connection stays in the preparing state ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=645"
  },
  {
    "text": "and moves to the ready state once the app is resumed on the selected device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=649"
  },
  {
    "text": "On that device, the new connection will be delivered ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=654"
  },
  {
    "text": "to the same NWListener and can be used to resume our activity. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=657"
  },
  {
    "text": "And that's it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=661"
  },
  {
    "text": "Everything we need to do to migrate to DeviceDiscoveryUI is now complete. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=662"
  },
  {
    "text": "Let's see our game in action. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=667"
  },
  {
    "text": "The app launches on the TV, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=669"
  },
  {
    "text": "and we press Find Opponent to present the device picker.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=671"
  },
  {
    "text": "When we choose a device, it prompts for permission. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=679"
  },
  {
    "text": "When granted, the app is launched immediately into our game session.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=682"
  },
  {
    "text": "Now, we can play against the TV by placing emojis on the board.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=692"
  },
  {
    "text": "Great. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=703"
  },
  {
    "text": "And that's how easy it is to connect devices to Apple TV. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=705"
  },
  {
    "text": "Tic-Tac-Toe is available on the developer website, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=709"
  },
  {
    "text": "so you can download it and explore all of the code we discussed today. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=712"
  },
  {
    "text": "If you have any questions, post them on the Developer Forums. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=717"
  },
  {
    "text": "Consider adopting DeviceDiscoveryUI in your apps ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=721"
  },
  {
    "text": "to provide seamless device-to-device experiences. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=724"
  },
  {
    "text": "And please provide us feedback. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=727"
  },
  {
    "text": "We know that device-to-device communication is an essential experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=730"
  },
  {
    "text": "DeviceDiscoveryUI was created in response to developer feedback. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=734"
  },
  {
    "text": "We want to build these features with you, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=737"
  },
  {
    "text": "so please file reports in Feedback Assistant ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=739"
  },
  {
    "text": "for anything that you'd like to see in DeviceDiscoveryUI. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=742"
  },
  {
    "text": "We're excited to improve this technology together ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=745"
  },
  {
    "text": "to help make your apps even better. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=747"
  },
  {
    "text": "Thank you so much for joining me, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=751"
  },
  {
    "text": "and have a great WWDC 2022.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110339/?time=752"
  }
]