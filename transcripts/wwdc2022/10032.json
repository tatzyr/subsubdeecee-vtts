[
  {
    "text": "♪ Mellow instrumental hip-hop music ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=0"
  },
  {
    "text": "♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=3"
  },
  {
    "text": "Hi, folks. My name is Michael Gorbach ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=9"
  },
  {
    "text": "from Shortcuts Engineering. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=11"
  },
  {
    "text": "Thanks for tuning in for this deep dive into App Intents, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=13"
  },
  {
    "text": "our new framework ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=17"
  },
  {
    "text": "for exposing your app's functionality to the system. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=18"
  },
  {
    "text": "Here's the plan for our dive. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=22"
  },
  {
    "text": "After a quick introduction, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=24"
  },
  {
    "text": "I'll talk about intents and their parameters, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=26"
  },
  {
    "text": "and how to define entities. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=28"
  },
  {
    "text": "I'll go over some powerful finding and filtering features ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=31"
  },
  {
    "text": "you can build, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=33"
  },
  {
    "text": "and how your intents can interact with the user. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=35"
  },
  {
    "text": "Lastly, I'll cover App Intents architecture and lifecycle. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=38"
  },
  {
    "text": "Let's start at the beginning. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=43"
  },
  {
    "text": "In iOS 10, we introduced the SiriKit Intents framework, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=45"
  },
  {
    "text": "which lets you hook up your app's functionality ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=49"
  },
  {
    "text": "to Siri domains like messaging, workouts, and payments. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=51"
  },
  {
    "text": "Now we're introducing a new framework ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=56"
  },
  {
    "text": "called App Intents. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=59"
  },
  {
    "text": "It has three key components. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=61"
  },
  {
    "text": "Intents are actions built into your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=64"
  },
  {
    "text": "that can be used throughout the system. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=66"
  },
  {
    "text": "Intents use entities to represent your app's concepts. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=68"
  },
  {
    "text": "App Shortcuts wrap your intents ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=72"
  },
  {
    "text": "to make them automatic and discoverable. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=75"
  },
  {
    "text": "Let's talk about a couple of the ways ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=78"
  },
  {
    "text": "that App Intents can make your app's functionality available ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=79"
  },
  {
    "text": "in more places, and benefit your customers. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=82"
  },
  {
    "text": "With App Shortcuts, everyone can use ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=86"
  },
  {
    "text": "your app's features with their voice through Siri, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=88"
  },
  {
    "text": "without needing to set anything up first. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=91"
  },
  {
    "text": "The same adoption also makes your intents appear in Spotlight ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=94"
  },
  {
    "text": "when people search for your app and when your app's suggested. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=98"
  },
  {
    "text": "This will put your work front and center. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=102"
  },
  {
    "text": "Using App Intents, you can also build Focus Filters, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=105"
  },
  {
    "text": "letting customers customize your app for a specific Focus. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=109"
  },
  {
    "text": "For example, they might set up their Calendar app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=113"
  },
  {
    "text": "to only show their work calendar while they're actually at work. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=116"
  },
  {
    "text": "Check out this session to learn more about ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=121"
  },
  {
    "text": "how to adopt Focus Filters. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=122"
  },
  {
    "text": "With App Shortcuts, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=126"
  },
  {
    "text": "your intents show up in the Shortcuts app automatically, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=128"
  },
  {
    "text": "without needing to be added manually. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=131"
  },
  {
    "text": "Integrating your actions into Shortcuts ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=134"
  },
  {
    "text": "is incredibly valuable for customers ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=136"
  },
  {
    "text": "because they can run shortcuts, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=138"
  },
  {
    "text": "and take advantage of your app's features, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=140"
  },
  {
    "text": "from so many places throughout the system. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=142"
  },
  {
    "text": "They can run shortcuts with a single tap on the Home Screen, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=145"
  },
  {
    "text": "from the menu bar on macOS, and in many other ways. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=148"
  },
  {
    "text": "They can even set shortcuts up to run automatically ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=152"
  },
  {
    "text": "with automations. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=154"
  },
  {
    "text": "Supporting shortcuts multiplies the power ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=157"
  },
  {
    "text": "and capability of your app by connecting it ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=160"
  },
  {
    "text": "to the entire Shortcuts ecosystem, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=163"
  },
  {
    "text": "harnessing the power of an array of apps from Apple ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=166"
  },
  {
    "text": "and other developers. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=169"
  },
  {
    "text": "That's because a shortcut can combine actions ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=171"
  },
  {
    "text": "from multiple apps, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=173"
  },
  {
    "text": "letting users invent entirely new features and capabilities ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=175"
  },
  {
    "text": "without you needing to do any work. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=179"
  },
  {
    "text": "If you want to learn how to make your actions ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=182"
  },
  {
    "text": "work well with others and fit seamlessly into this ecosystem, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=185"
  },
  {
    "text": "check out our design talk. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=188"
  },
  {
    "text": "Our goal in building App Intents ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=191"
  },
  {
    "text": "was to make it a joy to develop for. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=193"
  },
  {
    "text": "App Intents is concise. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=196"
  },
  {
    "text": "Writing a simple intent can take only a few lines of code, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=198"
  },
  {
    "text": "but the API also scales ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=201"
  },
  {
    "text": "to deeper and more customizable actions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=203"
  },
  {
    "text": "App Intents is modern. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=207"
  },
  {
    "text": "We've gone all in on Swift, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=209"
  },
  {
    "text": "leveraging result builders, property wrappers, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=210"
  },
  {
    "text": "protocol-oriented programming, and generics. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=213"
  },
  {
    "text": "These APIs just couldn't exist ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=216"
  },
  {
    "text": "without cutting-edge language features. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=217"
  },
  {
    "text": "Adopting App Intents is also easy, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=221"
  },
  {
    "text": "because it doesn't require re-architecting ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=223"
  },
  {
    "text": "your products and targets or creating a framework. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=225"
  },
  {
    "text": "It doesn't require an extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=229"
  },
  {
    "text": "and can be adopted right in your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=230"
  },
  {
    "text": "And App Intents code is maintainable. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=233"
  },
  {
    "text": "Like SwiftUI, App Intents uses your code ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=235"
  },
  {
    "text": "as the fundamental source of truth, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=238"
  },
  {
    "text": "avoiding the need for separate editors or definition files. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=240"
  },
  {
    "text": "This lets you rapidly build and iterate on your adoption, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=244"
  },
  {
    "text": "and simplifies maintenance ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=247"
  },
  {
    "text": "because everything lives in one place. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=249"
  },
  {
    "text": "With that said, let's explore these new APIs, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=252"
  },
  {
    "text": "starting with the intent, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=255"
  },
  {
    "text": "the central building block of our new framework. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=256"
  },
  {
    "text": "An app intent -- or \"intent\" for short -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=259"
  },
  {
    "text": "is a single, isolated unit of functionality ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=262"
  },
  {
    "text": "that your app exposes to the system. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=265"
  },
  {
    "text": "For example, an intent could make a new calendar event, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=267"
  },
  {
    "text": "open a particular screen, or place an order. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=270"
  },
  {
    "text": "An intent can be run by the user on request -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=274"
  },
  {
    "text": "like by running a shortcut or asking Siri -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=277"
  },
  {
    "text": "or automatically -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=280"
  },
  {
    "text": "like using Focus filters or a Shortcuts automation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=281"
  },
  {
    "text": "When an intent is run, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=285"
  },
  {
    "text": "it will either return a result or throw an error. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=286"
  },
  {
    "text": "An intent includes three key pieces: ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=291"
  },
  {
    "text": "metadata, or information about the intent, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=294"
  },
  {
    "text": "including a localized title; ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=296"
  },
  {
    "text": "parameters, which are inputs that the intent can use ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=299"
  },
  {
    "text": "when it's run; ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=301"
  },
  {
    "text": "and a perform method, which does the actual work ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=303"
  },
  {
    "text": "when the intent is executed. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=305"
  },
  {
    "text": "Our starting point today is this Library app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=309"
  },
  {
    "text": "Since I'm a huge bookworm, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=311"
  },
  {
    "text": "it's all about tracking books I've read, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=313"
  },
  {
    "text": "want to read, or am currently reading. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=315"
  },
  {
    "text": "Each category is shown in separate tab of the app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=318"
  },
  {
    "text": "that I call a Shelf. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=321"
  },
  {
    "text": "My users visit the Currently Reading shelf ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=324"
  },
  {
    "text": "all the time, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=326"
  },
  {
    "text": "so I'm going expose an app intent ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=327"
  },
  {
    "text": "to make opening it quicker and more convenient. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=329"
  },
  {
    "text": "I'll create an OpenCurrentlyReading intent here ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=334"
  },
  {
    "text": "by defining a Swift struct ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=336"
  },
  {
    "text": "that conforms to the AppIntent protocol. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=338"
  },
  {
    "text": "I need to implement only one method, called perform. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=341"
  },
  {
    "text": "In my app, I've already got a navigator that can open tabs, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=345"
  },
  {
    "text": "so implementing the intent for me ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=348"
  },
  {
    "text": "is only a few lines of code. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=350"
  },
  {
    "text": "I'll annotate the perform method with @MainActor, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=352"
  },
  {
    "text": "since my Navigator expects the main thread. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=355"
  },
  {
    "text": "My intent also needs a title. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=359"
  },
  {
    "text": "Like all the other strings I'll be showing you today, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=362"
  },
  {
    "text": "this will get localized automatically ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=364"
  },
  {
    "text": "if I add the key to my strings files. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=366"
  },
  {
    "text": "This is all I need to do to get a basic app intent working. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=369"
  },
  {
    "text": "Now that it's defined in my code, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=373"
  },
  {
    "text": "it will automatically appear in the Shortcuts editor, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=375"
  },
  {
    "text": "where my user can add it to a shortcut. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=379"
  },
  {
    "text": "Just exposing this intent provides huge leverage, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=384"
  },
  {
    "text": "because once customers turn this intent into a shortcut, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=387"
  },
  {
    "text": "it can be used from a ton of places in the system, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=390"
  },
  {
    "text": "including all of these. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=393"
  },
  {
    "text": "To make my new intent easy to use and discover, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=396"
  },
  {
    "text": "I'll also add support for App Shortcuts. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=399"
  },
  {
    "text": "With a little bit of code, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=401"
  },
  {
    "text": "I can make my intent show up automatically in Spotlight ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=403"
  },
  {
    "text": "and the Shortcuts app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=406"
  },
  {
    "text": "and I can define a phrase that people can say to Siri ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=407"
  },
  {
    "text": "to use this intent with their voice. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=411"
  },
  {
    "text": "Check out the \"Implement App Shortcuts with App Intents\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=413"
  },
  {
    "text": "session to get all the details. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=416"
  },
  {
    "text": "So far, I've exposed an intent ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=420"
  },
  {
    "text": "to open the Currently Reading shelf. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=422"
  },
  {
    "text": "Next, let's generalize it, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=425"
  },
  {
    "text": "adding a parameter so it can open any of the shelves. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=426"
  },
  {
    "text": "I have an enum that represents shelves. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=432"
  },
  {
    "text": "In order for it to be used as an intent parameter, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=435"
  },
  {
    "text": "I need to conform it to the AppEnum protocol. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=437"
  },
  {
    "text": "AppEnum requires a String raw value, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=441"
  },
  {
    "text": "so I'll add that first. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=444"
  },
  {
    "text": "It also requires that I provide localizable, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=446"
  },
  {
    "text": "human-readable titles for each of my enum cases. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=448"
  },
  {
    "text": "These must be provided as a dictionary literal, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=452"
  },
  {
    "text": "since the compiler will read this code at build time. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=455"
  },
  {
    "text": "Finally, I'll add a typeDisplayName: ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=459"
  },
  {
    "text": "a user-visible, localizable name ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=462"
  },
  {
    "text": "for this enum type as a whole. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=464"
  },
  {
    "text": "I'll use \"Shelf.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=466"
  },
  {
    "text": "In an intent, each parameter is declared ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=469"
  },
  {
    "text": "using an @Parameter property wrapper, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=471"
  },
  {
    "text": "which is initialized with information about the parameter, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=474"
  },
  {
    "text": "like the title. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=477"
  },
  {
    "text": "Here, I define a new shelf parameter, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=478"
  },
  {
    "text": "which I read in my perform method. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=481"
  },
  {
    "text": "Parameters support all of these types, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=484"
  },
  {
    "text": "including numbers, strings, files, and more, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=486"
  },
  {
    "text": "as well as entities and enums from your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=490"
  },
  {
    "text": "Here's how this intent looks in the Shortcuts editor. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=493"
  },
  {
    "text": "Note that the shelf parameter appears in a table row. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=497"
  },
  {
    "text": "I can make the UI more streamlined, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=501"
  },
  {
    "text": "and make it fit better into Shortcuts, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=503"
  },
  {
    "text": "by using the ParameterSummary API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=504"
  },
  {
    "text": "The Parameter Summary is a sentence ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=509"
  },
  {
    "text": "that represents your intent and its parameters ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=511"
  },
  {
    "text": "in the editor, like \"Open .\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=513"
  },
  {
    "text": "For best results in Shortcuts, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=517"
  },
  {
    "text": "you should always provide a Parameter Summary ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=519"
  },
  {
    "text": "for every intent you create. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=521"
  },
  {
    "text": "You can also define which parameters ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=525"
  },
  {
    "text": "show up below the fold and which are hidden. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=527"
  },
  {
    "text": "These APIs can do some pretty cool stuff, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=530"
  },
  {
    "text": "like varying the summary based on the actual values ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=533"
  },
  {
    "text": "of any parameter of your intent, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=536"
  },
  {
    "text": "using the When and Otherwise APIs, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=538"
  },
  {
    "text": "or the Switch, Case, and Default APIs. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=540"
  },
  {
    "text": "To add a parameter summary, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=545"
  },
  {
    "text": "I implement this static property. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=546"
  },
  {
    "text": "Here I'll return the string \"Open\", ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=549"
  },
  {
    "text": "and interpolate the shelf parameter. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=551"
  },
  {
    "text": "The last thing I need to do to get Open Shelf working ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=555"
  },
  {
    "text": "is make sure that the intent opens the Library app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=558"
  },
  {
    "text": "when it's run, like this. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=561"
  },
  {
    "text": "Opening the app by is controlled by the static property, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=565"
  },
  {
    "text": "openAppWhenRun. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=568"
  },
  {
    "text": "It defaults to false, which is great for most intents. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=570"
  },
  {
    "text": "But for intents that open something in the UI ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=573"
  },
  {
    "text": "like this one, I'll need to set it to true. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=576"
  },
  {
    "text": "I just created an intent to open shelves. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=580"
  },
  {
    "text": "This is super simple because the set of shelves is fixed. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=583"
  },
  {
    "text": "But what if I wanted to build an intent that opens Books, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=587"
  },
  {
    "text": "the set of which is dynamic, not fixed? ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=590"
  },
  {
    "text": "For that, I'll need entities. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=593"
  },
  {
    "text": "An entity is a concept that your app exposes to App Intents. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=595"
  },
  {
    "text": "You should use an entity instead of an enum ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=599"
  },
  {
    "text": "when the values are dynamic, or user-defined, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=602"
  },
  {
    "text": "like a note in Notes or a photo or album in Photos. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=605"
  },
  {
    "text": "To provide instances of entities, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=609"
  },
  {
    "text": "your app can implement queries, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=611"
  },
  {
    "text": "and return entities as results from intents. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=613"
  },
  {
    "text": "I'll start by making an intent to open a book in the app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=617"
  },
  {
    "text": "In the Shortcuts editor, it should look like this. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=621"
  },
  {
    "text": "When people tap on the Book parameter, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=625"
  },
  {
    "text": "they'll get a picker to choose a book, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=627"
  },
  {
    "text": "including a set of suggested entities ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=629"
  },
  {
    "text": "that my app has provided. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=630"
  },
  {
    "text": "They can also find any book in their library ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=634"
  },
  {
    "text": "with this search field at the top of the picker. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=636"
  },
  {
    "text": "Before I build the intent itself, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=641"
  },
  {
    "text": "I'll need to create a book entity ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=643"
  },
  {
    "text": "and the corresponding query. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=645"
  },
  {
    "text": "An entity contains at least three things: ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=647"
  },
  {
    "text": "an identifier, a display representation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=650"
  },
  {
    "text": "and an entity type name. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=653"
  },
  {
    "text": "To add an entity, start by conforming a struct ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=656"
  },
  {
    "text": "to the AppEntity protocol. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=658"
  },
  {
    "text": "Here, I'll define a new struct for the BookEntity, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=661"
  },
  {
    "text": "but I could also conform an existing type from my model. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=663"
  },
  {
    "text": "You provide an identifier by conforming your entity ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=668"
  },
  {
    "text": "to the Identifiable protocol. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=671"
  },
  {
    "text": "App Intents uses this identifier to refer to your entity ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=674"
  },
  {
    "text": "as it's passed between your app and other parts of the system. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=677"
  },
  {
    "text": "The identifier should be stable and persistent, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=680"
  },
  {
    "text": "since it might be saved in a shortcut ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=683"
  },
  {
    "text": "created by your customers. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=685"
  },
  {
    "text": "The display representation is used ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=689"
  },
  {
    "text": "to show this entity to the user. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=691"
  },
  {
    "text": "This can be as simple as a string of text, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=693"
  },
  {
    "text": "like a book title. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=695"
  },
  {
    "text": "You could also provide a subtitle and an image. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=697"
  },
  {
    "text": "The typeDisplayName is a human-readable string ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=701"
  },
  {
    "text": "representing the type of an entity. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=704"
  },
  {
    "text": "In this example, it's \"Book.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=706"
  },
  {
    "text": "Now, to round out the book entity, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=709"
  },
  {
    "text": "I need to add a query. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=711"
  },
  {
    "text": "A query gives the system an interface ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=714"
  },
  {
    "text": "for retrieving entities from your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=716"
  },
  {
    "text": "Queries can look up entities in a few ways. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=720"
  },
  {
    "text": "All queries need to be able to look up entities ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=723"
  },
  {
    "text": "based on an identifier. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=725"
  },
  {
    "text": "String queries support search. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=727"
  },
  {
    "text": "And later, you'll run into property queries, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=729"
  },
  {
    "text": "which are more flexible. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=731"
  },
  {
    "text": "All queries can also provide suggested entities, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=733"
  },
  {
    "text": "which allow the users to pick from a list. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=737"
  },
  {
    "text": "Every entity should be associated with a query ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=741"
  },
  {
    "text": "so the system can look up instances of that entity. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=744"
  },
  {
    "text": "You provide a query by making a Swift struct ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=749"
  },
  {
    "text": "that conforms to the EntityQuery protocol. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=751"
  },
  {
    "text": "The basic query has only one required method, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=755"
  },
  {
    "text": "which you implement to resolve entities ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=758"
  },
  {
    "text": "given an array of identifiers. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=759"
  },
  {
    "text": "I've implemented this by going to my model database ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=762"
  },
  {
    "text": "and finding any books matching those identifiers. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=765"
  },
  {
    "text": "Now, I need to hook up the query to the entity. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=769"
  },
  {
    "text": "I do this by implementing the defaultQuery static property ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=773"
  },
  {
    "text": "on the BookEntity type ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=776"
  },
  {
    "text": "and returning an instance of my BookQuery. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=778"
  },
  {
    "text": "When the user picks a book, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=783"
  },
  {
    "text": "its identifier will be saved into the shortcut. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=785"
  },
  {
    "text": "When the shortcut is run, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=788"
  },
  {
    "text": "App Intents will pass the identifier to my query ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=789"
  },
  {
    "text": "to retrieve the BookEntity instance. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=792"
  },
  {
    "text": "Now that the BookEntity type ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=796"
  },
  {
    "text": "conforms to the AppEntity protocol, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=798"
  },
  {
    "text": "I can use it as a parameter in my OpenBook intent. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=800"
  },
  {
    "text": "The perform method uses my Navigator ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=804"
  },
  {
    "text": "to navigate to the book.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=806"
  },
  {
    "text": "In order to support the book picker, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=812"
  },
  {
    "text": "my query also needs to provide suggested results. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=814"
  },
  {
    "text": "To do that, I need to implement one more method on query, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=818"
  },
  {
    "text": "returning all the books added to my Library app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=822"
  },
  {
    "text": "Shortcuts will fill the picker with these results. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=825"
  },
  {
    "text": "Notice that the Shortcuts UI has a search field on top. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=829"
  },
  {
    "text": "My app could have a lot of book entities, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=833"
  },
  {
    "text": "so I should really run the search in my app process, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=835"
  },
  {
    "text": "against my database directly. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=838"
  },
  {
    "text": "The StringQuery API lets me do that. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=840"
  },
  {
    "text": "Adopting the StringQuery subprotocol gives me ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=844"
  },
  {
    "text": "one more method to implement, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=846"
  },
  {
    "text": "called entities (matching string:), ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=848"
  },
  {
    "text": "to return results given a string. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=850"
  },
  {
    "text": "Here, I've implemented it as a simple case-insensitive match ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=853"
  },
  {
    "text": "against the title of the book, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=856"
  },
  {
    "text": "but I could have done fancier stuff ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=858"
  },
  {
    "text": "like searching through the author or series name, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=859"
  },
  {
    "text": "for example. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=862"
  },
  {
    "text": "If I have a huge list of books, and a smaller list of favorites, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=864"
  },
  {
    "text": "I could return just the favorites in suggestedEntities, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=868"
  },
  {
    "text": "and rely on entities (matching string:) ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=871"
  },
  {
    "text": "to allow my users to search across the longer list. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=873"
  },
  {
    "text": "Now I've exposed a way to open books in my app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=878"
  },
  {
    "text": "and built a book entity and book query in the process. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=881"
  },
  {
    "text": "I can use the same entity and query to create more intents. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=885"
  },
  {
    "text": "My next task is to build an intent ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=889"
  },
  {
    "text": "to add books to the library. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=891"
  },
  {
    "text": "Customers can quickly add books while browsing online ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=893"
  },
  {
    "text": "using a share sheet shortcut, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=896"
  },
  {
    "text": "or they can tell Siri on HomePod to add a book ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=898"
  },
  {
    "text": "without even looking at a screen. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=900"
  },
  {
    "text": "Building intents like this that manipulate your model directly ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=903"
  },
  {
    "text": "without showing your UI can really empower your users. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=906"
  },
  {
    "text": "Here's the implementation of my AddBook intent, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=911"
  },
  {
    "text": "taking as parameters the title of the book ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=914"
  },
  {
    "text": "and an optional name of the author. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=916"
  },
  {
    "text": "It also includes an optional note ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=919"
  },
  {
    "text": "to record which friend recommended the book. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=921"
  },
  {
    "text": "The perform method will add the book to the library ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=924"
  },
  {
    "text": "by looking it up with an API call using async/await. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=927"
  },
  {
    "text": "It will throw an error if it can't find a match. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=931"
  },
  {
    "text": "To localize this error, I conform my error type to ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=936"
  },
  {
    "text": "the CustomLocalizedString ResourceConvertible protocol. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=939"
  },
  {
    "text": "I'll return a localized string key from this property, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=943"
  },
  {
    "text": "and add the key to my strings files. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=947"
  },
  {
    "text": "This Add Book intent is incredibly useful as is, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=950"
  },
  {
    "text": "with Siri, widgets, and more. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=954"
  },
  {
    "text": "But it gets even more flexible ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=956"
  },
  {
    "text": "if it can be combined with other intents. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=958"
  },
  {
    "text": "With a little bit of work, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=961"
  },
  {
    "text": "I can allow combining my Add Book intent ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=962"
  },
  {
    "text": "with the Open Book intent I built earlier, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=965"
  },
  {
    "text": "passing the result from one to the other. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=967"
  },
  {
    "text": "To do so, I'll have the Add Book intent ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=970"
  },
  {
    "text": "return a value as part of its result. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=973"
  },
  {
    "text": "Notice that my perform method's return type ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=977"
  },
  {
    "text": "has picked up a new protocol ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=979"
  },
  {
    "text": "to represent the value I'm returning. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=980"
  },
  {
    "text": "Now, users can connect the result value of this intent ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=983"
  },
  {
    "text": "to other intents that take a book entity as a parameter. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=987"
  },
  {
    "text": "The Add Book intent and the Open Book intent ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=991"
  },
  {
    "text": "pair quite naturally together, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=994"
  },
  {
    "text": "so you can make a shortcut that adds a book ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=996"
  },
  {
    "text": "and then immediately opens it in the library. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=998"
  },
  {
    "text": "It's a common pattern to return a result from an intent ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1001"
  },
  {
    "text": "and open it in the app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1004"
  },
  {
    "text": "App intents have a built-in way to express this ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1006"
  },
  {
    "text": "called the openIntent. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1009"
  },
  {
    "text": "If I add an openIntent, customers will get ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1011"
  },
  {
    "text": "a new switch in Shortcuts called \"Open When Run.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1013"
  },
  {
    "text": "If they turn the switch off, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1017"
  },
  {
    "text": "they'll be able to use this intent ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1019"
  },
  {
    "text": "as part of a shortcut in the background without interruption. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1020"
  },
  {
    "text": "If they leave the switch on, the newly added book ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1024"
  },
  {
    "text": "will be immediately opened in my Library app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1027"
  },
  {
    "text": "Adopting openIntent is as easy ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1032"
  },
  {
    "text": "as creating an instance of the Open Book intent ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1035"
  },
  {
    "text": "and returning it as part of the result. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1037"
  },
  {
    "text": "When this intent is run, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1040"
  },
  {
    "text": "if the Open When Run switch is on, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1042"
  },
  {
    "text": "the Open Book intent will automatically be performed ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1044"
  },
  {
    "text": "after the Add Book intent finishes. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1047"
  },
  {
    "text": "There's a lot more you can do with entities and queries. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1051"
  },
  {
    "text": "With the next set of APIs, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1055"
  },
  {
    "text": "AppIntents opens up some powerful abilities ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1056"
  },
  {
    "text": "you never had before with the SiriKit Intents framework. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1059"
  },
  {
    "text": "Let's take a look at how you can expose more information ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1063"
  },
  {
    "text": "from your entities, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1065"
  },
  {
    "text": "and allow customers to find and filter based on that. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1067"
  },
  {
    "text": "So far, I've added all the basic requirements ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1072"
  },
  {
    "text": "to my book entity. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1075"
  },
  {
    "text": "But to let people integrate books ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1076"
  },
  {
    "text": "more deeply into their shortcuts, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1078"
  },
  {
    "text": "I'm going to need to expose a bit more about my books. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1080"
  },
  {
    "text": "Entities support properties, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1085"
  },
  {
    "text": "which hold additional information on the entity ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1087"
  },
  {
    "text": "that you want to expose to users. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1089"
  },
  {
    "text": "In this case, I'll add the book's author, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1091"
  },
  {
    "text": "publishing date, read date, and who recommended it, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1093"
  },
  {
    "text": "so that people can use those properties in their shortcuts. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1096"
  },
  {
    "text": "I add properties to my BookEntity ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1102"
  },
  {
    "text": "using a property wrapper called @Property. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1104"
  },
  {
    "text": "Properties support all the same types that parameters do, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1107"
  },
  {
    "text": "and each one takes a localized title. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1110"
  },
  {
    "text": "With these new properties, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1115"
  },
  {
    "text": "my customers can now use magic variables in Shortcuts ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1117"
  },
  {
    "text": "to pull out each new piece of information ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1120"
  },
  {
    "text": "when working with a book entity ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1122"
  },
  {
    "text": "When using the earlier Add Book intent, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1125"
  },
  {
    "text": "they can use the author or publishing date ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1127"
  },
  {
    "text": "of a newly added book in their shortcuts.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1129"
  },
  {
    "text": "When you combine properties with queries, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1135"
  },
  {
    "text": "your app automatically gets these incredibly powerful ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1137"
  },
  {
    "text": "Find and Filter actions in Shortcuts, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1140"
  },
  {
    "text": "with this flexible predicate editor UI. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1143"
  },
  {
    "text": "Now, my customers will be able to find and filter books ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1146"
  },
  {
    "text": "based on date read, title, author, and more. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1149"
  },
  {
    "text": "It's a piece of cake to find ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1153"
  },
  {
    "text": "all the books by Delia Owens, for example. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1154"
  },
  {
    "text": "Using the Sort by and Limit options, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1158"
  },
  {
    "text": "you can support even more advanced queries, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1160"
  },
  {
    "text": "like find the three most recently published books ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1162"
  },
  {
    "text": "by Delia Owens. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1165"
  },
  {
    "text": "A customer can use these building blocks ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1167"
  },
  {
    "text": "to do some pretty cool stuff, like finding ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1170"
  },
  {
    "text": "the three most common authors in their collection. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1172"
  },
  {
    "text": "To enable all this, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1176"
  },
  {
    "text": "I'll need to adopt another kind of query ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1177"
  },
  {
    "text": "called a property query. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1179"
  },
  {
    "text": "Property queries find entities not based on a string, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1181"
  },
  {
    "text": "or an identifier, but on the properties within the entity. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1184"
  },
  {
    "text": "There are three steps to implementing property queries. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1190"
  },
  {
    "text": "First, you declare query properties, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1193"
  },
  {
    "text": "which specify how your entity can be searched ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1195"
  },
  {
    "text": "using its properties. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1198"
  },
  {
    "text": "Then, you add sorting options, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1200"
  },
  {
    "text": "which define how query results can be sorted. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1202"
  },
  {
    "text": "And finally, you implement entities(matching:) ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1206"
  },
  {
    "text": "to run the search. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1209"
  },
  {
    "text": "The query properties ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1212"
  },
  {
    "text": "declare every way AppIntents can search ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1213"
  },
  {
    "text": "on the entity associated with this query. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1216"
  },
  {
    "text": "Each one lists a property of my entity, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1219"
  },
  {
    "text": "and the comparison operators -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1221"
  },
  {
    "text": "like contains, equal to, or less than -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1223"
  },
  {
    "text": "that are available for it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1226"
  },
  {
    "text": "Here, I list \"less than\" and \"greater than\" comparators ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1228"
  },
  {
    "text": "for my date properties, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1231"
  },
  {
    "text": "and \"contains\" and \"equal to\" for my title property. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1233"
  },
  {
    "text": "Query properties map each combination ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1238"
  },
  {
    "text": "of property and comparator into a type of your choice, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1241"
  },
  {
    "text": "called the comparator mapping type. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1245"
  },
  {
    "text": "Here, I am using CoreData, so I'll use an NSPredicate. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1248"
  },
  {
    "text": "If I was using a custom database or a REST API, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1251"
  },
  {
    "text": "I could design my own comparator type ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1255"
  },
  {
    "text": "and use that instead. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1257"
  },
  {
    "text": "Here's the code to set up the query properties for my books. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1260"
  },
  {
    "text": "I conform BooksQuery to the EntityPropertyQuery protocol. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1264"
  },
  {
    "text": "Then I implement static var properties ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1268"
  },
  {
    "text": "using the QueryProperties result builder. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1271"
  },
  {
    "text": "Each entry specifies a keyPath of a Property ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1275"
  },
  {
    "text": "that can be queried, and within it, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1278"
  },
  {
    "text": "each comparator that is applicable to that property. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1280"
  },
  {
    "text": "For each comparator, I provide an NSPredicate, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1284"
  },
  {
    "text": "because I've chosen NSPredicate as my comparator mapping type. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1286"
  },
  {
    "text": "When the system asks my app to return results for the query, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1291"
  },
  {
    "text": "it will provide back the NSPredicates ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1295"
  },
  {
    "text": "that I'm constructing here. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1297"
  },
  {
    "text": "There's a similar definition for sorting. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1299"
  },
  {
    "text": "This is a list of all the properties ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1302"
  },
  {
    "text": "my model can sort books by. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1304"
  },
  {
    "text": "In this case, I allow sorting by title, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1306"
  },
  {
    "text": "date read, and date published. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1308"
  },
  {
    "text": "Finally, I implement entities(matching:), ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1312"
  },
  {
    "text": "which queries my database and returns matching entities. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1315"
  },
  {
    "text": "This method takes an array of the comparator mapping type ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1319"
  },
  {
    "text": "I used in the previously defined query parameters -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1322"
  },
  {
    "text": "in this case, NSPredicate. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1325"
  },
  {
    "text": "These predicates are describing what criteria ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1327"
  },
  {
    "text": "on the properties of my entity I want to query by. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1331"
  },
  {
    "text": "It also takes a mode, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1335"
  },
  {
    "text": "indicating whether to combine the predicates ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1336"
  },
  {
    "text": "with \"and\" or with \"or,\" key paths to sort by, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1338"
  },
  {
    "text": "and an optional limit for the number of results. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1342"
  },
  {
    "text": "My implementation uses these parameters ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1346"
  },
  {
    "text": "to perform a query against my CoreData database. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1348"
  },
  {
    "text": "What can customers do with this property query? ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1354"
  },
  {
    "text": "They can pick a random book from their library to read. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1357"
  },
  {
    "text": "They can find all their books ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1360"
  },
  {
    "text": "published in the early part of the twentieth century. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1362"
  },
  {
    "text": "They can leverage the Shortcuts ecosystem ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1365"
  },
  {
    "text": "and make my app more useful by connecting it to others. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1368"
  },
  {
    "text": "For example, they can use a spreadsheet app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1371"
  },
  {
    "text": "to export all the books they read this year to a CSV file. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1373"
  },
  {
    "text": "Or, they can use a graphing app to make a chart ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1377"
  },
  {
    "text": "of how many books they've read every year over the last 10. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1379"
  },
  {
    "text": "And that's just the beginning. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1383"
  },
  {
    "text": "This kind of deep App Intents adoption ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1384"
  },
  {
    "text": "really lets customers use your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1387"
  },
  {
    "text": "to do what they need it to do, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1389"
  },
  {
    "text": "making it a critical part of their workflow. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1391"
  },
  {
    "text": "Each of these integrations -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1394"
  },
  {
    "text": "like making graphs, for example -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1395"
  },
  {
    "text": "is a feature you don't have to build. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1397"
  },
  {
    "text": "When your intents are performed, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1401"
  },
  {
    "text": "your app may need to interact with the user ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1403"
  },
  {
    "text": "to show or speak a result, or to resolve ambiguity, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1405"
  },
  {
    "text": "whether it's a Siri request or a shortcut. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1409"
  },
  {
    "text": "App Intents supports a number of these interactions: ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1412"
  },
  {
    "text": "dialog for giving text and voice feedback ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1416"
  },
  {
    "text": "to your users when an intent has completed, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1418"
  },
  {
    "text": "and snippets for giving visual feedback. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1421"
  },
  {
    "text": "Request value and disambiguation ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1423"
  },
  {
    "text": "for asking the user to clarify values for intent parameters, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1426"
  },
  {
    "text": "and confirmation for verifying parameter values ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1430"
  },
  {
    "text": "or checking with the user ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1433"
  },
  {
    "text": "on intents that are transactional or destructive. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1435"
  },
  {
    "text": "Dialog provides a spoken or textual response ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1439"
  },
  {
    "text": "to the person running an intent. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1442"
  },
  {
    "text": "It's really important to provide dialog ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1444"
  },
  {
    "text": "for intents to work well in a voice experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1446"
  },
  {
    "text": "In my Add Book intent from earlier, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1450"
  },
  {
    "text": "I'll add a needsValueDialog ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1452"
  },
  {
    "text": "that's spoken when asking for a book title ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1453"
  },
  {
    "text": "and a result dialog returned from my perform method. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1456"
  },
  {
    "text": "These will be read or shown by Shortcuts or Siri ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1460"
  },
  {
    "text": "across our many platforms. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1462"
  },
  {
    "text": "You can think of snippets as the visual equivalent of dialog, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1465"
  },
  {
    "text": "letting you add a visual representation ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1470"
  },
  {
    "text": "to the result of your intent. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1472"
  },
  {
    "text": "To use a snippet, just add the SwiftUI view of your choice ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1474"
  },
  {
    "text": "as a trailing closure to your intent result. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1478"
  },
  {
    "text": "Like with a widget, your SwiftUI view will be archived ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1482"
  },
  {
    "text": "and sent over to Shortcuts or Siri. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1486"
  },
  {
    "text": "App Intents also supports asking the user for a value ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1491"
  },
  {
    "text": "by throwing requestValue. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1494"
  },
  {
    "text": "For example, this comes in handy when you need a value ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1496"
  },
  {
    "text": "for a parameter that is sometimes optional. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1499"
  },
  {
    "text": "Here, requestValue helps me when my string search ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1502"
  },
  {
    "text": "returns more than one book. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1506"
  },
  {
    "text": "In this case, I prompt and ask for an author ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1508"
  },
  {
    "text": "to narrow the book search down. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1510"
  },
  {
    "text": "requestValue gives me an error I can throw, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1512"
  },
  {
    "text": "which will prompt the user, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1515"
  },
  {
    "text": "and rerun the action with the updated author name. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1517"
  },
  {
    "text": "Disambiguation, meanwhile, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1521"
  },
  {
    "text": "is great when you need the user to choose ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1524"
  },
  {
    "text": "between a set of values for a parameter. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1525"
  },
  {
    "text": "This gives me an even better way to handle ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1529"
  },
  {
    "text": "multiple possible results in my Add Book action. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1531"
  },
  {
    "text": "Here, I get a list of author names from the generated books, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1535"
  },
  {
    "text": "and request disambiguation with those possible values. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1539"
  },
  {
    "text": "The user will be asked to pick between them, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1543"
  },
  {
    "text": "and I'll get the result back. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1545"
  },
  {
    "text": "Lastly, App Intents supports two different kinds of confirmation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1549"
  },
  {
    "text": "The first kind is confirmation of a parameter value. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1553"
  },
  {
    "text": "You might use this when you have a guess ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1557"
  },
  {
    "text": "at what that value should be but you want to confirm, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1559"
  },
  {
    "text": "just to make sure. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1562"
  },
  {
    "text": "When adding a book, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1564"
  },
  {
    "text": "sometimes the web service I call to look up books by title ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1565"
  },
  {
    "text": "returns a couple matches, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1568"
  },
  {
    "text": "but one of them is by far the more popular. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1570"
  },
  {
    "text": "In these cases, I'm going to assume ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1573"
  },
  {
    "text": "that the user meant to add that popular book, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1575"
  },
  {
    "text": "but I'll add confirmation to make sure I got it right. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1577"
  },
  {
    "text": "To do that, I'll call requestConfirmation ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1581"
  },
  {
    "text": "on the title parameter. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1583"
  },
  {
    "text": "The second kind is a confirmation ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1586"
  },
  {
    "text": "of the result of an intent. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1588"
  },
  {
    "text": "This is great for placing orders, for example. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1591"
  },
  {
    "text": "If I wanted to monetize my Library app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1593"
  },
  {
    "text": "and add ordering through a bookstore, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1595"
  },
  {
    "text": "I'd want to make sure that I have the order right. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1598"
  },
  {
    "text": "To do this, I could call requestConfirmation ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1601"
  },
  {
    "text": "on my intent, passing in the order to be placed. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1604"
  },
  {
    "text": "I'll specify a snippet here too, showing a preview of the order. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1607"
  },
  {
    "text": "I prefix the call with \"try\" because requestConfirmation ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1612"
  },
  {
    "text": "will throw an error if the user cancels ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1615"
  },
  {
    "text": "instead of confirming. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1617"
  },
  {
    "text": "Before I leave you, there are a couple aspects ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1620"
  },
  {
    "text": "of the App Intents architecture I want to cover, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1622"
  },
  {
    "text": "which you should know as you adopt the framework. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1625"
  },
  {
    "text": "There are actually two ways to build your App Intents: ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1629"
  },
  {
    "text": "within your app or in a separate extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1632"
  },
  {
    "text": "Of these, implementing intents directly in your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1636"
  },
  {
    "text": "is the simplest. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1638"
  },
  {
    "text": "This is great because you don't need a framework ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1640"
  },
  {
    "text": "or to duplicate your code, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1643"
  },
  {
    "text": "and you don't need to coordinate across processes. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1645"
  },
  {
    "text": "Using your app also gives some higher memory limits, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1648"
  },
  {
    "text": "and it gives you the ability to do some kinds of work ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1651"
  },
  {
    "text": "that are harder from an extension, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1654"
  },
  {
    "text": "like playing audio. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1656"
  },
  {
    "text": "Your app can be run in the foreground ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1659"
  },
  {
    "text": "if you implement openAppWhenRun on your intent to return true. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1661"
  },
  {
    "text": "Otherwise, it will be run in the background. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1665"
  },
  {
    "text": "When running in the background, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1668"
  },
  {
    "text": "your app will launch in a special mode ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1670"
  },
  {
    "text": "without scenes being brought up to maximize performance. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1672"
  },
  {
    "text": "In fact, if you implement background app intents ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1675"
  },
  {
    "text": "in your app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1678"
  },
  {
    "text": "we strongly encourage you to also implement scene support. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1679"
  },
  {
    "text": "Or, you can build your app intents in an extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1685"
  },
  {
    "text": "This has a couple advantages. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1688"
  },
  {
    "text": "It's lighter weight, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1690"
  },
  {
    "text": "because the extension process only handles app intents ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1691"
  },
  {
    "text": "and doesn't require spinning up your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1695"
  },
  {
    "text": "If you are handling Focus intents, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1698"
  },
  {
    "text": "using an extension also means that you'll immediately ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1700"
  },
  {
    "text": "get intents performed on your extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1703"
  },
  {
    "text": "when Focus changes, without the requirement ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1705"
  },
  {
    "text": "that your app is running in the foreground first. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1708"
  },
  {
    "text": "An extension is a bit more work, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1712"
  },
  {
    "text": "since you'll need to add a new target, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1713"
  },
  {
    "text": "move some code into a framework, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1715"
  },
  {
    "text": "and handle coordination between your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1717"
  },
  {
    "text": "and the extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1719"
  },
  {
    "text": "To create an App Intents extension, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1723"
  },
  {
    "text": "go to File > New Target in Xcode ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1725"
  },
  {
    "text": "and choose App Intents Extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1727"
  },
  {
    "text": "With App Intents, your code is the only source of truth. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1732"
  },
  {
    "text": "App Intents achieves this elegant developer experience ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1736"
  },
  {
    "text": "by statically extracting information about your intents, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1739"
  },
  {
    "text": "entities, queries, and parameters at build time. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1742"
  },
  {
    "text": "Xcode will generate a metadata file inside your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1746"
  },
  {
    "text": "or extension bundle during your build process, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1750"
  },
  {
    "text": "containing information received from the Swift compiler ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1752"
  },
  {
    "text": "as it runs on your code. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1755"
  },
  {
    "text": "To make sure all of this works, keep your App Intents types ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1758"
  },
  {
    "text": "directly in the target or extension, not in a framework. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1761"
  },
  {
    "text": "Similarly, your localized strings ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1765"
  },
  {
    "text": "should be found in a strings file ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1767"
  },
  {
    "text": "within the same bundle where your App Intents types live. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1769"
  },
  {
    "text": "For those of you who have existing apps ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1774"
  },
  {
    "text": "with SiriKit Intents that you want to upgrade, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1776"
  },
  {
    "text": "if you adopt intents to integrate with widgets, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1779"
  },
  {
    "text": "or domains like messaging or media, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1782"
  },
  {
    "text": "you should keep using the SiriKit Intents framework. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1785"
  },
  {
    "text": "But if you add custom intents for Siri and Shortcuts, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1788"
  },
  {
    "text": "you should go ahead and upgrade to App Intents. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1791"
  },
  {
    "text": "You can start the upgrade process by clicking ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1795"
  },
  {
    "text": "the Convert to App Intent button ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1797"
  },
  {
    "text": "in your SiriKit Intents definition file. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1799"
  },
  {
    "text": "Integrating your app into Shortcuts with App Intents ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1804"
  },
  {
    "text": "is a great way to maximize your leverage as a developer, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1806"
  },
  {
    "text": "because by doing a small amount of work to adopt App Intents, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1810"
  },
  {
    "text": "you create a large amount of value for customers. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1814"
  },
  {
    "text": "Thank you for joining! ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1817"
  },
  {
    "text": "I really hope that you'll try out App Intents today ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1818"
  },
  {
    "text": "and give us your feedback. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1821"
  },
  {
    "text": "I'm excited about how this new framework ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1823"
  },
  {
    "text": "can help you surprise, delight, and empower folks ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1825"
  },
  {
    "text": "using your apps! ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1827"
  },
  {
    "text": "Happy reading and hope your WWDC is epic! ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1829"
  },
  {
    "text": "♪",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10032/?time=1833"
  }
]