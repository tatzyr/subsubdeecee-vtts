[
  {
    "text": "♪ ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=0"
  },
  {
    "text": "Christian: Hi, my name is Christian. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=9"
  },
  {
    "text": "I'm an engineer on the ARKit team, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=11"
  },
  {
    "text": "and I would like to welcome you to our session, Discover ARKit 6. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=14"
  },
  {
    "text": "You'll learn how to make use of the latest advancements ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=18"
  },
  {
    "text": "in our Augmented Reality framework. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=21"
  },
  {
    "text": "We are delighted to see what you have been creating over the last several years ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=24"
  },
  {
    "text": "with ARKit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=29"
  },
  {
    "text": "We are seeing some amazing apps in interior design, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=30"
  },
  {
    "text": "travel, virtual exhibitions, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=34"
  },
  {
    "text": "games, and so many others. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=36"
  },
  {
    "text": "Our team here at Apple has paid close attention to your feedback, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=38"
  },
  {
    "text": "and we have incorporated a lot of it into ARKit 6. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=42"
  },
  {
    "text": "Let's have a look. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=45"
  },
  {
    "text": "We are introducing a new 4K video mode that lets you run the camera stream ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=46"
  },
  {
    "text": "in the highest image resolution yet. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=51"
  },
  {
    "text": "After that, I'll talk about some additional camera enhancements we made ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=54"
  },
  {
    "text": "that give you more control of the video backdrop. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=58"
  },
  {
    "text": "We also have updates on the behavior of plane anchors, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=61"
  },
  {
    "text": "additions to the Motion Capture API, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=65"
  },
  {
    "text": "and finally share new cities where location anchors will be supported.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=68"
  },
  {
    "text": "Let's start with 4K video. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=74"
  },
  {
    "text": "Over the course of the past several years, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=77"
  },
  {
    "text": "we saw a lot of demand for high resolution content, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=80"
  },
  {
    "text": "especially those apps which leverage the power of Augmented Reality ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=84"
  },
  {
    "text": "for filmmaking, are ever hungry for more pixels. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=88"
  },
  {
    "text": "Let me show you how images are captured and processed for ARKit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=92"
  },
  {
    "text": "This is the camera module of an iPhone 13 Pro. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=96"
  },
  {
    "text": "If we open it up, we can see its setup. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=99"
  },
  {
    "text": "Let us talk about the Wide and the Ultrawide camera. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=103"
  },
  {
    "text": "Both these cameras can be used for different computer vision tasks, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=106"
  },
  {
    "text": "such as world tracking, motion capture, or person segmentation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=110"
  },
  {
    "text": "The wide camera has a special place in our heart, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=115"
  },
  {
    "text": "since it delivers the images for the rendering backdrop. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=118"
  },
  {
    "text": "It's important to understand how images are processed for rendering, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=122"
  },
  {
    "text": "so let me zoom in to the sensor level.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=126"
  },
  {
    "text": "When capturing images for ARKit, we use a large part of the image sensor. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=133"
  },
  {
    "text": "To be more precise, it's an area of 3840x2880 pixels ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=137"
  },
  {
    "text": "on this particular model. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=143"
  },
  {
    "text": "After capture, we use a process called binning. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=145"
  },
  {
    "text": "It works as follows: ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=148"
  },
  {
    "text": "Binning takes a region of 2x2 pixels, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=151"
  },
  {
    "text": "averages the pixel values, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=156"
  },
  {
    "text": "and writes back a single pixel. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=158"
  },
  {
    "text": "This has two significant advantages. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=161"
  },
  {
    "text": "First, image dimensions are reduced by a factor of two, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=164"
  },
  {
    "text": "in this case, it downscales to 1920x1440 pixels. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=168"
  },
  {
    "text": "As a result of this, each frame consumes way less memory and processing power. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=173"
  },
  {
    "text": "This allows the device to run the camera at up to 60 frames per second ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=178"
  },
  {
    "text": "and frees up resources for rendering. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=182"
  },
  {
    "text": "Secondly, this process offers an advantage ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=185"
  },
  {
    "text": "in low light environments, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=189"
  },
  {
    "text": "where the averaging of pixel values reduces the effects of sensor noise.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=190"
  },
  {
    "text": "We end up with a camera stream that provides an image at HD resolution ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=195"
  },
  {
    "text": "roughly every 17 milliseconds. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=201"
  },
  {
    "text": "After using the current frame for various computer vision tasks, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=205"
  },
  {
    "text": "ARKit surfaces the current frame for rendering. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=209"
  },
  {
    "text": "In case you are writing your own Metal renderer, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=213"
  },
  {
    "text": "you have access to it via ARSession's currentFrame.capturedImage.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=216"
  },
  {
    "text": "If you are using RealityKit, the image is automatically processed further ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=222"
  },
  {
    "text": "for use as a backdrop. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=227"
  },
  {
    "text": "It is scaled on-device to match the screen width of 2532 pixels ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=229"
  },
  {
    "text": "and is cropped to match the display aspect ratio. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=235"
  },
  {
    "text": "RealityKit performs the task of rendering and compositing the virtual content, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=240"
  },
  {
    "text": "like this pirate ship, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=245"
  },
  {
    "text": "on top of the frame and displays the final result on screen. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=246"
  },
  {
    "text": "Now, with the power of our latest hardware, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=250"
  },
  {
    "text": "we enable full 4K video mode in ARKit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=253"
  },
  {
    "text": "Your app can now take advantage of a higher resolution image ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=257"
  },
  {
    "text": "by skipping the binning step and directly accessing it in full 4K resolution. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=261"
  },
  {
    "text": "In 4K mode, an image area of 3840x2160 pixels is used ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=267"
  },
  {
    "text": "and you can capture video at 30 frames per second. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=274"
  },
  {
    "text": "Apart from these changes, your app will work the same way as before. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=277"
  },
  {
    "text": "If you use RealityKit, it performs scaling, cropping, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=281"
  },
  {
    "text": "and rendering for you.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=284"
  },
  {
    "text": "You can enable the 4K mode using a few simple steps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=289"
  },
  {
    "text": "Let's see how that looks in code.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=294"
  },
  {
    "text": "'ARConfiguration' has a new convenience function ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=298"
  },
  {
    "text": "'recommendedVideoFormatFor4KResolution' that returns a 4K video format ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=302"
  },
  {
    "text": "if that mode is supported on your device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=308"
  },
  {
    "text": "If the device or configuration do not support 4K, this function will return nil. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=311"
  },
  {
    "text": "You can then assign this video format to your configuration, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=317"
  },
  {
    "text": "then you run your session with that adjusted configuration.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=320"
  },
  {
    "text": "The 4K video mode is available on iPhone 11 and up ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=325"
  },
  {
    "text": "and on any iPad Pro with an M1 chip. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=330"
  },
  {
    "text": "The resolution is 3840x2160 pixels at 30 frames per second. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=334"
  },
  {
    "text": "The aspect ratio is 16:9, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=340"
  },
  {
    "text": "for iPad that means that images have to be cropped at the sides ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=343"
  },
  {
    "text": "for full screen display and the final render might look zoomed in.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=347"
  },
  {
    "text": "When using ARKit, especially in the new 4K resolution, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=353"
  },
  {
    "text": "it's important to follow some best practices for optimal results. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=357"
  },
  {
    "text": "Do not hold on to an ARFrame for too long. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=361"
  },
  {
    "text": "This might prevent the system from freeing up memory, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=364"
  },
  {
    "text": "which might further stop ARKit from surfacing newer frames to you. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=368"
  },
  {
    "text": "This will become visible through frame drops in your rendering. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=372"
  },
  {
    "text": "Ultimately, the ARCamera's tracking state might fall back to limited. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=375"
  },
  {
    "text": "Check for console warnings to make sure you do not retain ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=380"
  },
  {
    "text": "too many images at any given time. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=383"
  },
  {
    "text": "Also consider if the new 4K video format is indeed the right option for your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=386"
  },
  {
    "text": "Apps that benefit from high resolution video are good candidates, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=392"
  },
  {
    "text": "such as video, filmmaking, and virtual production apps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=396"
  },
  {
    "text": "Dealing with higher resolution images takes up additional system resources, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=400"
  },
  {
    "text": "so for games and other apps that rely on a high refresh rate, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=405"
  },
  {
    "text": "we still suggest using full HD video at 60 frames per second.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=409"
  },
  {
    "text": "On top of the new 4K mode, there are some additional enhancements ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=415"
  },
  {
    "text": "that allow you to get more control over your camera. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=418"
  },
  {
    "text": "I will start by introducing the hi-res background photo API ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=423"
  },
  {
    "text": "and show how to enable the new HDR mode. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=428"
  },
  {
    "text": "Further, I will demonstrate how to get access ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=432"
  },
  {
    "text": "to the underlying AVCaptureDevice for more fine grained control ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=435"
  },
  {
    "text": "and show you how to read EXIF tags in ARKit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=440"
  },
  {
    "text": "Let's jump into the new hi-res background photo API.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=444"
  },
  {
    "text": "While running an ARSession, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=450"
  },
  {
    "text": "you still get access to the video stream as usual. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=452"
  },
  {
    "text": "In addition, ARKit lets you request the capture of single photos on demand ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=455"
  },
  {
    "text": "in the background, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=461"
  },
  {
    "text": "while the video stream is running uninterrupted. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=463"
  },
  {
    "text": "Those single photo frames take full advantage of your camera sensor. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=466"
  },
  {
    "text": "On my iPhone 13 that means the full 12 megapixels of the wide camera. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=470"
  },
  {
    "text": "When preparing for WWDC, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=475"
  },
  {
    "text": "we at ARKit had a fun idea for a Photography app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=478"
  },
  {
    "text": "that highlights what this new API can help you create. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=481"
  },
  {
    "text": "In our example, we take you back in time ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=486"
  },
  {
    "text": "to April 1st, 2016, when the famous pirate flag ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=489"
  },
  {
    "text": "was flying over the Apple Infinite Loop Campus. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=493"
  },
  {
    "text": "I asked Tommy, the original photographer, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=496"
  },
  {
    "text": "where exactly he shot that photo six years ago.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=499"
  },
  {
    "text": "Based on this coordinate, we can create a location anchor ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=505"
  },
  {
    "text": "that guides you to the exact same spot where Tommy stood in April 2016, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=509"
  },
  {
    "text": "as indicated by the big blue dot. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=515"
  },
  {
    "text": "Upon reaching that spot, it helps you frame that perfect picture ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=518"
  },
  {
    "text": "by showing a focus square. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=522"
  },
  {
    "text": "Finally, the app lets your take a photo by tapping the screen. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=525"
  },
  {
    "text": "That photo can be taken in native camera resolution ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=531"
  },
  {
    "text": "while the current ARKit session is running, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=534"
  },
  {
    "text": "without the need to spin up another AVCapture session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=536"
  },
  {
    "text": "We're excited to see which ideas you have that combine the power of AR ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=540"
  },
  {
    "text": "and photography. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=545"
  },
  {
    "text": "Another use case that will greatly benefit by this API ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=546"
  },
  {
    "text": "is the creation of 3D models using Object Capture.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=551"
  },
  {
    "text": "Object capture takes in photos of a real world object, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=555"
  },
  {
    "text": "like this running shoe, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=559"
  },
  {
    "text": "and using our latest photogrammetry algorithms, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=561"
  },
  {
    "text": "it turns them into a 3D model ready for deployment in your AR app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=564"
  },
  {
    "text": "With ARKit you can overlay a 3D UI on top of a physical object ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=570"
  },
  {
    "text": "and provide better capture guidance. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=575"
  },
  {
    "text": "And now with the new high resolution background image API, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=577"
  },
  {
    "text": "you can take higher-resolution photos of the object ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=581"
  },
  {
    "text": "and create even more realistic 3D models. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=584"
  },
  {
    "text": "I'm a big fan of photogrammetry, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=587"
  },
  {
    "text": "so I'd highly recommend that you check out this year's ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=589"
  },
  {
    "text": "\"Bring your world to augmented reality\" session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=593"
  },
  {
    "text": "Let me show you how you can enable high-resolution photo captures in code.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=596"
  },
  {
    "text": "First, we check for a video format that supports hiResCapture. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=601"
  },
  {
    "text": "We can use the convenience function ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=607"
  },
  {
    "text": "'recommendedVideoFormatForHighResolution FrameCapturing' for that. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=609"
  },
  {
    "text": "After we make sure that the format is supported, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=615"
  },
  {
    "text": "we can set the new video format and run the session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=618"
  },
  {
    "text": "We further have to tell ARKit when to capture a hi-res image. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=622"
  },
  {
    "text": "In our earlier example, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=627"
  },
  {
    "text": "the capture of a photo is triggered by a tap on the screen. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=629"
  },
  {
    "text": "In your own application, you might want to react to different events ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=632"
  },
  {
    "text": "that trigger high-resolution frame captures. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=636"
  },
  {
    "text": "It really depends on your use case. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=639"
  },
  {
    "text": "The ARSession has a new function called captureHighResolutionFrame. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=642"
  },
  {
    "text": "Calling this function triggers an out-of-band capture ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=647"
  },
  {
    "text": "of a high-resolution image. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=651"
  },
  {
    "text": "You get access to an ARFrame containing the high-resolution image ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=654"
  },
  {
    "text": "and all other frame properties ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=657"
  },
  {
    "text": "asynchronously in the completion handler. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=660"
  },
  {
    "text": "You should check if the frame capture was successful ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=663"
  },
  {
    "text": "before accessing its contents. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=665"
  },
  {
    "text": "In this example we store the frame to disk. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=668"
  },
  {
    "text": "Also keep in mind our best practices on image retention ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=671"
  },
  {
    "text": "that I mentioned earlier, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=675"
  },
  {
    "text": "especially since these images use the full resolution of the image sensor. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=676"
  },
  {
    "text": "Next, let's talk about HDR. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=682"
  },
  {
    "text": "High Dynamic Range captures a wider range of colors ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=686"
  },
  {
    "text": "and maps those to your display. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=689"
  },
  {
    "text": "This is most visible in environments with high contrast. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=691"
  },
  {
    "text": "Here's a good example from my backyard. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=695"
  },
  {
    "text": "This scene features both very dark areas– ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=698"
  },
  {
    "text": "for example, on the wooden fence– ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=701"
  },
  {
    "text": "and some very bright areas like the clouds in the sky. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=703"
  },
  {
    "text": "When turning on the HDR mode, as on the right, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=707"
  },
  {
    "text": "you can see that details in these regions, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=710"
  },
  {
    "text": "like the fluffiness in the clouds, are preserved much better in HDR. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=712"
  },
  {
    "text": "Let's see how HDR is turned on in code. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=718"
  },
  {
    "text": "You can query any video format if it supports HDR ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=721"
  },
  {
    "text": "through its 'isVideoHDRSupported' property. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=725"
  },
  {
    "text": "Currently, only non-binned video formats support HDR. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=729"
  },
  {
    "text": "If HDR is supported, set videoHDRAllowed in the config to true ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=733"
  },
  {
    "text": "and run your session with that configuration. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=738"
  },
  {
    "text": "Turning on HDR will have a performance impact, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=742"
  },
  {
    "text": "so make sure to only use it when there is a need for it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=745"
  },
  {
    "text": "In use cases where you prefer manual control ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=749"
  },
  {
    "text": "over settings such as exposure or white balance, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=751"
  },
  {
    "text": "there is now convenient way to directly access an AVCaptureDevice ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=755"
  },
  {
    "text": "and change any of its settings. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=760"
  },
  {
    "text": "In our code example, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=763"
  },
  {
    "text": "call 'configurableCaptureDevice ForPrimaryCamera' ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=764"
  },
  {
    "text": "of your configuration to get access to the underlying 'AVCaptureDevice'. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=768"
  },
  {
    "text": "Use this capability to create custom looks for your ARKit app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=774"
  },
  {
    "text": "but keep in mind that the image is not only used as a rendering backdrop, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=778"
  },
  {
    "text": "but is also actively used by ARKit to analyze the scene. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=783"
  },
  {
    "text": "So any changes like strong overexposure might have a negative effect ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=787"
  },
  {
    "text": "on the output quality of ARKit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=791"
  },
  {
    "text": "You can also perform some advanced operations, like triggering focus events. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=794"
  },
  {
    "text": "For more information on how to configure AVCaptureSessions, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=799"
  },
  {
    "text": "please refer to the AVCapture documentation on developer.apple.com. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=803"
  },
  {
    "text": "Finally, ARKit exposes EXIF tags to your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=809"
  },
  {
    "text": "They are now available with every ARFrame. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=813"
  },
  {
    "text": "EXIF tags contain useful information about white balance, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=817"
  },
  {
    "text": "exposure, and other settings that can be valuable for post-processing. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=820"
  },
  {
    "text": "That concludes all updates on the image capture pipeline. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=825"
  },
  {
    "text": "Let's see which changes we have for Plane Anchors.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=829"
  },
  {
    "text": "Plane anchors have been a popular feature since the very first version of ARKit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=833"
  },
  {
    "text": "Many of you expressed the need to have a cleaner separation of plane anchors ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=838"
  },
  {
    "text": "and the underlying plane geometry. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=843"
  },
  {
    "text": "For that reason, we are announcing updates ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=845"
  },
  {
    "text": "on the behavior of the plane anchor and the geometry of the plane. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=848"
  },
  {
    "text": "This is an example of a typical plane anchor in iOS 15. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=852"
  },
  {
    "text": "At the beginning of the AR session, it fits the plane ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=857"
  },
  {
    "text": "to this well-textured notebook on the table. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=860"
  },
  {
    "text": "When running the session, the plane is gradually updated ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=864"
  },
  {
    "text": "to account for new parts of the table that come into view. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=867"
  },
  {
    "text": "Every time the plane geometry is updated, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=871"
  },
  {
    "text": "the anchor rotation is updated as well ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=873"
  },
  {
    "text": "to reflect the new orientation of the plane. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=876"
  },
  {
    "text": "With iOS 16, we introduce a cleaner separation between plane anchors ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=879"
  },
  {
    "text": "and their plane geometry.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=884"
  },
  {
    "text": "Plane anchor and geometry updates are now fully decoupled. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=887"
  },
  {
    "text": "While the plane is extending and updating its geometry ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=892"
  },
  {
    "text": "as the full table comes into view, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=896"
  },
  {
    "text": "the anchor rotation itself remains constant.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=898"
  },
  {
    "text": "When contrasting with the old behavior on the left hand side, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=906"
  },
  {
    "text": "you can see that the plane anchor in iOS 16 has stayed ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=909"
  },
  {
    "text": "at the same orientation, aligned to the notebook, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=913"
  },
  {
    "text": "throughout the whole AR Session.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=916"
  },
  {
    "text": "All information on plane geometry ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=921"
  },
  {
    "text": "is now contained in a class called ARPlaneExtent. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=924"
  },
  {
    "text": "Rotation updates are no longer expressed through rotating the plane anchor itself. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=928"
  },
  {
    "text": "Instead, ARPlaneExtent contains a new property, rotationOnYAxis, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=933"
  },
  {
    "text": "that represents the angle of rotation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=939"
  },
  {
    "text": "In addition to this new property, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=942"
  },
  {
    "text": "planes are fully defined by width and height, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=944"
  },
  {
    "text": "as well as the center coordinate of the PlaneAnchor. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=948"
  },
  {
    "text": "Let me show you how to create this plane visualization in code.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=952"
  },
  {
    "text": "First, we generate an entity based on a plane mesh ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=958"
  },
  {
    "text": "according to the specified width and height. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=962"
  },
  {
    "text": "Then we set the entities transform according to the rotation on y axis ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=966"
  },
  {
    "text": "and also offset it by the value of the center property. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=971"
  },
  {
    "text": "Every time the plane is updated, we have to account for the fact that width, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=976"
  },
  {
    "text": "height, and center coordinate and the new rotationOnYAxis might change. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=981"
  },
  {
    "text": "To make use of this new behavior, set your deployment target to iOS 16 ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=986"
  },
  {
    "text": "in your Xcode settings. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=991"
  },
  {
    "text": "The next update is on MotionCapture, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=994"
  },
  {
    "text": "our machine learning masterminds worked hard to make further improvements. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=997"
  },
  {
    "text": "There is a whole suite of updates, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1002"
  },
  {
    "text": "both for the 2D skeleton, as well as for the 3D joints. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1004"
  },
  {
    "text": "For the 2D skeleton we are tracking two new joints: ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1009"
  },
  {
    "text": "the left and the right ear. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1012"
  },
  {
    "text": "We also improved the overall pose detection. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1015"
  },
  {
    "text": "On iPhone 12 and up, as well as on the latest iPad Pro ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1019"
  },
  {
    "text": "and iPad Air models with the M1 chip, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1022"
  },
  {
    "text": "the 3D skeleton, as shown in red, has been improved. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1025"
  },
  {
    "text": "You will experience less jitter and overall more temporal consistency. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1029"
  },
  {
    "text": "Tracking is also more stable if parts of the person are occluded ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1034"
  },
  {
    "text": "or when walking up close to the camera. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1038"
  },
  {
    "text": "To make use of the improved MotionCapture, set your deployment target to iOS 16 ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1041"
  },
  {
    "text": "in your Xcode settings. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1046"
  },
  {
    "text": "Next, I would also like to announce new cities and countries ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1049"
  },
  {
    "text": "where LocationAnchors will be supported. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1053"
  },
  {
    "text": "As a small reminder, Apple Maps uses the LocationAnchor API ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1056"
  },
  {
    "text": "to power its pedestrian walking instructions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1060"
  },
  {
    "text": "In this example you can see that it can lead you through the streets of London, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1062"
  },
  {
    "text": "thanks to the power of LocationAnchors. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1067"
  },
  {
    "text": "LocationAnchors are already available in a growing number of cities ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1070"
  },
  {
    "text": "in the United States and in London, UK. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1074"
  },
  {
    "text": "Starting today, they will be available in the Canadian cities of Vancouver, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1077"
  },
  {
    "text": "Toronto, and Montreal. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1081"
  },
  {
    "text": "We are also enabling them in Singapore, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1083"
  },
  {
    "text": "and in seven metropolitan areas in Japan, including Tokyo. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1086"
  },
  {
    "text": "As well as in Melbourne and Sydney, Australia. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1090"
  },
  {
    "text": "Later this year, we will make them available in ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1094"
  },
  {
    "text": "Auckland, New Zealand, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1097"
  },
  {
    "text": "Tel Aviv, Israel, and Paris, France ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1099"
  },
  {
    "text": "If you are interested to know if LocationAnchors are supported ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1103"
  },
  {
    "text": "at a particular coordinate, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1106"
  },
  {
    "text": "just use the checkAvailability method of ARGeoTrackingConfiguration.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1107"
  },
  {
    "text": "And those were all the updates to ARKit 6. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1113"
  },
  {
    "text": "To summarize, I presented how to run ARKit in the new 4K video format. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1117"
  },
  {
    "text": "For advanced use cases, I demonstrated how to enable HDR ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1123"
  },
  {
    "text": "or get manual control over the AVCaptureDevice. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1127"
  },
  {
    "text": "For even more pixel hungry applications, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1131"
  },
  {
    "text": "I demonstrated how to get high resolution photos from an ARKit session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1134"
  },
  {
    "text": "We talked about the new behavior of Plane Anchors, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1139"
  },
  {
    "text": "and I presented the new ear joints ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1141"
  },
  {
    "text": "and other improvements in MotionCapture. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1144"
  },
  {
    "text": "You also got to know in which countries LocationAnchors ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1147"
  },
  {
    "text": "will be available later this year.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1150"
  },
  {
    "text": "Thanks for tuning in. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1154"
  },
  {
    "text": "Have a great WWDC 2022!",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10126/?time=1155"
  }
]