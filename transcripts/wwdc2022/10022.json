[
  {
    "text": "♪ ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=0"
  },
  {
    "text": "Hello and welcome. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=9"
  },
  {
    "text": "I'm Brad Ford from the Camera Software Engineering team. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=11"
  },
  {
    "text": "In this session, I'll be introducing you to camera extensions ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=15"
  },
  {
    "text": "with CoreMedia IO, which is a modern camera driver architecture ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=18"
  },
  {
    "text": "for macOS and a replacement for DAL plug-ins.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=22"
  },
  {
    "text": "DAL plug-ins are a technology that allows you to create camera drivers ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=27"
  },
  {
    "text": "for hardware that plugs into a Mac, or virtual cameras. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=30"
  },
  {
    "text": "They've been around for a very long time– since macOS 10.7.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=35"
  },
  {
    "text": "DAL plug-ins provide the power to extend macOS as a rich media platform, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=40"
  },
  {
    "text": "bringing support for great third party camera products to pros and consumers.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=45"
  },
  {
    "text": "It's part of what makes the Mac, the Mac.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=51"
  },
  {
    "text": "But DAL plug-ins have some problems. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=56"
  },
  {
    "text": "They load untrusted code directly into an app's process, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=58"
  },
  {
    "text": "making it vulnerable to crashes if the plug-in has bugs ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=62"
  },
  {
    "text": "or to malware attack. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=65"
  },
  {
    "text": "For this reason, they don't work with Apple apps ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=68"
  },
  {
    "text": "such as FaceTime, QuickTime Player, and PhotoBooth. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=71"
  },
  {
    "text": "They also don't work with many third party camera apps, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=76"
  },
  {
    "text": "unless those apps intentionally disable library validation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=79"
  },
  {
    "text": "or the user turns off system integrity protection. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=83"
  },
  {
    "text": "Neither of these are practices recommended ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=86"
  },
  {
    "text": "as they make the system less secure and less stable. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=89"
  },
  {
    "text": "They're difficult to develop too. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=93"
  },
  {
    "text": "They carry a C API circa 2011 ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=95"
  },
  {
    "text": "and a thick SDK of C++ helper classes for you to learn. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=98"
  },
  {
    "text": "And on top of all that, they're sparsely documented.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=103"
  },
  {
    "text": "It's time for an upgrade. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=107"
  },
  {
    "text": "macOS 12.3 introduces a thoroughly modern replacement ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=110"
  },
  {
    "text": "for DAL plug-ins called Camera Extensions… ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=114"
  },
  {
    "text": "An architecture that places user security first. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=119"
  },
  {
    "text": "Let's learn how it works. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=123"
  },
  {
    "text": "First, I'll provide a technology overview. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=125"
  },
  {
    "text": "Next, I'll show you how to build a camera extension from scratch. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=129"
  },
  {
    "text": "Next, I'll introduce the main classes and functions of the API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=133"
  },
  {
    "text": "I'll explain how CoreMedia IO Extensions can be used as output devices. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=138"
  },
  {
    "text": "And finally, I'll cover our DAL plug-in deprecation plan. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=144"
  },
  {
    "text": "Let's get started. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=148"
  },
  {
    "text": "Camera extensions, otherwise known as CoreMedia IO extensions, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=151"
  },
  {
    "text": "are a new way to package and deliver camera drivers to Mac applications.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=155"
  },
  {
    "text": "They're secure. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=161"
  },
  {
    "text": "Your extension code is cordoned off into its own daemon process ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=162"
  },
  {
    "text": "that's sandboxed and run as a role user. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=166"
  },
  {
    "text": "All the buffers your extension provides are validated ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=170"
  },
  {
    "text": "before being delivered to an app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=173"
  },
  {
    "text": "They're fast. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=176"
  },
  {
    "text": "The framework handles the IPC layers ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=177"
  },
  {
    "text": "between your extension process and the app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=179"
  },
  {
    "text": "with an emphasis on performance. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=182"
  },
  {
    "text": "The framework can also take care of delivering buffers ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=185"
  },
  {
    "text": "to multiple simultaneous clients. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=188"
  },
  {
    "text": "They're modern. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=191"
  },
  {
    "text": "Your extension can be written in either Swift or Objective-c.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=192"
  },
  {
    "text": "They're simple. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=198"
  },
  {
    "text": "There are just a few classes to learn, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=199"
  },
  {
    "text": "a few protocols to implement in order to get up and running. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=202"
  },
  {
    "text": "The framework takes care of the boilerplate code.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=205"
  },
  {
    "text": "They're easy to deploy. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=209"
  },
  {
    "text": "You can ship them as apps in the App Store.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=211"
  },
  {
    "text": "And camera extensions are 100% backward compatible ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=216"
  },
  {
    "text": "with existing AVFoundation capture APIs.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=220"
  },
  {
    "text": "Camera extensions shows up just like the built-in camera in all camera apps, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=225"
  },
  {
    "text": "including Apple apps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=230"
  },
  {
    "text": "Here's how an example of how a camera extension might appear ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=232"
  },
  {
    "text": "in the FaceTime camera picker. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=235"
  },
  {
    "text": "What kind of experiences can you build with a camera extension? ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=238"
  },
  {
    "text": "Let's study three common uses. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=242"
  },
  {
    "text": "The simplest use is a software-only camera, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=245"
  },
  {
    "text": "such as a camera that displays color bars, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=248"
  },
  {
    "text": "a unique test pattern, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=252"
  },
  {
    "text": "programmatically generated images at various frame rates or resolutions, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=255"
  },
  {
    "text": "or a camera that streams pre-rendered content, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=262"
  },
  {
    "text": "such as frames in a movie, to test A/V synchronization.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=265"
  },
  {
    "text": "The second use case is a driver for a camera that you intend ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=270"
  },
  {
    "text": "to physically plug into a Mac or discover wirelessly. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=274"
  },
  {
    "text": "Camera extensions fully support hot plugging and unplugging. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=279"
  },
  {
    "text": "To address your hardware, you have a few choices. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=284"
  },
  {
    "text": "The preferred method is to use a DriverKit Extension, or DEXT, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=287"
  },
  {
    "text": "which runs entirely in user space. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=292"
  },
  {
    "text": "If your hardware must be addressed at the kernel level, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=295"
  },
  {
    "text": "you can use the legacy IOVideoFamily kext path. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=298"
  },
  {
    "text": "Development of new kext code is discouraged ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=303"
  },
  {
    "text": "as kexts are inherently less secure and can contribute to system instability.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=305"
  },
  {
    "text": "Apple provides a class compliant extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=314"
  },
  {
    "text": "for USB video class, or UVC, cameras. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=316"
  },
  {
    "text": "It works great for cameras that conform to the UVC spec.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=321"
  },
  {
    "text": "If, however, you need to support a USB camera ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=326"
  },
  {
    "text": "that uses nonstandard protocol, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=329"
  },
  {
    "text": "has additional features outside the UVC spec, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=331"
  },
  {
    "text": "you can create a camera extension that overrides Apple's UVC extension, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=335"
  },
  {
    "text": "allowing you to claim a particular product and vendor ID. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=340"
  },
  {
    "text": "If you're interested in learning more about it, please refer to the article ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=344"
  },
  {
    "text": "at developer.apple.com entitled ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=348"
  },
  {
    "text": "\"Overriding the default USB video class extension.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=351"
  },
  {
    "text": "It explains how to create a minimal DEXT bundle ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=355"
  },
  {
    "text": "and which IOKitPersonalities keys you need to override in your Info.plist.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=358"
  },
  {
    "text": "A third common use is a creative camera, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=365"
  },
  {
    "text": "a hybrid between software and hardware.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=368"
  },
  {
    "text": "Your extension accesses a video stream from another physical camera ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=372"
  },
  {
    "text": "attached to the Mac, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=376"
  },
  {
    "text": "applies an effect to those buffers, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=378"
  },
  {
    "text": "and sends them along to clients as a new camera stream.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=380"
  },
  {
    "text": "Or a creative camera that accesses video streams from several cameras, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=386"
  },
  {
    "text": "composites them, and sends them along to the app.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=391"
  },
  {
    "text": "A creative camera like this might use a configuration app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=397"
  },
  {
    "text": "to control the compositing or parameterize filters. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=400"
  },
  {
    "text": "The possibilities for creative camera are really endless.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=404"
  },
  {
    "text": "Now that we've explored the primary use cases, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=409"
  },
  {
    "text": "let's look at the anatomy of a CoreMedia IO Extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=411"
  },
  {
    "text": "First the \"CoreMedia IO\" part.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=416"
  },
  {
    "text": "CoreMedia IO is a low level framework ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=420"
  },
  {
    "text": "for publishing or discovering camera drivers. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=423"
  },
  {
    "text": "You already know that it contains the legacy DAL API ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=427"
  },
  {
    "text": "and the new camera extension API that replaces it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=431"
  },
  {
    "text": "But it also contains a powerful set of low level C APIs ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=435"
  },
  {
    "text": "for app developers to find and inspect cameras on the system.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=439"
  },
  {
    "text": "Now, how about that \"Extension\" part? ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=445"
  },
  {
    "text": "CoreMedia IO Extensions are built on top of the SystemExtensions framework ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=449"
  },
  {
    "text": "which first appeared in macOS Catalina. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=455"
  },
  {
    "text": "It obviates the need for a throw-away installer. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=458"
  },
  {
    "text": "Instead, you ship your extension inside an app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=461"
  },
  {
    "text": "The extension executable lives within the app bundle. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=465"
  },
  {
    "text": "By making calls into the SystemExtensions framework, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=469"
  },
  {
    "text": "your app can install, upgrade, or downgrade your extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=473"
  },
  {
    "text": "for all users on the system. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=478"
  },
  {
    "text": "And uninstalling is a snap. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=481"
  },
  {
    "text": "Delete the app and the SystemExtensions framework ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=483"
  },
  {
    "text": "uninstalls your camera extension for all users. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=486"
  },
  {
    "text": "This delivery mechanism is approved for App Store use, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=490"
  },
  {
    "text": "making it easy to deploy your camera extension to a wide audience.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=493"
  },
  {
    "text": "To learn more about the system extensions framework, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=499"
  },
  {
    "text": "you can read the documentation at developer.apple.com/ ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=502"
  },
  {
    "text": "documentation/systemextensions.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=506"
  },
  {
    "text": "And be sure to check out the WWDC 2019 video entitled ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=511"
  },
  {
    "text": "\"System Extensions and DriverKit.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=516"
  },
  {
    "text": "That's it for our technology overview of camera extensions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=520"
  },
  {
    "text": "Now, let's actually build one. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=524"
  },
  {
    "text": "Here's a quick demo of how to get a camera extension up and running ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=526"
  },
  {
    "text": "in a matter of minutes.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=530"
  },
  {
    "text": "I've created a single window macOS application in Xcode, called ExampleCam. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=533"
  },
  {
    "text": "At this point, I've only added a few lines of code.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=538"
  },
  {
    "text": "The App Delegate is unchanged. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=543"
  },
  {
    "text": "In the main storyboard, I've added two buttons, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=547"
  },
  {
    "text": "one to install and one to uninstall the extension, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=551"
  },
  {
    "text": "plus a text field to display status.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=555"
  },
  {
    "text": "In the ViewController class, I've added IBActions ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=559"
  },
  {
    "text": "to hook up the install and uninstall buttons.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=563"
  },
  {
    "text": "These functions create OSSystemExtensionRequests ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=568"
  },
  {
    "text": "to either activate ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=571"
  },
  {
    "text": "or deactivate the extension found within the app's bundle. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=575"
  },
  {
    "text": "At the bottom, I've added skeletal implementations ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=580"
  },
  {
    "text": "of the OSSystemExtensionRequestDelegate functions that log status.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=583"
  },
  {
    "text": "The app's entitlements file has the usual App Sandbox=YES ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=590"
  },
  {
    "text": "and it defines an AppGroup.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=596"
  },
  {
    "text": "I've only added one new key here, the \"System Extension\" key, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=600"
  },
  {
    "text": "which is required if your app installs system extensions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=605"
  },
  {
    "text": "At this point, if I run the app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=609"
  },
  {
    "text": "and click on the Install Extension button, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=613"
  },
  {
    "text": "I'll just get a fatal error, since the app is looking ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=617"
  },
  {
    "text": "for an extension in the bundle that doesn't exist yet.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=620"
  },
  {
    "text": "To create and embed a system extension, I go to File, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=627"
  },
  {
    "text": "New, Target, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=633"
  },
  {
    "text": "and under macOS, I scroll all the way down to the bottom ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=637"
  },
  {
    "text": "where the System Extensions are located. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=641"
  },
  {
    "text": "Then I pick \"Camera Extension,\" hit next, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=644"
  },
  {
    "text": "give it a name–I'll choose \"Extension\"– ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=649"
  },
  {
    "text": "I'll make sure that \"Embedded in Application\" is set, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=654"
  },
  {
    "text": "and then I click finish. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=658"
  },
  {
    "text": "Inside the new extension folder, I get four new files. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=661"
  },
  {
    "text": "The Info.plist identifies it as a CMIOExtension ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=666"
  },
  {
    "text": "by defining its MachServiceName.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=670"
  },
  {
    "text": "This is a critical piece of information. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=675"
  },
  {
    "text": "CoreMedia IO's registerassistant will not launch your extension unless it's present.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=677"
  },
  {
    "text": "While we're here, let's give it a usage description ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=685"
  },
  {
    "text": "for the system extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=689"
  },
  {
    "text": "The entitlements file shows that it's app sandboxed. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=692"
  },
  {
    "text": "And I need to ensure here that my extension's app group is prefixed ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=697"
  },
  {
    "text": "by the MachServiceName in order for it to pass validation.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=701"
  },
  {
    "text": "So I'll copy and paste that over from the app extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=707"
  },
  {
    "text": "to the extensions entitlements file. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=711"
  },
  {
    "text": "And that's it.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=716"
  },
  {
    "text": "The main.swift file serves as your extension's entry point ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=719"
  },
  {
    "text": "and starts the service. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=723"
  },
  {
    "text": "And the ExtensionProvider.swift file ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=725"
  },
  {
    "text": "gives us a fully functional camera. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=729"
  },
  {
    "text": "It contains a DeviceSource, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=732"
  },
  {
    "text": "a StreamSource, and a ProviderSource, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=735"
  },
  {
    "text": "all that you need to create a pure software camera. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=739"
  },
  {
    "text": "Not a bad little template.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=742"
  },
  {
    "text": "In this file, I'll search ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=746"
  },
  {
    "text": "for \"SampleCapture\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=749"
  },
  {
    "text": "and I'll replace with \"ExampleCam,\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=752"
  },
  {
    "text": "so that my camera's name, model, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=758"
  },
  {
    "text": "and manufacturer all have the proper name.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=762"
  },
  {
    "text": "That's it. Let's compile and run it.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=768"
  },
  {
    "text": "When I hit the Install button, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=777"
  },
  {
    "text": "uh-oh, it fails. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=780"
  },
  {
    "text": "That's because system extensions can only be installed by apps ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=784"
  },
  {
    "text": "residing in /Applications. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=787"
  },
  {
    "text": "Let's move it and try again.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=789"
  },
  {
    "text": "This time, it succeeds. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=806"
  },
  {
    "text": "I'm prompted to Allow the blocked extension to install ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=810"
  },
  {
    "text": "by authenticating in System Settings, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=813"
  },
  {
    "text": "where I find Privacy & Security, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=818"
  },
  {
    "text": "and click the Allow button.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=821"
  },
  {
    "text": "I authenticate with my password, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=825"
  },
  {
    "text": "and then I see that my result has changed to 0 for \"no error.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=828"
  },
  {
    "text": "If I use the systemextensionsctl list tool, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=833"
  },
  {
    "text": "I confirm that I've succeeded, and now I have one extension active ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=838"
  },
  {
    "text": "on my system. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=843"
  },
  {
    "text": "Now I can open any camera app and find and admire my work.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=845"
  },
  {
    "text": "Let's launch FaceTime. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=850"
  },
  {
    "text": "ExampleCam shows up in the camera picker. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=853"
  },
  {
    "text": "It sort of looks like the old Pong game from the '70s, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=856"
  },
  {
    "text": "drawing a horizontal white line that moves up and down the frame ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=860"
  },
  {
    "text": "at 60 frames per second.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=863"
  },
  {
    "text": "To get rid of the camera, all I have to do is delete the app.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=868"
  },
  {
    "text": "The system prompts me to confirm that I'm also uninstalling the extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=877"
  },
  {
    "text": "by deleting the app.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=881"
  },
  {
    "text": "The ExampleCam demo shows just how easy it is make a software camera from scratch. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=889"
  },
  {
    "text": "Now let's take it up a notch by turning that software camera ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=894"
  },
  {
    "text": "into a creative camera.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=898"
  },
  {
    "text": "I call this second example CIFilterCam. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=902"
  },
  {
    "text": "The CI stands for CoreImage, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=906"
  },
  {
    "text": "a framework with all sorts of effects filters ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=909"
  },
  {
    "text": "that you can apply to stills or video.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=911"
  },
  {
    "text": "To create CIFilterCam, I began with the ExampleCam shell, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=915"
  },
  {
    "text": "but decided to make the app a configuration app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=919"
  },
  {
    "text": "as well as an installer. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=922"
  },
  {
    "text": "I've added a camera picker button, a filter picker button, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=924"
  },
  {
    "text": "and an effect bypass button. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=930"
  },
  {
    "text": "I've also added a view for live video preview. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=932"
  },
  {
    "text": "This is a standard view backed by an AVCaptureVideoPreviewLayer ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=936"
  },
  {
    "text": "to show you what the Filter Camera is doing. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=940"
  },
  {
    "text": "By unchecking the bypass button, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=943"
  },
  {
    "text": "I can see various filters applied to the video, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=946"
  },
  {
    "text": "from color effects ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=950"
  },
  {
    "text": "to distortion filters.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=956"
  },
  {
    "text": "I'm kind of partial to the bump distortion.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=962"
  },
  {
    "text": "I can apply these to the built-in FaceTime camera ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=966"
  },
  {
    "text": "or to any physical camera attached to my Mac.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=969"
  },
  {
    "text": "I've got my iPhone nearby set up as a Continuity Camera.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=975"
  },
  {
    "text": "Let's use that.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=982"
  },
  {
    "text": "The CIFilterCam app is nothing special in and of itself. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=989"
  },
  {
    "text": "Just an effects camera app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=992"
  },
  {
    "text": "Where it really gets interesting, though, is when you realize that the app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=994"
  },
  {
    "text": "is a front end to a virtual filter camera that all apps can use. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=998"
  },
  {
    "text": "I'll launch FaceTime and PhotoBooth ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1003"
  },
  {
    "text": "and make sure both of them are pointed at the CIFilterCam. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1006"
  },
  {
    "text": "Now, as I change filters in my configuration app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1010"
  },
  {
    "text": "every app using CIFilterCam changes in tandem.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1015"
  },
  {
    "text": "If I pick a different source camera, every camera app picks up the change.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1019"
  },
  {
    "text": "Every button click in the app translates to a simple property call ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1026"
  },
  {
    "text": "to the filter cam extension, telling it, \"Hey, extension, use this camera,\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1030"
  },
  {
    "text": "or, \"Hey, extension, use this other filter.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1035"
  },
  {
    "text": "Or this other filter.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1040"
  },
  {
    "text": "Or this other filter.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1045"
  },
  {
    "text": "Support for running a hardware camera inside your extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1051"
  },
  {
    "text": "requires macOS Ventura. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1054"
  },
  {
    "text": "You also need to add the com.apple.security.device.camera key ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1057"
  },
  {
    "text": "to your extension's entitlements file, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1062"
  },
  {
    "text": "indicating that you will be using another camera. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1065"
  },
  {
    "text": "And since you'll be using a camera, the user will be prompted ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1069"
  },
  {
    "text": "to grant permission to your extension, so you must provide ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1072"
  },
  {
    "text": "an NSCameraUsageDescription in your Info.plist.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1076"
  },
  {
    "text": "That wraps up the basics of building a camera extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1081"
  },
  {
    "text": "Now let's move on to the APIs.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1085"
  },
  {
    "text": "At the bottom of the stack are daemon processes, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1090"
  },
  {
    "text": "one for each first or third party camera extension.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1093"
  },
  {
    "text": "Within a camera app process, there are several layers at play, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1098"
  },
  {
    "text": "beginning with the private framework code ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1102"
  },
  {
    "text": "that talks to your camera extension over IPC. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1105"
  },
  {
    "text": "One level up is another private layer ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1109"
  },
  {
    "text": "that translates CoreMedia IO Extension calls ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1111"
  },
  {
    "text": "to legacy DAL plug-in calls.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1115"
  },
  {
    "text": "Up again, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1118"
  },
  {
    "text": "we find the public CoreMedia IO APIs that publish DAL plug-ins. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1120"
  },
  {
    "text": "To the client of this interface, there's no difference ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1125"
  },
  {
    "text": "between CoreMedia IO Extensions and DAL plug-ins. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1128"
  },
  {
    "text": "Everything looks like a DAL plug-in. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1132"
  },
  {
    "text": "And finally, at the top is AVFoundation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1135"
  },
  {
    "text": "which is a client of CoreMedia IO. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1139"
  },
  {
    "text": "It re-publishes DAL plug-ins as AVCaptureDevices.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1141"
  },
  {
    "text": "Contrast this with the legacy DAL plug-in architecture. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1147"
  },
  {
    "text": "DAL plug-ins may or may not include a daemon piece, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1152"
  },
  {
    "text": "but all of them run code loaded by the CoreMedia IO framework ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1156"
  },
  {
    "text": "directly in the app process. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1160"
  },
  {
    "text": "This leaves the app vulnerable to malware. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1162"
  },
  {
    "text": "Camera extensions remove this attack vector completely. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1165"
  },
  {
    "text": "Your extension must be app sandboxed, or it won't be allowed to run.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1170"
  },
  {
    "text": "Apple's registerassistantservice identifies it ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1176"
  },
  {
    "text": "by its CMIOExtensionMachServiceName ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1180"
  },
  {
    "text": "and launches it as a role user account called _cmiodalassistants.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1184"
  },
  {
    "text": "Sandboxd applies a custom sandbox profile to your process. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1190"
  },
  {
    "text": "It's tailored for camera use cases.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1194"
  },
  {
    "text": "The custom sandbox profile allows you to communicate ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1199"
  },
  {
    "text": "over the common hardware interfaces you would expect. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1202"
  },
  {
    "text": "USB, Bluetooth, WiFi– ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1206"
  },
  {
    "text": "as a client but not a server that opens ports– ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1210"
  },
  {
    "text": "and even Firewire. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1215"
  },
  {
    "text": "It also allows your extension to read and write from its own container and tmp.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1217"
  },
  {
    "text": "The camera extension sandbox profile is more locked down than a regular app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1224"
  },
  {
    "text": "Some examples of things you can't do are ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1229"
  },
  {
    "text": "forking, exec'ing, or posix spawning a child process, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1233"
  },
  {
    "text": "accessing the window server, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1238"
  },
  {
    "text": "making a connection to the foreground user account, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1241"
  },
  {
    "text": "or registering your own mach services in the global namespace.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1244"
  },
  {
    "text": "If, as you develop your extension, you find the sandbox too restrictive ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1251"
  },
  {
    "text": "for a legitimate capture case, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1254"
  },
  {
    "text": "please provide us feedback through Feedback Assistant ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1257"
  },
  {
    "text": "and we'll carefully consider loosening restrictions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1260"
  },
  {
    "text": "The earlier architecture diagram ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1264"
  },
  {
    "text": "showed your camera extension's daemon process ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1266"
  },
  {
    "text": "passing buffers directly to the app layer. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1268"
  },
  {
    "text": "There's actually one more layer of security involved.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1272"
  },
  {
    "text": "Between your daemon and the app is a proxy service ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1277"
  },
  {
    "text": "called registerassistantservice. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1280"
  },
  {
    "text": "It enforces transparency, consent, and control policy. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1283"
  },
  {
    "text": "When an app tries to use a camera for the first time, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1289"
  },
  {
    "text": "the system asks the user if it's okay. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1292"
  },
  {
    "text": "That consent needs to be granted for all cameras, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1295"
  },
  {
    "text": "not just the built-in ones. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1297"
  },
  {
    "text": "The proxy service handles this consent on your behalf. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1300"
  },
  {
    "text": "If the user has denied camera access, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1303"
  },
  {
    "text": "the proxy stops buffers from going to that app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1306"
  },
  {
    "text": "It also handles attribution– it lets the system know ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1310"
  },
  {
    "text": "that a particular camera is in use by a particular app ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1313"
  },
  {
    "text": "so that power consumed by your daemon ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1317"
  },
  {
    "text": "can be attributed to the app that's using your camera.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1320"
  },
  {
    "text": "CoreMedia IO Extensions have four main classes: ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1324"
  },
  {
    "text": "Provider, Device, and Stream.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1328"
  },
  {
    "text": "Providers have devices and devices have streams, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1333"
  },
  {
    "text": "and all three of them can have properties.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1337"
  },
  {
    "text": "You create each of these three main classes ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1342"
  },
  {
    "text": "by providing a source, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1345"
  },
  {
    "text": "respectively, a ProviderSource, DeviceSource, and StreamSource.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1347"
  },
  {
    "text": "The ExtensionProvider is your lowest level object. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1355"
  },
  {
    "text": "It lets you add and remove devices as needed, such as for hot plug events.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1359"
  },
  {
    "text": "It gets informed of the client processes as they try to connect, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1365"
  },
  {
    "text": "which gives you an opportunity to limit your device publishing ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1369"
  },
  {
    "text": "to certain apps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1373"
  },
  {
    "text": "It also consults your provider source object for property implementations.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1374"
  },
  {
    "text": "Here's what your extension's main entry point might look like. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1381"
  },
  {
    "text": "You create your own ExtensionProviderSource, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1385"
  },
  {
    "text": "which conforms to the CMIOExtensionProviderSource protocol ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1388"
  },
  {
    "text": "and creates an ExtensionProvider. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1393"
  },
  {
    "text": "To start your service, you call the provider class method ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1396"
  },
  {
    "text": "startService and pass your provider instance.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1399"
  },
  {
    "text": "ExtensionProvider implements two read only properties ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1405"
  },
  {
    "text": "that do not change for the life of your extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1409"
  },
  {
    "text": "The manufacturer and the name of your provider. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1412"
  },
  {
    "text": "Both of these are strings.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1416"
  },
  {
    "text": "Next up is the CMIOExtensionDevice. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1420"
  },
  {
    "text": "It manage streams, adding or removing them as needed. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1424"
  },
  {
    "text": "Your device can present multiple streams, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1428"
  },
  {
    "text": "but be aware that AVFoundation ignores all but the first input stream.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1431"
  },
  {
    "text": "When you create a device, you provide a device source, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1437"
  },
  {
    "text": "as well as a localized name, a deviceID as a UUID, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1441"
  },
  {
    "text": "and, optionally, a legacyID string. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1447"
  },
  {
    "text": "These properties percolate all the way up to AVFoundation.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1451"
  },
  {
    "text": "Your device's localizedName becomes ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1456"
  },
  {
    "text": "the AVCaptureDevice's localizedName. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1459"
  },
  {
    "text": "Your specified deviceID becomes the AVCaptureDevice's uniqueIdentifier, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1463"
  },
  {
    "text": "unless you also provide a legacyDeviceID. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1469"
  },
  {
    "text": "You only need to provide this if you're modernizing a DAL plug-in ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1474"
  },
  {
    "text": "and need to maintain backward compatibility ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1478"
  },
  {
    "text": "with the uniqueIdentifier you've previously shipped.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1480"
  },
  {
    "text": "If you provide a legacyDeviceID, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1484"
  },
  {
    "text": "AVCaptureDevice will use it as the uniqueIdentifier.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1487"
  },
  {
    "text": "You create your CMIOExtensionDevice with a CMIOExtensionDeviceSource, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1492"
  },
  {
    "text": "which may optionally implement other properties, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1499"
  },
  {
    "text": "such as deviceModel, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1502"
  },
  {
    "text": "which should be the same for all cameras of the same model. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1504"
  },
  {
    "text": "isSuspended should be implemented if your device can enter ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1508"
  },
  {
    "text": "a suspended state, such as if it has a privacy iris. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1512"
  },
  {
    "text": "The built-in cameras on Apple laptops enter the suspended state ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1516"
  },
  {
    "text": "when the clamshell is closed. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1520"
  },
  {
    "text": "Your device's transport type reveals how it's connected, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1524"
  },
  {
    "text": "such as via USB, Bluetooth, or Firewire.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1527"
  },
  {
    "text": "Lastly, if you have a microphone physically paired with your camera, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1533"
  },
  {
    "text": "you can expose it as a linked device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1537"
  },
  {
    "text": "All of these properties are read only. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1540"
  },
  {
    "text": "Next up is the all-important CMIOExtensionStream, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1544"
  },
  {
    "text": "which does the heavy lifting in the CMIOExtension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1548"
  },
  {
    "text": "It publishes video formats and defines their valid frame rates ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1552"
  },
  {
    "text": "and configures the active format. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1558"
  },
  {
    "text": "It uses a standard clock, such as the host time clock, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1561"
  },
  {
    "text": "or provides its own custom clock ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1564"
  },
  {
    "text": "to drive the timing of each buffer it produces. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1567"
  },
  {
    "text": "And most importantly, it sends sample buffers to clients.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1571"
  },
  {
    "text": "Your extension stream source publishes ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1578"
  },
  {
    "text": "CMIOExtensionStreamFormats. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1581"
  },
  {
    "text": "Those become AVCaptureDeviceFormats. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1584"
  },
  {
    "text": "Clients can read and write the active format index ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1588"
  },
  {
    "text": "to change the active format.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1591"
  },
  {
    "text": "The frame duration, which is equivalent to max frame rate. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1595"
  },
  {
    "text": "And max frame duration, which is the same as min frame rate.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1599"
  },
  {
    "text": "The DAL plug-in world exposes a fourth interface called DAL controls. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1606"
  },
  {
    "text": "Plug-in developers use these to expose features such as auto exposure, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1611"
  },
  {
    "text": "brightness, sharpness, pan and zoom, et cetera. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1615"
  },
  {
    "text": "While powerful, they've been implemented inconsistently, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1620"
  },
  {
    "text": "so it's difficult for app developers to use them. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1624"
  },
  {
    "text": "In the CMIOExtension architecture, we don't offer a DAL control replacement. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1628"
  },
  {
    "text": "Instead, everything is a property.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1633"
  },
  {
    "text": "You've already learned about many standard properties at the provider, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1637"
  },
  {
    "text": "device, and stream level. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1641"
  },
  {
    "text": "You can also make your own custom properties ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1643"
  },
  {
    "text": "and propagate them to the app layer, just as I did in the CIFilterCam demo.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1645"
  },
  {
    "text": "CoreMedia IO's C property interface uses a C struct ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1652"
  },
  {
    "text": "to identify a property's selector, scope, and element. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1656"
  },
  {
    "text": "These are considered its address.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1661"
  },
  {
    "text": "The selector is the name of the property as a four-character code, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1665"
  },
  {
    "text": "such as cust for custom. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1669"
  },
  {
    "text": "The scope can be global, input, or output, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1673"
  },
  {
    "text": "and the element can be any number you want. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1676"
  },
  {
    "text": "The main element is always zero. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1680"
  },
  {
    "text": "CMIOExtensions let you bridge your properties to the old world ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1683"
  },
  {
    "text": "by coding property address elements into a custom property name. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1687"
  },
  {
    "text": "First, the characters 4cc_, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1692"
  },
  {
    "text": "then the selector, scope, and element ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1697"
  },
  {
    "text": "as four character codes separated by underscores. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1700"
  },
  {
    "text": "Using this method, you can communicate any string or data value to the app layer.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1704"
  },
  {
    "text": "AVFoundation doesn't work with custom properties, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1710"
  },
  {
    "text": "so you must stick to the CoreMedia IO C API ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1713"
  },
  {
    "text": "if your configuration app needs to work with custom properties. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1717"
  },
  {
    "text": "That's our high-level look at the API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1721"
  },
  {
    "text": "Now let's talk about output devices.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1724"
  },
  {
    "text": "A lesser known feature of DAL plug-ins is their ability to present ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1729"
  },
  {
    "text": "the opposite of a camera–an output device– ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1733"
  },
  {
    "text": "which consumes video from an app in real time rather than provides it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1736"
  },
  {
    "text": "This is the \"O\" part of CoreMedia IO. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1741"
  },
  {
    "text": "Input and Output. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1744"
  },
  {
    "text": "Output devices are common in the pro video world. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1747"
  },
  {
    "text": "Some common uses are print-to-tape, where a video signal is sent ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1751"
  },
  {
    "text": "to an external recorder, or real-time preview monitoring, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1756"
  },
  {
    "text": "such as on a pro deck with SDI inputs.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1760"
  },
  {
    "text": "One important thing to note is that output devices have ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1765"
  },
  {
    "text": "no AVFoundation API equivalent. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1768"
  },
  {
    "text": "To send frames to an output device, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1771"
  },
  {
    "text": "you must use the CoreMedia IO C API directly.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1773"
  },
  {
    "text": "CMIOExtension streams are created with a direction ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1779"
  },
  {
    "text": "of either source or sink. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1783"
  },
  {
    "text": "Sink streams consume data from an app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1787"
  },
  {
    "text": "Clients feed your sink stream by inserting sample buffers into a simple queue. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1790"
  },
  {
    "text": "That translates to a consumeSampleBuffer call in your extension, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1796"
  },
  {
    "text": "and once you've consumed that buffer, you notify them ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1801"
  },
  {
    "text": "with notifyScheduledOutputChanged.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1804"
  },
  {
    "text": "There are a number of stream properties specific to output devices. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1809"
  },
  {
    "text": "They mainly deal with the queue sizing, how many frames to buffer before starting, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1813"
  },
  {
    "text": "and signaling when all data has been consumed.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1818"
  },
  {
    "text": "Now on to our fifth and final topic of the day.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1823"
  },
  {
    "text": "Earlier in the presentation, I showed this diagram ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1828"
  },
  {
    "text": "of the DAL plug-in architecture ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1831"
  },
  {
    "text": "and I highlighted its many security problems. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1833"
  },
  {
    "text": "We've addressed these shortcomings with Camera Extensions ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1836"
  },
  {
    "text": "and are fully committed to their continued development. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1840"
  },
  {
    "text": "They are the path forward. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1843"
  },
  {
    "text": "So what does that mean for DAL plug-ins? ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1846"
  },
  {
    "text": "It means the end is near.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1849"
  },
  {
    "text": "As of macOS 12.3, DAL plug-ins are already deprecated, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1853"
  },
  {
    "text": "so you get a compilation warning when building. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1858"
  },
  {
    "text": "That's a good start, but it's not enough. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1861"
  },
  {
    "text": "As long as legacy DAL plug-ins are allowed to load, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1864"
  },
  {
    "text": "camera apps will still be at risk.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1867"
  },
  {
    "text": "To fully address security vulnerabilities and make the system ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1871"
  },
  {
    "text": "more robust for all users, we plan to disable DAL plug-ins entirely ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1875"
  },
  {
    "text": "in the next major release after macOS Ventura.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1880"
  },
  {
    "text": "What does this mean for you? ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1886"
  },
  {
    "text": "Well, we hope the message is clear. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1888"
  },
  {
    "text": "If you currently maintain a DAL plug-in, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1890"
  },
  {
    "text": "now is the time to begin porting your code to a Camera Extension.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1893"
  },
  {
    "text": "And please, let us know what friction you encounter. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1898"
  },
  {
    "text": "We are eager to address these issues and provide a rich feature set. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1901"
  },
  {
    "text": "We really look forward to working with you. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1905"
  },
  {
    "text": "This concludes today's presentation on camera extensions for macOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1908"
  },
  {
    "text": "We can't wait to see what fresh and creative camera experiences ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1913"
  },
  {
    "text": "you'll bring to the Mac. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1916"
  },
  {
    "text": "And hope you have fun doing it.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10022/?time=1918"
  }
]