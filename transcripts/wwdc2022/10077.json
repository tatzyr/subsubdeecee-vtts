[
  {
    "text": "♪ ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=0"
  },
  {
    "text": "Tommy Pauly: Hi, I'm Tommy Pauly, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=9"
  },
  {
    "text": "and I'm excited to share how your apps and websites can work together ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=12"
  },
  {
    "text": "with Apple and fraud prevention providers across the industry ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=16"
  },
  {
    "text": "to reduce the need for CAPTCHAs. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=21"
  },
  {
    "text": "Today, I'll talk about: Private Access Tokens, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=23"
  },
  {
    "text": "and how they can be powerful tools for fraud prevention; ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=27"
  },
  {
    "text": "how to enable support for Private Access Tokens ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=31"
  },
  {
    "text": "on the servers you operate; ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=34"
  },
  {
    "text": "and, how you can use these tokens in your apps.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=37"
  },
  {
    "text": "To introduce Private Access Tokens, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=42"
  },
  {
    "text": "I'll start by explaining why CAPTCHAs are used in the first place. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=44"
  },
  {
    "text": "Chances are, if you've signed up for a new account on a website, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=49"
  },
  {
    "text": "or tried to sign in with an existing account, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=53"
  },
  {
    "text": "you've encountered CAPTCHAs like these at some point. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=56"
  },
  {
    "text": "Sometimes, a CAPTCHA is just a button to press, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=60"
  },
  {
    "text": "but others can be a challenge to fill out.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=63"
  },
  {
    "text": "You likely don't enjoy being interrupted by these. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=67"
  },
  {
    "text": "I certainly don't. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=71"
  },
  {
    "text": "The reason these experiences exist ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=73"
  },
  {
    "text": "is to prevent fraudulent activity.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=76"
  },
  {
    "text": "If you run a server, you don't want it to be overwhelmed by fraud. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=80"
  },
  {
    "text": "Some attempts to create accounts or buy products ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=85"
  },
  {
    "text": "come from legitimate users. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=89"
  },
  {
    "text": "But other attempts may be from attackers or bots. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=91"
  },
  {
    "text": "Unfortunately, the common tools to prevent fraud, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=96"
  },
  {
    "text": "like CAPTCHAs, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=99"
  },
  {
    "text": "often make it harder for people to use your app or website.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=101"
  },
  {
    "text": "Finding the right balance between a good experience ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=105"
  },
  {
    "text": "and preventing fraud is a challenge.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=109"
  },
  {
    "text": "CAPTCHAs often lead to a slower and more complex user experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=113"
  },
  {
    "text": "By trying to prevent attacks, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=118"
  },
  {
    "text": "you may also lose valuable customers.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=120"
  },
  {
    "text": "CAPTCHAs can also pose a privacy risk. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=124"
  },
  {
    "text": "In order to determine if a client is trusted ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=128"
  },
  {
    "text": "and can get an easier CAPTCHA, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=131"
  },
  {
    "text": "servers often rely on tracking or fingerprinting clients ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=133"
  },
  {
    "text": "by using their IP address. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=137"
  },
  {
    "text": "This kind of tracking is at odds with the direction of internet privacy ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=140"
  },
  {
    "text": "being taken by Safari, Mail Privacy Protection, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=145"
  },
  {
    "text": "and iCloud Private Relay.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=149"
  },
  {
    "text": "And CAPTCHAs can pose a serious problem for accessibility. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=152"
  },
  {
    "text": "By trying to prevent access from bots, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=157"
  },
  {
    "text": "they also block out real humans who have disabilities ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=159"
  },
  {
    "text": "or language barriers. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=163"
  },
  {
    "text": "There is a better way. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=166"
  },
  {
    "text": "Even if someone is interacting with your website for the first time, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=168"
  },
  {
    "text": "if they are loading it through an app or browser like Safari, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=172"
  },
  {
    "text": "they've already performed many actions that are hard for a bot to imitate. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=176"
  },
  {
    "text": "First, they have an iPhone, iPad, or Mac, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=182"
  },
  {
    "text": "and they've unlocked the device with their password, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=186"
  },
  {
    "text": "Touch ID, or Face ID. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=189"
  },
  {
    "text": "They're almost always signed in to the device with their Apple ID. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=192"
  },
  {
    "text": "And they've launched a code-signed app.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=196"
  },
  {
    "text": "This information can help your servers trust legitimate clients ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=200"
  },
  {
    "text": "and prevent fraud, without relying on CAPTCHAs, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=205"
  },
  {
    "text": "and without compromising privacy by tracking clients. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=209"
  },
  {
    "text": "Private Access Tokens are what allow your servers ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=214"
  },
  {
    "text": "to automatically trust clients, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=217"
  },
  {
    "text": "new in iOS 16 and macOS Ventura. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=220"
  },
  {
    "text": "Before explaining how these tokens work, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=224"
  },
  {
    "text": "I'm going to show them in action. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=227"
  },
  {
    "text": "You're going to love this. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=229"
  },
  {
    "text": "I want to read an article on the Financial Times website. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=232"
  },
  {
    "text": "I'm very excited about these cinnamon buns. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=235"
  },
  {
    "text": "And I've loaded the site on two different phones: ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=238"
  },
  {
    "text": "one running iOS 15 and one running iOS 16, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=241"
  },
  {
    "text": "which supports Private Access Tokens. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=246"
  },
  {
    "text": "Starting with the iOS 15 phone, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=249"
  },
  {
    "text": "I click Sign In, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=252"
  },
  {
    "text": "and fill out my account and password. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=254"
  },
  {
    "text": "But then, I get hit with a CAPTCHA. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=257"
  },
  {
    "text": "I need to type in the letters before being able to read that article.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=260"
  },
  {
    "text": "When I do the exact same thing on the iOS 16 phone ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=266"
  },
  {
    "text": "that supports Private Access Tokens, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=270"
  },
  {
    "text": "I get right through. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=273"
  },
  {
    "text": "This is going to save a lot of people, a lot of time, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=276"
  },
  {
    "text": "and your customers will appreciate being trusted. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=280"
  },
  {
    "text": "Private Access Tokens let servers avoid CAPTCHAs, like you just saw, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=284"
  },
  {
    "text": "by using technology being standardized in the IETF Privacy Pass working group. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=290"
  },
  {
    "text": "Apple is working with companies across the industry to make this possible.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=296"
  },
  {
    "text": "Using this protocol, servers can request tokens ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=302"
  },
  {
    "text": "using a new HTTP authentication method, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=306"
  },
  {
    "text": "PrivateToken. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=309"
  },
  {
    "text": "These tokens use RSA Blind Signatures ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=311"
  },
  {
    "text": "to cryptographically sign the fact ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=315"
  },
  {
    "text": "that a client was able to pass an attestation check. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=317"
  },
  {
    "text": "These signatures are \"unlinkable\", ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=321"
  },
  {
    "text": "which means that servers that receive tokens ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=324"
  },
  {
    "text": "can only check that they are valid, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=327"
  },
  {
    "text": "but they cannot discover client identities or recognize clients over time. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=329"
  },
  {
    "text": "Here's how the protocol works.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=335"
  },
  {
    "text": "First, when the iOS or macOS client accesses a server over HTTP, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=339"
  },
  {
    "text": "the server sends back a challenge using ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=345"
  },
  {
    "text": "the PrivateToken authentication scheme. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=348"
  },
  {
    "text": "This specifies a token issuer that is trusted by the server.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=351"
  },
  {
    "text": "When the client needs to fetch a token, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=358"
  },
  {
    "text": "it contacts an iCloud attester ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=360"
  },
  {
    "text": "and sends a token request. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=363"
  },
  {
    "text": "This token request is \"blinded\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=365"
  },
  {
    "text": "so it can't be linked to the server challenge. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=367"
  },
  {
    "text": "The attester performs device attestation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=371"
  },
  {
    "text": "using certificates stored in the device's Secure Enclave, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=374"
  },
  {
    "text": "and verifies that the account is in good standing.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=378"
  },
  {
    "text": "This attester can also perform rate-limiting, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=383"
  },
  {
    "text": "to recognize if the client device is following normal patterns, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=385"
  },
  {
    "text": "or may have been compromised or used as part of a farm of devices.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=390"
  },
  {
    "text": "If the client can be validated, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=396"
  },
  {
    "text": "the attester sends the request for a new token to the issuer.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=398"
  },
  {
    "text": "When the token issuer gets the request, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=404"
  },
  {
    "text": "it doesn't know anything about the client. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=406"
  },
  {
    "text": "But since it trusts the iCloud attester, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=409"
  },
  {
    "text": "it signs the token.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=412"
  },
  {
    "text": "The client then receives the signed token, and transforms it ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=416"
  },
  {
    "text": "in a process called \"unblinding\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=420"
  },
  {
    "text": "so the original server can verify it.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=422"
  },
  {
    "text": "And finally, the client presents the signed token to the server. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=426"
  },
  {
    "text": "The server can check that this token is signed by the Issuer, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=431"
  },
  {
    "text": "but it cannot use the token to identify or recognize the client. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=435"
  },
  {
    "text": "So how can you take advantage of this technology on your servers? ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=439"
  },
  {
    "text": "There are three steps to adopting Private Access Tokens on your server. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=446"
  },
  {
    "text": "First, you'll need to select a token issuer. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=451"
  },
  {
    "text": "Second, your server will need to send out HTTP authentication challenges ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=454"
  },
  {
    "text": "when you want to validate clients. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=460"
  },
  {
    "text": "And third, your server will need to validate the tokens sent by clients.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=462"
  },
  {
    "text": "The token issuer you select is a trusted provider ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=468"
  },
  {
    "text": "that can sign tokens that your server validates. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=472"
  },
  {
    "text": "This may be your existing CAPTCHA provider, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=475"
  },
  {
    "text": "your web hosting service, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=478"
  },
  {
    "text": "or your content delivery network, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=480"
  },
  {
    "text": "also called a CDN. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=483"
  },
  {
    "text": "In the iOS 16 and macOS Ventura betas, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=486"
  },
  {
    "text": "there are two token issuers that you can already start testing with. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=490"
  },
  {
    "text": "Fastly and Cloudflare are two CDNs ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=495"
  },
  {
    "text": "that have been developing the Privacy Pass standards, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=498"
  },
  {
    "text": "and have already made their issuer services available. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=502"
  },
  {
    "text": "Other CAPTCHA providers, web hosting services, and CDNs ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=507"
  },
  {
    "text": "will also be able to run token issuers that will work with Apple devices. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=512"
  },
  {
    "text": "Issuers will be able to sign up later this year at register.apple.com.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=517"
  },
  {
    "text": "It's important that the use of a specific token issuer ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=524"
  },
  {
    "text": "doesn't become a way to identify what websites a client is accessing– ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=528"
  },
  {
    "text": "that would be a problem for privacy. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=533"
  },
  {
    "text": "So each token issuer needs to be a large service ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=536"
  },
  {
    "text": "that work with at least hundreds of servers.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=540"
  },
  {
    "text": "When a client accesses your server, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=546"
  },
  {
    "text": "you can request tokens by sending an HTTP authentication challenge ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=548"
  },
  {
    "text": "with the PrivateToken scheme. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=553"
  },
  {
    "text": "To do this, you have two options: ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=556"
  },
  {
    "text": "Either you can work with your existing CAPTCHA or fraud prevention provider ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=559"
  },
  {
    "text": "to build the challenge into their scripts, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=563"
  },
  {
    "text": "so it is handled automatically for you, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=566"
  },
  {
    "text": "or you can choose to send these challenges directly from your server.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=569"
  },
  {
    "text": "If you're doing this as part of your website, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=575"
  },
  {
    "text": "the challenge must come from a first-party domain– ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=577"
  },
  {
    "text": "a subdomain of your main URL ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=581"
  },
  {
    "text": "and not a separate third-party domain embedded on your site.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=583"
  },
  {
    "text": "When clients return tokens to you, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=590"
  },
  {
    "text": "you'll need to check their validity using your issuer's public key. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=592"
  },
  {
    "text": "You may also want to enforce checks to prevent replay attacks, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=597"
  },
  {
    "text": "where a client could try to present a token multiple times. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=601"
  },
  {
    "text": "Tokens are meant to be one-time use only. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=605"
  },
  {
    "text": "You can prevent replay attacks either by remembering ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=609"
  },
  {
    "text": "what tokens were sent previously, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=612"
  },
  {
    "text": "or requiring that tokens sign a unique value sent in your challenge.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=615"
  },
  {
    "text": "Your site still needs to work with legacy clients ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=623"
  },
  {
    "text": "that won't respond to this authentication challenge. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=626"
  },
  {
    "text": "So it's important that the authentication should not block your main page load, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=629"
  },
  {
    "text": "but instead be treated as an optional way to trust a client. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=634"
  },
  {
    "text": "Web servers that are accessed through Safari and WebKit will work automatically, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=639"
  },
  {
    "text": "but you can also use Private Access Tokens within your app directly. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=644"
  },
  {
    "text": "Private Access Tokens require iOS 16 or macOS Ventura ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=649"
  },
  {
    "text": "on a device that has an Apple ID signed in. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=654"
  },
  {
    "text": "This Apple ID is only used for attestation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=658"
  },
  {
    "text": "and is not shared with the servers that receive tokens. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=661"
  },
  {
    "text": "Within your app, tokens are available if you use WebKit or URLSession ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=666"
  },
  {
    "text": "to contact your servers using HTTP. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=671"
  },
  {
    "text": "Then anytime your app receives a challenge while it's in the foreground, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=675"
  },
  {
    "text": "the system will automatically send a token as authentication.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=679"
  },
  {
    "text": "If you're using URLSession, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=685"
  },
  {
    "text": "you don't need to do anything explicitly ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=687"
  },
  {
    "text": "to make Private Access Tokens work. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=689"
  },
  {
    "text": "URLSession will automatically respond to challenges ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=692"
  },
  {
    "text": "using the PrivateToken HTTP authentication scheme. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=696"
  },
  {
    "text": "However, if there's an error in fetching a token, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=701"
  },
  {
    "text": "such as if your app isn't in the foreground ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=704"
  },
  {
    "text": "or the device doesn't have an Apple ID signed in, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=706"
  },
  {
    "text": "your app will receive the 401 HTTP response ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=710"
  },
  {
    "text": "that included the token challenge. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=713"
  },
  {
    "text": "This allows your app to know that the token challenge was received, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=716"
  },
  {
    "text": "and provides a chance to handle the error correctly for your use case. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=720"
  },
  {
    "text": "Make apps and websites better experiences for everyone ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=725"
  },
  {
    "text": "by avoiding CAPTCHAs whenever Private Access Tokens are available. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=729"
  },
  {
    "text": "Go and enable your servers to send token challenges and validate tokens. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=733"
  },
  {
    "text": "And, in your apps, use URLSession or WebKit ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=739"
  },
  {
    "text": "to automatically support Private Access Tokens. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=743"
  },
  {
    "text": "I'm looking forward to the CAPTCHA-free experiences you will build.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-10077/?time=747"
  }
]