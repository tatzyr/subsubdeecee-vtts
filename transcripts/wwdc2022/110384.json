[
  {
    "text": "♪ instrumental hip hop music ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=0"
  },
  {
    "text": "Hi, my name is Felipe. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=9"
  },
  {
    "text": "I'm a software engineer on the tvOS team. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=11"
  },
  {
    "text": "Today I'm excited to share with you the improvements we've made in tvOS 16 ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=14"
  },
  {
    "text": "to make it easier to support multiple users in your apps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=18"
  },
  {
    "text": "Apple TV is designed to be used by everyone. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=22"
  },
  {
    "text": "We've been improving multiple users on Apple TV since tvOS 13. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=26"
  },
  {
    "text": "In tvOS 16 we have new features that will make it easier ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=31"
  },
  {
    "text": "to support multiple users in all apps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=35"
  },
  {
    "text": "I'll start with an overview of the multiple users features on Apple TV. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=38"
  },
  {
    "text": "Showing how easy it is personalize apps on a device used by everyone. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=43"
  },
  {
    "text": "Then I'll demonstrate how simple it is to store the profile selection ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=48"
  },
  {
    "text": "for each user of a streaming app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=53"
  },
  {
    "text": "Finishing with recommendations for the best approach for your own app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=56"
  },
  {
    "text": "In tvOS 16 we are making it easier to have the entire family on Apple TV.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=60"
  },
  {
    "text": "When you press and hold the TV button on your Siri Remote, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=66"
  },
  {
    "text": "Control Center shows up. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=69"
  },
  {
    "text": "At the top is the list of users that are on this Apple TV. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=72"
  },
  {
    "text": "New in tvOS 16, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=76"
  },
  {
    "text": "the list of users includes iCloud Family members ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=78"
  },
  {
    "text": "that haven't been added yet, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=81"
  },
  {
    "text": "making it easier than ever to have the entire family on Apple TV.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=83"
  },
  {
    "text": "Here, Anne isn't on the Apple TV yet. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=89"
  },
  {
    "text": "The plus icon indicates a suggested user. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=92"
  },
  {
    "text": "To have Anne join, we can simply select the suggested user.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=95"
  },
  {
    "text": "All Anne needs to do is bring their iPhone to the same room as the Apple TV, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=101"
  },
  {
    "text": "and on the iPhone confirm the connection. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=108"
  },
  {
    "text": "And that is all. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=112"
  },
  {
    "text": "Anne has now access to their data on Apple TV. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=114"
  },
  {
    "text": "Now let's go back to Anne's iPhone for a moment. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=118"
  },
  {
    "text": "Let's take a look at Anne's favorite video streaming app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=122"
  },
  {
    "text": "The app is used by the entire family ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=126"
  },
  {
    "text": "and each person has their own profile. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=128"
  },
  {
    "text": "When the app first launches, it presents a profile picker, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=132"
  },
  {
    "text": "Anne picks her profile. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=135"
  },
  {
    "text": "The app, running on a personal device, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=138"
  },
  {
    "text": "can simply store the preferred profile in NSUserDefaults, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=141"
  },
  {
    "text": "or even put in CloudKit to have it synced to all devices.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=146"
  },
  {
    "text": "The iPhone of each member of the family ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=151"
  },
  {
    "text": "remembers that person's preferred profile. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=154"
  },
  {
    "text": "There is no need to keep asking which profile to use when the app opens. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=158"
  },
  {
    "text": "Apple TV is a device shared by the entire family, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=162"
  },
  {
    "text": "and we think it is really important that everyone who uses Apple TV ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=166"
  },
  {
    "text": "is able to access their own content and data.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=170"
  },
  {
    "text": "In tvOS 14 we introduced the ability for apps to run as the current user. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=174"
  },
  {
    "text": "With a single checkbox to add the \"Runs as Current User\" entitlement, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=181"
  },
  {
    "text": "and no code changes at all, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=185"
  },
  {
    "text": "apps can access each user's own data, just like on iPhone.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=187"
  },
  {
    "text": "Your iOS code, calling those APIs, can run as is on Apple TV, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=196"
  },
  {
    "text": "behaving like each person is using their own personal Apple TV. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=202"
  },
  {
    "text": "When the app launches, tvOS takes care of everything. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=207"
  },
  {
    "text": "Privacy and security, all handled by the system. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=210"
  },
  {
    "text": "The \"runs as current user\" entitlement is perfect for games ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=215"
  },
  {
    "text": "and any apps that are all about individual progress. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=218"
  },
  {
    "text": "Media apps with profiles, though, need a little bit more. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=223"
  },
  {
    "text": "In my example so far, I skipped an important part: the sign-in. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=227"
  },
  {
    "text": "We believe signing in needs to be as easy and infrequent as possible. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=232"
  },
  {
    "text": "In tvOS 15 we introduced a feature that allows people to use their iPhone ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=238"
  },
  {
    "text": "or iPad to seamlessly sign in on your tvOS apps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=243"
  },
  {
    "text": "It is a first-class sign-in experience, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=249"
  },
  {
    "text": "where the devices work together ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=252"
  },
  {
    "text": "to offer the most convenient way to sign in on Apple TV. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=254"
  },
  {
    "text": "Features not directly available on Apple TV, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=258"
  },
  {
    "text": "like your passwords in iCloud Keychain, are just a tap away. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=261"
  },
  {
    "text": "To learn how to build great sign-in experiences, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=265"
  },
  {
    "text": "watch \"Simplify sign-in for your tvOS apps\" from WWDC 2021.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=269"
  },
  {
    "text": "And this year we're introducing support for OAuth ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=276"
  },
  {
    "text": "and passkeys on tvOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=279"
  },
  {
    "text": "Passkeys are an awesome new authentication technology ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=282"
  },
  {
    "text": "for replacing passwords in your apps and websites. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=285"
  },
  {
    "text": "To learn more about passkeys, watch the \"Meet Passkeys\" video. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=288"
  },
  {
    "text": "But ease and convenience isn't all. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=293"
  },
  {
    "text": "It is still important to have sign-in happen only once. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=297"
  },
  {
    "text": "To achieve this optimal user experience, with \"Runs as Current User,\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=301"
  },
  {
    "text": "we're introducing a simple new API in tvOS 16. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=305"
  },
  {
    "text": "It is a new constant in Keychain Services ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=309"
  },
  {
    "text": "that allows apps to access a user-independent Keychain. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=312"
  },
  {
    "text": "Items stored using this new key are always accessible by all users on Apple TV. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=317"
  },
  {
    "text": "Let's look at an example. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=323"
  },
  {
    "text": "Here is a method that saves an item in the Keychain, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=326"
  },
  {
    "text": "with username and password. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=330"
  },
  {
    "text": "To save the item to the user-independent Keychain, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=333"
  },
  {
    "text": "all you have to do is add a new key to the attributes dictionary ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=336"
  },
  {
    "text": "that is passed to the function SecItemAdd. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=340"
  },
  {
    "text": "We simply pass true as the value for the key kSecUseUserIndependentKeychain.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=343"
  },
  {
    "text": "With the user-independent Keychain set, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=351"
  },
  {
    "text": "the items you read and write will be visible to all users. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=353"
  },
  {
    "text": "The combination of both the new Keychain API ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=358"
  },
  {
    "text": "and \"Runs as Current User\" entitlement ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=361"
  },
  {
    "text": "allows your apps to have the best of iPhone and the best of Apple TV: ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=363"
  },
  {
    "text": "simple per-user data separation on a shared device ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=368"
  },
  {
    "text": "while maintaining the single sign-in experience on Apple TV. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=372"
  },
  {
    "text": "In tvOS 16 we've deprecated the methods to manually map profiles ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=376"
  },
  {
    "text": "to system users in TVUserManager. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=381"
  },
  {
    "text": "There is no need for you to maintain a map of users to profiles anymore. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=384"
  },
  {
    "text": "The system will handle it for you. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=389"
  },
  {
    "text": "The same APIs you use on iOS can be used, as is, on Apple TV. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=391"
  },
  {
    "text": "It is so much easier. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=396"
  },
  {
    "text": "Let me show you it all in action with a demo. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=399"
  },
  {
    "text": "I'll walk you through a sample app that represents media apps with profiles. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=402"
  },
  {
    "text": "This is my streaming video app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=407"
  },
  {
    "text": "Currently it doesn't use any of the features I talked about. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=411"
  },
  {
    "text": "It doesn't run as the current user, and it doesn't use the new Keychain API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=415"
  },
  {
    "text": "I'll go ahead and sign in to show you.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=420"
  },
  {
    "text": "After sign-in I'm presented with a list of profiles. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=426"
  },
  {
    "text": "The current user is Mei, so I'll pick her profile.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=430"
  },
  {
    "text": "Picking a profile shows the personalized contents Mei wants to see.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=436"
  },
  {
    "text": "Later, Anne sits on the couch to watch TV. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=442"
  },
  {
    "text": "They open Control Center ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=446"
  },
  {
    "text": "by long pressing the TV button on the Siri Remote. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=449"
  },
  {
    "text": "Here at the top in Control Center is the list of users. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=452"
  },
  {
    "text": "The green checkmark indicates the current user. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=457"
  },
  {
    "text": "I'm going to switch to Anne now and open the app.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=460"
  },
  {
    "text": "As expected, the app presents the profile picker again. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=465"
  },
  {
    "text": "So Anne can select their profile.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=469"
  },
  {
    "text": "But watch what happens when switching back to Mei.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=474"
  },
  {
    "text": "The app stays in Anne's profile. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=482"
  },
  {
    "text": "It doesn't remember that Mei had picked her preferred profile before. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=484"
  },
  {
    "text": "With the new features in tvOS 16, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=488"
  },
  {
    "text": "the user experience can be much better. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=491"
  },
  {
    "text": "I want people using the app to not have to select again who is watching. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=494"
  },
  {
    "text": "Let's go to Xcode, and I'll show you how easy it is. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=499"
  },
  {
    "text": "Making my app executes as the current user is simple. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=502"
  },
  {
    "text": "All I have to do is add one capability to my app's target. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=507"
  },
  {
    "text": "Here in my app's target, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=511"
  },
  {
    "text": "I'll go over to the Signing & Capabilities tab. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=513"
  },
  {
    "text": "Just under the tab, on the top left here, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=517"
  },
  {
    "text": "I'll click the Add Capability button. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=520"
  },
  {
    "text": "It opens the list of capabilities. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=523"
  },
  {
    "text": "The one I'm interested in is called User Management. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=526"
  },
  {
    "text": "So I'll type \"user\" to filter the list.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=529"
  },
  {
    "text": "Now I just double-click the capability I want to add to my app.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=533"
  },
  {
    "text": "Down here the \"Runs as Current User\" checkbox ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=538"
  },
  {
    "text": "is selected by default. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=542"
  },
  {
    "text": "That is exactly what I need. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=545"
  },
  {
    "text": "With this entitlement, my app's process will always be launched ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=548"
  },
  {
    "text": "as the currently selected user. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=551"
  },
  {
    "text": "The system will make sure that the data for each user is distinct. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=553"
  },
  {
    "text": "All of it, including the Keychain. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=558"
  },
  {
    "text": "But for my app, having a distinct Keychain per user, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=560"
  },
  {
    "text": "would have an unexpected side-effect. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=564"
  },
  {
    "text": "It would require each user to sign in separately. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=566"
  },
  {
    "text": "In tvOS 16 we can maintain the experience of having a single account for all users ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=570"
  },
  {
    "text": "while running as the current user. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=576"
  },
  {
    "text": "By using the new Keychain API to access the user-independent Keychain. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=579"
  },
  {
    "text": "I'll go now to my KeychainController class, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=584"
  },
  {
    "text": "I use it to read and write to the Keychain.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=587"
  },
  {
    "text": "Here I have the property baseQuery which has the keys I need ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=592"
  },
  {
    "text": "to access the credentials for my app in the Keychain. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=597"
  },
  {
    "text": "To update it to use the new user-independent Keychain, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=600"
  },
  {
    "text": "all I have to do is add a new element to the dictionary. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=604"
  },
  {
    "text": "I'll add the new kSecUseUserIndependentKeychain, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=607"
  },
  {
    "text": "and set it to true.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=611"
  },
  {
    "text": "And that is all I need to change to make the app share its credentials ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=615"
  },
  {
    "text": "with all users. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=619"
  },
  {
    "text": "Nothing else. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=620"
  },
  {
    "text": "It is important to note, though, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=622"
  },
  {
    "text": "all other data is still distinct per user. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=624"
  },
  {
    "text": "Like UserDefaults, which I'm going to use ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=627"
  },
  {
    "text": "to remember the profile selection for each user.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=629"
  },
  {
    "text": "Now let's open my ProfileData class. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=634"
  },
  {
    "text": "This file is shared between my iOS and tvOS projects. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=637"
  },
  {
    "text": "In fact, the iOS version of my app already stores the profile selection ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=641"
  },
  {
    "text": "in UserDefaults, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=646"
  },
  {
    "text": "but only when running on iOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=648"
  },
  {
    "text": "And that is because iPhones are personal devices. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=650"
  },
  {
    "text": "But now that my app runs as the current user, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=654"
  },
  {
    "text": "Apple TV can be as personal. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=657"
  },
  {
    "text": "I can remove the iOS-check and have the code work the same way on Apple TV. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=660"
  },
  {
    "text": "The system will make sure to use the correct UserDefaults for each user. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=665"
  },
  {
    "text": "When I run the new version of the app, it is launched as the current user, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=672"
  },
  {
    "text": "which is Mei. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=675"
  },
  {
    "text": "Mei signs in and pick her profile. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=676"
  },
  {
    "text": "With the app running as the current user, it behaves like Apple TV is, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=680"
  },
  {
    "text": "at that moment, a personal device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=684"
  },
  {
    "text": "Mei's device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=686"
  },
  {
    "text": "Mei's profile selection gets stored in her UserDefaults. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=688"
  },
  {
    "text": "When it's time for Anne to watch, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=692"
  },
  {
    "text": "they switch to their user using Control Center. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=694"
  },
  {
    "text": "The system will put up a switching user UI, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=698"
  },
  {
    "text": "while it gives time to your process ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=701"
  },
  {
    "text": "to finish any last tasks before it is relaunched. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=703"
  },
  {
    "text": "tvOS now relaunches the app as Anne. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=708"
  },
  {
    "text": "Now Apple TV is Anne's device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=712"
  },
  {
    "text": "The sign-in prompt is skipped, because the credentials are stored ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=714"
  },
  {
    "text": "in the user-independent Keychain, accessible by all users. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=718"
  },
  {
    "text": "But Anne doesn't have a profile selection stored in their UserDefaults yet, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=722"
  },
  {
    "text": "and the profile picker is shown. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=727"
  },
  {
    "text": "Picking Anne's profile, saves the selection in their UserDefaults. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=729"
  },
  {
    "text": "Okay now, at this point Mei and Anne both have selected their profile. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=735"
  },
  {
    "text": "When switching users, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=739"
  },
  {
    "text": "the app won't show any interstitial prompts anymore. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=741"
  },
  {
    "text": "It will always go straight to the content, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=744"
  },
  {
    "text": "automatically selecting the correct profile for each person. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=747"
  },
  {
    "text": "Every time. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=751"
  },
  {
    "text": "That is how, in tvOS 16, we've made it much easier ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=752"
  },
  {
    "text": "to remember each user's profiles. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=756"
  },
  {
    "text": "A simple new API to access the user-independent Keychain, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=759"
  },
  {
    "text": "with the system handling separating each user's data. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=763"
  },
  {
    "text": "Now that you've seen how to remember each user's profile selection ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=768"
  },
  {
    "text": "without requiring everyone to sign in separately, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=771"
  },
  {
    "text": "let's review how apps work on Apple TV. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=775"
  },
  {
    "text": "Apps without the runs as current user entitlement ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=778"
  },
  {
    "text": "use the resources of the Default User. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=781"
  },
  {
    "text": "You can think of it as being the Apple TV's own resources. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=784"
  },
  {
    "text": "Switching users have no influence on the app's process. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=789"
  },
  {
    "text": "Here are my recommendations for when you do want to personalize. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=794"
  },
  {
    "text": "This table shows the available capabilities ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=798"
  },
  {
    "text": "depending on which features you use on your tvOS apps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=801"
  },
  {
    "text": "If your app is a media app, or like one, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=805"
  },
  {
    "text": "shows personalized content through profiles; ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=809"
  },
  {
    "text": "while having a single account shared between everyone using the Apple TV, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=812"
  },
  {
    "text": "you adopt the Runs as Current User entitlement ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=816"
  },
  {
    "text": "and use the new user-independent Keychain API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=819"
  },
  {
    "text": "If, like a game, your app is all about individual progress, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=824"
  },
  {
    "text": "all you have to do is adopt the Runs as Current User entitlement, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=828"
  },
  {
    "text": "tvOS will handle the rest. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=832"
  },
  {
    "text": "And for all other apps, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=835"
  },
  {
    "text": "apps that present the same content to all users– ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=836"
  },
  {
    "text": "like for example, a recipe app– ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=840"
  },
  {
    "text": "you don't have to do anything. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=842"
  },
  {
    "text": "Just create a new tvOS app project in Xcode. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=844"
  },
  {
    "text": "To learn more about running as the current user, ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=848"
  },
  {
    "text": "watch our session from WWDC 2020. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=851"
  },
  {
    "text": "We believe a streamlined direct-to-content experience is the best one for a tvOS app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=854"
  },
  {
    "text": "I hope all these features help you implement ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=861"
  },
  {
    "text": "great big-screen experiences in your apps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=863"
  },
  {
    "text": "Thanks for watching, and enjoy the conference.",
    "link": "https://developer.apple.com/videos/play/wwdc2022-110384/?time=866"
  }
]