[
  {
    "text": "David Wendland: Hi everyone, I'm David Wendland, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1"
  },
  {
    "text": "a commerce technical advocate for the App Store.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2"
  },
  {
    "text": "I'm excited to be here today, virtually, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=5"
  },
  {
    "text": "to share what our whole team has been working on.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=7"
  },
  {
    "text": "Before I begin, I'd like my Cupertino-based colleagues ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=10"
  },
  {
    "text": "to introduce themselves.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=12"
  },
  {
    "text": "Manjeet Chawla: Hi, my name is Manjeet Chawla, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=15"
  },
  {
    "text": "and I'm a technical program manager for the App Store.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=17"
  },
  {
    "text": "Joe Mani: Hi, I'm Joe.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=21"
  },
  {
    "text": "I'm a program manager for the App Store.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=23"
  },
  {
    "text": "David: The three of us today are presenting you ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=26"
  },
  {
    "text": "a three-part series titled ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=28"
  },
  {
    "text": "\"Support Customers with StoreKit 2 and App Store Server API.\" ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=30"
  },
  {
    "text": "We will focus on how the StoreKit 2 framework ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=34"
  },
  {
    "text": "and the abilities of the App Store Server API ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=37"
  },
  {
    "text": "can improve in-app purchase, customer support, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=39"
  },
  {
    "text": "and handling refunds.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=42"
  },
  {
    "text": "These three parts we hope will give you insights, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=44"
  },
  {
    "text": "approaches, and benefits to consider when planning ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=46"
  },
  {
    "text": "your app and customer experience enhancements.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=49"
  },
  {
    "text": "I'll get going with in-app purchases ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=52"
  },
  {
    "text": "by starting with an overview of our Fall launch, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=53"
  },
  {
    "text": "and what's new from client to server to sandbox.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=56"
  },
  {
    "text": "And then I'll cover some implementation approaches ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=59"
  },
  {
    "text": "to consider to help you strategize and prioritize ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=61"
  },
  {
    "text": "your roadmap when looking to integrate these updates.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=64"
  },
  {
    "text": "Let's get started with what's new.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=67"
  },
  {
    "text": "With iOS 15, we went back to the start ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=69"
  },
  {
    "text": "and created an all-new and improved framework ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=72"
  },
  {
    "text": "to simplify the client implementation with StoreKit 2.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=75"
  },
  {
    "text": "This brought more on-device functionality, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=78"
  },
  {
    "text": "improved status information, and now transactions ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=81"
  },
  {
    "text": "use the JWS format for added security.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=84"
  },
  {
    "text": "In addition, we introduced three standalone features ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=87"
  },
  {
    "text": "to provide more services to the customers ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=90"
  },
  {
    "text": "directly within your app.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=92"
  },
  {
    "text": "From the server side, we made a significant update ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=95"
  },
  {
    "text": "to the existing App Store Server Notifications ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=97"
  },
  {
    "text": "with the launch of Version 2.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=100"
  },
  {
    "text": "This greatly expanded the number of supported purchase events ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=102"
  },
  {
    "text": "and also uses the new JWS format.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=105"
  },
  {
    "text": "Lastly, we released a suite of features ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=109"
  },
  {
    "text": "with our App Store Server API.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=111"
  },
  {
    "text": "It has an array of endpoints to support different abilities, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=113"
  },
  {
    "text": "from retrieving a customer's purchase history ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=116"
  },
  {
    "text": "or providing you a subscriber's current subscription status.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=119"
  },
  {
    "text": "The other abilities cover a variety of ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=122"
  },
  {
    "text": "customer management scenarios which my colleagues, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=124"
  },
  {
    "text": "Manjeet and Joe, will be covering shortly.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=127"
  },
  {
    "text": "This year's extensive list of updates illustrates ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=130"
  },
  {
    "text": "our continued investment in in-app purchase with StoreKit.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=132"
  },
  {
    "text": "Overall, these improve security, reduce complexity, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=135"
  },
  {
    "text": "and make it easier to test in-app purchases ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=139"
  },
  {
    "text": "in Sandbox and Xcode.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=141"
  },
  {
    "text": "When we look at our platform, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=144"
  },
  {
    "text": "with features like Touch ID and Face ID, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=145"
  },
  {
    "text": "we use secure biometrics and frictionless authentication ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=148"
  },
  {
    "text": "to allow customers to purchase securely and conveniently ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=151"
  },
  {
    "text": "on more than 1.5 billion devices.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=155"
  },
  {
    "text": "The App Store now has 600 million weekly visitors ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=157"
  },
  {
    "text": "across 175 storefronts, in over 40 languages.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=160"
  },
  {
    "text": "You can adjust price tiers per territory ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=164"
  },
  {
    "text": "and next year we'll be expanding ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=167"
  },
  {
    "text": "the number of supported price tiers to over 500, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=168"
  },
  {
    "text": "giving you more pricing options ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=171"
  },
  {
    "text": "and providing tailored price points ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=173"
  },
  {
    "text": "for each currency and market.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=174"
  },
  {
    "text": "With 45 supported currencies across 195 payment methods, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=177"
  },
  {
    "text": "we work to make it more convenient for our customers ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=182"
  },
  {
    "text": "to use their preferred payment method ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=184"
  },
  {
    "text": "and the ability to stack them.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=186"
  },
  {
    "text": "While we continue these platform improvements, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=188"
  },
  {
    "text": "I'd now like to dig in to StoreKit 2 ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=190"
  },
  {
    "text": "and highlight its benefits and key enhancements ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=192"
  },
  {
    "text": "over original StoreKit for you to consider.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=195"
  },
  {
    "text": "When we look at a key feature of StoreKit 2, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=198"
  },
  {
    "text": "it synchronizes new in-app purchase transactions ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=201"
  },
  {
    "text": "automatically across all the customer's devices.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=204"
  },
  {
    "text": "This enables you to provide a consistent and reliable ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=207"
  },
  {
    "text": "experience in your app.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=209"
  },
  {
    "text": "This framework supports on-device purchase validation ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=211"
  },
  {
    "text": "and is streamlined compared to the earlier framework, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=213"
  },
  {
    "text": "so you do not have to entirely depend on ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=216"
  },
  {
    "text": "server-side purchase validation.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=218"
  },
  {
    "text": "All transactions are signed using JWS, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=220"
  },
  {
    "text": "so that you can verify ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=222"
  },
  {
    "text": "the authenticity of each transaction.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=223"
  },
  {
    "text": "And the framework provides entitlement status information ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=226"
  },
  {
    "text": "on-device, which reduces complexity ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=229"
  },
  {
    "text": "so you can ensure proper entitlement access.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=232"
  },
  {
    "text": "And new with iOS 15 is appAccountToken, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=235"
  },
  {
    "text": "which allows you to set ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=237"
  },
  {
    "text": "the in-app account that initiated the purchase ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=238"
  },
  {
    "text": "and have it returned with completed transactions.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=241"
  },
  {
    "text": "Additionally, there are some unique standalone ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=244"
  },
  {
    "text": "StoreKit 2 features that can work alongside ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=246"
  },
  {
    "text": "the original StoreKit framework.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=249"
  },
  {
    "text": "So your app today using original StoreKit with iOS 15 ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=250"
  },
  {
    "text": "could also add these independent StoreKit 2 features ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=253"
  },
  {
    "text": "to offer in-app experiences that typically would occur ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=256"
  },
  {
    "text": "outside of your app.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=259"
  },
  {
    "text": "The first is showManageSubscriptions.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=261"
  },
  {
    "text": "This allows subscribers to manage their subscription ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=263"
  },
  {
    "text": "without leaving your app.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=266"
  },
  {
    "text": "Then we have beginRefundRequest, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=267"
  },
  {
    "text": "where you can present transactions to a customer ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=269"
  },
  {
    "text": "for which they can initiate a refund request ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=272"
  },
  {
    "text": "from within your app.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=274"
  },
  {
    "text": "And with this, in Sandbox, this allows you to test ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=276"
  },
  {
    "text": "and simulate a refund from pending to approved or declined.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=278"
  },
  {
    "text": "We've also introduced an ability to make it easier ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=282"
  },
  {
    "text": "to check a customer's introductory offer eligibility.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=285"
  },
  {
    "text": "This is important as you want to ensure ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=288"
  },
  {
    "text": "when merchandising an offer, like a free trial, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=290"
  },
  {
    "text": "that when they complete the purchase, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=292"
  },
  {
    "text": "they are in fact given the offer.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=294"
  },
  {
    "text": "With StoreKit 2, this check can quickly be done ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=296"
  },
  {
    "text": "with isEligibleForIntroOffer method, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=299"
  },
  {
    "text": "and passing in a subscription group ID.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=302"
  },
  {
    "text": "This checks if they have ever consumed any type ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=304"
  },
  {
    "text": "of introductory offer for any subscription ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=307"
  },
  {
    "text": "within that subscription group.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=309"
  },
  {
    "text": "In addition, you should also be merchandising ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=311"
  },
  {
    "text": "the introductory offer only if it was returned by StoreKit.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=313"
  },
  {
    "text": "That would come from Product.SubscriptionOffer, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=317"
  },
  {
    "text": "where it will return the introductory offer details ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=319"
  },
  {
    "text": "if available.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=322"
  },
  {
    "text": "If it is not, then it will not be returned by StoreKit, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=323"
  },
  {
    "text": "thus preventing you from merchandising an offer ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=325"
  },
  {
    "text": "that isn't available.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=328"
  },
  {
    "text": "So it's important that this is not hardcoded ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=329"
  },
  {
    "text": "and instead, your app leverages StoreKit, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=331"
  },
  {
    "text": "which uses the start and end dates ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=334"
  },
  {
    "text": "configured in App Store Connect.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=335"
  },
  {
    "text": "Now I want to move server side ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=338"
  },
  {
    "text": "and discuss features of the App Store Server API, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=339"
  },
  {
    "text": "where requests are made server-to-server ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=342"
  },
  {
    "text": "without any customer interaction.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=344"
  },
  {
    "text": "We'll start with subscription status.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=347"
  },
  {
    "text": "This provides the state of the customer's subscription ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=348"
  },
  {
    "text": "with your app.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=351"
  },
  {
    "text": "And if you have multiple subscription offerings, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=352"
  },
  {
    "text": "then you will have an entitlement state ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=354"
  },
  {
    "text": "per subscription, each represented by ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=355"
  },
  {
    "text": "a unique original transaction ID.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=358"
  },
  {
    "text": "A great part of subscription status ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=361"
  },
  {
    "text": "is it only returns the current JWS signed transaction ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=363"
  },
  {
    "text": "for each subscription, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=367"
  },
  {
    "text": "so no need for logic on your server ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=368"
  },
  {
    "text": "to parse through a customer's transaction history, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=370"
  },
  {
    "text": "trying to determine their current transaction ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=372"
  },
  {
    "text": "or which product to entitle.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=375"
  },
  {
    "text": "Now if you are a multiplatform service provider, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=377"
  },
  {
    "text": "you can use this service to get the current status ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=379"
  },
  {
    "text": "at any time, server-to-server, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=382"
  },
  {
    "text": "without your app running, and all you need ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=384"
  },
  {
    "text": "is the customer's original transaction ID; ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=386"
  },
  {
    "text": "no more app receipt.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=388"
  },
  {
    "text": "Here are some best practices we recommend.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=390"
  },
  {
    "text": "It is important you always store ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=393"
  },
  {
    "text": "the unique original transaction IDs in your database ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=394"
  },
  {
    "text": "after every purchase or restored transaction.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=397"
  },
  {
    "text": "This value represents each subscription offering, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=400"
  },
  {
    "text": "which is critical to track the subscription lifecycle ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=403"
  },
  {
    "text": "from initial purchase to renewals, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=405"
  },
  {
    "text": "to a billing issue and recovery, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=407"
  },
  {
    "text": "or upgrades and downgrades.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=409"
  },
  {
    "text": "This ID is used with the client and the server API, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=410"
  },
  {
    "text": "along with server notifications.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=413"
  },
  {
    "text": "Lastly, subscription status should only be used ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=416"
  },
  {
    "text": "server-to-server as a security best practice.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=418"
  },
  {
    "text": "If you need to check the status directly from your app, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=421"
  },
  {
    "text": "then the StoreKit 2 framework has your solution.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=424"
  },
  {
    "text": "The next feature with the server API ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=427"
  },
  {
    "text": "is in-app purchase history, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=429"
  },
  {
    "text": "where you can retrieve, server-to-server, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=431"
  },
  {
    "text": "the complete and latest history of transactions for a customer.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=433"
  },
  {
    "text": "The history will include all nonconsumables, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=436"
  },
  {
    "text": "nonrenewing subscriptions, autorenewable subscriptions, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=439"
  },
  {
    "text": "and any unfinished consumable purchases, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=442"
  },
  {
    "text": "and all will be secure, JWS signed transactions.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=445"
  },
  {
    "text": "Now, having a history of transactions ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=449"
  },
  {
    "text": "and all original transaction IDs will help ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=451"
  },
  {
    "text": "when implementing the beginRefundRequest API, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=454"
  },
  {
    "text": "as you will need to surface transactions ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=457"
  },
  {
    "text": "for the customer to choose from ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=459"
  },
  {
    "text": "in order to initiate the refund request.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=460"
  },
  {
    "text": "For nonsubscription in-app purchases ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=463"
  },
  {
    "text": "in apps using the original StoreKit, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=465"
  },
  {
    "text": "you can move away from verifyReceipt ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=467"
  },
  {
    "text": "and use this API to validate successful purchases ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=469"
  },
  {
    "text": "or check for updates in case of an outage.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=472"
  },
  {
    "text": "For its best practices, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=474"
  },
  {
    "text": "some customers may have many purchases, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=476"
  },
  {
    "text": "so the response will contain up to 20 transactions at a time.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=478"
  },
  {
    "text": "When there are additional transactions, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=482"
  },
  {
    "text": "be sure to use the hasMore field.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=484"
  },
  {
    "text": "When true, use the revision token ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=486"
  },
  {
    "text": "in that response and your subsequent request ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=488"
  },
  {
    "text": "to get that next page of transactions.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=490"
  },
  {
    "text": "Repeat until the hasMore field returns false ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=492"
  },
  {
    "text": "and save that revision token for the future.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=495"
  },
  {
    "text": "That will help you quickly retrieve ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=497"
  },
  {
    "text": "the latest transactions of a customer, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=498"
  },
  {
    "text": "using that recorded revision token ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=500"
  },
  {
    "text": "so that you do not have to paginate again.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=502"
  },
  {
    "text": "Another important best practice is using finishTransaction ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=506"
  },
  {
    "text": "after products or services have been delivered.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=509"
  },
  {
    "text": "Unfinished transactions will remain in the queue ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=512"
  },
  {
    "text": "and help your app to keep track of purchases ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=514"
  },
  {
    "text": "that need to be delivered to your customers.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=516"
  },
  {
    "text": "This is critical in case there was any interruption on-device.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=518"
  },
  {
    "text": "A final recommendation regarding refunded ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=522"
  },
  {
    "text": "or revoked transactions ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=525"
  },
  {
    "text": "is if you want to receive updates on these ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=526"
  },
  {
    "text": "as quickly and efficiently as possible, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=528"
  },
  {
    "text": "then look to Version 2 server notifications.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=530"
  },
  {
    "text": "These are much more efficient than polling any of our APIs.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=533"
  },
  {
    "text": "Now look at our server notifications.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=537"
  },
  {
    "text": "These are sent in near real-time directly to your server ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=539"
  },
  {
    "text": "for key purchase events and status changes.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=543"
  },
  {
    "text": "This year we dramatically refined this feature ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=545"
  },
  {
    "text": "with Version 2 to make them more effective, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=548"
  },
  {
    "text": "easier to use, and provide more granularity.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=550"
  },
  {
    "text": "We doubled the number of supported events, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=554"
  },
  {
    "text": "bringing that total to 28 unique events! ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=555"
  },
  {
    "text": "With Version 2 we only send a single notification per event, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=558"
  },
  {
    "text": "so you can take specific actions when received.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=562"
  },
  {
    "text": "And these notifications also apply to family members ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=565"
  },
  {
    "text": "who have access through Family Sharing ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=568"
  },
  {
    "text": "for in-app purchases.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=570"
  },
  {
    "text": "And for any failed notification deliveries, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=571"
  },
  {
    "text": "we will retry up to five times over a period of seven days, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=574"
  },
  {
    "text": "to account for any outages.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=578"
  },
  {
    "text": "And of course, Version 2 is available in Sandbox, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=580"
  },
  {
    "text": "so you can develop safely in our test environment.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=582"
  },
  {
    "text": "For some best practices, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=586"
  },
  {
    "text": "when receiving these notifications, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=587"
  },
  {
    "text": "it is important to respond with an HTTP 200 Response Code ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=589"
  },
  {
    "text": "when it was successfully received.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=593"
  },
  {
    "text": "This indicates to us that you have received the notification ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=595"
  },
  {
    "text": "and that you do not need us to resend.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=598"
  },
  {
    "text": "If your servers return an error or don't respond, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=601"
  },
  {
    "text": "the App Store will resend the same notification payload.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=603"
  },
  {
    "text": "Within each notification is the signedDate; ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=607"
  },
  {
    "text": "you can know exactly when that original notification was sent.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=610"
  },
  {
    "text": "And you can validate the authenticity ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=613"
  },
  {
    "text": "of received notifications using the JWS signed transaction info, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=615"
  },
  {
    "text": "so you can have confidence ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=619"
  },
  {
    "text": "that these were signed by the App Store.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=620"
  },
  {
    "text": "And be sure to take advantage of the new ability ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=623"
  },
  {
    "text": "to provide unique server URLs ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=625"
  },
  {
    "text": "for sandbox and production events.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=627"
  },
  {
    "text": "And as a final best practice, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=629"
  },
  {
    "text": "apply the notification updates immediately.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=631"
  },
  {
    "text": "Some events are time-sensitive, such as upgrades or refunds.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=633"
  },
  {
    "text": "Therefore, processing these in near real-time ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=637"
  },
  {
    "text": "can be beneficial.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=639"
  },
  {
    "text": "And our last update to brief you on ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=641"
  },
  {
    "text": "is our updates in App Store Connect ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=643"
  },
  {
    "text": "to help with testing in-app purchases in Sandbox.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=645"
  },
  {
    "text": "You will find these features accessible ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=647"
  },
  {
    "text": "in the Users & Access tab under Sandbox testers.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=649"
  },
  {
    "text": "As you may know already, in Sandbox today, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=652"
  },
  {
    "text": "subscriptions renew at an accelerated rate ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=654"
  },
  {
    "text": "to support testing.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=657"
  },
  {
    "text": "Now we've added the ability to slow down or accelerate ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=658"
  },
  {
    "text": "that renewal rate per Sandbox Apple ID, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=661"
  },
  {
    "text": "just like you can with StoreKit testing in Xcode.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=664"
  },
  {
    "text": "This should be helpful for scenarios ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=666"
  },
  {
    "text": "when you need more time to perform actions ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=668"
  },
  {
    "text": "between the renewals.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=670"
  },
  {
    "text": "To help with testing across different storefronts, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=672"
  },
  {
    "text": "now you can change the storefront ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=674"
  },
  {
    "text": "for a Sandbox Apple ID at any time.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=676"
  },
  {
    "text": "And to further expand the use of a single Sandbox Apple ID, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=678"
  },
  {
    "text": "you can now clear its purchase history ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=682"
  },
  {
    "text": "of autorenewable subscriptions and nonconsumables, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=684"
  },
  {
    "text": "allowing you, for example, to purchase content ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=687"
  },
  {
    "text": "or redeem introductory offers repeatedly.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=689"
  },
  {
    "text": "Now that we've covered some of the benefits ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=693"
  },
  {
    "text": "and best practices of StoreKit 2 and the Server API, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=694"
  },
  {
    "text": "let's review some approaches for you to consider ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=698"
  },
  {
    "text": "when preparing to integrate these features and abilities ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=699"
  },
  {
    "text": "into your app or server.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=702"
  },
  {
    "text": "When we think about in-app purchases, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=704"
  },
  {
    "text": "we primarily think about entitling customers ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=706"
  },
  {
    "text": "with their purchases and handling status changes.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=708"
  },
  {
    "text": "To do this, you have to choose ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=711"
  },
  {
    "text": "to go with an on-device approach -- ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=712"
  },
  {
    "text": "where you do it all locally without any server backend -- ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=714"
  },
  {
    "text": "or you leverage serve-to-server APIs, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=717"
  },
  {
    "text": "where your server is the source of truth.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=719"
  },
  {
    "text": "Let's start with on-device.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=722"
  },
  {
    "text": "This is where the StoreKit 2 framework provides your app ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=723"
  },
  {
    "text": "the ability to fully manage in-app purchases ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=725"
  },
  {
    "text": "and status changes all on-device, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=728"
  },
  {
    "text": "without requiring a server.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=731"
  },
  {
    "text": "This can be very helpful for small businesses ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=732"
  },
  {
    "text": "and those without an existing server backend.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=734"
  },
  {
    "text": "To do this, you start with these three core functional pieces ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=737"
  },
  {
    "text": "of StoreKit 2 to support the purchase flow.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=740"
  },
  {
    "text": "Your app will use Products ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=743"
  },
  {
    "text": "to retrieve your available products and its details ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=744"
  },
  {
    "text": "to drive the merchandising within your app.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=747"
  },
  {
    "text": "This ensures its always accurate and in sync ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=750"
  },
  {
    "text": "with the App Store.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=752"
  },
  {
    "text": "And now with StoreKit 2, you will have VerificationResult ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=754"
  },
  {
    "text": "and PurchaseResult, which together are used ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=756"
  },
  {
    "text": "to validate the authenticity of the transaction ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=759"
  },
  {
    "text": "after a successful purchase or restored transaction.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=761"
  },
  {
    "text": "Another key benefit of the StoreKit 2 framework ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=765"
  },
  {
    "text": "is its ability to keep your app up-to-date for any transaction.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=768"
  },
  {
    "text": "Customers may have multiple devices, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=772"
  },
  {
    "text": "and with Transaction.updates, your app will be kept in sync ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=773"
  },
  {
    "text": "no matter what device the transaction originated on.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=777"
  },
  {
    "text": "With currentEntitlement method, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=780"
  },
  {
    "text": "your app can quickly get the immediate status ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=782"
  },
  {
    "text": "for your customer's purchases, so you can immediately ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=784"
  },
  {
    "text": "grant those products to the customers -- ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=786"
  },
  {
    "text": "all without requiring them to login ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=788"
  },
  {
    "text": "or perform a Restore Purchases, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=791"
  },
  {
    "text": "as you have the latest transaction details.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=792"
  },
  {
    "text": "Lastly, we understand how important it is to get ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=796"
  },
  {
    "text": "the autorenewable subscription information on-device, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=798"
  },
  {
    "text": "not just about the product itself ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=801"
  },
  {
    "text": "but about the current subscriber's status ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=802"
  },
  {
    "text": "and their upcoming renewal period.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=804"
  },
  {
    "text": "For that we have Product.SubscriptionInfo.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=806"
  },
  {
    "text": "So with these six core functions that I just covered, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=809"
  },
  {
    "text": "you can take advantage of StoreKit 2 on iOS 15 ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=811"
  },
  {
    "text": "and reduce or eliminate your dependency on a server ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=814"
  },
  {
    "text": "to deliver the best customer experience.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=817"
  },
  {
    "text": "Now, when we think about a server-to-server architecture, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=820"
  },
  {
    "text": "this is critical for multiplatform ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=822"
  },
  {
    "text": "or multiapp services ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=824"
  },
  {
    "text": "where customers expect to access their services reliably, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=826"
  },
  {
    "text": "and your systems are required ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=829"
  },
  {
    "text": "to keep updated on the status of their purchases ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=830"
  },
  {
    "text": "at any time in real time.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=833"
  },
  {
    "text": "Typically in this setup, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=835"
  },
  {
    "text": "you have your server as the source of truth, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=836"
  },
  {
    "text": "where it is online 24/7 to receive ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=838"
  },
  {
    "text": "and check for updates with the App Store at any time.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=841"
  },
  {
    "text": "But let's look at this flow from your app's perspective.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=844"
  },
  {
    "text": "Here we have the customer's device, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=847"
  },
  {
    "text": "and let's assume your app is running ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=848"
  },
  {
    "text": "using the original StoreKit framework to initiate purchases ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=850"
  },
  {
    "text": "and using App Store verifyReceipt server ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=853"
  },
  {
    "text": "for purchase validation.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=855"
  },
  {
    "text": "This means your app sends the Base64-encoded app receipt ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=857"
  },
  {
    "text": "to your server after a purchase or restore event, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=861"
  },
  {
    "text": "and then it's sent to the verifyReceipt server.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=864"
  },
  {
    "text": "The App Store will respond with the customer's transactions, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=866"
  },
  {
    "text": "where now your server will need ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=869"
  },
  {
    "text": "to parse through those transactions ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=870"
  },
  {
    "text": "to evaluate and determine the status ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=872"
  },
  {
    "text": "and what actions need to be taken server-side ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=875"
  },
  {
    "text": "or within your app.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=877"
  },
  {
    "text": "Now, you may have asked yourself this question.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=879"
  },
  {
    "text": "The good news is no, the App Store Server API ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=881"
  },
  {
    "text": "has no dependency on your app ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=883"
  },
  {
    "text": "adopting the entire StoreKit 2 framework.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=885"
  },
  {
    "text": "This means you can take advantage ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=888"
  },
  {
    "text": "of the new functionality available ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=889"
  },
  {
    "text": "with the App Store Server API right away, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=891"
  },
  {
    "text": "all while your app continues using original StoreKit.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=893"
  },
  {
    "text": "Let's walk through how you can do this.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=896"
  },
  {
    "text": "With that same design, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=899"
  },
  {
    "text": "you would need to make two primary changes.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=900"
  },
  {
    "text": "First, we'll update your app ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=902"
  },
  {
    "text": "to retrieve the original transaction ID.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=904"
  },
  {
    "text": "Second, you'll update your server ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=906"
  },
  {
    "text": "to use the App Store Server API.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=908"
  },
  {
    "text": "These two changes allow your app to use original StoreKit ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=910"
  },
  {
    "text": "or StoreKit 2, making it easy ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=913"
  },
  {
    "text": "to support the latest app version on any iOS version.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=914"
  },
  {
    "text": "To do that first change and start using ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=918"
  },
  {
    "text": "the original_transaction_ID going forward, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=919"
  },
  {
    "text": "you will replace your logic ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=922"
  },
  {
    "text": "that retrieves the Base64 app receipt.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=923"
  },
  {
    "text": "To do this, you may have been using ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=926"
  },
  {
    "text": "the app receipt URL method.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=928"
  },
  {
    "text": "Go ahead and replace it with this property ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=930"
  },
  {
    "text": "for autorenewable subscriptions.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=933"
  },
  {
    "text": "And for other in-app purchase types, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=935"
  },
  {
    "text": "you'll use this similar property.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=937"
  },
  {
    "text": "Now let's update your server to use the App Store Server API.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=939"
  },
  {
    "text": "You'll change from /verifyReceipt ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=943"
  },
  {
    "text": "to the /History or /SubscriptionStatus URL.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=944"
  },
  {
    "text": "Requests will use JWT for authorization, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=947"
  },
  {
    "text": "and you'll use the original transaction ID going forward.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=950"
  },
  {
    "text": "With these completed changes, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=953"
  },
  {
    "text": "you no longer have entitlement logic to maintain on your server ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=955"
  },
  {
    "text": "and you now can use secure JWS signed transactions ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=958"
  },
  {
    "text": "and have eliminated the need to store app receipts.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=961"
  },
  {
    "text": "So if your app supports older versions of iOS, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=964"
  },
  {
    "text": "this gives you a path to take advantage ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=967"
  },
  {
    "text": "of what App Store Server API has to offer.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=969"
  },
  {
    "text": "Now earlier, we mentioned how StoreKit 2 and the server API ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=972"
  },
  {
    "text": "handle determining subscription state for you.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=976"
  },
  {
    "text": "Now as a best practice, your app should always ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=978"
  },
  {
    "text": "determine the subscriber state upon app launch.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=981"
  },
  {
    "text": "Once the state is determined, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=984"
  },
  {
    "text": "it can be stored locally and updated as needed.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=985"
  },
  {
    "text": "I want to briefly review these five states we return ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=988"
  },
  {
    "text": "and the actions you need to take for each, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=991"
  },
  {
    "text": "along with some opportunities to consider.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=993"
  },
  {
    "text": "Now it should be noted, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=995"
  },
  {
    "text": "a new customer would not have any of these states, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=996"
  },
  {
    "text": "and that is a state your app needs to manage as well.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=999"
  },
  {
    "text": "Starting with Active state, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1002"
  },
  {
    "text": "this means service should be provided to the customer ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1003"
  },
  {
    "text": "until their expires date.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1006"
  },
  {
    "text": "Now If you provide multiple levels of service, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1008"
  },
  {
    "text": "one opportunity could be to surface ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1010"
  },
  {
    "text": "an upgrade offer in-app using promotional offers.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1012"
  },
  {
    "text": "Note that such offers should be tailored to the customer ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1015"
  },
  {
    "text": "based on their past subscription history.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1017"
  },
  {
    "text": "Now when a subscription has fully churned, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1020"
  },
  {
    "text": "you will have the state of Expired.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1022"
  },
  {
    "text": "No service needs to be provided and you can merchandise ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1024"
  },
  {
    "text": "your current subscription offering.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1027"
  },
  {
    "text": "Optionally, you can leverage promotional offers ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1029"
  },
  {
    "text": "or subscription offer codes to present a win-back offer.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1031"
  },
  {
    "text": "If they resubscribe within 60 days of their expires date, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1035"
  },
  {
    "text": "their existing accrued paid days of service ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1038"
  },
  {
    "text": "will resume towards the 85 percent proceeds rate.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1040"
  },
  {
    "text": "Next is billing retry period.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1044"
  },
  {
    "text": "We all experience billing issues from time to time; ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1046"
  },
  {
    "text": "credit cards can expire or store credit can be consumed.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1049"
  },
  {
    "text": "These subscriptions were expected to autorenew, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1052"
  },
  {
    "text": "but due to their payment method issue, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1054"
  },
  {
    "text": "they fell into what we call the billing retry period.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1056"
  },
  {
    "text": "While the subscription is expired ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1059"
  },
  {
    "text": "and no service needs to be rendered, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1061"
  },
  {
    "text": "the customer also doesn't need to resubscribe; ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1062"
  },
  {
    "text": "they simply need to resolve their billing issue.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1065"
  },
  {
    "text": "We will automatically reattempt to retry ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1067"
  },
  {
    "text": "and recover the subscription for up to 60 days ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1069"
  },
  {
    "text": "through various customer communications ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1071"
  },
  {
    "text": "without any developer action.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1073"
  },
  {
    "text": "But with in-app messaging, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1075"
  },
  {
    "text": "you could directly alert the customer to their billing issue ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1076"
  },
  {
    "text": "and provide a valuable call to action ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1079"
  },
  {
    "text": "that can deep link the customer ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1081"
  },
  {
    "text": "to their payment info page to resolve.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1082"
  },
  {
    "text": "Next is grace period, which is related to billing retry ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1085"
  },
  {
    "text": "but only applies to your subscribers ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1088"
  },
  {
    "text": "if you have opted in to App Store Billing Grace Period ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1090"
  },
  {
    "text": "in App Store Connect.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1093"
  },
  {
    "text": "For this state, you will continue providing service ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1094"
  },
  {
    "text": "with no disruption until the grace period expires date.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1096"
  },
  {
    "text": "If we recover the subscriber during their grace period, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1100"
  },
  {
    "text": "they will retain their original billing cycle.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1102"
  },
  {
    "text": "Therefore, they have no disruption in service ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1105"
  },
  {
    "text": "and the provider avoids any lost billable days.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1107"
  },
  {
    "text": "Now just like billing retry, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1111"
  },
  {
    "text": "you also want to provide that same in-app messaging ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1112"
  },
  {
    "text": "to alert them to their billing issue.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1115"
  },
  {
    "text": "Lastly, when you see the Revoked state, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1117"
  },
  {
    "text": "this applies to a subscription that is family shareable.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1119"
  },
  {
    "text": "These family members are no longer entitled ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1122"
  },
  {
    "text": "to that service or content, so access can be revoked ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1124"
  },
  {
    "text": "and you can merchandise offers to reacquire these customers.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1127"
  },
  {
    "text": "In my final portion, I want to dive into ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1131"
  },
  {
    "text": "some implementation approaches for you to consider ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1133"
  },
  {
    "text": "when using App Store Server Notifications.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1135"
  },
  {
    "text": "When you look at all these events supported, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1139"
  },
  {
    "text": "you can see there are quite a few, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1141"
  },
  {
    "text": "and some may or not apply to your business.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1142"
  },
  {
    "text": "Many are part of the subscription lifecycle, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1145"
  },
  {
    "text": "while others apply to all in-app purchase types.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1147"
  },
  {
    "text": "If you are not offering a subscription, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1149"
  },
  {
    "text": "then your implementation approach ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1151"
  },
  {
    "text": "is more straightforward, as subscriptions are more complex ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1152"
  },
  {
    "text": "and you can avoid many of those events that simply don't apply.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1155"
  },
  {
    "text": "But let's review these different phases ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1158"
  },
  {
    "text": "of implementation for you to consider.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1160"
  },
  {
    "text": "We broke it into three: getting started, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1162"
  },
  {
    "text": "supporting the lifecycle, and taking action on insights.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1164"
  },
  {
    "text": "When adopting Version 2, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1168"
  },
  {
    "text": "this getting started phase applies to everyone, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1170"
  },
  {
    "text": "no matter your business model or if you have or have not ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1172"
  },
  {
    "text": "already adopted Version 1 notifications.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1174"
  },
  {
    "text": "The first step will be getting Version 2 ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1177"
  },
  {
    "text": "enabled in App Store Connect.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1179"
  },
  {
    "text": "You'll find this feature under App Information, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1181"
  },
  {
    "text": "titled \"App Store Server Notifications.\" ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1183"
  },
  {
    "text": "And with the Fall updates, now you can choose the URLs ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1185"
  },
  {
    "text": "specifically for Sandbox and production.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1188"
  },
  {
    "text": "You can add that URL and choose which version to receive.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1190"
  },
  {
    "text": "And if you are receiving Version 1 already, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1194"
  },
  {
    "text": "we suggest to only enable Version 2 in Sandbox ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1196"
  },
  {
    "text": "to allow for development before enabling in production.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1199"
  },
  {
    "text": "Now that we've enabled Version 2, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1203"
  },
  {
    "text": "we want to look at the prioritization, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1204"
  },
  {
    "text": "so evaluate which notifications to support first ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1206"
  },
  {
    "text": "based on your business model and usage.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1209"
  },
  {
    "text": "To help, you should focus on key, high-volume events ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1211"
  },
  {
    "text": "that apply the most to your business and roadmap.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1214"
  },
  {
    "text": "One event that applies to all in-app purchase types ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1218"
  },
  {
    "text": "are refunds.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1220"
  },
  {
    "text": "You receive a single REFUND notification ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1221"
  },
  {
    "text": "for each transaction that is refunded to the customer.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1223"
  },
  {
    "text": "How you process those events will be up to your policies ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1227"
  },
  {
    "text": "and business model.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1229"
  },
  {
    "text": "Now, for subscription-based businesses, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1231"
  },
  {
    "text": "these four notifications apply to the primary events ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1232"
  },
  {
    "text": "in a subscription journey, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1236"
  },
  {
    "text": "from initial purchase or resubscribe ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1237"
  },
  {
    "text": "to a successful renewal, or failure, into expiration.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1239"
  },
  {
    "text": "By prioritizing to take action ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1243"
  },
  {
    "text": "on these five notification types, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1244"
  },
  {
    "text": "means you will have support for the majority of the events ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1246"
  },
  {
    "text": "that you could receive.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1249"
  },
  {
    "text": "That first phase provides a solid foundation ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1251"
  },
  {
    "text": "and allowed you to maximize your return.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1254"
  },
  {
    "text": "Now you can look to complete your support ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1256"
  },
  {
    "text": "of all notification types in this next phase.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1257"
  },
  {
    "text": "There are just a few remaining ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1261"
  },
  {
    "text": "subscription-based notifications, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1262"
  },
  {
    "text": "while the others are dependent upon feature adoption.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1264"
  },
  {
    "text": "Let's review.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1267"
  },
  {
    "text": "These two types apply to all subscription-based apps, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1268"
  },
  {
    "text": "DID_CHANGE_RENEWAL_STATUS and preference.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1270"
  },
  {
    "text": "These are critical for identifying a customer ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1273"
  },
  {
    "text": "cancelling or changing their level of service.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1275"
  },
  {
    "text": "When considering these remaining types, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1277"
  },
  {
    "text": "these are dependent upon your usage.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1280"
  },
  {
    "text": "So GRACE_PERIOD_EXPIRED applied if you have enabled ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1281"
  },
  {
    "text": "Billing Grace Period in App Store Connect.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1284"
  },
  {
    "text": "RENEWAL_EXTENDED is sent if you have extended ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1286"
  },
  {
    "text": "a subscriber's renewal with the App Store Server API.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1289"
  },
  {
    "text": "And REVOKE applies if products have been enabled ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1292"
  },
  {
    "text": "for Family Sharing for in-app purchases.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1295"
  },
  {
    "text": "OFFER REDEEMED applies when using ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1298"
  },
  {
    "text": "subscription offer codes or promotional offers.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1300"
  },
  {
    "text": "And PRICE_INCREASE is sent ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1304"
  },
  {
    "text": "if the price of an autorenewable subscription has been raised.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1305"
  },
  {
    "text": "And then we have REFUND_DECLINED ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1309"
  },
  {
    "text": "and CONSUMPTION_REQUEST.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1311"
  },
  {
    "text": "Joe will be covering these in-depth ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1312"
  },
  {
    "text": "in his part on handling refunds.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1314"
  },
  {
    "text": "Lastly, we can move on to the action on insights phase.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1317"
  },
  {
    "text": "By this point, you are now receiving and taking action ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1321"
  },
  {
    "text": "on all relevant events for your business.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1324"
  },
  {
    "text": "This ensures your service knows the current status ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1326"
  },
  {
    "text": "of all customer subscriptions, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1329"
  },
  {
    "text": "or any access changes to purchased consumables, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1330"
  },
  {
    "text": "nonconsumables, or nonrenewing subscriptions.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1333"
  },
  {
    "text": "With subscriptions, the following notifications ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1337"
  },
  {
    "text": "identify customers in a very specific state, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1339"
  },
  {
    "text": "thus enabling your business to take specific proactive actions ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1342"
  },
  {
    "text": "where you can identify and intelligently engage, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1345"
  },
  {
    "text": "retain, and win back subscribers.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1348"
  },
  {
    "text": "Here are some example notification types ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1352"
  },
  {
    "text": "where you can identify key events ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1353"
  },
  {
    "text": "in a window of opportunity to engage with your customers, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1355"
  },
  {
    "text": "provide proactive in-app messaging, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1358"
  },
  {
    "text": "or present tailored subscription offers.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1361"
  },
  {
    "text": "Let's look at one example: ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1364"
  },
  {
    "text": "a customer cancelling their subscription.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1365"
  },
  {
    "text": "In this scenario, let's say the subscriber purchased ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1368"
  },
  {
    "text": "a monthly subscription on November 25.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1371"
  },
  {
    "text": "Then on December 5, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1374"
  },
  {
    "text": "the subscriber has chosen to cancel ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1375"
  },
  {
    "text": "with 20 days remaining in their current period.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1377"
  },
  {
    "text": "This is our save period, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1379"
  },
  {
    "text": "from the time the subscriber cancelled ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1380"
  },
  {
    "text": "to the time the subscription will expire ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1382"
  },
  {
    "text": "and voluntarily churn.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1384"
  },
  {
    "text": "Now when that cancel action occurs, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1386"
  },
  {
    "text": "the autorenew state is set to false, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1388"
  },
  {
    "text": "immediately triggering the App Store to send ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1390"
  },
  {
    "text": "a DID_CHANGE_RENEWAL_STATUS notification ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1392"
  },
  {
    "text": "with a subtype of AUTO_RENEW_DISABLED, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1395"
  },
  {
    "text": "alerting you in real-time to the beginning of a save period.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1397"
  },
  {
    "text": "This window of opportunity allows your service ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1401"
  },
  {
    "text": "to present tailored in-app messaging ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1403"
  },
  {
    "text": "or merchandise save offers before their expiration.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1405"
  },
  {
    "text": "It's important such offers are tailored ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1408"
  },
  {
    "text": "and have eligibility criteria for each customer cohort.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1410"
  },
  {
    "text": "This concludes my portion.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1414"
  },
  {
    "text": "Now I'd like to introduce my colleague, Manjeet.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1416"
  },
  {
    "text": "Manjeet: Thanks, Dave! My name is Manjeet Chawla, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1419"
  },
  {
    "text": "and I am a technical program manager at the App Store.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1422"
  },
  {
    "text": "Now, Dave talked about how you can use StoreKit 2 ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1425"
  },
  {
    "text": "and App Store Server API to improve in-app purchases.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1429"
  },
  {
    "text": "Now, let's review those exact same APIs ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1433"
  },
  {
    "text": "from a customer support perspective.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1435"
  },
  {
    "text": "I will talk about some common support scenarios ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1438"
  },
  {
    "text": "that customers face today with in-app purchases ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1440"
  },
  {
    "text": "and best practices to leverage these APIs for those scenarios.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1443"
  },
  {
    "text": "But before I talk about customer support, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1448"
  },
  {
    "text": "let's understand how providing support ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1450"
  },
  {
    "text": "impacts your overall customer management.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1452"
  },
  {
    "text": "You may be relying on various CRM tools ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1456"
  },
  {
    "text": "and systems like acquisition, analysis, customer support, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1458"
  },
  {
    "text": "and various marketing communication channels.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1462"
  },
  {
    "text": "And providing support keeps your customers happy ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1465"
  },
  {
    "text": "and engaged with the product ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1468"
  },
  {
    "text": "and improving your overall customer relationships ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1470"
  },
  {
    "text": "and satisfaction.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1472"
  },
  {
    "text": "Now we know customers reach out to you for help ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1474"
  },
  {
    "text": "and the App Store has created tools for you to provide support ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1476"
  },
  {
    "text": "and resolve issues efficiently.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1480"
  },
  {
    "text": "And today, I will talk about five new customer support tools ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1483"
  },
  {
    "text": "to assist you with inquiries across all your support channels ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1486"
  },
  {
    "text": "starting with the Look up Order ID.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1490"
  },
  {
    "text": "Today, when customers make an in-app purchase, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1493"
  },
  {
    "text": "they get a receipt sent to their Apple ID ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1495"
  },
  {
    "text": "and they also can also access this receipt at any time ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1498"
  },
  {
    "text": "by looking at the purchase history under Account Settings.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1501"
  },
  {
    "text": "And now, when a customer contacts you, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1504"
  },
  {
    "text": "your support team can ask the customer ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1506"
  },
  {
    "text": "for the Order ID on this receipt ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1508"
  },
  {
    "text": "and call a new App Store Server API ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1511"
  },
  {
    "text": "to lookup customer's in-app purchases for that receipt ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1513"
  },
  {
    "text": "by using the order ID.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1516"
  },
  {
    "text": "You can also use this API ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1518"
  },
  {
    "text": "to validate the authenticity of the receipt ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1520"
  },
  {
    "text": "and to associate transactions within that receipt ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1523"
  },
  {
    "text": "to a customer.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1525"
  },
  {
    "text": "Additionally, you can use this API ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1527"
  },
  {
    "text": "to identify any issues within the purchase.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1529"
  },
  {
    "text": "For example, if the transaction contains any purchases ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1532"
  },
  {
    "text": "that have already been refunded or revoked by the App Store, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1535"
  },
  {
    "text": "you can look at the revocationDate ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1539"
  },
  {
    "text": "and revocationReason in the response ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1541"
  },
  {
    "text": "to get more details about the refund.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1543"
  },
  {
    "text": "And once you implement this API, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1546"
  },
  {
    "text": "you will be able to look up historical purchases ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1548"
  },
  {
    "text": "for an order ID when a customer contacts you for support.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1550"
  },
  {
    "text": "For best practices, store the original_transaction_id ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1554"
  },
  {
    "text": "for all in-app purchases in a customer account database.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1558"
  },
  {
    "text": "And when a customer contacts you for support, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1561"
  },
  {
    "text": "you can easily use this API to look up and associate ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1563"
  },
  {
    "text": "a customer's purchases within your account database.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1567"
  },
  {
    "text": "You can even integrate this API ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1570"
  },
  {
    "text": "with your existing customer support channels ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1572"
  },
  {
    "text": "like phone, email, or web ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1574"
  },
  {
    "text": "to provide a consistent support experience for your customers.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1577"
  },
  {
    "text": "Next, let's talk about Refund Lookup.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1581"
  },
  {
    "text": "In WWDC20, the App Store introduced refund notifications ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1585"
  },
  {
    "text": "to notify your server each time ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1589"
  },
  {
    "text": "a customer has been successfully refunded for an in-app purchase.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1591"
  },
  {
    "text": "The Refund Lookup is a brand-new App Store Server API ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1595"
  },
  {
    "text": "that lets you lookup all the refunded transactions ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1599"
  },
  {
    "text": "for a customer.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1601"
  },
  {
    "text": "This API enables you to handle server outages ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1603"
  },
  {
    "text": "or schedule maintenance by looking up refunds at any time ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1606"
  },
  {
    "text": "in a quick and easy manner.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1610"
  },
  {
    "text": "Additionally, you can identify a customer's entire refund history ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1612"
  },
  {
    "text": "across all their in-app purchase types.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1616"
  },
  {
    "text": "You can also use this API to monitor ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1619"
  },
  {
    "text": "any spikes in the refund or suspicious activity, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1621"
  },
  {
    "text": "and it can respond to content delivery issues ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1625"
  },
  {
    "text": "that might be leading to refunds.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1628"
  },
  {
    "text": "For best practices, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1631"
  },
  {
    "text": "if you are storing the original_transaction_id ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1632"
  },
  {
    "text": "for each in-app purchase in a customer account database, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1634"
  },
  {
    "text": "you can use any of their original_transaction_ids ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1637"
  },
  {
    "text": "to look up their past refunds.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1640"
  },
  {
    "text": "And you can troubleshoot any content delivery issues ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1643"
  },
  {
    "text": "for a customer that might be leading to refunds ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1645"
  },
  {
    "text": "by using the Refund Lookup API.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1648"
  },
  {
    "text": "Now let's shift gears to talk specifically about ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1651"
  },
  {
    "text": "autorenewable subscriptions.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1654"
  },
  {
    "text": "For example, a scenario where there was an outage ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1656"
  },
  {
    "text": "or an event was canceled ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1659"
  },
  {
    "text": "which might be more common for streaming-based apps ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1660"
  },
  {
    "text": "such as sports, live TV, or video.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1663"
  },
  {
    "text": "For these outages or canceled events, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1666"
  },
  {
    "text": "how can you appease customers? ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1668"
  },
  {
    "text": "You can now use a new Renewal Extension Server API ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1671"
  },
  {
    "text": "to extend the renewal date for a paid active subscription ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1675"
  },
  {
    "text": "and give customers free service for an additional time.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1678"
  },
  {
    "text": "You can use this API to handle temporary outages ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1682"
  },
  {
    "text": "and also to provide appeasement; for example, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1685"
  },
  {
    "text": "when the customer had a bad experience with the service.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1688"
  },
  {
    "text": "Note that you can extend the renewal date ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1691"
  },
  {
    "text": "for a customer's subscription twice within a year -- ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1693"
  },
  {
    "text": "each time, up to 90 days -- ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1697"
  },
  {
    "text": "regardless of the actual subscription duration.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1699"
  },
  {
    "text": "Also note, this extension period does not count towards ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1702"
  },
  {
    "text": "the one year of paid service needed to receive ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1705"
  },
  {
    "text": "an 85 percent proceeds rate.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1707"
  },
  {
    "text": "For best practices, store the original_transaction_id ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1711"
  },
  {
    "text": "to identify the subscriptions you wish to extend ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1714"
  },
  {
    "text": "the renewal date for.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1716"
  },
  {
    "text": "Identify the extension period ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1718"
  },
  {
    "text": "that works best for your business model ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1720"
  },
  {
    "text": "and show in-app messaging ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1722"
  },
  {
    "text": "when you extend a customer's subscription.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1724"
  },
  {
    "text": "And because there can only be two extensions ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1726"
  },
  {
    "text": "per customer in a year, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1729"
  },
  {
    "text": "you may want to maintain an eligibility criteria ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1730"
  },
  {
    "text": "for your customers who are eligible for an extension.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1733"
  },
  {
    "text": "And always align with your business and marketing teams ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1737"
  },
  {
    "text": "to provide a consistent messaging ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1740"
  },
  {
    "text": "across all your communication channels.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1742"
  },
  {
    "text": "Now let's discuss a different scenario ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1745"
  },
  {
    "text": "where you may want to compensate a customer ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1747"
  },
  {
    "text": "by providing a one-time discount for their subscription.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1749"
  },
  {
    "text": "In iOS 14, the App Store introduced ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1754"
  },
  {
    "text": "subscription offer codes to help you acquire, retain, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1756"
  },
  {
    "text": "and win back subscribers by providing a subscription ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1760"
  },
  {
    "text": "at a discount or free for a limited time.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1762"
  },
  {
    "text": "You can distribute these one-time, unique codes ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1766"
  },
  {
    "text": "either using online or offline channels.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1769"
  },
  {
    "text": "And for customer service issues, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1772"
  },
  {
    "text": "you can provide these one-time codes as compensation ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1774"
  },
  {
    "text": "for the service issue.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1776"
  },
  {
    "text": "You might also use this as an opportunity ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1778"
  },
  {
    "text": "to suggest an alternative subscription option; ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1781"
  },
  {
    "text": "for example, a longer duration plan ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1783"
  },
  {
    "text": "that provides more value at a lower price.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1785"
  },
  {
    "text": "Customers on iOS 14 and iPadOS 14 and later ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1789"
  },
  {
    "text": "can redeem offer codes on the App Store ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1793"
  },
  {
    "text": "through a one-time code redemption URL, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1795"
  },
  {
    "text": "or within the app if you've implemented ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1797"
  },
  {
    "text": "the presentCodeRedemptionSheet API in StoreKit.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1799"
  },
  {
    "text": "Now, for best practices, provide a redemption flow inside the app ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1803"
  },
  {
    "text": "for customers to redeem the code ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1807"
  },
  {
    "text": "along with customized in-app messaging ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1809"
  },
  {
    "text": "and description for the offer code ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1811"
  },
  {
    "text": "to help customers make an informed decision.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1813"
  },
  {
    "text": "And use this within your existing ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1816"
  },
  {
    "text": "customer support channels such as phone, email, web, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1818"
  },
  {
    "text": "or even within your app, for example, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1822"
  },
  {
    "text": "when the customer is chatting with your support team ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1824"
  },
  {
    "text": "in a live chat session.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1826"
  },
  {
    "text": "Now, if you're distributing these codes ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1829"
  },
  {
    "text": "on digital marketing channels such as email, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1831"
  },
  {
    "text": "each code will have an associated redemption URL ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1833"
  },
  {
    "text": "with the code prepopulated.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1836"
  },
  {
    "text": "You will be able to use a unique URL ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1838"
  },
  {
    "text": "to seamlessly deep link the customer from your email ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1841"
  },
  {
    "text": "into the redemption flow which occurs on the App Store.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1844"
  },
  {
    "text": "This URL is comprised of two values: ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1847"
  },
  {
    "text": "the ID, which represents your application's ID, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1851"
  },
  {
    "text": "so it will be static for each of your applications; ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1853"
  },
  {
    "text": "and the second value is the code, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1857"
  },
  {
    "text": "where you will dynamically populate the URL ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1858"
  },
  {
    "text": "with the subscribers unique alphanumeric value.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1861"
  },
  {
    "text": "Now, if that URL were embedded in an email, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1865"
  },
  {
    "text": "then tapping it would take the user into the App Store ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1867"
  },
  {
    "text": "to complete the transaction.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1870"
  },
  {
    "text": "Some things to note: ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1872"
  },
  {
    "text": "the subscriber here never sees the code during this flow, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1874"
  },
  {
    "text": "and when completed, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1877"
  },
  {
    "text": "it would be another external transaction ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1878"
  },
  {
    "text": "that your app will need to fulfill ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1880"
  },
  {
    "text": "when the customer launches the application again.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1882"
  },
  {
    "text": "Next, let's cover a scenario ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1885"
  },
  {
    "text": "where the customer wants to manage their subscription.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1887"
  },
  {
    "text": "In StoreKit 2, we launched a new manage subscriptions API ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1891"
  },
  {
    "text": "that enables you to display the existing manage subscriptions ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1894"
  },
  {
    "text": "right within the app.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1898"
  },
  {
    "text": "Supporting subscription management in-app ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1900"
  },
  {
    "text": "means customers can upgrade, downgrade, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1902"
  },
  {
    "text": "or cancel a subscription without ever leaving your app.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1904"
  },
  {
    "text": "This also gives you a natural place to provide help ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1908"
  },
  {
    "text": "for common subscriber issues and present alternative offers ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1911"
  },
  {
    "text": "for customers to consider.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1915"
  },
  {
    "text": "And you can use this opportunity ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1917"
  },
  {
    "text": "to present a personalized save offer ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1919"
  },
  {
    "text": "before they see the manage subscriptions page; ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1921"
  },
  {
    "text": "for example, if their engagement has been low.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1924"
  },
  {
    "text": "Or you can even present an exit survey if they cancel ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1927"
  },
  {
    "text": "to get more details about the cancellation.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1931"
  },
  {
    "text": "Now for best practices.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1934"
  },
  {
    "text": "Using StoreKit APIs enables you ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1935"
  },
  {
    "text": "to present a consistent experience ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1938"
  },
  {
    "text": "that helps people manage or cancel their subscription ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1940"
  },
  {
    "text": "without ever leaving your app.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1942"
  },
  {
    "text": "Consider creating a branded contextual experience ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1944"
  },
  {
    "text": "to complement the system-provided management UI.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1947"
  },
  {
    "text": "For example, you might offer a popular premium tier ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1950"
  },
  {
    "text": "to provide personalized suggestions ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1954"
  },
  {
    "text": "or alternative plans ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1956"
  },
  {
    "text": "based on customer's preferences or usage.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1957"
  },
  {
    "text": "And review your overall ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1961"
  },
  {
    "text": "subscription management experience ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1962"
  },
  {
    "text": "as it relates to the customer support journey ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1964"
  },
  {
    "text": "across all your different channels.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1966"
  },
  {
    "text": "Now, let's take a look at a sample Manage Subscriptions UI ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1969"
  },
  {
    "text": "in your app.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1973"
  },
  {
    "text": "for the user to manage their subscription.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1976"
  },
  {
    "text": "And once the customer taps this button, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1979"
  },
  {
    "text": "the App Store will display ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1981"
  },
  {
    "text": "the existing Manage Subscriptions page ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1982"
  },
  {
    "text": "with the currently active subscription ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1984"
  },
  {
    "text": "and the renewal options.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1986"
  },
  {
    "text": "This is the same view customers are familiar with ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1988"
  },
  {
    "text": "when they visit Manage Subscriptions ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1990"
  },
  {
    "text": "under Account Settings in the App Store ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1992"
  },
  {
    "text": "where they can view, upgrade, downgrade ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1994"
  },
  {
    "text": "or cancel their subscription.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1996"
  },
  {
    "text": "Now, if the customer selects to cancel their subscription, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=1999"
  },
  {
    "text": "they will see a confirmation screen ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2001"
  },
  {
    "text": "with the cancellation details and the service expiration date.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2003"
  },
  {
    "text": "And for any action the user may take on this page, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2007"
  },
  {
    "text": "you will receive an App Store Server Notification ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2010"
  },
  {
    "text": "and your app will be notified ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2013"
  },
  {
    "text": "if you've implemented the StoreKit 2 framework.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2014"
  },
  {
    "text": "So with the new customer support tools I covered today, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2018"
  },
  {
    "text": "let's talk about the benefits of providing support ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2021"
  },
  {
    "text": "by using these APIs.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2023"
  },
  {
    "text": "You can now improve your overall customer experience ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2026"
  },
  {
    "text": "by providing contextual and seamless support ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2029"
  },
  {
    "text": "for in-app purchases right within the app.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2031"
  },
  {
    "text": "This increases overall retention ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2034"
  },
  {
    "text": "and improves customer satisfaction ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2036"
  },
  {
    "text": "which leads to higher engagement, and ultimately, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2038"
  },
  {
    "text": "more positive ratings and reviews for your app.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2041"
  },
  {
    "text": "Now, I would like to invite my colleague Joe ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2045"
  },
  {
    "text": "to talk about handling refunds.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2047"
  },
  {
    "text": "Joe: Thanks, Manjeet, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2051"
  },
  {
    "text": "for providing best practices and use cases ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2052"
  },
  {
    "text": "for the new customer support tools that have been launched.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2055"
  },
  {
    "text": "Hi, everyone, my name is Joe Mani, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2058"
  },
  {
    "text": "and I'm a program manager at the App Store.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2060"
  },
  {
    "text": "Refunds are a sensitive topic, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2063"
  },
  {
    "text": "and the App Store has created tools for you ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2065"
  },
  {
    "text": "to understand the impact of refunds on your apps ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2067"
  },
  {
    "text": "and how you can leverage these tools ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2070"
  },
  {
    "text": "to improve your customer experience.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2072"
  },
  {
    "text": "I would like to highlight the benefits of using these tools ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2074"
  },
  {
    "text": "and provide a comprehensive message around handling refunds.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2077"
  },
  {
    "text": "This past year, we have launched two new tools ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2081"
  },
  {
    "text": "that have an impact to refunds.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2084"
  },
  {
    "text": "First, let us discuss the beginRefundRequest API.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2086"
  },
  {
    "text": "The App Store has Report a Problem ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2091"
  },
  {
    "text": "and Apple Support has established paths ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2093"
  },
  {
    "text": "for customers to request a refund.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2096"
  },
  {
    "text": "Now in iOS 15, the App Store introduced ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2098"
  },
  {
    "text": "a new beginRefundRequest API in the StoreKit 2 framework ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2101"
  },
  {
    "text": "for customers to request a refund for in-app purchases.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2105"
  },
  {
    "text": "There are multiple benefits for you to implement ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2109"
  },
  {
    "text": "the beginRefundRequest API.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2111"
  },
  {
    "text": "Most of you listening have had a customer ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2113"
  },
  {
    "text": "who has requested a refund for your in-app purchase.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2115"
  },
  {
    "text": "The new beginRefundRequest API ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2119"
  },
  {
    "text": "allows you to provide the same functionality ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2121"
  },
  {
    "text": "without having to redirect customers ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2124"
  },
  {
    "text": "and provide assistance within the app.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2126"
  },
  {
    "text": "If you are aware of a potential issue with your in-app purchase, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2128"
  },
  {
    "text": "you can use this API to help customers troubleshoot the issue ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2132"
  },
  {
    "text": "and get a faster resolution.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2136"
  },
  {
    "text": "In iOS 15, App Store has created two additional notifications ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2138"
  },
  {
    "text": "specifically so you can be aware ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2142"
  },
  {
    "text": "if the refund has been approved or denied.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2144"
  },
  {
    "text": "If the refund is approved, your app will be notified ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2147"
  },
  {
    "text": "and your server receives a REFUND notification ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2150"
  },
  {
    "text": "from the App Store.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2152"
  },
  {
    "text": "If the refund is denied, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2154"
  },
  {
    "text": "your server receives a new REFUND_DECLINED notification.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2156"
  },
  {
    "text": "Note that customers will have to be on iOS 15 or above ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2159"
  },
  {
    "text": "to use this functionality.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2163"
  },
  {
    "text": "Let's discuss best practices.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2166"
  },
  {
    "text": "Store the original transaction ID ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2168"
  },
  {
    "text": "and note that most refund requests ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2170"
  },
  {
    "text": "occur within 30 days of the purchase.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2172"
  },
  {
    "text": "You can provide custom-built in-app messaging ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2176"
  },
  {
    "text": "which creates a tailored customer experience ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2178"
  },
  {
    "text": "even when you may have situations ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2181"
  },
  {
    "text": "where a customer is frustrated and requesting a refund.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2183"
  },
  {
    "text": "You have flexibility to display contextual information ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2187"
  },
  {
    "text": "about past purchases to the customer.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2190"
  },
  {
    "text": "Once the customer selects a transaction to be refunded, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2193"
  },
  {
    "text": "you can call the API which displays a refund request sheet ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2196"
  },
  {
    "text": "where a customer can select from a list of reason codes, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2200"
  },
  {
    "text": "which is consistent with what they would see ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2203"
  },
  {
    "text": "in Apple's Report a Problem.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2204"
  },
  {
    "text": "For autorenewable subscriptions, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2207"
  },
  {
    "text": "you can identify retention strategies ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2208"
  },
  {
    "text": "to keep your customer engaged within your app ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2210"
  },
  {
    "text": "as a successful refund will cancel the subscription.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2213"
  },
  {
    "text": "Now that we looked at the beginRefundRequest, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2217"
  },
  {
    "text": "let's talk about what occurs after ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2220"
  },
  {
    "text": "and how you can be more involved.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2223"
  },
  {
    "text": "The App Store introduced a new server API ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2225"
  },
  {
    "text": "which gives you the opportunity to help inform and improve ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2228"
  },
  {
    "text": "the refund process by sending consumption information to Apple ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2231"
  },
  {
    "text": "about a customer's consumable in-app purchase, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2235"
  },
  {
    "text": "such as whether they consumed an item ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2238"
  },
  {
    "text": "before requesting a refund.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2240"
  },
  {
    "text": "At a high level, each refund request ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2243"
  },
  {
    "text": "will go through our refund decisioning system ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2245"
  },
  {
    "text": "to render a decision.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2248"
  },
  {
    "text": "The refund decisioning system includes information ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2250"
  },
  {
    "text": "about the transaction at issue and other factors ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2252"
  },
  {
    "text": "such as the customer's purchase and refund history.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2255"
  },
  {
    "text": "Prior to Apple rendering a decision, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2259"
  },
  {
    "text": "the App Store will send your server ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2261"
  },
  {
    "text": "a CONSUMPTION_REQUEST notification.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2263"
  },
  {
    "text": "Your server sends the consumption data ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2265"
  },
  {
    "text": "back to the App Store in response to this notification, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2267"
  },
  {
    "text": "which can influence the refund decision.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2270"
  },
  {
    "text": "The consumption payload consists of a handful of fields ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2273"
  },
  {
    "text": "and I would like to discuss three of the key fields today.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2277"
  },
  {
    "text": "With Consumption, you can easily tell us if an in-app purchase ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2281"
  },
  {
    "text": "has been fully, partially, or not at all consumed.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2284"
  },
  {
    "text": "For example, if your app ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2287"
  },
  {
    "text": "has an exchange platform that has bartering ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2289"
  },
  {
    "text": "or if an in-app that has been transferred ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2291"
  },
  {
    "text": "from one account to another's account, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2293"
  },
  {
    "text": "it is considered consumed.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2296"
  },
  {
    "text": "With delivering content, you may have experienced outages ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2298"
  },
  {
    "text": "or unable to deliver in-app purchases ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2301"
  },
  {
    "text": "and you may want to refund the customer.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2304"
  },
  {
    "text": "Now you can simply provide item not delivered.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2306"
  },
  {
    "text": "With appAccountToken, launched in StoreKit 2, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2309"
  },
  {
    "text": "we are using a standard UUID format ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2312"
  },
  {
    "text": "associated with your app's user account that you create ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2315"
  },
  {
    "text": "that is initiating the purchase and consuming the content ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2318"
  },
  {
    "text": "for the purchase, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2322"
  },
  {
    "text": "which can help identify resellers.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2323"
  },
  {
    "text": "For best practices, most refund requests occur within 30 days ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2326"
  },
  {
    "text": "so store consumption data for your transactions accordingly.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2330"
  },
  {
    "text": "Store the original_transaction_ID ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2334"
  },
  {
    "text": "for each consumable in-app purchase ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2336"
  },
  {
    "text": "so you can find the transaction ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2339"
  },
  {
    "text": "for which Apple is requesting the data for.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2340"
  },
  {
    "text": "To ensure Apple incorporates your data for decisioning, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2343"
  },
  {
    "text": "respond within 12 hours ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2347"
  },
  {
    "text": "of receiving the consumption request notification.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2348"
  },
  {
    "text": "Feel free to send an updated payload within those 12 hours ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2352"
  },
  {
    "text": "if anything has changed after the initial request.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2356"
  },
  {
    "text": "Ensure you have obtained customer consent ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2359"
  },
  {
    "text": "prior to sending the requested consumption data ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2361"
  },
  {
    "text": "to the App Store.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2364"
  },
  {
    "text": "And lastly, within the consumption payload, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2366"
  },
  {
    "text": "all fields are not required, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2368"
  },
  {
    "text": "and please review Apple documentation ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2370"
  },
  {
    "text": "for which fields can be marked as undeclared.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2372"
  },
  {
    "text": "To summarize today's session, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2375"
  },
  {
    "text": "I want to provide a checklist of key actions.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2377"
  },
  {
    "text": "For next steps to adopt and implement these features, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2380"
  },
  {
    "text": "you can start configuring and enabling your servers ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2383"
  },
  {
    "text": "to receive App Store Server Notifications ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2385"
  },
  {
    "text": "by entering the URL in App Store Connect ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2387"
  },
  {
    "text": "and enabling Version 2 in Sandbox.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2390"
  },
  {
    "text": "For your customer support tools, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2393"
  },
  {
    "text": "integrate within your existing support channels, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2394"
  },
  {
    "text": "either it be phone, email, web, or in-app support.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2397"
  },
  {
    "text": "For your app, identify the client changes ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2402"
  },
  {
    "text": "in iOS 15 with StoreKit 2 ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2404"
  },
  {
    "text": "needed to support the new beginRefundRequest, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2406"
  },
  {
    "text": "isEligibleforIntroOffer, and showManageSubcriptions API.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2409"
  },
  {
    "text": "Lastly, be sure to take advantage ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2414"
  },
  {
    "text": "of the Sandbox testing updates ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2416"
  },
  {
    "text": "to make the most of your Sandbox Apple IDs, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2418"
  },
  {
    "text": "like storefront change, clearing purchase history, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2421"
  },
  {
    "text": "testing refunds, and adjusting the subscription renewal rate.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2424"
  },
  {
    "text": "This concludes the presentation, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2428"
  },
  {
    "text": "and thank you so much for joining us today ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2430"
  },
  {
    "text": "and learning more about supporting customers ",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2432"
  },
  {
    "text": "with StoreKit 2\nand App Store Server API.",
    "link": "https://developer.apple.com/videos/play/tech-talks-10887/?time=2434"
  }
]