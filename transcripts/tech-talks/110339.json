[
  {
    "text": "Hi, my name is Nat Brown, and I manage a team of engineers ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=0"
  },
  {
    "text": "working on game technologies at Apple.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=3"
  },
  {
    "text": "Today I'd like to tell you about the heads-up display ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=5"
  },
  {
    "text": "for watching and collecting key real-time graphic statistics ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=8"
  },
  {
    "text": "in your applications and games.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=11"
  },
  {
    "text": "Let's take a look at the Metal Performance HUD.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=14"
  },
  {
    "text": "When enabled, it will appear as an overlay ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=16"
  },
  {
    "text": "in the upper right-hand corner of your application.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=19"
  },
  {
    "text": "Its purpose is to help you and your testers ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=24"
  },
  {
    "text": "easily spot potential performance problems ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=26"
  },
  {
    "text": "and to log some basic information for later analysis.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=28"
  },
  {
    "text": "The HUD is a complement to and not a replacement for ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=32"
  },
  {
    "text": "your existing debugging and performance analysis tools, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=35"
  },
  {
    "text": "one that helps you get useful information ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=38"
  },
  {
    "text": "from quality assurance teams and customers ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=40"
  },
  {
    "text": "with just screenshots and logs ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=42"
  },
  {
    "text": "helping you more quickly reproduce, analyze, and fix ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=44"
  },
  {
    "text": "hard-to-reproduce performance problems and graphics glitches.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=47"
  },
  {
    "text": "Let's take a look at what data the HUD shows and can collect.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=51"
  },
  {
    "text": "The top line of the HUD shows you information ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=55"
  },
  {
    "text": "about the GPU and the display, the device being used, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=57"
  },
  {
    "text": "the resolution being targeted, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=61"
  },
  {
    "text": "and the scaling state of the display.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=62"
  },
  {
    "text": "The HUD shows you whether you are in the direct ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=65"
  },
  {
    "text": "or composited path of the display.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=67"
  },
  {
    "text": "The direct path has the least buffering ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=70"
  },
  {
    "text": "and the fewest number of refresh intervals ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=73"
  },
  {
    "text": "between when you present your drawable ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=74"
  },
  {
    "text": "and when it appears on the screen.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=76"
  },
  {
    "text": "When you are composited, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=78"
  },
  {
    "text": "there may be some additional buffering and display latency ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=80"
  },
  {
    "text": "due to system UI elements or your own additional layers ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=82"
  },
  {
    "text": "overlapping the screen.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=85"
  },
  {
    "text": "You're also going to see the maximum refresh rate ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=87"
  },
  {
    "text": "of the physical display being used.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=89"
  },
  {
    "text": "For variable refresh rate displays, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=92"
  },
  {
    "text": "you will also see the minimum refresh rate of the display, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=94"
  },
  {
    "text": "so you'll see the possible refresh rate ranges ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=97"
  },
  {
    "text": "that are available.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=99"
  },
  {
    "text": "Next, the first column of the real-time data ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=101"
  },
  {
    "text": "shows the instantaneous frame rate in Hertz ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=104"
  },
  {
    "text": "or frames per second, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=106"
  },
  {
    "text": "then the pretime, or the time between your presents, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=108"
  },
  {
    "text": "also known as the frame time or frame interval in milliseconds.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=111"
  },
  {
    "text": "And finally, the amount of GPU work that was completed ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=115"
  },
  {
    "text": "in the frame interval also measured in milliseconds.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=118"
  },
  {
    "text": "The second column shows you a bit more information ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=122"
  },
  {
    "text": "about the lowest values of frame rate, frame interval, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=124"
  },
  {
    "text": "and GPU time spent in the frame ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=127"
  },
  {
    "text": "over the last one and a half seconds.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=128"
  },
  {
    "text": "The HUD highlights in red when this low value ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=131"
  },
  {
    "text": "has deviated significantly from the average.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=133"
  },
  {
    "text": "The last column of numerical data in the HUD ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=137"
  },
  {
    "text": "shows you the highest instantaneous frame rate ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=139"
  },
  {
    "text": "in the last one and a half seconds, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=141"
  },
  {
    "text": "the largest single frame time in the last one and a half seconds, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=143"
  },
  {
    "text": "and the highest GPU cost in milliseconds of work done ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=146"
  },
  {
    "text": "in the last one and a half seconds of frame intervals.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=149"
  },
  {
    "text": "Unusually high frame intervals and GPU time ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=152"
  },
  {
    "text": "compared to the average are once again highlighted here in red.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=154"
  },
  {
    "text": "The final section at the bottom of the HUD ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=158"
  },
  {
    "text": "shows you process and GPU memory consumption information ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=160"
  },
  {
    "text": "to help you spot potential leaks over time ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=163"
  },
  {
    "text": "and also a dual-line graph of the present intervals ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=166"
  },
  {
    "text": "and GPU time spent.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=169"
  },
  {
    "text": "The purpose of this information is to help you and your testers ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=170"
  },
  {
    "text": "spot transient frame drops which you might otherwise miss ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=173"
  },
  {
    "text": "and to help you isolate your deeper testing, debugging, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=176"
  },
  {
    "text": "and performance tuning using more advanced Xcode ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=179"
  },
  {
    "text": "and Instruments tools.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=182"
  },
  {
    "text": "So how do you turn on the Metal Performance HUD? ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=184"
  },
  {
    "text": "Well you might be surprised to learn ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=187"
  },
  {
    "text": "that there are a lot of different ways to do it ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=188"
  },
  {
    "text": "because we know there are a lot of ways ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=190"
  },
  {
    "text": "developers want to interact with and automate ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=192"
  },
  {
    "text": "this form of data collection.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=195"
  },
  {
    "text": "The first is right from Xcode 14 ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=196"
  },
  {
    "text": "while you're developing for iOS, macOS, or tvOS.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=199"
  },
  {
    "text": "In your Run scheme under the Diagnostics tab, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=202"
  },
  {
    "text": "you'll see the option to turn the HUD on ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=205"
  },
  {
    "text": "by choosing Show Graphics Overview ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=207"
  },
  {
    "text": "and to enable logging data to the system log ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=209"
  },
  {
    "text": "by choosing Log Graphics Overview.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=211"
  },
  {
    "text": "On iOS and tvOS, if you have connected the device to Xcode ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=214"
  },
  {
    "text": "and enabled it for development, you can turn on the HUD ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=218"
  },
  {
    "text": "and logging using the Developer Settings.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=221"
  },
  {
    "text": "Just go to Settings > Developer Settings, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=224"
  },
  {
    "text": "scroll down and enable the HUD and optionally logging.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=226"
  },
  {
    "text": "On iOS and tvOS, the HUD will only show up and perform logging ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=230"
  },
  {
    "text": "for your own applications; ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=234"
  },
  {
    "text": "that is, applications you have installed via Xcode ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=236"
  },
  {
    "text": "or using TestFlight.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=239"
  },
  {
    "text": "On macOS, you can enable the HUD outside of Xcode ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=241"
  },
  {
    "text": "through environment variables.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=244"
  },
  {
    "text": "Set the MTL_HUD_ENABLED environment variable to one ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=246"
  },
  {
    "text": "to show the HUD and set the MTL_HUD_LOGGING_ENABLED ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=251"
  },
  {
    "text": "environment variable to one to trigger logging.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=256"
  },
  {
    "text": "Another option you might find useful ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=260"
  },
  {
    "text": "is using your application's user defaults.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=262"
  },
  {
    "text": "On macOS, iOS, and tvOS, you can set the MetalForceHudEnabled key ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=265"
  },
  {
    "text": "to true in your standard user defaults ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=270"
  },
  {
    "text": "and the HUD will display and logging will occur ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=273"
  },
  {
    "text": "for subsequent launches of your applications.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=275"
  },
  {
    "text": "On macOS, you can set a global value to have the HUD show ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=278"
  },
  {
    "text": "for all Metal-based applications.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=280"
  },
  {
    "text": "Finally, you can add the MetalHUDEnabled key ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=284"
  },
  {
    "text": "to your Info.plist to always enable the HUD.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=286"
  },
  {
    "text": "Now if the HUD is enabled, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=289"
  },
  {
    "text": "you can use the CAMetalLayer developerHUDProperties ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=291"
  },
  {
    "text": "dictionary to show and hide the HUD ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=294"
  },
  {
    "text": "and to enable and disable logging.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=296"
  },
  {
    "text": "Setting the mode key to default will show the HUD.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=299"
  },
  {
    "text": "Clearing the key will hide the HUD.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=302"
  },
  {
    "text": "Setting the logging key to default will enable logging.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=304"
  },
  {
    "text": "Clearing this key will disable logging.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=307"
  },
  {
    "text": "You might add the Info.plist key and use this API ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=310"
  },
  {
    "text": "if you want to provide your testers with a UI toggle ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=313"
  },
  {
    "text": "in internal builds to show and hide the HUD.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=316"
  },
  {
    "text": "Now let's take a look at what the Metal Performance HUD logs.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=320"
  },
  {
    "text": "About once per second the Metal Performance HUD writes data ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=323"
  },
  {
    "text": "to the system log summarizing the data it is collecting ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=326"
  },
  {
    "text": "so you can analyze it in your own way.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=330"
  },
  {
    "text": "Just launch the console application ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=332"
  },
  {
    "text": "and filter the output with the string metal-HUD.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=334"
  },
  {
    "text": "Each resulting line will start with the string metal-HUD.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=338"
  },
  {
    "text": "Next comes the first frame number, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=343"
  },
  {
    "text": "then the number of estimated frame misses.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=345"
  },
  {
    "text": "In this case, none were missed.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=347"
  },
  {
    "text": "Next, the process memory usage.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=349"
  },
  {
    "text": "Here it's 56.05 megabytes.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=351"
  },
  {
    "text": "After that are each frame's present interval ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=355"
  },
  {
    "text": "and GPU time in milliseconds.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=358"
  },
  {
    "text": "You might find all of this data useful to analyze offline ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=360"
  },
  {
    "text": "or to correlate with a video you capture of gameplay ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=363"
  },
  {
    "text": "to give you an even more accurate insight ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=366"
  },
  {
    "text": "into where to focus additional debugging and optimization.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=368"
  },
  {
    "text": "I hope you enjoyed learning about ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=372"
  },
  {
    "text": "the Metal Performance HUD today.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=373"
  },
  {
    "text": "Use the HUD to visualize your game's performance.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=375"
  },
  {
    "text": "It will help you spot subtle performance issues ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=377"
  },
  {
    "text": "and help you choose where to use ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=380"
  },
  {
    "text": "more advanced tools like Instruments.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=381"
  },
  {
    "text": "It's easy to enable on all Apple platforms, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=383"
  },
  {
    "text": "and you can also capture the data it logs ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=385"
  },
  {
    "text": "for your own custom analysis.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=387"
  },
  {
    "text": "I really hope you find it useful ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=390"
  },
  {
    "text": "for optimizing your games and graphics applications.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=391"
  },
  {
    "text": "If you have any feedback, be sure to send it through ",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=395"
  },
  {
    "text": "feedbackassistant.apple.com.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=397"
  },
  {
    "text": "Thanks for joining me.",
    "link": "https://developer.apple.com/videos/play/tech-talks-110339/?time=400"
  }
]