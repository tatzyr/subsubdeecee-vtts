[
  {
    "text": "Updating your watchOS 4 app for Apple Watch Series 3 ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=1"
  },
  {
    "text": "makes it easier than ever to stay connected, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=4"
  },
  {
    "text": "and allows you to leverage the new barometric altimeter.",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=7"
  },
  {
    "text": "Apple Watch began with a dependence upon ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=11"
  },
  {
    "text": "its connection to iPhone for all networking. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=14"
  },
  {
    "text": "However, since watchOS 2, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=18"
  },
  {
    "text": "Apple Watch has had the ability to communicate over Wi-Fi ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=20"
  },
  {
    "text": "if your iPhone is off or out of range, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=24"
  },
  {
    "text": "and you are in range of a Wi-Fi hotspot ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=27"
  },
  {
    "text": "your iPhone has previously connected to. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=30"
  },
  {
    "text": "Apple Watch Series 3 with cellular ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=33"
  },
  {
    "text": "now allows your app to communicate directly ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=36"
  },
  {
    "text": "over a cellular connection if your iPhone is out of range ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=38"
  },
  {
    "text": "and Wi-Fi is not available where you are. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=42"
  },
  {
    "text": "Not only can your app update its data from anywhere, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=45"
  },
  {
    "text": "but push notifications received by your iPhone ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=48"
  },
  {
    "text": "will be automatically forwarded to your Apple Watch ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=52"
  },
  {
    "text": "when it is on a cellular connection. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=55"
  },
  {
    "text": "To make sure that your app works ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=57"
  },
  {
    "text": "over any and all connection possibilities, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=59"
  },
  {
    "text": "it’s now even more important to use URLSession ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=62"
  },
  {
    "text": "for networking requests in your watch app. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=66"
  },
  {
    "text": "URLSession is the class used for creating and managing ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=69"
  },
  {
    "text": "networking connections in watchOS. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=73"
  },
  {
    "text": "Using URLSession from your watch app code, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=76"
  },
  {
    "text": "allows you to initiate network requests ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=79"
  },
  {
    "text": "directly from Apple Watch. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=82"
  },
  {
    "text": "When your iPhone is in range of Apple Watch, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=84"
  },
  {
    "text": "these requests will be proxied behind the scenes through iPhone ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=87"
  },
  {
    "text": "to leverage its connection. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=91"
  },
  {
    "text": "Otherwise, requests will occur directly through Wi-Fi hotspots ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=93"
  },
  {
    "text": "or cell connection. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=97"
  },
  {
    "text": "When using URLSession while Apple Watch is only ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=100"
  },
  {
    "text": "on a cellular connection, be aware that sessions ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=103"
  },
  {
    "text": "may be handled slightly differently by the system. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=106"
  },
  {
    "text": "Let’s look at the different types of sessions ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=109"
  },
  {
    "text": "and what you can expect. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=111"
  },
  {
    "text": "For default and ephemeral sessions, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=113"
  },
  {
    "text": "these type of sessions will work as they normally do ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=116"
  },
  {
    "text": "when the application state is active. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=119"
  },
  {
    "text": "You can check the current application state using ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=121"
  },
  {
    "text": "the applicationState property on the shared WKExtension object. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=124"
  },
  {
    "text": "However, these type of sessions are not allowed ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=130"
  },
  {
    "text": "if the application state is inactive or background. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=134"
  },
  {
    "text": "There is one caveat to this, as they are allowed if your app ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=138"
  },
  {
    "text": "is currently using the background navigation mode. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=142"
  },
  {
    "text": "Next, let’s look at background sessions. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=146"
  },
  {
    "text": "With background sessions, smaller transfers are preferred, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=149"
  },
  {
    "text": "and any transfer could be deferred until a point ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=152"
  },
  {
    "text": "where the system has a better opportunity ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=156"
  },
  {
    "text": "to make network requests. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=158"
  },
  {
    "text": "This is determined at a system level ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=161"
  },
  {
    "text": "and takes into account many facets such as power level, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=163"
  },
  {
    "text": "connection strength, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=167"
  },
  {
    "text": "and tasks other apps are needing to accomplish. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=168"
  },
  {
    "text": "With background sessions, once the request has been made ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=172"
  },
  {
    "text": "and a response has returned, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=176"
  },
  {
    "text": "if your app is in the frontmostapp state, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=178"
  },
  {
    "text": "your app will be woken immediately ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=180"
  },
  {
    "text": "and handed the response. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=182"
  },
  {
    "text": "Outside of the frontmost app state, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=185"
  },
  {
    "text": "the system will wake your app with the response ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=187"
  },
  {
    "text": "when it determines it is a good time to do so, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=189"
  },
  {
    "text": "or when the application state becomes active again.",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=192"
  },
  {
    "text": "Now let’s go over a few best practices to make sure ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=198"
  },
  {
    "text": "you get the most out of your networking code on watchOS. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=201"
  },
  {
    "text": "The first is to use the new waitsForConnectivity property ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=205"
  },
  {
    "text": "on your URLSessionConfiguration object. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=209"
  },
  {
    "text": "Setting this to true on a non-background session ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=213"
  },
  {
    "text": "will allow the system to wait until connectivity ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=216"
  },
  {
    "text": "is sufficient to make the request, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=219"
  },
  {
    "text": "instead of immediately failing. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=221"
  },
  {
    "text": "There is a delegate method ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=224"
  },
  {
    "text": "to know when the connection is waiting, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=225"
  },
  {
    "text": "so you can handle the situation. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=227"
  },
  {
    "text": "We encourage using this property for all requests that are not ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=230"
  },
  {
    "text": "dependent on being immediate, since they will fire immediately ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=234"
  },
  {
    "text": "as long as connectivity is available. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=238"
  },
  {
    "text": "If not, the system will wait on making the request ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=241"
  },
  {
    "text": "until connectivity resumes. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=244"
  },
  {
    "text": "This allows you to focus on what makes your app great ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=247"
  },
  {
    "text": "instead of focusing on reachability code.",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=250"
  },
  {
    "text": "Using the applicationWillResignActive ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=254"
  },
  {
    "text": "method on the WKExtensionDelegate object ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=257"
  },
  {
    "text": "allows you to optimize what happens ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=260"
  },
  {
    "text": "when the application state changes from active to inactive ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=262"
  },
  {
    "text": "or background when you have a networking request in process. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=266"
  },
  {
    "text": "In other words, when someone puts their wrist down ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=270"
  },
  {
    "text": "while using your app. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=273"
  },
  {
    "text": "By using this method, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=275"
  },
  {
    "text": "you can decide to cancel your existing request, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=277"
  },
  {
    "text": "or create it again as a background session.",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=280"
  },
  {
    "text": "Finally, it’s always best to use ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=284"
  },
  {
    "text": "the shared singleton URLSession object for multiple tasks, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=286"
  },
  {
    "text": "instead of creating a session for each task. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=290"
  },
  {
    "text": "Creating and invalidating many sessions ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=294"
  },
  {
    "text": "creates unnecessary overhead for the system, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=297"
  },
  {
    "text": "and it’s best to use the shared session, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=299"
  },
  {
    "text": "or as few as needed.",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=302"
  },
  {
    "text": "Let’s move on to the Watch Connectivity framework. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=305"
  },
  {
    "text": "As Apple Watch becomes more independent ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=308"
  },
  {
    "text": "with its connectivity, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=311"
  },
  {
    "text": "it’s important to identify where using Watch Connectivity ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=312"
  },
  {
    "text": "can help make a great watch app experience. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=316"
  },
  {
    "text": "The initial launch of an app on Apple Watch ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=320"
  },
  {
    "text": "may require a token for authentication with a service. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=322"
  },
  {
    "text": "Using Watch Connectivity is a great way ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=326"
  },
  {
    "text": "to pass this information that may already be established ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=328"
  },
  {
    "text": "in the iPhone app. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=331"
  },
  {
    "text": "If your app is a coaching app for workouts, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=333"
  },
  {
    "text": "or something similar, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=336"
  },
  {
    "text": "you may want to initially transfer some larger audio files ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=337"
  },
  {
    "text": "to Apple Watch once someone begins using your app. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=340"
  },
  {
    "text": "Watch Connectivity can handle these type of transfers, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=343"
  },
  {
    "text": "and can help your app installation remain small ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=347"
  },
  {
    "text": "and supplement the app with resources later. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=350"
  },
  {
    "text": "The updateApplicationContext method on WCSession ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=353"
  },
  {
    "text": "allows you to have the iPhone send over a dictionary of data ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=357"
  },
  {
    "text": "that the watch app has access to the next time it activates. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=361"
  },
  {
    "text": "This is a good way to keep fresh data flowing to the watch app ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=365"
  },
  {
    "text": "in case of situations where the iPhone app gets newer data ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=369"
  },
  {
    "text": "and the watch app hasn’t had an opportunity to update yet. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=373"
  },
  {
    "text": "When the watch app launches, you can display this newer data ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=377"
  },
  {
    "text": "while you initiate a network request ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=381"
  },
  {
    "text": "for more up-to-date data. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=383"
  },
  {
    "text": "It’s very important that you build in the ability ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=385"
  },
  {
    "text": "to fallback to a network request. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=388"
  },
  {
    "text": "With Apple Watch being more independent, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=391"
  },
  {
    "text": "there is less guarantee that your watch app ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=393"
  },
  {
    "text": "will have up-to-date data from the iPhone.",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=396"
  },
  {
    "text": "Now let’s turn our attention to the new barometric altimeter ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=401"
  },
  {
    "text": "in Apple Watch Series 3, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=404"
  },
  {
    "text": "which enables you to now add elevation gain or descent ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=406"
  },
  {
    "text": "to workout summaries when someone is away ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=410"
  },
  {
    "text": "from their iPhone. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=412"
  },
  {
    "text": "This also helps provide more accurate ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=414"
  },
  {
    "text": "active energy burned calculations to HealthKit, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=416"
  },
  {
    "text": "and in turn, your app.",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=419"
  },
  {
    "text": "Using Core Motion, your app can now ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=423"
  },
  {
    "text": "be informed about relative altitude changes ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=425"
  },
  {
    "text": "from where your app begins receiving updates. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=428"
  },
  {
    "text": "Relative altitude changes means that if you begin updates ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=432"
  },
  {
    "text": "while standing at an elevation of 800 meters, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=436"
  },
  {
    "text": "and move 50 meters higher in elevation, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=439"
  },
  {
    "text": "the relative altitude value will be 50 meters. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=441"
  },
  {
    "text": "If you move 80 meters lower than where you began, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=446"
  },
  {
    "text": "the relative altitude value will then be negative 80 meters. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=449"
  },
  {
    "text": "Core Motion includes the CMAltimeter class, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=455"
  },
  {
    "text": "which you will use to receive updates. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=458"
  },
  {
    "text": "CMAltimeter can determine and tell you if the device ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=461"
  },
  {
    "text": "has the capabilities to give relative altitude updates. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=464"
  },
  {
    "text": "You should always check this first ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=468"
  },
  {
    "text": "before asking Core Motion more about relative altitude. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=470"
  },
  {
    "text": "In watchOS 4, CMAltimeter can now provide you with ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=475"
  },
  {
    "text": "the authorization status for Motion and Fitness activity. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=479"
  },
  {
    "text": "Depending on what your app is allowed to access, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=483"
  },
  {
    "text": "you may need to handle cases where authorization ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=486"
  },
  {
    "text": "is denied or restricted. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=489"
  },
  {
    "text": "Finally, CMAltimeter provides the ability to start and stop ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=491"
  },
  {
    "text": "relative altitude updates. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=495"
  },
  {
    "text": "These updates are delivered on a two-and-a-half second cadence ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=498"
  },
  {
    "text": "on watchOS 4, due to signal filtering ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=501"
  },
  {
    "text": "that we apply to the raw sensor data. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=504"
  },
  {
    "text": "When you receive an update, you will have a handler ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=507"
  },
  {
    "text": "that passes you a CMAltitudeData object.",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=509"
  },
  {
    "text": "The CMAltitudeData object gives you ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=514"
  },
  {
    "text": "the relative altitude change data for that update. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=517"
  },
  {
    "text": "This includes the following pieces of data: ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=521"
  },
  {
    "text": "first is the timestamp. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=523"
  },
  {
    "text": "This object is a time interval and is given as ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=525"
  },
  {
    "text": "the number of seconds since the reference date. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=528"
  },
  {
    "text": "To convert this value to a Date object, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=532"
  },
  {
    "text": "you can easily use the timeIntervalSinceReferenceDate ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=534"
  },
  {
    "text": "initializer method on the Date class.",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=537"
  },
  {
    "text": "The next property is relative altitude. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=542"
  },
  {
    "text": "This represents the change in altitude ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=545"
  },
  {
    "text": "since the last reported event. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=547"
  },
  {
    "text": "Remember that this will be a relative value, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=549"
  },
  {
    "text": "so if the device moves lower or higher in elevation, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=552"
  },
  {
    "text": "this value will represent the change in elevation ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=555"
  },
  {
    "text": "and not the specific altitude. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=558"
  },
  {
    "text": "This value is given in meters. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=560"
  },
  {
    "text": "The last property is pressure. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=562"
  },
  {
    "text": "Since the altimeter onboard is a barometric altimeter, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=565"
  },
  {
    "text": "Core Motion can provide you with the recorded pressure ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=568"
  },
  {
    "text": "alongside the relative altitude change. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=571"
  },
  {
    "text": "This value is given in kilopascals.",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=574"
  },
  {
    "text": "Let’s walk through an example of how to start ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=579"
  },
  {
    "text": "relative altitude updates using CMAltimeter, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=582"
  },
  {
    "text": "as well as how to properly check for device capabilities ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=585"
  },
  {
    "text": "and authorization status. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=588"
  },
  {
    "text": "Previous to this beginAltitudeUpdates method, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=591"
  },
  {
    "text": "I’ve imported the Core Motion framework into my class ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=594"
  },
  {
    "text": "and created an instance variable called altimeter, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=597"
  },
  {
    "text": "of type CMAltimeter. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=601"
  },
  {
    "text": "That’s the object we will use to start and stop ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=603"
  },
  {
    "text": "relative altitude updates later on. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=605"
  },
  {
    "text": "In our function, the first thing we should do is check ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=609"
  },
  {
    "text": "to see if relative altitude is available on the device. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=612"
  },
  {
    "text": "If it’s not, we may want to alter the UI ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=616"
  },
  {
    "text": "to let the person know that this data will not be available ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=619"
  },
  {
    "text": "as they use the app. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=622"
  },
  {
    "text": "Next, we need to check if authorization status ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=625"
  },
  {
    "text": "is denied or restricted. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=628"
  },
  {
    "text": "Here, we’re making sure authorization status ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=630"
  },
  {
    "text": "isn’t denied, nor restricted. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=633"
  },
  {
    "text": "If the authorization status is authorized we can continue, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=637"
  },
  {
    "text": "and if the authorization status is not determined, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=641"
  },
  {
    "text": "the system will prompt for access, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=644"
  },
  {
    "text": "if the person has not been previously prompted. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=647"
  },
  {
    "text": "Once the app is authorized to use Motion and Fitness activity, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=651"
  },
  {
    "text": "we may ask Core Motion to start relative altitude updates. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=654"
  },
  {
    "text": "This call on a previously created CMAltimeter object ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=660"
  },
  {
    "text": "has us pass in which operation queue ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=664"
  },
  {
    "text": "we’d like to receive updates on, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=667"
  },
  {
    "text": "as well as provides a handler to run each time new data ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=669"
  },
  {
    "text": "is handed to us by Core Motion. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=673"
  },
  {
    "text": "In this case, we’ve set the operation queue ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=676"
  },
  {
    "text": "to the main queue since we will be updating UI in the handler. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=678"
  },
  {
    "text": "Moving to the handler, it passes us a CMAltitudeData object, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=683"
  },
  {
    "text": "containing the values we are interested in, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=688"
  },
  {
    "text": "or possibly an error if something went wrong ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=691"
  },
  {
    "text": "in the update. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=694"
  },
  {
    "text": "After ensuring we have no error to handle, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=696"
  },
  {
    "text": "we simply grab the relativeAltitude value ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=699"
  },
  {
    "text": "from the CMAltitudeData object, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=702"
  },
  {
    "text": "store its float value, and use that to update the UI. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=704"
  },
  {
    "text": "We could just as easily use the timestamp ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=708"
  },
  {
    "text": "or pressure properties, as mentioned earlier. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=711"
  },
  {
    "text": "Once we no longer need to receive updates, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=714"
  },
  {
    "text": "we tell Core Motion to stop relative altitude updates, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=717"
  },
  {
    "text": "using our previously used CMAltimeter object. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=720"
  },
  {
    "text": "And that’s it! ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=724"
  },
  {
    "text": "For more information about developing for Apple Watch ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=727"
  },
  {
    "text": "and using URLSession and Core Motion, ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=730"
  },
  {
    "text": "please view the resources links at the following page. ",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=734"
  },
  {
    "text": "Thank you.",
    "link": "https://developer.apple.com/videos/play/tech-talks-203/?time=737"
  }
]