[
  {
    "text": "♪ Mellow instrumental hip-hop ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=0"
  },
  {
    "text": "♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=4"
  },
  {
    "text": "Hello! I'm Ivan, and I'm an engineer on the RealityKit team.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=10"
  },
  {
    "text": "Welcome to my session, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=14"
  },
  {
    "text": "\"Explore rendering for spatial computing.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=15"
  },
  {
    "text": "RealityKit is a framework for rendering, animating, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=19"
  },
  {
    "text": "and simulating 3D models.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=22"
  },
  {
    "text": "One of the strongest suits of RealityKit ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=24"
  },
  {
    "text": "is applying realistic rendering for your content.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=27"
  },
  {
    "text": "In order to help you make the most of the rendering abilities ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=31"
  },
  {
    "text": "of RealityKit and enhance the look of your content, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=34"
  },
  {
    "text": "I wanted to share some rendering considerations to keep in mind ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=37"
  },
  {
    "text": "while developing your app for spatial computing.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=41"
  },
  {
    "text": "We'll start with lighting and shadows for your 3D content.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=45"
  },
  {
    "text": "Then we'll learn what's new with RealityKit materials.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=49"
  },
  {
    "text": "Next, I will introduce rasterization rate maps ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=53"
  },
  {
    "text": "which greatly improves system performance.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=56"
  },
  {
    "text": "I will share recommendations on how to adjust your content ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=59"
  },
  {
    "text": "to make it work well with this optimization.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=63"
  },
  {
    "text": "Finally, I will introduce a technique ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=66"
  },
  {
    "text": "called dynamic content scaling, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=68"
  },
  {
    "text": "which ensures that the UI is always sharp.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=70"
  },
  {
    "text": "Let's start with lighting and shadows.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=74"
  },
  {
    "text": "If you are familiar with RealityKit on iOS and macOS, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=77"
  },
  {
    "text": "you will find that most of that knowledge ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=80"
  },
  {
    "text": "also applies to building spatial experiences.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=82"
  },
  {
    "text": "We introduced image-based lighting in RealityKit ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=86"
  },
  {
    "text": "to make your content look realistic.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=89"
  },
  {
    "text": "Image-based lighting, or IBL, uses textures, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=92"
  },
  {
    "text": "like the one on the right to produce realistic reflections.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=96"
  },
  {
    "text": "Shadows help us understand how objects are positioned ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=101"
  },
  {
    "text": "with respect to each other.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=104"
  },
  {
    "text": "Before we look at the new features, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=107"
  },
  {
    "text": "let's quickly go over the components ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=109"
  },
  {
    "text": "of image-based lighting.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=111"
  },
  {
    "text": "There are two main components to an IBL: ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=114"
  },
  {
    "text": "an Environment probe texture that is provided by ARKit ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=118"
  },
  {
    "text": "and is specific to the physical space in the room ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=121"
  },
  {
    "text": "and the system IBL texture which is packaged with the OS.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=124"
  },
  {
    "text": "The system IBL texture adds extra highlights ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=130"
  },
  {
    "text": "to ensure that your content looks great in any environment.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=133"
  },
  {
    "text": "The two components are added together ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=137"
  },
  {
    "text": "to produce the combined IBL texture.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=139"
  },
  {
    "text": "If you have an active environment, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=143"
  },
  {
    "text": "it would also have an effect on the combined IBL texture.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=144"
  },
  {
    "text": "This year RealityKit adds ability to override ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=149"
  },
  {
    "text": "the system IBL texture in order to customize lighting.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=152"
  },
  {
    "text": "Let's take a look at an example.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=156"
  },
  {
    "text": "This is the \"Hello World\" experience ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=160"
  },
  {
    "text": "that offers a view of the solar system.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=162"
  },
  {
    "text": "By default RealityKit would light it using the system IBL.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=165"
  },
  {
    "text": "However, if you assign a new IBL ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=170"
  },
  {
    "text": "to the new image-based light component, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=172"
  },
  {
    "text": "it would replace the system IBL and light those objects ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=175"
  },
  {
    "text": "using the surrounding immersive environment.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=178"
  },
  {
    "text": "Let me show you how that's done.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=182"
  },
  {
    "text": "Here we first load our 3D content.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=185"
  },
  {
    "text": "In this case, it's the satellite model.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=188"
  },
  {
    "text": "Then we load an environment resource called Sunlight.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=191"
  },
  {
    "text": "It contains an image of the Sun and stars surrounding the Earth.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=195"
  },
  {
    "text": "We need both the model and the environment resource ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=201"
  },
  {
    "text": "to set up IBL, so let's make sure ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=204"
  },
  {
    "text": "both loading operations have finished.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=206"
  },
  {
    "text": "Next, we add the ImageBasedLightComponent.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=210"
  },
  {
    "text": "It references the Environment resource that we've just loaded.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=213"
  },
  {
    "text": "Finally we add ImageBasedLightReceiverComponent ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=218"
  },
  {
    "text": "to the satellite entity.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=222"
  },
  {
    "text": "You can add these receiver components ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=224"
  },
  {
    "text": "even to other entities in order to light them ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=226"
  },
  {
    "text": "using the same IBL.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=229"
  },
  {
    "text": "And that's how easy it is to customize lighting ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=231"
  },
  {
    "text": "in RealityKit.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=234"
  },
  {
    "text": "Next, let's take a look at how to add shadows ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=236"
  },
  {
    "text": "to your application.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=239"
  },
  {
    "text": "Let's consider a simple example where you place a 3D object ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=241"
  },
  {
    "text": "like this vase on top of a floating plane.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=245"
  },
  {
    "text": "Without any shadows turned on, it might be hard to understand ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=249"
  },
  {
    "text": "the relative position of the vase and the plane.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=253"
  },
  {
    "text": "But by simply adding RealityKit's grounding shadow, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=256"
  },
  {
    "text": "it becomes a lot clearer that the vase ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=260"
  },
  {
    "text": "is above the center of the plane.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=262"
  },
  {
    "text": "Let's see how to do this in code.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=265"
  },
  {
    "text": "We start by loading the vase model.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=268"
  },
  {
    "text": "Here, flower_tulip is the name of our 3D model ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=271"
  },
  {
    "text": "in our project.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=274"
  },
  {
    "text": "Next, we add the grounding shadow component.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=276"
  },
  {
    "text": "Make sure to set castsShadow flag set to true.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=280"
  },
  {
    "text": "And that's it! ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=283"
  },
  {
    "text": "The vase entity will now cast grounding shadows.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=285"
  },
  {
    "text": "Simple, isn't it? ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=288"
  },
  {
    "text": "Grounding shadows appear on top of 3D models ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=289"
  },
  {
    "text": "as well as objects in the physical environment.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=293"
  },
  {
    "text": "Using a custom IBL for lighting your scene ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=296"
  },
  {
    "text": "and including grounding shadows can make your content ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=299"
  },
  {
    "text": "look a lot better, but you could also directly work ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=302"
  },
  {
    "text": "on the look of your objects by tweaking materials.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=305"
  },
  {
    "text": "Most of the RealityKit materials that are available ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=310"
  },
  {
    "text": "on macOS and iOS can also be used on xrOS.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=313"
  },
  {
    "text": "Let's quickly review them.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=317"
  },
  {
    "text": "The most commonly used material is PhysicallyBasedMaterial.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=320"
  },
  {
    "text": "PhysicallyBasedMaterial in RealityKit ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=324"
  },
  {
    "text": "reacts to lighting and can be used to represent a variety ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=327"
  },
  {
    "text": "of real-world materials, such as plastics or metals.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=330"
  },
  {
    "text": "SimpleMaterial also reacts to lighting, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=335"
  },
  {
    "text": "but uses a smaller subset of parameters.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=338"
  },
  {
    "text": "It is especially good for quick experiments.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=341"
  },
  {
    "text": "UnlitMaterial doesn't react to lighting.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=345"
  },
  {
    "text": "In other words, it maintains a constant look ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=348"
  },
  {
    "text": "under changing lighting conditions.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=350"
  },
  {
    "text": "VideoMaterial is a variation of unlit material ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=354"
  },
  {
    "text": "that can map a movie file onto the surface of an entity.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=357"
  },
  {
    "text": "In addition to these materials, RealityKit introduces ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=363"
  },
  {
    "text": "a new type of material called ShaderGraphMaterial.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=366"
  },
  {
    "text": "You can author the new ShaderGraphMaterial ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=370"
  },
  {
    "text": "in Reality Composer Pro or load it from a MaterialX file.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=373"
  },
  {
    "text": "You can learn more about ShaderGraphMaterial ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=379"
  },
  {
    "text": "in the session ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=381"
  },
  {
    "text": "\"Explore Materials in Reality Composer Pro.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=382"
  },
  {
    "text": "The color output of all of these materials ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=387"
  },
  {
    "text": "goes through a special step called tone mapping.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=389"
  },
  {
    "text": "Tone mapping is a transformation that RealityKit applies ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=394"
  },
  {
    "text": "by default to the color output of a material.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=397"
  },
  {
    "text": "It enables more natural perceived colors ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=402"
  },
  {
    "text": "using a variety of techniques.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=404"
  },
  {
    "text": "One such technique is remapping values above one ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=407"
  },
  {
    "text": "into the visible range.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=410"
  },
  {
    "text": "Let me demonstrate this with an example.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=412"
  },
  {
    "text": "Here's a 3D render of a TV with tone mapping disabled.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=417"
  },
  {
    "text": "I assigned a texture with very bright values to the display.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=421"
  },
  {
    "text": "Now, if I enable tone mapping, you can see more details ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=426"
  },
  {
    "text": "in the bright regions, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=429"
  },
  {
    "text": "like these flower petals.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=431"
  },
  {
    "text": "Tone mapping works great in general ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=434"
  },
  {
    "text": "and renders beautiful visuals; but for some use cases, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=436"
  },
  {
    "text": "you may want to display the exact colors of the object, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=440"
  },
  {
    "text": "for which you will have to opt out of tone mapping.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=444"
  },
  {
    "text": "Let's look at an example.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=447"
  },
  {
    "text": "Here's a simple application that shows a traffic light ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=450"
  },
  {
    "text": "and three buttons with labels \"Stop,\" \"Wait,\" and \"Go.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=453"
  },
  {
    "text": "The traffic light itself is a 3D model, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=457"
  },
  {
    "text": "and the three buttons were added using SwiftUI.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=460"
  },
  {
    "text": "In order to precisely match the color of the lamp ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=464"
  },
  {
    "text": "to the color of the button, we could use an unlit material ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=467"
  },
  {
    "text": "for the lamps, since unlit materials ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=470"
  },
  {
    "text": "maintain the same constant look of the object, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=473"
  },
  {
    "text": "independent of the lighting conditions.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=476"
  },
  {
    "text": "However, the output of unlit material is still affected ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=479"
  },
  {
    "text": "by tone mapping which is on by default ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=482"
  },
  {
    "text": "for all of RealityKit materials.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=484"
  },
  {
    "text": "So, even if the same color is assigned to the SwiftUI button ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=487"
  },
  {
    "text": "and the material of the lamp, they may appear ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=491"
  },
  {
    "text": "slightly different from each other.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=494"
  },
  {
    "text": "The screenshot you see was taken with tone mapping enabled; ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=496"
  },
  {
    "text": "let me show you what it looks like ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=500"
  },
  {
    "text": "when tone mapping is disabled for the lamp material.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=501"
  },
  {
    "text": "You will notice that the colors of lamps and buttons ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=506"
  },
  {
    "text": "accurately match.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=509"
  },
  {
    "text": "Let's toggle tone mapping for lamp material one more time.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=511"
  },
  {
    "text": "This is with tone mapping enabled ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=515"
  },
  {
    "text": "and this is with tone mapping disabled.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=518"
  },
  {
    "text": "Let's take a look at the code sample ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=522"
  },
  {
    "text": "that shows how tone mapping can be toggled in code.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=523"
  },
  {
    "text": "We start by loading the traffic light model.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=528"
  },
  {
    "text": "Here, traffic_light is the name of our 3D model ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=531"
  },
  {
    "text": "in our project.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=535"
  },
  {
    "text": "Next, we find the entity named red_light.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=537"
  },
  {
    "text": "This entity corresponds to the top lamp of the traffic light.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=541"
  },
  {
    "text": "Once we have the entity, we access its model component.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=546"
  },
  {
    "text": "Next, we create a new unlit material.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=550"
  },
  {
    "text": "We pass both our desired color and a new Boolean parameter ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=553"
  },
  {
    "text": "called applyPostProcessToneMap.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=558"
  },
  {
    "text": "This Boolean parameter is set to false in order to disable ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=561"
  },
  {
    "text": "tone mapping transformation for this material.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=565"
  },
  {
    "text": "Finally, we replace material on the model component ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=570"
  },
  {
    "text": "and assign the model component back to the entity.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=574"
  },
  {
    "text": "This is done for each of the three lamps.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=577"
  },
  {
    "text": "Now the color of button and color of lamps ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=580"
  },
  {
    "text": "should match closely.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=584"
  },
  {
    "text": "applyPostProcessToneMap flag is useful in cases ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=586"
  },
  {
    "text": "when you want to show an exact representation ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=589"
  },
  {
    "text": "of the colors in your scene.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=592"
  },
  {
    "text": "This can come in handy when using RealityKit ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=594"
  },
  {
    "text": "to build something like a menu or a heads-up display.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=597"
  },
  {
    "text": "This new property is also exposed in the material editor ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=601"
  },
  {
    "text": "of Reality Composer Pro.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=604"
  },
  {
    "text": "Now, let's take a look at some quality considerations.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=608"
  },
  {
    "text": "We'll start with the rasterization rate maps ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=611"
  },
  {
    "text": "for spatial computing.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=613"
  },
  {
    "text": "The displays used in the headset have a high resolution, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=616"
  },
  {
    "text": "and the OS needs to update these displays ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=620"
  },
  {
    "text": "many times a second.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=622"
  },
  {
    "text": "Let me explain this with a visual.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=624"
  },
  {
    "text": "As you may know already, the headset has the ability ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=627"
  },
  {
    "text": "to detect exactly where a person's eyes are looking.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=629"
  },
  {
    "text": "Here's a simulated scenario where a person ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=634"
  },
  {
    "text": "moves their eyes to the right and then back to the center.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=636"
  },
  {
    "text": "The yellow circle represents the center point ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=641"
  },
  {
    "text": "of the person's focus.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=643"
  },
  {
    "text": "The area that is surrounding that point ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=646"
  },
  {
    "text": "is highlighted with a glow, and the periphery is darkened.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=648"
  },
  {
    "text": "Rasterization rate map makes it so that fewer calculations ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=652"
  },
  {
    "text": "are performed in the areas that are darkened.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=656"
  },
  {
    "text": "You can see that at any given moment ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=659"
  },
  {
    "text": "the highlighted region is small in comparison to the periphery.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=661"
  },
  {
    "text": "This allows the system to achieve significant memory ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=666"
  },
  {
    "text": "and performance savings.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=669"
  },
  {
    "text": "In RealityKit, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=672"
  },
  {
    "text": "this optimization is automatically enabled for you.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=673"
  },
  {
    "text": "While it greatly improves the system performance, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=677"
  },
  {
    "text": "in some situations you may have to adjust your content ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=679"
  },
  {
    "text": "to make it work well with this optimization at play.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=683"
  },
  {
    "text": "For example, here's a palm leaf asset, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=687"
  },
  {
    "text": "When placed in the center of the screen, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=690"
  },
  {
    "text": "it looks sharp and detailed.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=692"
  },
  {
    "text": "But when I move the object to the left ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=695"
  },
  {
    "text": "and apply the eye movement simulation again, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=698"
  },
  {
    "text": "you can observe flickering on the palm leaf.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=701"
  },
  {
    "text": "The flickering is especially strong ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=704"
  },
  {
    "text": "when the yellow circle representing the eye direction ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=706"
  },
  {
    "text": "is close to the right edge of the screen.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=709"
  },
  {
    "text": "The flickering happens because the rasterization rate map ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=712"
  },
  {
    "text": "enables higher detail around the point ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=715"
  },
  {
    "text": "where the person is looking, and the pixels ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=718"
  },
  {
    "text": "around the palm leaf are rendered at a lower detail ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=720"
  },
  {
    "text": "as the eyes move away from it.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=724"
  },
  {
    "text": "Now, you can reduce the flickering ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=726"
  },
  {
    "text": "by simply adjusting a few parameters of your content.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=728"
  },
  {
    "text": "Let's take a look at this.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=732"
  },
  {
    "text": "Here's a representation of the same palm leaf asset ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=734"
  },
  {
    "text": "with a red wireframe overlay on top.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=738"
  },
  {
    "text": "You can see that there are a lot of small triangles here.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=741"
  },
  {
    "text": "These small triangles were the reason of flickering ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=744"
  },
  {
    "text": "in the periphery.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=747"
  },
  {
    "text": "We can reduce the flickering by simply making ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=748"
  },
  {
    "text": "the triangles larger and storing the fine details ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=751"
  },
  {
    "text": "in an opacity texture.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=755"
  },
  {
    "text": "Here's how the simulation looks after adjusting the asset.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=758"
  },
  {
    "text": "This 3D model looks better after adjustment, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=763"
  },
  {
    "text": "because RealityKit automatically generates ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=765"
  },
  {
    "text": "lower-resolution versions of the opacity map ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=768"
  },
  {
    "text": "when the asset is loaded.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=771"
  },
  {
    "text": "Those lower-resolution versions of the texture ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=773"
  },
  {
    "text": "are called mipmaps and automatically used by the GPU ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=776"
  },
  {
    "text": "to improve the look in the lower-detail region.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=779"
  },
  {
    "text": "For more details on rasterization rate maps, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=783"
  },
  {
    "text": "please refer to the article ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=786"
  },
  {
    "text": "\"Rendering at Different Rasterization Rates.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=788"
  },
  {
    "text": "Similar to rasterization rate maps, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=792"
  },
  {
    "text": "there is another technique called \"dynamic content scaling\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=795"
  },
  {
    "text": "that automatically improves the look of content ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=798"
  },
  {
    "text": "that was authored using SwiftUI.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=801"
  },
  {
    "text": "Let's take a look.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=803"
  },
  {
    "text": "Here's an application that displays a list of months ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=806"
  },
  {
    "text": "arranged in a grid.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=810"
  },
  {
    "text": "Each month is represented with a text label.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=811"
  },
  {
    "text": "When the eyes look at the month of June, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=816"
  },
  {
    "text": "the system rasterizes the text in that area ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=819"
  },
  {
    "text": "at the highest level of detail.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=821"
  },
  {
    "text": "The area marked in blue surrounding \"June\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=824"
  },
  {
    "text": "will be rasterized at a slightly reduced level of detail, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=827"
  },
  {
    "text": "but still maintains a high quality overall.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=830"
  },
  {
    "text": "The area marked in purple, however, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=835"
  },
  {
    "text": "is rasterized at a much lower level of detail ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=837"
  },
  {
    "text": "since human vision system perceives fewer details ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=840"
  },
  {
    "text": "in the periphery and it wouldn't be as noticeable.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=843"
  },
  {
    "text": "This kind of rasterization at variable levels of detail ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=847"
  },
  {
    "text": "based on what the eyes are looking at ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=851"
  },
  {
    "text": "is called \"dynamic content scaling.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=853"
  },
  {
    "text": "The system relies on dynamic content scaling ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=857"
  },
  {
    "text": "to draw UI content at the right scale ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=860"
  },
  {
    "text": "and ensures that it's always sharp.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=862"
  },
  {
    "text": "Dynamic content scaling affects the relative size ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=867"
  },
  {
    "text": "in memory for the rasterized content.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=870"
  },
  {
    "text": "In other words, our text labels are scaled ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=872"
  },
  {
    "text": "to different sizes depending on how close they are ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=875"
  },
  {
    "text": "to the point where the eyes are looking at.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=879"
  },
  {
    "text": "For example, you can see that the label that says \"June\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=882"
  },
  {
    "text": "is the largest -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=886"
  },
  {
    "text": "it has the most resolution and detail.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=887"
  },
  {
    "text": "Then there is a group of eight months -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=891"
  },
  {
    "text": "January, February, March, and so on ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=893"
  },
  {
    "text": "that have slightly less detail.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=895"
  },
  {
    "text": "Finally, there is a group of three months -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=898"
  },
  {
    "text": "April, August, December -- that are farthest away ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=901"
  },
  {
    "text": "from eye look-at direction.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=903"
  },
  {
    "text": "That last group would be represented with smaller images ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=906"
  },
  {
    "text": "in memory.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=909"
  },
  {
    "text": "Now, let's understand how to enable dynamic content scaling.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=911"
  },
  {
    "text": "If you are using UIKit and SwiftUI, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=916"
  },
  {
    "text": "your application will automatically benefit ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=918"
  },
  {
    "text": "from this technique.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=921"
  },
  {
    "text": "If you are relying on the Core Animation framework ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=923"
  },
  {
    "text": "to build your UI, there is a new API ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=925"
  },
  {
    "text": "to enable dynamic content scaling.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=928"
  },
  {
    "text": "Let's take a look at this API.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=930"
  },
  {
    "text": "Dynamic content scaling can be enabled by setting ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=934"
  },
  {
    "text": "the property of CALayer wantsDynamicContentScaling ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=936"
  },
  {
    "text": "to true.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=940"
  },
  {
    "text": "Note that this technique relies on rasterizing ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=942"
  },
  {
    "text": "at higher resolutions, so it is not recommended ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=945"
  },
  {
    "text": "to use with primarily bitmap-based content.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=948"
  },
  {
    "text": "You can find the full list of recommendations ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=952"
  },
  {
    "text": "regarding dynamic content scaling on developer.apple.com.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=955"
  },
  {
    "text": "Let me summarize everything we've learned.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=961"
  },
  {
    "text": "We started by looking at how to add image-based lights ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=964"
  },
  {
    "text": "and grounding shadows to RealityKit applications.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=968"
  },
  {
    "text": "Then we reviewed materials that are available ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=972"
  },
  {
    "text": "for spatial experiences, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=974"
  },
  {
    "text": "including the new ShaderGraphMaterial.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=976"
  },
  {
    "text": "And we've also learned how to control tone mapping ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=979"
  },
  {
    "text": "for unlit material.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=982"
  },
  {
    "text": "Next we learned how rasterization rate maps ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=984"
  },
  {
    "text": "are used for spatial computing, including an example ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=987"
  },
  {
    "text": "how to adjust 3D model to reduce flickering in the periphery.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=991"
  },
  {
    "text": "Finally, we learned how dynamic content scaling works ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=996"
  },
  {
    "text": "on the system and how you can make use of it.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=999"
  },
  {
    "text": "We're very excited about this year's release ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=1003"
  },
  {
    "text": "and can't wait to see the beautiful spatial experiences ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=1006"
  },
  {
    "text": "you build on xrOS.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=1009"
  },
  {
    "text": "Thank you.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10095/?time=1011"
  }
]