[
  {
    "text": "♪ ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=0"
  },
  {
    "text": "Christopher: Hello and welcome! ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=10"
  },
  {
    "text": "My name is Christopher, and I am a software engineer ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=11"
  },
  {
    "text": "on the ScreenCaptureKit team. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=13"
  },
  {
    "text": "I'll be joined by my colleague Natalie Lindsay, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=15"
  },
  {
    "text": "and together we'll introduce new features that are going to enhance ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=17"
  },
  {
    "text": "screen capture capabilities in your applications.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=20"
  },
  {
    "text": "ScreenCaptureKit was introduced in macOS 12.3 ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=24"
  },
  {
    "text": "to help you create your application's screen sharing experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=27"
  },
  {
    "text": "ScreenCaptureKit provides APIs that will let you customize the content ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=31"
  },
  {
    "text": "you want to share, with controls that fit your application's needs, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=34"
  },
  {
    "text": "all of which can be applied dynamically to your streams. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=39"
  },
  {
    "text": "The framework delivers high quality content with a focus on performance ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=43"
  },
  {
    "text": "that goes up to the native resolution and frame rate of your display, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=46"
  },
  {
    "text": "all while having privacy in mind with global safeguards. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=50"
  },
  {
    "text": "This year, ScreenCaptureKit provides several developer APIs ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=54"
  },
  {
    "text": "that integrate with new macOS features. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=57"
  },
  {
    "text": "Presenter Overlay is a feature that allows people ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=59"
  },
  {
    "text": "to make their screen shares and presentations more personal ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=61"
  },
  {
    "text": "by embedding themselves into the captured content. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=64"
  },
  {
    "text": "With the new screen sharing picker, you'll be able to integrate ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=68"
  },
  {
    "text": "a system-wide experience for what you capture in your screen share. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=70"
  },
  {
    "text": "Finally, screen capture isn't just for live streams, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=74"
  },
  {
    "text": "and this year, there's a brand-new API that allows you to capture ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=77"
  },
  {
    "text": "high definition screenshots of any content you choose. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=80"
  },
  {
    "text": "People interact with each other every day, all across the world. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=84"
  },
  {
    "text": "These interactions are where we share our thoughts and ideas ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=88"
  },
  {
    "text": "and solve important issues. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=90"
  },
  {
    "text": "They are both professional and personal. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=92"
  },
  {
    "text": "To this end, your apps can work seamlessly with ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=95"
  },
  {
    "text": "a new video effect called Presenter Overlay. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=97"
  },
  {
    "text": "When sharing content, Presenter Overlay elevates the presenter's presence ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=100"
  },
  {
    "text": "by including the presenter on top of the shared content, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=103"
  },
  {
    "text": "adding a personal touch for more productive remote calls. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=106"
  },
  {
    "text": "Small overlay places the presenter in a movable window, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=110"
  },
  {
    "text": "thanks to advanced segmentation algorithm, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=112"
  },
  {
    "text": "while large overlay separates the presenter's face and body ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=115"
  },
  {
    "text": "from the background ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=118"
  },
  {
    "text": "and then layers the screen content between them for a more immersive effect. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=119"
  },
  {
    "text": "Presenter Overlay is available with every application that uses ScreenCaptureKit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=123"
  },
  {
    "text": "For every SCStream that is created, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=128"
  },
  {
    "text": "ScreenCaptureKit will notify the screen sharing picker, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=131"
  },
  {
    "text": "and a live preview with controls for the stream will be displayed ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=134"
  },
  {
    "text": "in a new Video menu bar item. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=137"
  },
  {
    "text": "The Video menu bar will show every application that has an active stream, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=141"
  },
  {
    "text": "and will show a live preview of the streams associated with any application. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=144"
  },
  {
    "text": "From this menu bar, one will be able to control the stream content by presenting ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=149"
  },
  {
    "text": "the stream-wide screen sharing picker. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=152"
  },
  {
    "text": "This is also where Presenter Overlay is enabled, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=156"
  },
  {
    "text": "embedding the camera frame into the content stream. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=159"
  },
  {
    "text": "And one can also use this to control the stream, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=163"
  },
  {
    "text": "like replacing or ending the screen share. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=165"
  },
  {
    "text": "There are other useful features here for customizing camera and microphone effects.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=169"
  },
  {
    "text": "Every application that uses ScreenCaptureKit and camera together ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=175"
  },
  {
    "text": "will automatically have these features working. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=178"
  },
  {
    "text": "Currently, a stream has content frames sent to its process ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=181"
  },
  {
    "text": "from ScreenCaptureKit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=184"
  },
  {
    "text": "Now, when an application starts using the camera during an active stream, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=186"
  },
  {
    "text": "Presenter Overlay is made available in the video menu item. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=190"
  },
  {
    "text": "Once enabled, ScreenCaptureKit will take the camera ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=195"
  },
  {
    "text": "and apply the rendering to the selected stream ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=197"
  },
  {
    "text": "that your application is already running. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=199"
  },
  {
    "text": "You will get the composited frames automatically from the active stream. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=202"
  },
  {
    "text": "So what if I wanted to know explicitly when Presenter Overlay has been applied? ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=206"
  },
  {
    "text": "Let's start with creating a new stream and adding self as delegate. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=211"
  },
  {
    "text": "Then you'll implement the new delegate callback on SCStream, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=215"
  },
  {
    "text": "outputEffectDidStart. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=219"
  },
  {
    "text": "This is how you'll be notified when Presenter Overlay has been applied. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=222"
  },
  {
    "text": "When notified, you want to check if the effect's started or stopped. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=226"
  },
  {
    "text": "Presenter Overlay is a new macOS system feature, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=231"
  },
  {
    "text": "and there are some considerations your application might want to take ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=234"
  },
  {
    "text": "when an overlay is applied.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=237"
  },
  {
    "text": "When Presenter Overlay is turned on, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=240"
  },
  {
    "text": "the AVCaptureSession will not send the typical live camera stream. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=242"
  },
  {
    "text": "That is because your camera will be used directly in the overlay. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=246"
  },
  {
    "text": "This would be a great time to update the application UI ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=250"
  },
  {
    "text": "to account for this change. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=253"
  },
  {
    "text": "For example, video conferencing applications ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=255"
  },
  {
    "text": "might want to adjust your audio and video synchronization ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=256"
  },
  {
    "text": "to account for the shared content being mixed with the camera. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=260"
  },
  {
    "text": "You may also want to hide the presenter's camera tile for a more optimized look. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=263"
  },
  {
    "text": "Presenter Overlay is a camera and video feature, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=268"
  },
  {
    "text": "so your application should optimize for higher frame rates.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=270"
  },
  {
    "text": "In addition to Presenter Overlay, you can also take advantage ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=275"
  },
  {
    "text": "of a new systemwide screen sharing picker, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=278"
  },
  {
    "text": "that allows your application to fully integrate with several features ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=280"
  },
  {
    "text": "centered around how people will pick the content they wish to share. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=283"
  },
  {
    "text": "These are the general constructs that you use to create a stream. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=287"
  },
  {
    "text": "Currently, you call into SCSharableContent ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=291"
  },
  {
    "text": "to get all of the available screen content that you could share. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=293"
  },
  {
    "text": "You'll use that to create an SCContentFilter. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=297"
  },
  {
    "text": "The SCContentFilter is what you'll use to determine what you're going to capture. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=300"
  },
  {
    "text": "Currently, you build that from SCSharableContent ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=305"
  },
  {
    "text": "but, new this year, you'll be able to get a content filter through the picker. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=308"
  },
  {
    "text": "There are two ways the picker will generate SCContentFilters. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=313"
  },
  {
    "text": "First, the desired content can be shared through the system picker. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=316"
  },
  {
    "text": "Secondly, the content can be selected right from the window that's open. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=320"
  },
  {
    "text": "In both cases, the system shares an SCContentFilter with your application. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=325"
  },
  {
    "text": "But how do you get the new content filters into your application? ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=330"
  },
  {
    "text": "By using the new API, SCContentSharingPicker. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=334"
  },
  {
    "text": "SCContentSharingPicker acts as the interface between ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=338"
  },
  {
    "text": "your application and the OS, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=340"
  },
  {
    "text": "providing delegate callbacks to your application ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=342"
  },
  {
    "text": "with new stream requests, new content filters, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=345"
  },
  {
    "text": "and updates to current streams and content filters. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=347"
  },
  {
    "text": "SCContentSharingPicker has a built-in system level content picker ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=351"
  },
  {
    "text": "that enables one to pick content based on windows, apps, or even displays. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=355"
  },
  {
    "text": "Whether one initiates the selection of content ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=360"
  },
  {
    "text": "through a button in your application, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=362"
  },
  {
    "text": "the new Video menu bar, or directly from a window, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=364"
  },
  {
    "text": "your application can take advantage of SCContentSharingPicker ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=367"
  },
  {
    "text": "to add, remove, or replace the active selection for any of your ongoing streams. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=370"
  },
  {
    "text": "It also has a built-in stream request callback ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=376"
  },
  {
    "text": "that allows your application to know when a new stream is being requested. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=378"
  },
  {
    "text": "And finally, it comes with per-stream customization, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=384"
  },
  {
    "text": "where you can define how the system experience is applied to each stream. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=387"
  },
  {
    "text": "The constructs for getting the filter for an SCStream ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=391"
  },
  {
    "text": "now goes from using SCSharableContent ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=394"
  },
  {
    "text": "to using the system picker interface ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=396"
  },
  {
    "text": "with the SCContentSharingPicker singleton ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=398"
  },
  {
    "text": "to pass back SCContentFilter. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=401"
  },
  {
    "text": "Let me show you how easy it is for your application to take advantage ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=404"
  },
  {
    "text": "of this new screen sharing picker. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=407"
  },
  {
    "text": "You'll start with the shared instance for SCContentSharingPicker ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=410"
  },
  {
    "text": "and add self as an observer so you can get all the appropriate class callbacks. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=413"
  },
  {
    "text": "In order for the system to recognize my picker instance, set it as active. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=418"
  },
  {
    "text": "Once active, the system will know about your picker, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=423"
  },
  {
    "text": "and your application will be included in the System UI ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=426"
  },
  {
    "text": "and people will be able to interact with it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=428"
  },
  {
    "text": "You want to make a stream where people are allowed to choose windows ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=431"
  },
  {
    "text": "through the picker, so you'll call the singleton method picker.present ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=434"
  },
  {
    "text": "and pass in nil and a style of picker you want to present. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=437"
  },
  {
    "text": "Once people press your UI button, the picker will be presented, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=441"
  },
  {
    "text": "allowing them to choose the windows they wish to capture. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=445"
  },
  {
    "text": "After that content has been selected, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=448"
  },
  {
    "text": "you will be notified via the observer callback of a new filter. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=450"
  },
  {
    "text": "And you are now free to either create a new stream ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=454"
  },
  {
    "text": "or update an existing stream using this filter. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=456"
  },
  {
    "text": "The remaining observer callbacks are equally important. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=460"
  },
  {
    "text": "Set up the picker again by making it active and presenting it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=463"
  },
  {
    "text": "You'll also want to know if the picker failed when you asked to present it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=467"
  },
  {
    "text": "If it did fail, you'll want to post a notification ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=471"
  },
  {
    "text": "in your application to notify people. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=474"
  },
  {
    "text": "Also, if the picker was presented but canceled, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=477"
  },
  {
    "text": "meaning no content was picked, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=479"
  },
  {
    "text": "you want to make sure you set the state for your stream accordingly.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=481"
  },
  {
    "text": "SCContentSharingPicker also comes with methods that allow you to customize ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=486"
  },
  {
    "text": "how the system is going to behave on a per-stream level. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=489"
  },
  {
    "text": "The SCContentSharingPickerConfiguration allows for several customizations. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=493"
  },
  {
    "text": "AllowedPickingModes tells the system which of the picking modes are allowed ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=498"
  },
  {
    "text": "between windows, applications, and display selection for content filters. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=501"
  },
  {
    "text": "It also allows for the explicit declaration of excludedWindowIDs ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=507"
  },
  {
    "text": "and bundleIDs that are not allowed to be picked by the system experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=511"
  },
  {
    "text": "If you have a stream that you don't want people to change, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=515"
  },
  {
    "text": "SCContentSharingPickerConfiguration has a property that can enforce that feature. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=517"
  },
  {
    "text": "First, you'll get a shared picker instance. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=522"
  },
  {
    "text": "Start with adding self as the observer and setting the picker active. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=525"
  },
  {
    "text": "Now, set up the appropriate configuration settings. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=529"
  },
  {
    "text": "For this stream, perhaps you want to exclude ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=532"
  },
  {
    "text": "a selection of two specific applications and don't want to allow repicking. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=535"
  },
  {
    "text": "Once the configuration is set up, call set configuration on the picker, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=539"
  },
  {
    "text": "passing in the configuration and applicative stream.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=543"
  },
  {
    "text": "Now the picker will know exactly how to behave for a given stream. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=547"
  },
  {
    "text": "Also note that each stream could have different picker configuration ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=551"
  },
  {
    "text": "to best suit the application's needs.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=554"
  },
  {
    "text": "To recap, all ScreenCaptureKit streams are now integrated into the macOS experience, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=559"
  },
  {
    "text": "allowing any application to take advantage of new features like Presenter Overlay. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=564"
  },
  {
    "text": "And I introduced you to SCContentSharingPicker, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=568"
  },
  {
    "text": "the new API for integrating your application into the new system picker UI. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=571"
  },
  {
    "text": "But screen capturing in your application isn't just about live streams, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=576"
  },
  {
    "text": "so I'd like to pass it off to my colleague, Natalie, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=579"
  },
  {
    "text": "to talk more about this new screenshot API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=581"
  },
  {
    "text": "Natalie: Thanks, Christopher. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=584"
  },
  {
    "text": "This year, there's a new API in ScreenCaptureKit ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=585"
  },
  {
    "text": "designed to make it easy for you to grab a still image right off your screen. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=588"
  },
  {
    "text": "The new screenshot API brings the benefits ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=592"
  },
  {
    "text": "of ScreenCaptureKit streaming to screenshots. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=594"
  },
  {
    "text": "Features like advanced filtering by app or window, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=597"
  },
  {
    "text": "multiple pixel formats and color spaces, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=600"
  },
  {
    "text": "and other options like cursor visibility are available to you. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=603"
  },
  {
    "text": "Now you'll be able to efficiently grab an image of the exact screen content you want ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=607"
  },
  {
    "text": "using familiar ScreenCaptureKit constructs.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=612"
  },
  {
    "text": "The new API is asynchronous. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=616"
  },
  {
    "text": "For your output image, you can choose between ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=619"
  },
  {
    "text": "a CMSampleBuffer or a CGImage format. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=621"
  },
  {
    "text": "The CMSampleBuffer option has additional pixel formats available, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=625"
  },
  {
    "text": "which is great if you're interested in specific formats. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=629"
  },
  {
    "text": "If you already use CGImage in your code, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=632"
  },
  {
    "text": "then using this format will be easier to integrate. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=634"
  },
  {
    "text": "In either format, your screenshot will use ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=638"
  },
  {
    "text": "almost all of the same configuration options as ScreenCaptureKit streaming ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=640"
  },
  {
    "text": "and will follow a similar setup flow. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=645"
  },
  {
    "text": "If you're using CGWindowListCreateImage, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=649"
  },
  {
    "text": "there are a couple things that will make the transition to ScreenCaptureKit easier. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=652"
  },
  {
    "text": "All the window image options that you have available for the CGWindowList API ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=657"
  },
  {
    "text": "can be found inside the SCStreamConfiguration class ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=661"
  },
  {
    "text": "in ScreenCaptureKit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=664"
  },
  {
    "text": "The window list options, like getting all windows above a certain window ID, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=666"
  },
  {
    "text": "are provided inside SCShareableContent. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=671"
  },
  {
    "text": "And if you're used to working with CGImage output, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=675"
  },
  {
    "text": "the new screenshot API provides a CGImage output format ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=678"
  },
  {
    "text": "that's easy to integrate into your existing code. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=681"
  },
  {
    "text": "Taking a screenshot follows a similar flow to ScreenCaptureKit streaming, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=685"
  },
  {
    "text": "but in place of creating an SCStream, you'll call the screenshot API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=690"
  },
  {
    "text": "To start, just like for creating a stream, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=695"
  },
  {
    "text": "use SCShareableContent to get your desired content ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=698"
  },
  {
    "text": "and create your SCContentFilter. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=701"
  },
  {
    "text": "Don't forget to set up your SCStreamConfiguration ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=704"
  },
  {
    "text": "with all the options you want for your screenshot. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=707"
  },
  {
    "text": "Once you have the content filter and stream configuration, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=710"
  },
  {
    "text": "call the screenshot API and pass them in. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=714"
  },
  {
    "text": "The API is a class method on the SCScreenshotManager class, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=717"
  },
  {
    "text": "so you won't need to create an SCScreenshotManager object ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=721"
  },
  {
    "text": "to take a screenshot. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=725"
  },
  {
    "text": "When the screenshot image is ready, it'll be returned to you asynchronously ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=727"
  },
  {
    "text": "in whichever format you chose. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=730"
  },
  {
    "text": "You can also use the new system picker to create your content filter, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=734"
  },
  {
    "text": "and then use that to call the screenshot API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=738"
  },
  {
    "text": "This would be a great way to allow people to pick the content they want ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=740"
  },
  {
    "text": "in an intuitive way. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=744"
  },
  {
    "text": "When it's time to take the screenshot, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=747"
  },
  {
    "text": "there are two versions of the API to choose from, depending on what you need: ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=748"
  },
  {
    "text": "one for the CMSampleBuffer output type and one for the CGImage output type. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=752"
  },
  {
    "text": "Other than that, the two versions work the same way ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=757"
  },
  {
    "text": "and will return your screenshot asynchronously. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=760"
  },
  {
    "text": "Here's a code example of how you can use the screenshot API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=764"
  },
  {
    "text": "Start by setting up your SCContentFilter and SCStreamConfiguration. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=768"
  },
  {
    "text": "Once you have those ready, you can call the screenshot API, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=773"
  },
  {
    "text": "wait for it to return, and you'll get your screenshot. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=775"
  },
  {
    "text": "And that's everything that's new in ScreenCaptureKit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=779"
  },
  {
    "text": "To recap, there's a new API to create SCContentFilters that uses system level UI ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=782"
  },
  {
    "text": "to create a fully integrated screen sharing experience ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=788"
  },
  {
    "text": "with your application. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=791"
  },
  {
    "text": "A New Presenter Overlay video effect ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=793"
  },
  {
    "text": "offers a more dynamic screen sharing experience, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=795"
  },
  {
    "text": "and a new screenshot API allows you to grab one-off screen captures ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=798"
  },
  {
    "text": "with the power of ScreenCaptureKit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=801"
  },
  {
    "text": "For more information about ScreenCaptureKit, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=804"
  },
  {
    "text": "be sure to check out the sessions from last year, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=806"
  },
  {
    "text": "\"Meet ScreenCaptureKit\" and \"Take ScreenCaptureKit to the next level.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=809"
  },
  {
    "text": "Thanks for watching.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10136/?time=813"
  }
]