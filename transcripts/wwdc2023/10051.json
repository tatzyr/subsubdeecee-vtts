[
  {
    "text": "♪ ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=0"
  },
  {
    "text": "David: Hi, I'm David Ilenwabor, an Engineer on the ShazamKit team.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=10"
  },
  {
    "text": "ShazamKit is a framework that allows you to bring audio recognition to your apps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=15"
  },
  {
    "text": "You can match audio against Shazam's vast music catalog ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=21"
  },
  {
    "text": "or match against your own prerecorded audio using custom catalogs. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=24"
  },
  {
    "text": "2022 saw some great updates to ShazamKit ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=29"
  },
  {
    "text": "which improved working with custom catalogs at scale. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=32"
  },
  {
    "text": "There was the introduction of the Shazam CLI ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=36"
  },
  {
    "text": "to handle heavy workflow when using custom catalogs, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=39"
  },
  {
    "text": "time restricted media items for better syncing, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=43"
  },
  {
    "text": "and frequency skewing to differentiate between ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=47"
  },
  {
    "text": "two similar sounding bits of audio. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=49"
  },
  {
    "text": "If you're not already familiar with how these work, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=52"
  },
  {
    "text": "check out the Create Custom catalogs at scale with ShazamKit video. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=55"
  },
  {
    "text": "But to give a quick overview, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=59"
  },
  {
    "text": "ShazamKit lets you perform a match ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=62"
  },
  {
    "text": "by converting audio into a special format called Signatures. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=64"
  },
  {
    "text": "You can pass in a stream of audio buffers ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=69"
  },
  {
    "text": "or the signature data into a ShazamKit session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=71"
  },
  {
    "text": "The session then uses the signature to find a match ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=76"
  },
  {
    "text": "in the Shazam Catalog or a Custom catalog. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=79"
  },
  {
    "text": "If there's a match, the session returns a match object ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=83"
  },
  {
    "text": "with media items that represent the metadata of the match. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=86"
  },
  {
    "text": "You can then display the media items in your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=91"
  },
  {
    "text": "ShazamKit can perform a match by generating a signature ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=95"
  },
  {
    "text": "from a stream of audio buffers or using a signature file ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=98"
  },
  {
    "text": "which can be stored on disk. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=102"
  },
  {
    "text": "Signatures are irreversible ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=105"
  },
  {
    "text": "which means it is not possible to reconstruct the original recording ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=107"
  },
  {
    "text": "from a signature. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=111"
  },
  {
    "text": "This protects the privacy of our customers. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=113"
  },
  {
    "text": "A catalog is a group of signatures with their associated media items ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=117"
  },
  {
    "text": "and a match occurs when a query signature ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=121"
  },
  {
    "text": "sufficiently matches part of a reference signature in a catalog. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=126"
  },
  {
    "text": "Matches can occur even when the query signature is noisy, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=131"
  },
  {
    "text": "such as music playing in a restaurant. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=135"
  },
  {
    "text": "Now that I've covered that, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=138"
  },
  {
    "text": "I'll move on to the exciting new updates in ShazamKit this year. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=140"
  },
  {
    "text": "In this session, I'll go through new changes ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=144"
  },
  {
    "text": "for recognizing audio with ShazamKit, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=146"
  },
  {
    "text": "then I'll talk about the Shazam Library API, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=150"
  },
  {
    "text": "which has been redefined with exciting new functionality. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=153"
  },
  {
    "text": "Finally, I'll take you through some best practices ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=157"
  },
  {
    "text": "for creating better app experiences with ShazamKit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=160"
  },
  {
    "text": "Before I get started, I suggest you download ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=164"
  },
  {
    "text": "the attached sample code project on the developer portal. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=167"
  },
  {
    "text": "I will be making use of this project throughout this video. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=171"
  },
  {
    "text": "There's a lot to cover, so I'll get started.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=176"
  },
  {
    "text": "First off, Audio recognition. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=180"
  },
  {
    "text": "The process of using ShazamKit to recognize audio from the microphone ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=184"
  },
  {
    "text": "can be summarized in the following steps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=188"
  },
  {
    "text": "First, ask for microphone permissions from the user. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=191"
  },
  {
    "text": "Then, start recording after permissions have been granted. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=195"
  },
  {
    "text": "Next, pass in the recorded audio buffers to ShazamKit, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=200"
  },
  {
    "text": "and finally, handle the result. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=204"
  },
  {
    "text": "To demonstrate this, I've built a demo app which you can find in the sample project. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=207"
  },
  {
    "text": "I love dancing, and to keep up with the latest trends, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=212"
  },
  {
    "text": "I built an app to help me discover trending dance moves to a song. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=216"
  },
  {
    "text": "The app works by listening to audio using the microphone, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=220"
  },
  {
    "text": "and proceeds to find a dance video. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=224"
  },
  {
    "text": "So for example, I can ask Siri to help me find a song. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=226"
  },
  {
    "text": "Hey, Siri, play \"Push It\" by Dukes.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=230"
  },
  {
    "text": "Siri: Now playing \"Push It\" by Dukes. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=236"
  },
  {
    "text": "David: Then, I can tap the Learn The Dance button to start recording. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=238"
  },
  {
    "text": "♪ ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=242"
  },
  {
    "text": "ShazamKit recognizes the song ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=245"
  },
  {
    "text": "and the app searches for an appropriate dance video to go with it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=247"
  },
  {
    "text": "Seems like I got one. Hmm! ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=251"
  },
  {
    "text": "Looks like my twin Dancing Dave is showing me some moves. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=254"
  },
  {
    "text": "This looks exciting. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=257"
  },
  {
    "text": "So how was this implemented? ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=259"
  },
  {
    "text": "Let me take you through the code. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=262"
  },
  {
    "text": "Here I have the sample project opened in Xcode. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=265"
  },
  {
    "text": "I have added the microphone usage description in my info.plist file ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=270"
  },
  {
    "text": "which is used to request microphone access. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=274"
  },
  {
    "text": "I also have a host of SwiftUI views for the home screen ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=278"
  },
  {
    "text": "and the dance video screen. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=281"
  },
  {
    "text": "However, this Matcher class is where all the magic of audio recognition happens.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=283"
  },
  {
    "text": "On initialization, I have a method to configure and set up the audio engine. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=289"
  },
  {
    "text": "In this method, I install a tap to receive PCMbuffers ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=295"
  },
  {
    "text": "and prepare the audio engine. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=299"
  },
  {
    "text": "Also, I have a match method which is called when I tap on the Learn The Dance button. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=303"
  },
  {
    "text": "I request for recording permission, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=308"
  },
  {
    "text": "and if this is granted, I call start on the audio engine to begin recording. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=311"
  },
  {
    "text": "Next, I tell the UI matching has started, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=317"
  },
  {
    "text": "then I call session.results ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=320"
  },
  {
    "text": "and wait for an async sequence of match results. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=323"
  },
  {
    "text": "After receiving a result, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=327"
  },
  {
    "text": "I set the match object if it was a match, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=329"
  },
  {
    "text": "and I handle the no match and error cases. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=332"
  },
  {
    "text": "This class also has a stopRecording Function in which I stop the audio engine.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=336"
  },
  {
    "text": "This works great, but notice how I have a lot of setup code ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=343"
  },
  {
    "text": "to configure the audio engine before I can receive audio buffers. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=347"
  },
  {
    "text": "This can be challenging to get right, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=351"
  },
  {
    "text": "especially if you aren't familiar with audio programming. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=353"
  },
  {
    "text": "And so, to make recording and matching easier, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=357"
  },
  {
    "text": "we've introduced a new API called SHManagedSession. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=361"
  },
  {
    "text": "Managed Session automatically takes care of starting the recording for you ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=366"
  },
  {
    "text": "without the hassle of setting up audio buffers. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=371"
  },
  {
    "text": "This makes it very easy to set up and use.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=374"
  },
  {
    "text": "Microphone permission is required to use Managed Session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=379"
  },
  {
    "text": "Without this permission, the session cannot start recording. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=382"
  },
  {
    "text": "Therefore, it is important you add the Microphone usage description entry ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=386"
  },
  {
    "text": "to the info.plist file of your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=391"
  },
  {
    "text": "Managed Session will use this description ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=395"
  },
  {
    "text": "when asking for microphone access from the user. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=398"
  },
  {
    "text": "So how can I use this API in code? ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=401"
  },
  {
    "text": "First, I'll create an instance of SHManagedSession, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=406"
  },
  {
    "text": "then I can wait on a result by calling the result method. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=411"
  },
  {
    "text": "This method returns an enum which has three states that can either be a match, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=415"
  },
  {
    "text": "NoMatch, or an error. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=420"
  },
  {
    "text": "Next, I can switch over the result, using the returned media items ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=424"
  },
  {
    "text": "in the case of a match, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=428"
  },
  {
    "text": "and handling the no match and error cases. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=431"
  },
  {
    "text": "And what if I want to have a longer recording session ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=435"
  },
  {
    "text": "that can return many results over time? ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=438"
  },
  {
    "text": "Well, I can do this by using the async sequence results property ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=441"
  },
  {
    "text": "on managedSession. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=445"
  },
  {
    "text": "I can use each result that's received from the sequence just as before. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=447"
  },
  {
    "text": "This ensures I can keep recording audio for long periods. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=452"
  },
  {
    "text": "Finally, I can stop matching by calling cancel on managedSession. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=457"
  },
  {
    "text": "This cancels any currently running match attempt and stops recording. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=462"
  },
  {
    "text": "And that's it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=467"
  },
  {
    "text": "With Managed Session, it's just a few lines of code ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=468"
  },
  {
    "text": "to start recording and receive a result after matching. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=471"
  },
  {
    "text": "Going back to my app, I'm going to update the Matcher implementation ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=475"
  },
  {
    "text": "to use managedSession. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=479"
  },
  {
    "text": "I can replace all instances of SHSession with SHManagedSession.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=481"
  },
  {
    "text": "Then, I can delete the configure audio engine method and its usage.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=493"
  },
  {
    "text": "And in the match method, I can delete the calls to request ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=500"
  },
  {
    "text": "recording permission and to start the audio engine.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=503"
  },
  {
    "text": "Finally, in the stopRecording method, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=509"
  },
  {
    "text": "I can replace the existing code to stop the audio engine ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=512"
  },
  {
    "text": "with just a call to managedSession's cancel method.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=515"
  },
  {
    "text": "Now, I'll run the app to make sure everything is still working as expected. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=523"
  },
  {
    "text": "Hey, Siri, play \"Push It\" by Dukes.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=528"
  },
  {
    "text": "Siri: Here's \"Push It\" by Dukes. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=533"
  },
  {
    "text": "♪ ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=535"
  },
  {
    "text": "Exciting! ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=537"
  },
  {
    "text": "Everything is still working fine, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=538"
  },
  {
    "text": "but this time, the code is even better and cleaner with Managed Session.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=540"
  },
  {
    "text": "That's not all. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=546"
  },
  {
    "text": "There's even more to Managed Session to talk about. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=547"
  },
  {
    "text": "Depending on your use case, you may want managedSession ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=551"
  },
  {
    "text": "to prepare for a match attempt ahead of time. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=554"
  },
  {
    "text": "Preparing a Managed Session makes the session more responsive when matching. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=558"
  },
  {
    "text": "It also preallocates the necessary resources needed for a match ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=563"
  },
  {
    "text": "and, it starts prerecording in anticipation of a match attempt.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=567"
  },
  {
    "text": "To give you an idea of the benefits of using prepare, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=572"
  },
  {
    "text": "here's a timeline representing the behavior of the session ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=575"
  },
  {
    "text": "without calling prepare. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=578"
  },
  {
    "text": "When you ask for a result, the session allocates the resources ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=580"
  },
  {
    "text": "for the match attempt, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=585"
  },
  {
    "text": "then starts recording, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=587"
  },
  {
    "text": "finally, it returns a match. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=590"
  },
  {
    "text": "However, when you call prepare, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=593"
  },
  {
    "text": "the session immediately preallocates the resources and starts prerecording. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=595"
  },
  {
    "text": "Then, when you ask for a result, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=600"
  },
  {
    "text": "the session returns a match faster than before. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=602"
  },
  {
    "text": "To do this in code, I can simply call the prepare method ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=607"
  },
  {
    "text": "before I ask for a result. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=610"
  },
  {
    "text": "Calling this method is entirely up to you ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=613"
  },
  {
    "text": "and ShazamKit will call it on your behalf if necessary.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=615"
  },
  {
    "text": "Now, you might be wondering, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=620"
  },
  {
    "text": "\"How do I track the current behavior of the session? ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=622"
  },
  {
    "text": "\"For example, in a long running session, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=625"
  },
  {
    "text": "\"how do I know it's recording or matching ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=628"
  },
  {
    "text": "or doing something else?\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=631"
  },
  {
    "text": "To help with this, Managed Session has a property called state ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=633"
  },
  {
    "text": "which represents the current state of the session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=637"
  },
  {
    "text": "The three states are idle, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=641"
  },
  {
    "text": "prerecording, and matching. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=645"
  },
  {
    "text": "In the idle state, the session is neither recording nor making a match attempt. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=649"
  },
  {
    "text": "This is the case if the session just completed a single match attempt ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=655"
  },
  {
    "text": "or you call cancel, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=659"
  },
  {
    "text": "or the session terminates the async sequence of results ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=662"
  },
  {
    "text": "when carrying out multiple matches. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=667"
  },
  {
    "text": "Prerecording represents the state after the session has been prepared. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=670"
  },
  {
    "text": "In this state, all the necessary resources for matching are ready ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=675"
  },
  {
    "text": "and the session is prerecording for a match attempt. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=679"
  },
  {
    "text": "You can then proceed with matching or cancel prerecording. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=683"
  },
  {
    "text": "Matching is the third possible state ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=688"
  },
  {
    "text": "which indicates the session is making at least one match attempt. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=690"
  },
  {
    "text": "Calling prepare in this state will be ignored by the session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=694"
  },
  {
    "text": "Here's an example of how the managedSession state ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=698"
  },
  {
    "text": "could be used in SwiftUI to drive view behavior. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=701"
  },
  {
    "text": "Here, I have the sample implementation of a subview from the demo app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=705"
  },
  {
    "text": "I have implemented different behaviors for this view ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=711"
  },
  {
    "text": "if the state is idle or matching. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=714"
  },
  {
    "text": "Currently, the state of the session is idle ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=718"
  },
  {
    "text": "and the text view is set to Hear Music. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=720"
  },
  {
    "text": "Also, I have a conditional that checks if the state is matching or not. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=725"
  },
  {
    "text": "If it is, I display a progress view, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=730"
  },
  {
    "text": "and if it's not, I display the Learn the Dance button. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=734"
  },
  {
    "text": "Since the state is currently idle, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=738"
  },
  {
    "text": "the Learn the Dance button is displayed. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=740"
  },
  {
    "text": "When I tap on the button, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=744"
  },
  {
    "text": "the state changes to matching and my UI automatically refreshes. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=746"
  },
  {
    "text": "This time the text is set to Matching ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=751"
  },
  {
    "text": "and the progress view replaces the button ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=754"
  },
  {
    "text": "since matching has commenced. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=757"
  },
  {
    "text": "Whenever the state of the session changes, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=761"
  },
  {
    "text": "SwiftUI will automatically refresh your views ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=763"
  },
  {
    "text": "to respond to those changes without any extra work. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=766"
  },
  {
    "text": "And this is because managedSession conforms to Observable, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=770"
  },
  {
    "text": "which is a new Swift type that makes objects automatically communicate ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=774"
  },
  {
    "text": "their changes to observers. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=778"
  },
  {
    "text": "Therefore, SwiftUI can easily respond to any state changes of managedSession. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=780"
  },
  {
    "text": "To learn more about Observable, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=786"
  },
  {
    "text": "check out the Discover Observation of SwiftUI video.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=788"
  },
  {
    "text": "Now that I've covered audio recognition, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=792"
  },
  {
    "text": "I'll talk about the Shazam library.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=795"
  },
  {
    "text": "In 2021, ShazamKit provided an API to allow developers ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=799"
  },
  {
    "text": "to write a match result to the Shazam Library, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=803"
  },
  {
    "text": "provided it has a valid Shazam ID. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=806"
  },
  {
    "text": "This means that it corresponds to a song in the Shazam Catalog. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=809"
  },
  {
    "text": "The added item is visible in the Control Center Music Recognition module ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=814"
  },
  {
    "text": "and the Shazam app if installed. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=819"
  },
  {
    "text": "It is also synced across devices. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=822"
  },
  {
    "text": "There is no special permission required to write to the Shazam library, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=825"
  },
  {
    "text": "but I recommend you avoid storing content in it without making customers aware, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=829"
  },
  {
    "text": "as all songs saved in the library will be attributed to the app that added them. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=834"
  },
  {
    "text": "Here, the second song in the list ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=839"
  },
  {
    "text": "is attributed to the ShazamKit Dance Finder app.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=841"
  },
  {
    "text": "Over the years, usage of this API presented different use cases ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=846"
  },
  {
    "text": "and led to some drawbacks. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=851"
  },
  {
    "text": "For example, what if you wanted to view items you've added in your own app? ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=853"
  },
  {
    "text": "The go-to solution would be managing your own local storage ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=858"
  },
  {
    "text": "which can be tedious to handle and prone to bugs. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=862"
  },
  {
    "text": "Because of these drawbacks, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=867"
  },
  {
    "text": "a new class has been introduced called SHLibrary. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=868"
  },
  {
    "text": "I recommend adopting SHLibrary, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=872"
  },
  {
    "text": "as it offers more extensive features ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=874"
  },
  {
    "text": "compared to the previous SHMediaLibrary class. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=876"
  },
  {
    "text": "Some of the core features of SHLibrary include ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=880"
  },
  {
    "text": "adding media items to the Shazam Library, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=883"
  },
  {
    "text": "which works the same way as the corresponding method in SHMediaLibrary; ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=886"
  },
  {
    "text": "reading media items; ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=891"
  },
  {
    "text": "and deleting media items from the library. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=893"
  },
  {
    "text": "Note that your app can only read and delete what it has added to the library. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=897"
  },
  {
    "text": "Items returned when you read are specific to your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=902"
  },
  {
    "text": "and do not represent the entire library. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=906"
  },
  {
    "text": "Also, attempting to delete a media item your app hasn't added will throw an error. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=910"
  },
  {
    "text": "Next, I'm going to explain how to use SHLibrary.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=916"
  },
  {
    "text": "Adding with SHLibrary is as simple as calling the addItems method ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=921"
  },
  {
    "text": "of the default library object. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=926"
  },
  {
    "text": "This method takes in an array of media items to be added. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=929"
  },
  {
    "text": "Reading from the library is equally simple. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=933"
  },
  {
    "text": "As an example, here's how you can read items ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=936"
  },
  {
    "text": "from the library and populate a List view in SwiftUI. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=939"
  },
  {
    "text": "You simply pass in the items property of the library object ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=942"
  },
  {
    "text": "into the list initializer. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=946"
  },
  {
    "text": "SHLibrary also conforms to the new Swift Observable type, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=948"
  },
  {
    "text": "therefore, your SwiftUI views will automatically reload ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=952"
  },
  {
    "text": "when there's a change. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=956"
  },
  {
    "text": "You can also read from the library in a non-UI context. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=959"
  },
  {
    "text": "For example, if I want to retrieve the most popular genre of a user ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=963"
  },
  {
    "text": "from their synced Shazams, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=967"
  },
  {
    "text": "I can ask for the current items of the library. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=970"
  },
  {
    "text": "Then, once I have this, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=973"
  },
  {
    "text": "I can filter through the array of items to get all the returned genres, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=975"
  },
  {
    "text": "and count the genre with the highest frequency. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=980"
  },
  {
    "text": "Finally, I can remove items from the library by calling removeItems ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=984"
  },
  {
    "text": "on the library object, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=989"
  },
  {
    "text": "passing in the array of media items to be removed. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=991"
  },
  {
    "text": "Going back to my app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=994"
  },
  {
    "text": "since I've added recognized songs to my library, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=996"
  },
  {
    "text": "I can use the new SHLibrary to read these songs. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=998"
  },
  {
    "text": "In the RecentDancesView, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1002"
  },
  {
    "text": "I have a List which contains an empty array of mediaItems ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1003"
  },
  {
    "text": "in the initializer. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1007"
  },
  {
    "text": "I'll replace the empty array with items from SHLibrary ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1009"
  },
  {
    "text": "to automatically read my library items.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1012"
  },
  {
    "text": "I'll run the app with these changes.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1018"
  },
  {
    "text": "As soon as the app loads, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1022"
  },
  {
    "text": "I receive a list of songs which the app has added to the Shazam Library. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1024"
  },
  {
    "text": "With SHLibrary, I get this functionality for free, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1029"
  },
  {
    "text": "and I don't need to maintain a database of matched songs. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1032"
  },
  {
    "text": "Next up, I'll add a Swipe to delete action on each row, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1036"
  },
  {
    "text": "so I can delete a song from the library.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1039"
  },
  {
    "text": "I can add a swipeAction on the row view.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1044"
  },
  {
    "text": "Then when the swiped button is tapped, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1049"
  },
  {
    "text": "I can call the removeItems method of SHLibrary, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1051"
  },
  {
    "text": "passing in the media item that is to be deleted.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1055"
  },
  {
    "text": "Now that's done, I'll run the app with these changes. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1062"
  },
  {
    "text": "I've got the app open on my iPad as well. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1066"
  },
  {
    "text": "I can swipe on an item on my iPhone, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1069"
  },
  {
    "text": "and tap the delete button. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1072"
  },
  {
    "text": "The changes are synced and the deleted item ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1074"
  },
  {
    "text": "is also removed from the list on the iPad. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1077"
  },
  {
    "text": "This is amazing. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1080"
  },
  {
    "text": "Now that you've learned how to use the new library APIs ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1082"
  },
  {
    "text": "and how you can make use of Managed Session to handle recording, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1085"
  },
  {
    "text": "I'll take you through some best practices ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1089"
  },
  {
    "text": "and offer some tips when using some of the new features introduced this year. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1092"
  },
  {
    "text": "SHManagedSession and SHSession are closely related. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1096"
  },
  {
    "text": "They can achieve almost the same thing, albeit in different ways. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1100"
  },
  {
    "text": "Use managedSession when you want to let ShazamKit handle the recording for you. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1105"
  },
  {
    "text": "Use SHSession when you are generating the audio buffers ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1111"
  },
  {
    "text": "and passing them into the framework. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1114"
  },
  {
    "text": "Use managedSession to recognize audio coming from the microphone or an AirPod. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1117"
  },
  {
    "text": "Use SHSession when you want to only recognize audio ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1123"
  },
  {
    "text": "streaming from the microphone. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1126"
  },
  {
    "text": "Matching arbitrary signatures with managedSession is not supported. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1129"
  },
  {
    "text": "Therefore, if you have a signature file ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1134"
  },
  {
    "text": "or loaded signature data in memory, use SHSession to match it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1137"
  },
  {
    "text": "Finally, managedSsession automatically handles audio formats for the matching, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1142"
  },
  {
    "text": "while SHSession allows matching with multiple PCM audio formats.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1147"
  },
  {
    "text": "Speaking of audio formats in SHSession, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1154"
  },
  {
    "text": "previously, the matchStreamingBuffer ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1157"
  },
  {
    "text": "method only allowed matching PCM audio buffers ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1160"
  },
  {
    "text": "with specific format settings at these sample rates. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1163"
  },
  {
    "text": "Audio buffers with unsupported settings resulted in a NoMatch. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1167"
  },
  {
    "text": "With this release, SHSession now supports PCM buffers ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1172"
  },
  {
    "text": "with most format settings, sampled at a range of rates. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1176"
  },
  {
    "text": "You can pass in these buffers and SHSession will handle ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1181"
  },
  {
    "text": "the format conversion for you. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1184"
  },
  {
    "text": "Finally, if you have two or more bits of audio ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1188"
  },
  {
    "text": "that sound similar in a custom catalog, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1191"
  },
  {
    "text": "ShazamKit can now return all the matches from the custom catalog ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1194"
  },
  {
    "text": "when you pass in a query signature that matches multiple reference signatures. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1199"
  },
  {
    "text": "The matches are returned, sorted by the best match quality ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1204"
  },
  {
    "text": "and you can filter for the appropriate match result you want.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1208"
  },
  {
    "text": "As a tip, properly annotate the reference signatures ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1212"
  },
  {
    "text": "that sound similar in their respective metadata, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1216"
  },
  {
    "text": "so you can distinguish between which result you want.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1219"
  },
  {
    "text": "Here's an example of how you can achieve this. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1224"
  },
  {
    "text": "Say I have a television show where every episode has the same intro sound. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1227"
  },
  {
    "text": "I can generate a televisionShowCatalog ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1233"
  },
  {
    "text": "with reference signatures representing each episode. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1236"
  },
  {
    "text": "I can create a session using this catalog, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1240"
  },
  {
    "text": "and when matching the intro section, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1243"
  },
  {
    "text": "ShazamKit will return a match result with mediaItems of each episode. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1246"
  },
  {
    "text": "I can then filter through the mediaItems ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1251"
  },
  {
    "text": "and only return mediaItems for a particular episode, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1254"
  },
  {
    "text": "say Episode 2, for example. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1257"
  },
  {
    "text": "This is how proper annotation helps.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1261"
  },
  {
    "text": "Now that I've gone through all the exciting updates this year, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1265"
  },
  {
    "text": "I'll conclude by switching back to my wonderful app ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1268"
  },
  {
    "text": "and attempt to learn one more dance. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1271"
  },
  {
    "text": "I'll switch to my AirPods and play a song. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1274"
  },
  {
    "text": "Since I am using Managed Session in the app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1277"
  },
  {
    "text": "it can listen to the audio playing in the AirPod ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1280"
  },
  {
    "text": "and find a dance video for me. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1282"
  },
  {
    "text": "I'm going to press on the touch control of my AirPods to play a song ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1285"
  },
  {
    "text": "and wait for the app to detect the audio.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1288"
  },
  {
    "text": "Sweet! ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1295"
  },
  {
    "text": "Looks like Dancing Dave is showing off a couple of Afrobeat moves, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1296"
  },
  {
    "text": "which I'll try my best to learn after this talk. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1300"
  },
  {
    "text": "I hope you're as excited as we are with these new updates. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1303"
  },
  {
    "text": "Thank you for joining, and have a great WWDC. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1307"
  },
  {
    "text": "♪ ♪",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10051/?time=1311"
  }
]