[
  {
    "text": "♪ ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=0"
  },
  {
    "text": "David: Hi, and welcome to \"What's new in Wallet and Apple Pay.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=10"
  },
  {
    "text": "My name is David. Jon: And I'm Jon. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=13"
  },
  {
    "text": "David: Today, we'll talk through all the new features ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=15"
  },
  {
    "text": "and enhancements we're introducing this year ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=17"
  },
  {
    "text": "to the Wallet and Apple Pay experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=19"
  },
  {
    "text": "Wallet and Apple Pay encompasses a wide range of features and functionality, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=22"
  },
  {
    "text": "barcode passes, transit cards, car keys, and more. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=26"
  },
  {
    "text": "These are all important parts of our ecosystem, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=31"
  },
  {
    "text": "but today's focus will be on three areas: ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=34"
  },
  {
    "text": "Payments, Order Tracking, and Identity. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=37"
  },
  {
    "text": "Let's start with Payments.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=41"
  },
  {
    "text": "We'll first talk about Apple Pay Later and how you can integrate ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=44"
  },
  {
    "text": "merchandising support for it within your platform. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=48"
  },
  {
    "text": "We'll talk about some enhancements to preauthorized payments ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=51"
  },
  {
    "text": "and then walk through a brand-new API ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=55"
  },
  {
    "text": "to support transferring funds with Apple Pay. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=57"
  },
  {
    "text": "Apple Pay Later was introduced earlier this year ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=61"
  },
  {
    "text": "to customers in the United States ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=63"
  },
  {
    "text": "and allows users to split purchases into four separate payments. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=66"
  },
  {
    "text": "Users can then conveniently track and manage these purchases ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=70"
  },
  {
    "text": "within Wallet. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=73"
  },
  {
    "text": "While Apple Pay Later does not require any integration, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=75"
  },
  {
    "text": "we're introducing a new API that provides a dedicated merchandising view ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=78"
  },
  {
    "text": "for inclusion within your UI. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=82"
  },
  {
    "text": "Using this view indicates support for Apple Pay Later, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=85"
  },
  {
    "text": "and details the experience a customer can expect. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=88"
  },
  {
    "text": "You'll have the ability to customize the style of the view ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=92"
  },
  {
    "text": "to better suit it for the context it's displayed in. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=95"
  },
  {
    "text": "When a user selects this view to learn more, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=98"
  },
  {
    "text": "you have a choice of how Apple Pay Later is explained. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=101"
  },
  {
    "text": "And this view will be available to developers for both apps and on the web.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=105"
  },
  {
    "text": "The merchandising view can be rendered in four different display styles, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=110"
  },
  {
    "text": "depending on context: ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=114"
  },
  {
    "text": "The standard style, which briefly describes how ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=117"
  },
  {
    "text": "Apple Pay Later can be used to split a purchase into multiple repayments. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=119"
  },
  {
    "text": "A badge style, indicating support in a concise way. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=124"
  },
  {
    "text": "A checkout style, designed to be placed alongside ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=129"
  },
  {
    "text": "other payment options in your checkout flow. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=131"
  },
  {
    "text": "And a price style, for use alongside the total purchase price. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=134"
  },
  {
    "text": "When a user interacts with this view, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=138"
  },
  {
    "text": "they will be presented with more information. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=141"
  },
  {
    "text": "As a merchant, you have the ability to choose between two different actions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=143"
  },
  {
    "text": "The \"Learn More\" action will present an overview of Apple Pay Later ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=148"
  },
  {
    "text": "and explains the experience a user would go through ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=152"
  },
  {
    "text": "if they select it as a payment method. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=154"
  },
  {
    "text": "The \"Calculator\" action will still present an explanation of Apple Pay Later, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=157"
  },
  {
    "text": "but with a focus on the repayment schedule the user would need to follow. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=162"
  },
  {
    "text": "Let's take a look at incorporating this view within your app.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=166"
  },
  {
    "text": "Firstly, you'll want to check ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=170"
  },
  {
    "text": "whether the user is eligible ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=172"
  },
  {
    "text": "to use Apple Pay Later. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=173"
  },
  {
    "text": "You can use the validate function ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=176"
  },
  {
    "text": "within PKPayLaterUtilities to do this. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=177"
  },
  {
    "text": "You'll need to provide the amount ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=181"
  },
  {
    "text": "for the transaction, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=182"
  },
  {
    "text": "as well as the locale required. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=183"
  },
  {
    "text": "Once you've determined whether the user ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=186"
  },
  {
    "text": "is eligible to use Apple Pay Later, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=187"
  },
  {
    "text": "you instantiate a PKPayLaterView, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=190"
  },
  {
    "text": "with the same details provided ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=192"
  },
  {
    "text": "for the eligibility check. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=194"
  },
  {
    "text": "If you wish to customize the style ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=196"
  },
  {
    "text": "and action of the view, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=198"
  },
  {
    "text": "you can do so by changing ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=199"
  },
  {
    "text": "their respective properties.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=201"
  },
  {
    "text": "We also provide a convenient SwiftUI view, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=204"
  },
  {
    "text": "that allows you to express Apple Pay Later acceptance ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=206"
  },
  {
    "text": "within your SwiftUI apps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=209"
  },
  {
    "text": "To use it, you instantiate a PayLaterView, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=212"
  },
  {
    "text": "and provide it with the same information as before. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=215"
  },
  {
    "text": "To customize the display style and action, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=218"
  },
  {
    "text": "use the appropriate view modifiers to do so. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=221"
  },
  {
    "text": "And it's as simple as that. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=223"
  },
  {
    "text": "If you want to support the merchandising view on the web, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=226"
  },
  {
    "text": "there are a few setup steps you will need to perform first.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=228"
  },
  {
    "text": "The API for displaying the view ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=233"
  },
  {
    "text": "is provided within the existing ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=234"
  },
  {
    "text": "Apple Pay JavaScript SDK, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=236"
  },
  {
    "text": "but there are some new attributes ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=238"
  },
  {
    "text": "you may need to set when including it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=240"
  },
  {
    "text": "It's important to set ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=242"
  },
  {
    "text": "the crossorigin attribute ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=244"
  },
  {
    "text": "if you're required to support ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=245"
  },
  {
    "text": "Cross Origin Resource sharing requests. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=247"
  },
  {
    "text": "Use the async attribute ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=250"
  },
  {
    "text": "to ensure the script loads ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=252"
  },
  {
    "text": "and executes independently ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=253"
  },
  {
    "text": "from your page's loading progress. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=255"
  },
  {
    "text": "And lastly, a JWT is required ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=258"
  },
  {
    "text": "to authenticate requests to the API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=260"
  },
  {
    "text": "This token can be generated ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=263"
  },
  {
    "text": "on the Apple Developer portal. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=264"
  },
  {
    "text": "Using the JavaScript SDK couldn't be simpler. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=267"
  },
  {
    "text": "Use the apple-pay-merchandising element to represent the view. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=271"
  },
  {
    "text": "The amount, country code, currency code, and locale are required fields.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=275"
  },
  {
    "text": "Just like the native API, you can also customize other aspects ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=282"
  },
  {
    "text": "of the view as required. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=285"
  },
  {
    "text": "Here are some best practices to follow ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=287"
  },
  {
    "text": "if you're incorporating the Apple Pay Later merchandising view. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=289"
  },
  {
    "text": "For apps, an entitlement is required to use this view. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=293"
  },
  {
    "text": "This can be obtained on the Apple Developer portal. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=297"
  },
  {
    "text": "For websites, remember to register your domains ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=300"
  },
  {
    "text": "and obtain a JWT for use when including the SDK. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=303"
  },
  {
    "text": "This can also be done on the Apple Developer portal. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=307"
  },
  {
    "text": "Where possible, try to import the SDK within the head element. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=311"
  },
  {
    "text": "This will allow it to run as soon as possible, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=315"
  },
  {
    "text": "so the merchandising view is ready for when your page has fully loaded. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=317"
  },
  {
    "text": "The size of the view can be customized for your needs, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=322"
  },
  {
    "text": "but ensure that you follow the sizing requirements. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=325"
  },
  {
    "text": "And lastly, if your website has a restrictive content security policy, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=328"
  },
  {
    "text": "follow the recommended guidelines ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=333"
  },
  {
    "text": "to ensure the SDK can be loaded across domains. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=334"
  },
  {
    "text": "And that's a look at Apple Pay Later. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=338"
  },
  {
    "text": "Next up, we'll talk about preauthorized payments. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=341"
  },
  {
    "text": "In iOS 16, we introduced preauthorized payments. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=344"
  },
  {
    "text": "Users are able to view and manage payments they've preauthorized in Wallet, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=349"
  },
  {
    "text": "and merchants are able to charge the user according to the agreed terms. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=353"
  },
  {
    "text": "We initially provided support for recurring payments ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=357"
  },
  {
    "text": "and automatic reload payments. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=360"
  },
  {
    "text": "We now also support deferred payments. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=362"
  },
  {
    "text": "All three preauthorized payment types are available for use in apps, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=364"
  },
  {
    "text": "as well as on the web. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=368"
  },
  {
    "text": "Deferred payments allow you to charge either a fixed ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=370"
  },
  {
    "text": "or variable amount at a particular date in the future. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=373"
  },
  {
    "text": "If you have a free cancellation cut off date, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=377"
  },
  {
    "text": "you can specify this as part of the request as well. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=379"
  },
  {
    "text": "Examples where deferred payments may be suitable include ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=382"
  },
  {
    "text": "when a customer is booking a hotel reservation ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=385"
  },
  {
    "text": "or when they are pre-ordering an item.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=388"
  },
  {
    "text": "Preauthorized payments take advantage of Apple Pay merchant tokens.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=391"
  },
  {
    "text": "They are tied to a user's Apple ID, rather than an individual device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=396"
  },
  {
    "text": "This means for example, if a user were to upgrade their device, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=401"
  },
  {
    "text": "the token would still be valid for use. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=404"
  },
  {
    "text": "Because of this, you will still be able to use the token to charge their account, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=407"
  },
  {
    "text": "making receiving payments at a later date more reliable. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=411"
  },
  {
    "text": "When performing a preauthorized payment, merchant tokens are automatically issued ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=415"
  },
  {
    "text": "if the customer's payment card supports them. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=419"
  },
  {
    "text": "If the payment card doesn't support merchant tokens, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=422"
  },
  {
    "text": "the transaction will still go through ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=425"
  },
  {
    "text": "but will use the traditional Apple Pay token ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=427"
  },
  {
    "text": "that is tied to an individual device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=429"
  },
  {
    "text": "To learn more about Apple Pay merchant tokens, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=432"
  },
  {
    "text": "check out last year's What's new in Wallet and Apple Pay. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=435"
  },
  {
    "text": "So let's take a look at how to incorporate deferred payments ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=439"
  },
  {
    "text": "within your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=441"
  },
  {
    "text": "First, we create a PKDeferredPaymentSummaryItem, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=444"
  },
  {
    "text": "which outlines a description of the charge and the amount that will be taken. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=447"
  },
  {
    "text": "You also set the date for when the payment will be taken.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=452"
  },
  {
    "text": "Next, we create a PKDeferredPaymentRequest. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=456"
  },
  {
    "text": "We provide it with the summary item we just created, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=459"
  },
  {
    "text": "along with other information regarding the management of the payment. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=462"
  },
  {
    "text": "If we have a billing agreement we need to display to the user, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=466"
  },
  {
    "text": "this can also be set on the deferred payment request. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=469"
  },
  {
    "text": "Once we have the request created and configured, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=473"
  },
  {
    "text": "we can then attach it to our PKPaymentRequest.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=476"
  },
  {
    "text": "For the payment summary items on our request, we create another ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=480"
  },
  {
    "text": "PKDeferredPaymentSummaryItem with the same amount and date as before. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=484"
  },
  {
    "text": "But this time with a label representing the name of the merchant. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=489"
  },
  {
    "text": "We set this on the request, and we're ready to present for payment.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=493"
  },
  {
    "text": "As can be seen in this example, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=497"
  },
  {
    "text": "the Apple Pay payment sheet will present the deferred payment to the user ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=499"
  },
  {
    "text": "with information on the billing agreement and when they can expect to be charged. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=503"
  },
  {
    "text": "Now, there are some important considerations to make ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=508"
  },
  {
    "text": "if you specify a free cancellation date.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=511"
  },
  {
    "text": "When you provide a free cancellation date, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=515"
  },
  {
    "text": "you are stating that any cancellations ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=517"
  },
  {
    "text": "before that point in time will be done ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=519"
  },
  {
    "text": "with no charge to the user. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=521"
  },
  {
    "text": "Because of this, both the date and time ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=523"
  },
  {
    "text": "are important pieces of information. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=526"
  },
  {
    "text": "You need to explicitly state the time zone ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=529"
  },
  {
    "text": "the cancellation policy applies in. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=531"
  },
  {
    "text": "We have provided a separate property ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=533"
  },
  {
    "text": "to support this. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=535"
  },
  {
    "text": "In the example below, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=536"
  },
  {
    "text": "we have specified that the time zone ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=538"
  },
  {
    "text": "is Pacific Standard Time. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=539"
  },
  {
    "text": "This is important ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=542"
  },
  {
    "text": "because your customer's time zone ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=543"
  },
  {
    "text": "might not match the cancellation policy's ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=544"
  },
  {
    "text": "time zone. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=546"
  },
  {
    "text": "For example, when someone is based in the United Kingdom, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=547"
  },
  {
    "text": "booking a hotel in the United States. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=551"
  },
  {
    "text": "When working with deferred payments, here are some best practices to follow.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=554"
  },
  {
    "text": "As mentioned previously, if you need to describe a free cancellation policy, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=559"
  },
  {
    "text": "carefully consider the date, time, and time zone provided ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=563"
  },
  {
    "text": "to the deferred payment request. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=567"
  },
  {
    "text": "Remember to include the deferred payment within your summary items, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=570"
  },
  {
    "text": "and ensure you set the appropriate merchant name. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=573"
  },
  {
    "text": "This is not done for you automatically. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=576"
  },
  {
    "text": "When providing a billing agreement, remember to keep it short. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=579"
  },
  {
    "text": "The billing agreement text should only act as a summary of key facts to consider ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=584"
  },
  {
    "text": "and should not replace any normal billing or legal agreements in place. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=588"
  },
  {
    "text": "Lastly, specify a token notification URL, so you can be kept up to date ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=593"
  },
  {
    "text": "with lifecycle events of the Apple Pay merchant token ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=598"
  },
  {
    "text": "if one has been issued. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=601"
  },
  {
    "text": "And that's deferred payments. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=603"
  },
  {
    "text": "Next, let's take a look at a brand-new way to transfer funds with Apple Pay. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=605"
  },
  {
    "text": "Traditionally with Apple Pay, the payment sheet has always ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=610"
  },
  {
    "text": "been available for users to add funds to an account. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=613"
  },
  {
    "text": "New in iOS 17, we're introducing Transfer Funds with Apple Pay.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=616"
  },
  {
    "text": "This offers the ability for users to transfer from an account ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=622"
  },
  {
    "text": "to a card in their Wallet, completing the lifecycle for money movement. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=625"
  },
  {
    "text": "This uses the same secure and private Apple Pay infrastructure as payments, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=630"
  },
  {
    "text": "meaning customers will already be very familiar with the process. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=634"
  },
  {
    "text": "An example where transferring funds makes sense ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=638"
  },
  {
    "text": "would be allowing a customer to withdraw funds from a bank account ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=640"
  },
  {
    "text": "or a stored value account. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=644"
  },
  {
    "text": "To support Transfer Funds with Apple Pay, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=646"
  },
  {
    "text": "we have created a new request type that focuses on just the information ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=648"
  },
  {
    "text": "required for a funds transfer. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=653"
  },
  {
    "text": "To use it, you simply define an amount you wish ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=655"
  },
  {
    "text": "to be transferred to a user's payment card. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=658"
  },
  {
    "text": "If you require the contact details of the recipient, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=661"
  },
  {
    "text": "you are also able to request these. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=664"
  },
  {
    "text": "If you've used PKPaymentRequest before, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=666"
  },
  {
    "text": "this new API will feel very familiar to you. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=669"
  },
  {
    "text": "Because Transfer Funds with Apple Pay works ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=672"
  },
  {
    "text": "on the same infrastructure as payments, you will need to register as a merchant ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=674"
  },
  {
    "text": "within the Apple Developer portal.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=678"
  },
  {
    "text": "To learn more on how to register as a merchant ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=681"
  },
  {
    "text": "and get set up to use Apple Pay, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=683"
  },
  {
    "text": "check out our \"Implement Apple Pay and order management\" Tech Talk. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=685"
  },
  {
    "text": "To give you an illustration of how Transfer Funds with Apple Pay works, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=690"
  },
  {
    "text": "let's take a look at an example. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=694"
  },
  {
    "text": "Say we have a customer, Andrew, who wishes to withdraw money from their account. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=696"
  },
  {
    "text": "Using Transfer Funds with Apple Pay, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=702"
  },
  {
    "text": "they would trigger a transfer from within your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=704"
  },
  {
    "text": "Your app then creates a request, outlining the amount to be transferred. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=707"
  },
  {
    "text": "Andrew will then be presented with the Apple Pay sheet ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=711"
  },
  {
    "text": "detailing the transfer, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=714"
  },
  {
    "text": "allowing them to select the card they with to receive funds to. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=716"
  },
  {
    "text": "Once Andrew securely authenticates the transfer, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=719"
  },
  {
    "text": "an encrypted payload is generated and returned to your app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=722"
  },
  {
    "text": "ready for processing with your payment provider. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=726"
  },
  {
    "text": "Once the transfer has been processed, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=729"
  },
  {
    "text": "your app will then return the result to Apple Pay. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=731"
  },
  {
    "text": "If the transfer is successful, that's it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=733"
  },
  {
    "text": "If an error has occurred, Andrew would be informed and may be able ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=736"
  },
  {
    "text": "to take corrective action to fix the issue. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=740"
  },
  {
    "text": "Now that we've seen an overview of how a funds transfer works, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=743"
  },
  {
    "text": "lets take a look at how to implement it within your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=746"
  },
  {
    "text": "We first need to determine which networks and card capabilities we wish to support. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=750"
  },
  {
    "text": "Next, we'll check to see whether the user has an eligible card ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=755"
  },
  {
    "text": "to initiate a funds transfer. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=759"
  },
  {
    "text": "This is done through PKPaymentAuthorizationController. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=761"
  },
  {
    "text": "Using the supportsDisbursements method, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=765"
  },
  {
    "text": "we provide the networks and card capabilities defined earlier. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=767"
  },
  {
    "text": "You can use the result of this check to adjust your user interface as appropriate. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=771"
  },
  {
    "text": "Now that we've checked for eligibility, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=776"
  },
  {
    "text": "we can start building our transfer request. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=778"
  },
  {
    "text": "Similar to payment requests, the amounts are defined through summary items. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=780"
  },
  {
    "text": "In this case, we create two different summary items. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=785"
  },
  {
    "text": "The first is a PKPaymentSummaryItem. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=788"
  },
  {
    "text": "This represents the amount being withdrawn from the user's account. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=792"
  },
  {
    "text": "It's important to note that the label associated with the item, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=795"
  },
  {
    "text": "should be the name of your business. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=798"
  },
  {
    "text": "The second item is a new type of summary item, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=801"
  },
  {
    "text": "a PKDisbursementSummaryItem. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=804"
  },
  {
    "text": "You must include one of these, and it should always represent ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=806"
  },
  {
    "text": "the final amount received onto the recipient's payment card, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=809"
  },
  {
    "text": "net of any fees, charges, or adjustments. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=813"
  },
  {
    "text": "Whereas for payments, we have PKPaymentRequest, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=816"
  },
  {
    "text": "we have a new request type for Transfer Funds with Apple Pay, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=819"
  },
  {
    "text": "PKDisbursementRequest. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=822"
  },
  {
    "text": "In order to construct a PKDisbursementRequest, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=825"
  },
  {
    "text": "you need to specify certain details. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=828"
  },
  {
    "text": "It requires the merchant identifier you set when registering ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=830"
  },
  {
    "text": "for Apple Pay, the currency of the transaction, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=834"
  },
  {
    "text": "the region of your business, as well as the networks ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=837"
  },
  {
    "text": "and capabilities defined earlier. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=840"
  },
  {
    "text": "You also provide the summary items you just created. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=843"
  },
  {
    "text": "If you require the contact details of the transfer recipient, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=846"
  },
  {
    "text": "you can request those here as well. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=850"
  },
  {
    "text": "You can also limit which regions the recipient's payment card ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=852"
  },
  {
    "text": "has been issued in.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=855"
  },
  {
    "text": "Once the request has been built, we can now present it to the user. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=857"
  },
  {
    "text": "We do this by initializing an instance ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=861"
  },
  {
    "text": "of PKPaymentAuthorizationController with our disbursement request. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=864"
  },
  {
    "text": "We set ourselves as a delegate, and then present.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=868"
  },
  {
    "text": "As can be seen here, the user is presented with the option ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=873"
  },
  {
    "text": "to select the payment card they wish to receive the transfer to ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=876"
  },
  {
    "text": "and the amount they will receive to that card. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=879"
  },
  {
    "text": "Now, once the user securely authorizes the transfer to take place, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=882"
  },
  {
    "text": "there are some delegate callbacks that will need to be implemented ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=886"
  },
  {
    "text": "to process the transfer. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=889"
  },
  {
    "text": "There are only two delegate methods that are required ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=891"
  },
  {
    "text": "to be implemented to handle Transfer Funds with Apple Pay. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=894"
  },
  {
    "text": "The first is paymentAuthorizationControllerDidFinish. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=898"
  },
  {
    "text": "This will be called when the sheet is ready to dismiss. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=902"
  },
  {
    "text": "The responsibility is on the calling app to dismiss it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=905"
  },
  {
    "text": "You can also use this method to change your own app's UI accordingly. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=909"
  },
  {
    "text": "Secondly, is the didAuthorizePayment delegate method. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=914"
  },
  {
    "text": "Because Transfer Funds with Apple Pay uses the same infrastructure as payments, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=918"
  },
  {
    "text": "you'll receive the same type of PKPayment object to use for processing. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=921"
  },
  {
    "text": "Here we've abstracted the processing of the token away ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=926"
  },
  {
    "text": "into our own processFundsTransfer method. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=930"
  },
  {
    "text": "Depending on the result of processing, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=933"
  },
  {
    "text": "you would either return a success or failure.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=935"
  },
  {
    "text": "If during the processing stage ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=940"
  },
  {
    "text": "there are errors encountered, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=941"
  },
  {
    "text": "we have provided a set ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=943"
  },
  {
    "text": "of convenience methods to represent these. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=944"
  },
  {
    "text": "You can use ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=946"
  },
  {
    "text": "disbursementContactInvalidError ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=948"
  },
  {
    "text": "for when there are issues relating ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=949"
  },
  {
    "text": "to the contact information provided. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=951"
  },
  {
    "text": "If your payment processor determines ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=954"
  },
  {
    "text": "that the user's payment card is unable ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=956"
  },
  {
    "text": "to accept fund transfers, you can use ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=958"
  },
  {
    "text": "disbursementCardUnsupportedError. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=960"
  },
  {
    "text": "Some financial institutions support instant funds transfers, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=963"
  },
  {
    "text": "where funds can be sent to the recipient more quickly. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=967"
  },
  {
    "text": "These can also be represented with Transfer Funds with Apple Pay. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=970"
  },
  {
    "text": "Depending on the service, these instant transfers can sometimes ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=974"
  },
  {
    "text": "include fees, which can also be represented. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=978"
  },
  {
    "text": "Typically, a user will be given a choice of transfer speed within your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=981"
  },
  {
    "text": "When a user chooses to transfer funds instantly, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=986"
  },
  {
    "text": "provide the capability to require support for them. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=989"
  },
  {
    "text": "When doing so, the user's choice of cards will be limited ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=992"
  },
  {
    "text": "to those that are known to support instant transfers.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=996"
  },
  {
    "text": "And this is what an instant transfer would look like.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1000"
  },
  {
    "text": "The sheet looks very similar to before, but now we highlight the fact ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1004"
  },
  {
    "text": "the transfer is instant, as well as any fee the user will be paying. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1007"
  },
  {
    "text": "The transfer amount has also been adjusted to take into account the fee. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1012"
  },
  {
    "text": "Let's see how to make the previous transfer request an instant one. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1016"
  },
  {
    "text": "Firstly, we add instantFundsOut, to our list of supported capabilities. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1021"
  },
  {
    "text": "We can then check within supportsDisbursements ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1026"
  },
  {
    "text": "whether the user has any cards that support instant transfers. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1029"
  },
  {
    "text": "You can then adjust your transfer method options and user interface accordingly. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1033"
  },
  {
    "text": "As for summary items, we have a dedicated item ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1038"
  },
  {
    "text": "to represent instant transfer fees, PKInstantFundsOutFeeSummaryItem. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1041"
  },
  {
    "text": "With this item, you specify the amount that will be charged ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1047"
  },
  {
    "text": "for the purposes of performing an instant transfer. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1050"
  },
  {
    "text": "Even if you don't charge a fee, this summary item is still required. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1053"
  },
  {
    "text": "In this case, you would set an amount of zero. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1058"
  },
  {
    "text": "Because in this example, we are charging a fee, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1061"
  },
  {
    "text": "we need to update the disbursement amount accordingly. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1064"
  },
  {
    "text": "This won't be done automatically for you. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1067"
  },
  {
    "text": "Creating the PKDisbursementRequest isn't too different from before. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1070"
  },
  {
    "text": "The only difference is to ensure you provide the capabilities ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1075"
  },
  {
    "text": "and summary items defined earlier. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1078"
  },
  {
    "text": "And that's all that's required to represent an instant transfer. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1081"
  },
  {
    "text": "Here are some best practices to keep in mind ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1084"
  },
  {
    "text": "when implementing Transfer Funds with Apple Pay.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1086"
  },
  {
    "text": "Note that Transfer Funds with Apple Pay is only available for iOS and iPadOS, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1090"
  },
  {
    "text": "and is unavailable for use on macOS or the web. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1095"
  },
  {
    "text": "If an error were to occur during the processing of a funds transfer, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1099"
  },
  {
    "text": "use one of the dedicated disbursement errors ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1102"
  },
  {
    "text": "in order to communicate this to the user effectively. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1105"
  },
  {
    "text": "It's important to note that the first summary item should ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1109"
  },
  {
    "text": "represent the amount that will be withdrawn from the user's account. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1112"
  },
  {
    "text": "The label of the first summary item should match that of your business. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1116"
  },
  {
    "text": "And the last summary item must represent the amount that will be received ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1120"
  },
  {
    "text": "by the user's payment card, net of any fees, charges, or adjustments. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1124"
  },
  {
    "text": "And that's everything we have today regarding payments. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1129"
  },
  {
    "text": "To change tracks a little bit, let's talk about Order Tracking. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1133"
  },
  {
    "text": "Order Tracking was introduced in iOS 16 ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1137"
  },
  {
    "text": "as a way for users to track orders placed with participating merchants. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1140"
  },
  {
    "text": "The response from users has been fantastic, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1144"
  },
  {
    "text": "and we have been hard at work making Order Tracking even better. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1146"
  },
  {
    "text": "We'll talk about how we've improved integration within the operating system ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1150"
  },
  {
    "text": "to better represent and communicate orders. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1154"
  },
  {
    "text": "We'll then go through some enhancements we've made to Order Tracking. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1157"
  },
  {
    "text": "And lastly, we are introducing new ways to add Orders to Wallet. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1160"
  },
  {
    "text": "In iOS 16.4, we added support for sharing orders ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1166"
  },
  {
    "text": "through Messages, providing an inline preview of the order, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1169"
  },
  {
    "text": "and the ability for the recipient to track it within Wallet. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1173"
  },
  {
    "text": "We also introduced an Order Tracking widget, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1177"
  },
  {
    "text": "where users can keep a track of orders at a glance. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1179"
  },
  {
    "text": "Users can already benefit from these new features ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1183"
  },
  {
    "text": "without any additional work needed. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1185"
  },
  {
    "text": "We are continuing with system integration in iOS 17 ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1188"
  },
  {
    "text": "with support for Maps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1191"
  },
  {
    "text": "If a user is tracking an order with a specified pick up time and location, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1193"
  },
  {
    "text": "Maps will proactively suggest it through Siri Suggestions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1198"
  },
  {
    "text": "Now let's take a look at some of the enhancements we've made ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1202"
  },
  {
    "text": "to Order Tracking in iOS 17. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1205"
  },
  {
    "text": "To better support courier and food delivery use cases, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1208"
  },
  {
    "text": "you can now indicate the type of shipping being used. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1211"
  },
  {
    "text": "Through the new shippingType property, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1214"
  },
  {
    "text": "you can declare whether an order is being shipped or delivered.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1216"
  },
  {
    "text": "We now have better support for associated applications, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1221"
  },
  {
    "text": "including enterprise apps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1224"
  },
  {
    "text": "By declaring your associated application identifiers, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1227"
  },
  {
    "text": "you can improve the management of order notifications ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1230"
  },
  {
    "text": "between your app and Order Tracking. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1233"
  },
  {
    "text": "In addition, we support custom product page identifiers, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1236"
  },
  {
    "text": "enabling a deep-link to your App Store product page ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1239"
  },
  {
    "text": "most relevant for Wallet traffic.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1242"
  },
  {
    "text": "Lastly, we are introducing new ways to represent payment information. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1245"
  },
  {
    "text": "Order packages now support an array of transactions associated with it, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1250"
  },
  {
    "text": "with each having its own detailed information, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1254"
  },
  {
    "text": "such as payment method and amount. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1256"
  },
  {
    "text": "You can also attach receipt files to transactions, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1259"
  },
  {
    "text": "so your customer has a record of payment. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1262"
  },
  {
    "text": "This receipt file can either be a PDF or an image such as JPEG or PNG. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1264"
  },
  {
    "text": "Keep in mind that order packages are limited in size, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1270"
  },
  {
    "text": "so be considerate for the size of the receipt files you include. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1273"
  },
  {
    "text": "You can now also describe whether a transaction is for a purchase ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1277"
  },
  {
    "text": "or a refund. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1280"
  },
  {
    "text": "With iOS 17, adding Orders into Wallet has never been simpler. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1282"
  },
  {
    "text": "You can now attach order packages to emails, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1287"
  },
  {
    "text": "such as the order confirmation email. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1290"
  },
  {
    "text": "The user will then be able to add the order to Wallet right then and there. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1292"
  },
  {
    "text": "In addition, you can also add a “Track with Apple Wallet” button ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1297"
  },
  {
    "text": "within your apps and websites. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1301"
  },
  {
    "text": "Let's take a look at the new Order Tracking API ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1304"
  },
  {
    "text": "that supports adding orders to Wallet. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1306"
  },
  {
    "text": "This API is included within two new frameworks, FinanceKit and FinanceKitUI. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1310"
  },
  {
    "text": "These two Swift exclusive frameworks will allow developers ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1316"
  },
  {
    "text": "to handle order data within Wallet. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1319"
  },
  {
    "text": "Access to order information is achieved through a shared instance of FinanceStore, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1322"
  },
  {
    "text": "providing a central resource for handling order tracking queries. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1327"
  },
  {
    "text": "With this API, you will be able to check for the existence of an order, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1331"
  },
  {
    "text": "as well as a way to add or update an order. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1335"
  },
  {
    "text": "Let's take a look at how you check for an existing order. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1338"
  },
  {
    "text": "You first query the FinanceStore to check whether it contains an order ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1342"
  },
  {
    "text": "with a fully qualified order identifier. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1346"
  },
  {
    "text": "You will then receive one of two responses, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1350"
  },
  {
    "text": "either it exists, or it has not been found. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1352"
  },
  {
    "text": "You can then respond in your app as appropriate. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1355"
  },
  {
    "text": "It's as simple as that. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1358"
  },
  {
    "text": "If you want to add or update an order, you can do this in one of two ways. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1360"
  },
  {
    "text": "We'll first show how you use FinanceKit to do this. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1364"
  },
  {
    "text": "You will first need a Data serialization of the signed order package ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1368"
  },
  {
    "text": "you wish to add to Wallet. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1372"
  },
  {
    "text": "You then provide this to FinanceStore's save order method. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1374"
  },
  {
    "text": "When you do this, a screen is presented to the user ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1378"
  },
  {
    "text": "to verify the order's contents and whether they wish to track it within Wallet. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1380"
  },
  {
    "text": "Once a user has either confirmed or denied the request, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1385"
  },
  {
    "text": "you will receive the result asynchronously, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1388"
  },
  {
    "text": "and it can take three forms. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1390"
  },
  {
    "text": "Either they've added the order to Wallet, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1393"
  },
  {
    "text": "they cancelled the request, or a newer order already exists. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1395"
  },
  {
    "text": "If your app is written with SwiftUI, you can use FinanceKitUI. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1400"
  },
  {
    "text": "This provides a dedicated \"Track with Apple Wallet\" button ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1404"
  },
  {
    "text": "and allows you to process the result of adding the order. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1408"
  },
  {
    "text": "Like with FinanceKit, you will first need a serialized instance ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1412"
  },
  {
    "text": "of your signed order package. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1416"
  },
  {
    "text": "You then include AddOrderToWalletButton within your view. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1418"
  },
  {
    "text": "When a user selects this button, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1422"
  },
  {
    "text": "they will be offered the ability to add the order to their Wallet. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1424"
  },
  {
    "text": "You are then able to respond to the three results states, just like before. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1428"
  },
  {
    "text": "For merchants who want to support customers tracking an order on the web, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1433"
  },
  {
    "text": "we offer a version of this button in the JavaScript SDK. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1437"
  },
  {
    "text": "To use this, you insert an apple-wallet-button ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1440"
  },
  {
    "text": "and configure it using attributes. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1443"
  },
  {
    "text": "The type of button should be set to track-order. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1446"
  },
  {
    "text": "When using this button, it's important to set the onClick callback ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1450"
  },
  {
    "text": "to point to the location of the signed order package you wish to add. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1453"
  },
  {
    "text": "And that's what we have for you today on Order Tracking. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1458"
  },
  {
    "text": "We can't wait for you to adopt these new APIs in your apps and services. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1460"
  },
  {
    "text": "And now for something completely different, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1465"
  },
  {
    "text": "we have some exciting updates to share regarding Identity, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1468"
  },
  {
    "text": "and for that, I'll hand over to Jon. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1471"
  },
  {
    "text": "Jon: Thanks, David. Hello again. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1474"
  },
  {
    "text": "I'm Jon, an engineer on the Apple Pay and Wallet team. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1477"
  },
  {
    "text": "I'm so excited to talk about the new functionality ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1480"
  },
  {
    "text": "we've added for Identity in iOS 17. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1483"
  },
  {
    "text": "We introduced IDs in Wallet back in iOS 15.4, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1487"
  },
  {
    "text": "enabling users in supported U.S. states to add their driver's license ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1492"
  },
  {
    "text": "or state ID to Wallet. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1496"
  },
  {
    "text": "Last year, we introduced Verify with Wallet. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1499"
  },
  {
    "text": "With this API, businesses can streamline their onboarding ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1503"
  },
  {
    "text": "and account verification flows by requesting information ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1507"
  },
  {
    "text": "from a user's ID stored in Apple Wallet. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1510"
  },
  {
    "text": "This year, in iOS 17, we're introducing Tap to Present ID on iPhone.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1513"
  },
  {
    "text": "With this API, your apps can seamlessly and securely verify IDs ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1521"
  },
  {
    "text": "in Wallet or other mobile driver's licenses using just your iPhone. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1526"
  },
  {
    "text": "This builds on top of the Tap to Pay on iPhone API, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1531"
  },
  {
    "text": "which we added to the ProximityReader framework in iOS 15.4. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1535"
  },
  {
    "text": "Tap to Pay on iPhone provides a secure, private, and easy way ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1540"
  },
  {
    "text": "to accept contactless payments without the need ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1545"
  },
  {
    "text": "for additional hardware or payment terminals. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1547"
  },
  {
    "text": "Now, let's take a look at Tap to Present ID in action. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1551"
  },
  {
    "text": "Suppose I work for Spaceship Rentals ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1555"
  },
  {
    "text": "and that David would like to rent a spaceship from us. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1558"
  },
  {
    "text": "He needs to be at least 21 years old to do this, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1561"
  },
  {
    "text": "so I'm going to perform an age verification using Tap to Present ID. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1564"
  },
  {
    "text": "First, the Spaceship Rentals app invokes Tap to Present ID.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1570"
  },
  {
    "text": "My iPhone will show the business' name, logo, and the type of request ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1575"
  },
  {
    "text": "being performed, in this case, proof of age. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1580"
  },
  {
    "text": "I'll now invite David to hold his iPhone near mine.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1584"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1589"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1591"
  },
  {
    "text": "David: My iPhone now displays a consent sheet that I can review. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1592"
  },
  {
    "text": "I can see that I'm presenting my ID to Spaceship Rentals, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1596"
  },
  {
    "text": "and they are requesting my ID photo and whether I'm over 21. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1599"
  },
  {
    "text": "I'm willing to present this information, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1603"
  },
  {
    "text": "so I'll double click and confirm with Face ID.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1605"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1609"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1611"
  },
  {
    "text": "Jon: My iPhone now shows the information David presented. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1612"
  },
  {
    "text": "I see that he matches his ID photo and that he's over 21. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1616"
  },
  {
    "text": "So now he's ready for takeoff.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1621"
  },
  {
    "text": "I've just successfully verified David's ID using the Tap to Present ID API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1625"
  },
  {
    "text": "This experience offered some key benefits compared to checking a physical ID.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1630"
  },
  {
    "text": "First, the ID information itself is verified. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1636"
  },
  {
    "text": "Unlike physical IDs, which are susceptible to tampering, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1640"
  },
  {
    "text": "mobile driver's licenses are cryptographically signed ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1644"
  },
  {
    "text": "by the issuing authority, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1647"
  },
  {
    "text": "and iOS verifies the signature, so you can trust the response. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1649"
  },
  {
    "text": "Second, the experience was wireless and secure. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1654"
  },
  {
    "text": "At no point did David need to hand over his iPhone to me ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1658"
  },
  {
    "text": "or even unlock it, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1662"
  },
  {
    "text": "and the data was sent securely using NFC and Bluetooth.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1663"
  },
  {
    "text": "Finally, this is a more private way to verify an ID. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1669"
  },
  {
    "text": "David only needed to share the information necessary to verify his age, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1673"
  },
  {
    "text": "unlike with a physical ID, where everything is shared. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1677"
  },
  {
    "text": "Let's talk about the types of requests you can perform with this API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1681"
  },
  {
    "text": "We just demoed the display request. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1686"
  },
  {
    "text": "This is suitable for when you need to verify a person's name or age. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1688"
  },
  {
    "text": "The result is shown in the system UI, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1693"
  },
  {
    "text": "and no ID information is returned to your app.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1695"
  },
  {
    "text": "The API also supports data requests. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1700"
  },
  {
    "text": "These can request a wider set ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1703"
  },
  {
    "text": "of document elements, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1705"
  },
  {
    "text": "such as address, date of birth, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1706"
  },
  {
    "text": "and driving privileges, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1709"
  },
  {
    "text": "and the result is returned to your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1711"
  },
  {
    "text": "to process. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1713"
  },
  {
    "text": "To perform data requests, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1715"
  },
  {
    "text": "your app will need ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1717"
  },
  {
    "text": "an additional entitlement. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1718"
  },
  {
    "text": "Check the documentation ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1720"
  },
  {
    "text": "for more information.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1721"
  },
  {
    "text": "Now, let's have a look at how to implement this in code, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1724"
  },
  {
    "text": "starting with a display request.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1728"
  },
  {
    "text": "First, use the isSupported class property on MobileDocumentReader ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1732"
  },
  {
    "text": "to check whether the current device supports this API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1737"
  },
  {
    "text": "If it does, instantiate a reader object and call its prepare method.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1741"
  },
  {
    "text": "This will return a MobileDocumentReaderSession object. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1747"
  },
  {
    "text": "Next, create a driver's license display request ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1751"
  },
  {
    "text": "with the elements you want to verify. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1754"
  },
  {
    "text": "Here, I'm verifying whether the holder of the driver's license ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1757"
  },
  {
    "text": "is at least 21 years old. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1761"
  },
  {
    "text": "Then call requestDocument on the session, passing in the request. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1764"
  },
  {
    "text": "The reader UI will then be shown, first prompting the ID holder ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1769"
  },
  {
    "text": "to present their device, and then displaying the result of the request.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1773"
  },
  {
    "text": "Keep in mind, as this is a display request, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1779"
  },
  {
    "text": "nothing is returned from the requestDocument method. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1782"
  },
  {
    "text": "And with just a few lines of code, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1786"
  },
  {
    "text": "you've added mobile document reading capability to your app.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1788"
  },
  {
    "text": "By default, the name and logo of your brand ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1792"
  },
  {
    "text": "isn't displayed on either the reader iPhone or ID holder's device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1795"
  },
  {
    "text": "However, if you wish to display your brand information ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1800"
  },
  {
    "text": "during a document request, you can. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1804"
  },
  {
    "text": "This can be configured through Apple Business Register ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1806"
  },
  {
    "text": "and with a few more lines of code. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1809"
  },
  {
    "text": "To show your brand information during document requests, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1812"
  },
  {
    "text": "you'll need to pass in a reader token when preparing your device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1816"
  },
  {
    "text": "You'll need to create this token on your server. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1820"
  },
  {
    "text": "A reader token is a JWT, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1824"
  },
  {
    "text": "signed with a key pair you've configured ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1827"
  },
  {
    "text": "through Apple Business Register. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1830"
  },
  {
    "text": "Your server will create the reader token ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1832"
  },
  {
    "text": "with your brand ID, key ID, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1835"
  },
  {
    "text": "and a reader instance identifier. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1838"
  },
  {
    "text": "The brand and key IDs can be obtained through Apple Business Register ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1840"
  },
  {
    "text": "and are the same across all instances of your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1846"
  },
  {
    "text": "Your app will provide the reader instance identifier to your server.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1850"
  },
  {
    "text": "Back in the code, your app will fetch the reader instance identifier ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1855"
  },
  {
    "text": "from MobileDocumentReader's configuration object ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1859"
  },
  {
    "text": "and send it to your server in exchange for a reader token. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1863"
  },
  {
    "text": "Pass this token into the prepare method to obtain a reader session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1868"
  },
  {
    "text": "Then create a request and call requestDocument just as before. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1873"
  },
  {
    "text": "And now your brand's name and logo will be displayed ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1879"
  },
  {
    "text": "on both the reader iPhone and ID holder's device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1882"
  },
  {
    "text": "And that covers the display request. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1886"
  },
  {
    "text": "So far, we've looked at how to prepare a session, request a document, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1889"
  },
  {
    "text": "and how to use a reader token to show your branding information. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1893"
  },
  {
    "text": "Now let's look at how to perform a data request. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1897"
  },
  {
    "text": "These requests support a wider range of document elements, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1901"
  },
  {
    "text": "and the API returns the result to your app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1905"
  },
  {
    "text": "instead of just displaying it.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1908"
  },
  {
    "text": "To use this request type, you'll first need to prepare your device ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1911"
  },
  {
    "text": "with a reader token, just like before. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1916"
  },
  {
    "text": "Then create a driver's license data request, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1919"
  },
  {
    "text": "specifying the document elements to be requested ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1922"
  },
  {
    "text": "and whether you intend to retain the information.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1926"
  },
  {
    "text": "Calling requestDocument will show the reader UI ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1931"
  },
  {
    "text": "just like with the display request, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1934"
  },
  {
    "text": "but once the read has completed, the UI is automatically dismissed. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1936"
  },
  {
    "text": "The response is then returned to your app to process. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1941"
  },
  {
    "text": "And that's Tap to Present ID on iPhone, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1946"
  },
  {
    "text": "an exciting new API we've added to the ProximityReader framework. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1949"
  },
  {
    "text": "And now, back over to David. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1953"
  },
  {
    "text": "David: Thanks Jon! So what have we learned today? ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1956"
  },
  {
    "text": "We've taken a look at enhancements to payments ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1959"
  },
  {
    "text": "with support for Apple Pay Later and new use cases. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1962"
  },
  {
    "text": "Order Tracking's new APIs allow you to add Orders to Wallet ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1965"
  },
  {
    "text": "from within your apps and services, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1969"
  },
  {
    "text": "and there's a new way to verify mobile driver's licenses ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1971"
  },
  {
    "text": "with Tap to Present ID on iPhone. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1974"
  },
  {
    "text": "To wrap up, if you're a business, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1977"
  },
  {
    "text": "consider enrolling on Apple Business Register. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1979"
  },
  {
    "text": "This will help enrich the Wallet and Apple Pay experience for your customers. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1982"
  },
  {
    "text": "You can visit the Apple Developer forums, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1986"
  },
  {
    "text": "where you can ask questions and get help all year round. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1988"
  },
  {
    "text": "And lastly, if you have any feedback, we'd love to hear from you. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1992"
  },
  {
    "text": "You can do this by using Feedback Assistant. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1996"
  },
  {
    "text": "And that's it. We hope you've enjoyed this session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=1999"
  },
  {
    "text": "both: Thanks for watching. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=2002"
  },
  {
    "text": "♪ ♪",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10114/?time=2003"
  }
]