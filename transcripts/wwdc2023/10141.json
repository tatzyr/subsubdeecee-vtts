[
  {
    "text": "♪ ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=0"
  },
  {
    "text": "Ian: Hi, everyone. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=10"
  },
  {
    "text": "I'm Ian, and I'm an engineer on the App Store server team. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=11"
  },
  {
    "text": "Today I'll share some exciting updates about our server APIs for in-app purchase, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=14"
  },
  {
    "text": "including new features and important updates. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=20"
  },
  {
    "text": "If you're not familiar, we offer two primary APIs ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=23"
  },
  {
    "text": "that help you get the most out of in-app purchases on your server. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=27"
  },
  {
    "text": "The first is the App Store Server API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=32"
  },
  {
    "text": "You call the App Store Server API on-demand from your server, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=35"
  },
  {
    "text": "and it returns all the data you need ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=40"
  },
  {
    "text": "to effectively manage in-app purchases made in your apps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=42"
  },
  {
    "text": "The API offers a variety of powerful endpoints for retrieving ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=47"
  },
  {
    "text": "and even modifying in-app purchase data.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=52"
  },
  {
    "text": "The other major API we offer is App Store Server Notifications V2.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=57"
  },
  {
    "text": "With App Store Server Notifications V2, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=63"
  },
  {
    "text": "the App Store server proactively sends updates ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=67"
  },
  {
    "text": "to your server about in-app purchases made in your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=69"
  },
  {
    "text": "That means you can get minute-by-minute updates ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=74"
  },
  {
    "text": "without needing to poll the App Store Server API.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=77"
  },
  {
    "text": "Notifications cover a comprehensive set of events, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=82"
  },
  {
    "text": "including subscription renewals, expirations, refunds, and much more.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=85"
  },
  {
    "text": "These events allow you to track the full lifecycle of in-app purchases, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=93"
  },
  {
    "text": "so you can better understand and respond to user behavior.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=97"
  },
  {
    "text": "The App Store Server API and App Store Server Notifications V2 ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=103"
  },
  {
    "text": "share a lot of great features. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=107"
  },
  {
    "text": "They both provide transaction data in a familiar JSON format, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=110"
  },
  {
    "text": "and the data is signed, so you can be confident it came from Apple. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=114"
  },
  {
    "text": "You can also use both APIs to support your apps that use StoreKit 2 ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=120"
  },
  {
    "text": "or the original StoreKit API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=125"
  },
  {
    "text": "And we actively support these APIs ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=128"
  },
  {
    "text": "with new features based on your feedback.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=131"
  },
  {
    "text": "Today I’m happy to announce ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=135"
  },
  {
    "text": "the latest collection of updates coming ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=137"
  },
  {
    "text": "to the App Store Server API ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=139"
  },
  {
    "text": "and App Store Server Notifications V2.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=141"
  },
  {
    "text": "We have so many new features, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=146"
  },
  {
    "text": "I only have time to cover a few ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=148"
  },
  {
    "text": "in today's session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=150"
  },
  {
    "text": "Please check out our developer ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=152"
  },
  {
    "text": "documentation for the full details ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=153"
  },
  {
    "text": "of all these new features. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=155"
  },
  {
    "text": "Now let's dive into this great selection ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=158"
  },
  {
    "text": "of App Store server updates. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=161"
  },
  {
    "text": "I'll share today's updates in three parts. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=163"
  },
  {
    "text": "First, I'll detail some new features that make working with transactions ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=166"
  },
  {
    "text": "on your server easier. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=170"
  },
  {
    "text": "Next, I'll cover enhancements to App Store Server Notifications ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=173"
  },
  {
    "text": "that will help you reliably determine the status of your users' subscriptions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=177"
  },
  {
    "text": "And finally, I'll provide important updates ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=182"
  },
  {
    "text": "about migrating away from our older APIs. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=185"
  },
  {
    "text": "Let's get started with transactions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=189"
  },
  {
    "text": "Transactions are a core data object for in-app purchase. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=192"
  },
  {
    "text": "They represent an in-app purchase on a device ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=197"
  },
  {
    "text": "and contain important information about that purchase, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=199"
  },
  {
    "text": "such as the product identifier, the type, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=203"
  },
  {
    "text": "the purchase date, and much more.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=207"
  },
  {
    "text": "The App Store Server represents a transaction ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=211"
  },
  {
    "text": "through a JSON object signed with JWS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=214"
  },
  {
    "text": "This is a secure, standardized format that you'll see ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=218"
  },
  {
    "text": "across the App Store Server API and App Store Server Notifications V2.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=222"
  },
  {
    "text": "The primary way to retrieve these signed transactions ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=228"
  },
  {
    "text": "is using the Get Transaction History endpoint of the App Store Server API.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=232"
  },
  {
    "text": "This endpoint returns the full transaction history ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=239"
  },
  {
    "text": "for a given user of your app, so you can use it to keep up-to-date ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=242"
  },
  {
    "text": "with all of a user's purchases, from past to present. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=246"
  },
  {
    "text": "But sometimes, your server ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=251"
  },
  {
    "text": "is already aware of a transaction, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=252"
  },
  {
    "text": "for example, due to a call made ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=255"
  },
  {
    "text": "from your app to your server. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=257"
  },
  {
    "text": "Server-side, you may want ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=259"
  },
  {
    "text": "to further validate that transaction ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=261"
  },
  {
    "text": "and ensure you have the most ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=263"
  },
  {
    "text": "up-to-date information for it.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=265"
  },
  {
    "text": "Previously, this use case required calling ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=269"
  },
  {
    "text": "Get Transaction History ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=272"
  },
  {
    "text": "and sifting through the response ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=273"
  },
  {
    "text": "for the matching transaction. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=275"
  },
  {
    "text": "Once found, you could refresh your record ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=278"
  },
  {
    "text": "of the transaction with the data ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=280"
  },
  {
    "text": "in the response.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=282"
  },
  {
    "text": "This process might feel tedious, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=284"
  },
  {
    "text": "particularly if your user's transaction history spans multiple pages, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=286"
  },
  {
    "text": "requiring multiple calls to the endpoint. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=291"
  },
  {
    "text": "And it also doesn't work if you're looking for a finished consumable transaction, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=294"
  },
  {
    "text": "as those don't appear in the Get Transaction History response. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=299"
  },
  {
    "text": "This use case simply demands a more specific solution.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=303"
  },
  {
    "text": "That's why today, we're introducing a new endpoint ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=309"
  },
  {
    "text": "that will directly address this use case. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=312"
  },
  {
    "text": "With the new Get Transaction Info endpoint, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=315"
  },
  {
    "text": "you can request the signed transaction information for a single purchase, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=318"
  },
  {
    "text": "and all you need to provide is a transactionId.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=323"
  },
  {
    "text": "All transactionIds are supported, no matter the product type ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=328"
  },
  {
    "text": "or the finished status of the transaction ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=332"
  },
  {
    "text": "on the user's device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=334"
  },
  {
    "text": "That's right, you can even fetch ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=336"
  },
  {
    "text": "finished consumables from this endpoint.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=338"
  },
  {
    "text": "Let's take a quick look at how the new endpoint works.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=343"
  },
  {
    "text": "You'll send a GET request to this new endpoint on the App Store server, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=347"
  },
  {
    "text": "including the transactionId as a path parameter.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=352"
  },
  {
    "text": "You'll receive a response containing a signedTransactionInfo string.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=357"
  },
  {
    "text": "By decoding the signedTransactionInfo, you can view the transaction information ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=363"
  },
  {
    "text": "for the ID you provided in the request.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=368"
  },
  {
    "text": "And that's it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=373"
  },
  {
    "text": "The new Get Transaction Info endpoint is quite simple, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=374"
  },
  {
    "text": "but makes for greater flexibility when working with transactions on your server. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=377"
  },
  {
    "text": "I think you'll find it useful for a variety of use cases. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=382"
  },
  {
    "text": "Now, let's take that theme of flexibility and extend it even further.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=386"
  },
  {
    "text": "You might be familiar with these popular endpoints of the App Store Server API.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=392"
  },
  {
    "text": "Each of these endpoints require an originalTransactionId ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=398"
  },
  {
    "text": "as a path parameter. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=402"
  },
  {
    "text": "This id indicates to the server which user you're requesting or sending data for.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=404"
  },
  {
    "text": "But you might not always have an originalTransactionId handy. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=411"
  },
  {
    "text": "What if all you have is a transactionId? ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=415"
  },
  {
    "text": "You could send it to the new Get Transaction Info endpoint ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=419"
  },
  {
    "text": "in order to retrieve the originalTransactionId, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=422"
  },
  {
    "text": "but why call one endpoint just to call another? ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=425"
  },
  {
    "text": "Instead, starting today, you can call these endpoints with any transactionId.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=429"
  },
  {
    "text": "Just provide the ID in the path of your request, just as you did before. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=436"
  },
  {
    "text": "We hope this greater flexibility will make it easier than ever ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=441"
  },
  {
    "text": "to call these core endpoints of the App Store Server API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=444"
  },
  {
    "text": "And if you're already calling these endpoints ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=448"
  },
  {
    "text": "with originalTransactionIds, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=450"
  },
  {
    "text": "don't worry, they will continue to work as well. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=452"
  },
  {
    "text": "Now let's switch over to updates coming to App Store Server Notifications. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=456"
  },
  {
    "text": "If your app offers auto-renewable subscriptions, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=462"
  },
  {
    "text": "it's important for you to keep track of the status of those subscriptions ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=465"
  },
  {
    "text": "and how it changes over time.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=468"
  },
  {
    "text": "Here you can see the five possible statuses of a subscription. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=472"
  },
  {
    "text": "With App Store Server Notifications V2, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=477"
  },
  {
    "text": "you receive prompt notifications ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=480"
  },
  {
    "text": "for events that lead to changes in this status, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=482"
  },
  {
    "text": "so you can quickly enable and disable content ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=485"
  },
  {
    "text": "at the appropriate time and maintain a smooth user experience.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=488"
  },
  {
    "text": "Let's take a look at how notifications can inform your knowledge ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=493"
  },
  {
    "text": "of a subscription's status. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=497"
  },
  {
    "text": "Many notification events directly indicate ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=499"
  },
  {
    "text": "the status of the subscription ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=502"
  },
  {
    "text": "through their type and subtype. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=504"
  },
  {
    "text": "Take for example this SUBSCRIBED ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=507"
  },
  {
    "text": "notification with subtype INITIAL_BUY.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=509"
  },
  {
    "text": "This notification indicates ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=514"
  },
  {
    "text": "a new subscription to your product, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=516"
  },
  {
    "text": "so you know the subscription's status ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=518"
  },
  {
    "text": "is Active.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=520"
  },
  {
    "text": "Here's an even simpler example, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=523"
  },
  {
    "text": "where the notification type is EXPIRED.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=525"
  },
  {
    "text": "This clearly indicates that the status ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=529"
  },
  {
    "text": "of the associated subscription ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=531"
  },
  {
    "text": "is now Expired.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=533"
  },
  {
    "text": "But for some notifications, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=537"
  },
  {
    "text": "the subscription status ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=538"
  },
  {
    "text": "may not be so clear. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=540"
  },
  {
    "text": "Take for example this REFUND notification. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=542"
  },
  {
    "text": "This notification type is sent ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=546"
  },
  {
    "text": "when a refund is granted ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=548"
  },
  {
    "text": "for an in-app purchase made in your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=549"
  },
  {
    "text": "Checking the signedTransactionInfo ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=553"
  },
  {
    "text": "of this notification will tell us ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=555"
  },
  {
    "text": "what purchase was refunded.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=557"
  },
  {
    "text": "In this case, we see the refund ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=561"
  },
  {
    "text": "was for an auto-renewable subscription, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=563"
  },
  {
    "text": "so we'd like to update our record ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=565"
  },
  {
    "text": "of the subscription's status.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=567"
  },
  {
    "text": "It might be tempting to assume ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=571"
  },
  {
    "text": "the status is now \"Revoked,\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=573"
  },
  {
    "text": "but that's not necessarily the case. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=576"
  },
  {
    "text": "If there's a more recent subscription renewal purchase ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=578"
  },
  {
    "text": "with the same originalTransactionId, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=582"
  },
  {
    "text": "the status of the subscription could still be Active. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=584"
  },
  {
    "text": "If that's the case, you should not disable access ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=589"
  },
  {
    "text": "to the subscription content.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=592"
  },
  {
    "text": "In this situation, the status ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=596"
  },
  {
    "text": "of the subscription is simply unclear, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=598"
  },
  {
    "text": "and the data in the notification alone ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=601"
  },
  {
    "text": "is not enough to update it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=603"
  },
  {
    "text": "This is not ideal. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=606"
  },
  {
    "text": "When you receive an App Store server notification for a subscription, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=608"
  },
  {
    "text": "we want it to clearly indicate the latest status of the subscription, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=612"
  },
  {
    "text": "so you can keep this important information up-to-date on your server.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=616"
  },
  {
    "text": "That's why today, we're introducing a new status field ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=622"
  },
  {
    "text": "to the data object of App Store Server Notifications V2. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=625"
  },
  {
    "text": "This field is a simple integer that indicates one ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=630"
  },
  {
    "text": "of the five core states of a subscription I detailed earlier.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=633"
  },
  {
    "text": "This new field will be included in every notification we send ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=640"
  },
  {
    "text": "for auto-renewable subscriptions.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=643"
  },
  {
    "text": "Now you can get the status ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=646"
  },
  {
    "text": "of a subscription without having to call ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=648"
  },
  {
    "text": "the Get All Subscription Statuses endpoint ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=650"
  },
  {
    "text": "of the App Store Server API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=653"
  },
  {
    "text": "Let's see how this new field improves the scenario I described earlier. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=655"
  },
  {
    "text": "Now when you receive a REFUND notification ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=660"
  },
  {
    "text": "for a subscription, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=663"
  },
  {
    "text": "you can simply check the status field ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=665"
  },
  {
    "text": "to understand the status ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=668"
  },
  {
    "text": "of the subscription.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=669"
  },
  {
    "text": "In this case it's 1, so you know ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=672"
  },
  {
    "text": "the associated subscription is Active.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=674"
  },
  {
    "text": "The new status field makes App Store Server Notifications ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=678"
  },
  {
    "text": "more useful than ever, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=682"
  },
  {
    "text": "so useful, that you'll want to ensure you don't miss a single one. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=684"
  },
  {
    "text": "But if your server experiences an outage, the App Store server may not be able ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=688"
  },
  {
    "text": "to reach it to send a notification.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=693"
  },
  {
    "text": "That's why we offer the Get Notification History endpoint ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=696"
  },
  {
    "text": "of the App Store Server API.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=700"
  },
  {
    "text": "This endpoint allows you to request up to the last six months ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=704"
  },
  {
    "text": "of version 2 notifications the App Store server generated for your app.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=708"
  },
  {
    "text": "That way when your server has a known outage, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=715"
  },
  {
    "text": "you can call this endpoint for the outage period ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=718"
  },
  {
    "text": "and retrieve any notifications your server missed.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=720"
  },
  {
    "text": "For some use cases though, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=725"
  },
  {
    "text": "this process might not feel very efficient. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=726"
  },
  {
    "text": "Occasionally, your server may miss a notification even outside of an outage, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=729"
  },
  {
    "text": "for example, due to transient network issues. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=734"
  },
  {
    "text": "In this situation, you might not have a clear time period ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=738"
  },
  {
    "text": "to query the endpoint with, leaving you to sift through pages ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=741"
  },
  {
    "text": "of notifications that your server has largely already received.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=745"
  },
  {
    "text": "To address this use case, we're introducing a new request field ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=750"
  },
  {
    "text": "to Get Notification History called \"onlyFailures\".",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=754"
  },
  {
    "text": "This optional field will limit the notifications returned to only those ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=759"
  },
  {
    "text": "that have failed to reach your server. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=764"
  },
  {
    "text": "The response will even contain notifications ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=767"
  },
  {
    "text": "that are currently in the retry process.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=770"
  },
  {
    "text": "Now you can recover from outages and occasional network issues much faster, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=774"
  },
  {
    "text": "as you only need to parse notifications that your server hasn't already seen. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=779"
  },
  {
    "text": "Let's take a look at how this new field works. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=784"
  },
  {
    "text": "You send a request to the Get Notification History endpoint, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=788"
  },
  {
    "text": "and you include the new field, onlyFailures, in the request body.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=792"
  },
  {
    "text": "Here's the response.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=798"
  },
  {
    "text": "Each entry in the notificationHistory array represents a notification, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=801"
  },
  {
    "text": "and since you included the new onlyFailures field in your request, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=807"
  },
  {
    "text": "every notification listed here has failed to reach your server.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=811"
  },
  {
    "text": "Let's zoom in to a single notification entry.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=816"
  },
  {
    "text": "Here we have the signedPayload. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=821"
  },
  {
    "text": "We can decode this string to view the contents of the notification, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=824"
  },
  {
    "text": "just as it was originally sent to your server.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=828"
  },
  {
    "text": "Taking a look at the sendAttempts array for this notification, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=833"
  },
  {
    "text": "we can now see the result of each send attempt. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=837"
  },
  {
    "text": "This array may contain up to six entries, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=841"
  },
  {
    "text": "with one for the initial send attempt, and up to five for retries.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=844"
  },
  {
    "text": "Here we see only two entries, and both have failed, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=850"
  },
  {
    "text": "so the notification must still be in the retry process. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=854"
  },
  {
    "text": "If a later retry is successful, this notification will no longer appear ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=859"
  },
  {
    "text": "for subsequent requests that include the onlyFailures field.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=864"
  },
  {
    "text": "So that's how the new onlyFailures field works. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=869"
  },
  {
    "text": "I think you'll find that it makes Get Notification History even more useful.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=872"
  },
  {
    "text": "Finally, an important update about migrating away from our older APIs.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=878"
  },
  {
    "text": "If your app has offered in-app purchases for some time, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=884"
  },
  {
    "text": "you're likely familiar with the verifyReceipt API.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=888"
  },
  {
    "text": "In 2021, we released the App Store Server API as the new way ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=893"
  },
  {
    "text": "to get in-app purchase data from the App Store Server. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=898"
  },
  {
    "text": "Let's compare these two APIs.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=901"
  },
  {
    "text": "With verifyReceipt, you can verify and decode the receipts ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=906"
  },
  {
    "text": "you receive from clients running the original version of StoreKit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=911"
  },
  {
    "text": "With the App Store Server API, you can fetch all the same data ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=915"
  },
  {
    "text": "you find in receipts and more using these three endpoints. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=919"
  },
  {
    "text": "And the App Store Server API also provides a variety ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=923"
  },
  {
    "text": "of additional endpoints that offer useful data ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=927"
  },
  {
    "text": "and powerful functionality ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=930"
  },
  {
    "text": "you won't find anywhere else.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=932"
  },
  {
    "text": "Shifting to our notification APIs, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=936"
  },
  {
    "text": "we still support the older App Store Server Notifications V1.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=939"
  },
  {
    "text": "But in 2021, we introduced App Store Server Notifications V2. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=945"
  },
  {
    "text": "Now let's compare these APIs.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=950"
  },
  {
    "text": "App Store Server Notifications V1 and V2 both offer ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=954"
  },
  {
    "text": "real-time in-app purchase events sent directly to your server. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=959"
  },
  {
    "text": "But V2 offers greater clarity ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=964"
  },
  {
    "text": "by defining events using both a type and subtype. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=966"
  },
  {
    "text": "And the differences don't stop there. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=970"
  },
  {
    "text": "V2 also offers notifications for additional events, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=973"
  },
  {
    "text": "the ability to request a test notification, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=977"
  },
  {
    "text": "access to notification history, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=980"
  },
  {
    "text": "and the brand-new status field ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=983"
  },
  {
    "text": "for tracking the state of your users' subscriptions.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=985"
  },
  {
    "text": "By adopting the App Store Server API and App Store Server Notifications V2, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=989"
  },
  {
    "text": "you'll unlock a wide array of new features for securely ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=995"
  },
  {
    "text": "and efficiently managing in-app purchase data on your server. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=998"
  },
  {
    "text": "Ultimately, that means a better in-app purchase experience for your customers.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1003"
  },
  {
    "text": "That's why today, we're announcing the deprecation ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1009"
  },
  {
    "text": "of verifyReceipt and App Store Server Notifications V1. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1011"
  },
  {
    "text": "Starting today, these APIs are considered deprecated ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1016"
  },
  {
    "text": "and will no longer receive feature updates.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1020"
  },
  {
    "text": "Start planning your migration now ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1024"
  },
  {
    "text": "to enjoy all the benefits of the newer APIs.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1026"
  },
  {
    "text": "Migration requires just a few short steps.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1031"
  },
  {
    "text": "To migrate from verifyReceipt to the App Store Server API, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1036"
  },
  {
    "text": "you'll first need to sign a JWT to represent your app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1040"
  },
  {
    "text": "which is a simple process outlined in our documentation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1044"
  },
  {
    "text": "Whenever you call the App Store Server API, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1049"
  },
  {
    "text": "you'll provide this JWT as a header. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1052"
  },
  {
    "text": "It will prove that you own the requested app data.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1055"
  },
  {
    "text": "Next, you'll need to save a transactionId for each of your users. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1060"
  },
  {
    "text": "You'll provide this transactionId as a path parameter ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1065"
  },
  {
    "text": "whenever you call core endpoints, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1069"
  },
  {
    "text": "like Get Transaction History and Get All Subscription Statuses. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1071"
  },
  {
    "text": "Any transactionId will work. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1076"
  },
  {
    "text": "If you maintain a database you likely already have one saved. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1078"
  },
  {
    "text": "Otherwise, you can extract one from a receipt for each of your users.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1082"
  },
  {
    "text": "And that's it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1088"
  },
  {
    "text": "You'll then have access to all the same data you used to get from verifyReceipt ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1090"
  },
  {
    "text": "and so much more.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1094"
  },
  {
    "text": "Migration from App Store Server Notifications V1 ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1098"
  },
  {
    "text": "to V2 is even simpler. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1101"
  },
  {
    "text": "First, prepare your server to parse ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1105"
  },
  {
    "text": "the new V2 format. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1108"
  },
  {
    "text": "If you're already using ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1110"
  },
  {
    "text": "the App Store Server API, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1112"
  },
  {
    "text": "this step should be straightforward, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1113"
  },
  {
    "text": "as App Store Server Notifications V2 uses ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1115"
  },
  {
    "text": "the same JWS transaction format.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1119"
  },
  {
    "text": "Once your server is ready, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1124"
  },
  {
    "text": "visit App Store Connect to change ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1126"
  },
  {
    "text": "your preference from V1 to V2 notifications. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1128"
  },
  {
    "text": "To test your implementation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1132"
  },
  {
    "text": "you can start by receiving version 2 ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1134"
  },
  {
    "text": "notifications in sandbox only.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1136"
  },
  {
    "text": "After switching your preference, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1141"
  },
  {
    "text": "the App Store server will start sending ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1142"
  },
  {
    "text": "new notifications in the V2 format. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1144"
  },
  {
    "text": "If you have any V1 notifications ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1148"
  },
  {
    "text": "in the retry process, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1150"
  },
  {
    "text": "you may continue to receive them ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1152"
  },
  {
    "text": "for up to three days.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1154"
  },
  {
    "text": "For more assistance with migration, we have additional resources available. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1157"
  },
  {
    "text": "The App Store Server API and App Store Server Notifications V2 ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1162"
  },
  {
    "text": "are available in the sandbox environment, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1167"
  },
  {
    "text": "so you can test your implementation before rolling it out to production.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1169"
  },
  {
    "text": "And this week, we are releasing the App Store Server Library, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1175"
  },
  {
    "text": "a new open-source library for calling the App Store Server API ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1179"
  },
  {
    "text": "and parsing App Store Server Notifications V2. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1183"
  },
  {
    "text": "It can help you easily call our endpoints, verify the signed data you receive, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1188"
  },
  {
    "text": "and even extract transactionIds from receipts to make migration easier.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1194"
  },
  {
    "text": "I hope you'll check out its dedicated ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1201"
  },
  {
    "text": "session at WWDC this year titled ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1203"
  },
  {
    "text": "\"Meet the App Store Server Library.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1206"
  },
  {
    "text": "And for more tips on how to migrate, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1209"
  },
  {
    "text": "see the WWDC22 session titled, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1211"
  },
  {
    "text": "\"Explore in-app purchase integration ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1215"
  },
  {
    "text": "and migration\".",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1217"
  },
  {
    "text": "That concludes our App Store Server updates for this session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1220"
  },
  {
    "text": "I hope you'll utilize the great new capabilities we announced today, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1224"
  },
  {
    "text": "and check out our documentation for even more features ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1228"
  },
  {
    "text": "we didn't have time to review.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1231"
  },
  {
    "text": "Every feature is available now in both sandbox and production, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1234"
  },
  {
    "text": "so you can first test in sandbox, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1238"
  },
  {
    "text": "then roll out to your production server whenever you're ready.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1240"
  },
  {
    "text": "And we'd love to hear from you. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1245"
  },
  {
    "text": "If you have feature requests for the App Store server, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1247"
  },
  {
    "text": "please let us know through Apple’s Feedback Assistant. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1250"
  },
  {
    "text": "Thanks for joining me at WWDC23! ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1254"
  },
  {
    "text": "♪ ♪",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10141/?time=1257"
  }
]