[
  {
    "text": "♪ ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=0"
  },
  {
    "text": "Ricky: Hello, I'm Ricky, and welcome ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=10"
  },
  {
    "text": "to \"What's new in StoreKit 2 and StoreKit Testing in Xcode.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=12"
  },
  {
    "text": "In this session, I'll talk about the new features ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=16"
  },
  {
    "text": "we're bringing to StoreKit this year, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=19"
  },
  {
    "text": "as well as the enhancements to the testing experience in Xcode. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=20"
  },
  {
    "text": "StoreKit 2 was first introduced at WWDC in 2021, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=24"
  },
  {
    "text": "with new and more flexible APIs using Swift. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=28"
  },
  {
    "text": "This year, I am excited to show you ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=32"
  },
  {
    "text": "the new features that make StoreKit 2 even better. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=34"
  },
  {
    "text": "First, I will review the new StoreKit framework features, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=37"
  },
  {
    "text": "then, I'll share some updates for building SwiftUI apps using StoreKit, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=41"
  },
  {
    "text": "and finally, I will cover what's new in StoreKit Testing in Xcode. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=45"
  },
  {
    "text": "I am excited to introduce a new Swift API ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=50"
  },
  {
    "text": "for managing promoted in-app purchases, available starting in iOS 16.4. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=53"
  },
  {
    "text": "Promoted in-app purchases is a feature that allows you ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=58"
  },
  {
    "text": "to merchandise your products on your App Store product page, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=60"
  },
  {
    "text": "each with a dedicated promotional image. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=63"
  },
  {
    "text": "Promoting your in-app purchases is a great way ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=66"
  },
  {
    "text": "to increase your product's visibility, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=69"
  },
  {
    "text": "and you can easily set up promoted purchases in App Store Connect. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=70"
  },
  {
    "text": "To learn more about configuring promoted in-app purchases, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=74"
  },
  {
    "text": "check out \"What's new in App Store Connect.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=77"
  },
  {
    "text": "Since promoted in-app purchases are listed on the App Store, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=80"
  },
  {
    "text": "when a customer buys a promoted product, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=83"
  },
  {
    "text": "their interaction starts here by tapping the purchase button. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=85"
  },
  {
    "text": "Then, the App Store sends the purchase data to your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=89"
  },
  {
    "text": "where you can listen for this information and prompt them to complete the purchase. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=92"
  },
  {
    "text": "To listen for promoted purchases, use the Swift async sequence ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=97"
  },
  {
    "text": "which receives a new purchase intent every time a customer initiates ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=101"
  },
  {
    "text": "the purchase for a promoted product in the App Store. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=104"
  },
  {
    "text": "First, create a listener to receive purchase intents ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=107"
  },
  {
    "text": "using PurchaseIntent.intents. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=110"
  },
  {
    "text": "Every time the sequence receives a new object, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=114"
  },
  {
    "text": "it contains the StoreKit Product associated with the purchase. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=116"
  },
  {
    "text": "You can prompt your customers to purchase these products as usual ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=121"
  },
  {
    "text": "by calling purchase(), which displays the familiar payment sheet ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=124"
  },
  {
    "text": "and allows them to complete the interaction there. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=127"
  },
  {
    "text": "If your app isn't ready to complete a purchase, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=130"
  },
  {
    "text": "you can also save the intent locally and defer it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=132"
  },
  {
    "text": "You can always process it later.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=136"
  },
  {
    "text": "Another feature of promoting in-app purchases ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=140"
  },
  {
    "text": "is being able to customize how your products are displayed locally ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=143"
  },
  {
    "text": "on the current device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=146"
  },
  {
    "text": "For example, if a customer buys one of these products, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=147"
  },
  {
    "text": "you can hide it, so the App Store doesn't show it again when they browse or search. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=151"
  },
  {
    "text": "You can also change the product order, or the subset of products featured, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=155"
  },
  {
    "text": "based on a current state in your app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=159"
  },
  {
    "text": "for example, a level advancement in a game.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=161"
  },
  {
    "text": "To cover all of these cases, I am excited to show you ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=165"
  },
  {
    "text": "some new Swift APIs that you can use to customize the order ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=167"
  },
  {
    "text": "and the visibility of your promoted in-app purchases. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=170"
  },
  {
    "text": "Let's see a quick demonstration.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=174"
  },
  {
    "text": "After importing StoreKit, you can check the current promotion order ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=176"
  },
  {
    "text": "with Product.PromotionInfo.currentOrder. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=180"
  },
  {
    "text": "This returns a sequence of PromotionInfo objects, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=184"
  },
  {
    "text": "in the order that is currently set. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=186"
  },
  {
    "text": "If this list is empty, it means there are no local overrides ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=189"
  },
  {
    "text": "set for this device, and the products people see ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=191"
  },
  {
    "text": "in the App Store are in the same order that you configured in App Store Connect. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=194"
  },
  {
    "text": "Each object in this sequence contains information ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=198"
  },
  {
    "text": "regarding a promoted product in your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=200"
  },
  {
    "text": "To set a custom order of promotions, you can use the ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=204"
  },
  {
    "text": "Product.PromotionInfo.updateProductOrder API ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=206"
  },
  {
    "text": "and pass a list of product identifiers ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=210"
  },
  {
    "text": "in the order you want them to appear in the App Store for this device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=212"
  },
  {
    "text": "You can also hide and show products without having to set a whole new order. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=216"
  },
  {
    "text": "This can be done by changing the visibility property ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=220"
  },
  {
    "text": "associated with promoted in-app purchases.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=222"
  },
  {
    "text": "The visibility state can be visible, hidden, or default, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=225"
  },
  {
    "text": "which follows the settings you configure in App Store Connect ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=231"
  },
  {
    "text": "and applies to all devices that don't have a local override set by your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=233"
  },
  {
    "text": "Let's see how we can change this in code.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=238"
  },
  {
    "text": "The visibility value can be changed in a couple of different ways. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=241"
  },
  {
    "text": "Your app can call ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=245"
  },
  {
    "text": "the Product.PromotionInfo. updateProductVisibility API ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=246"
  },
  {
    "text": "and change the value for a single product by passing both the new visibility state ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=250"
  },
  {
    "text": "and the identifier of that in-app purchase. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=254"
  },
  {
    "text": "Alternatively, you can also change the visibility value ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=257"
  },
  {
    "text": "by setting a member property on each PromotionInfo object. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=260"
  },
  {
    "text": "Then, to save the changes, call update() on that same object you just modified. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=264"
  },
  {
    "text": "And that is everything you need to start using promoted in-app purchases ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=269"
  },
  {
    "text": "with StoreKit 2. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=273"
  },
  {
    "text": "Now, I would like to show you some of the enhancements we made ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=275"
  },
  {
    "text": "to the core data model in StoreKit 2.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=278"
  },
  {
    "text": "These models are useful for managing your in-app purchases ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=282"
  },
  {
    "text": "and related information, for example, the purchase date ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=285"
  },
  {
    "text": "and the subscription status. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=288"
  },
  {
    "text": "Let's dive into the new fields we're adding to the Transaction ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=291"
  },
  {
    "text": "and RenewalInfo data models, which bring great improvements many of you requested.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=293"
  },
  {
    "text": "The first new field is storefront, and it appears ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=300"
  },
  {
    "text": "in the Transaction model along with storefrontCountryCode. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=303"
  },
  {
    "text": "The next new field is called reason. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=307"
  },
  {
    "text": "It tells you whether a customer initiated a purchase, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=309"
  },
  {
    "text": "or if the transaction is an automatic subscription renewal. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=311"
  },
  {
    "text": "In the RenewalInfo model under Product.SubscriptionInfo, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=316"
  },
  {
    "text": "there is a new member called nextRenewalDate. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=319"
  },
  {
    "text": "This tells you when this subscription renewal will be processed. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=322"
  },
  {
    "text": "All of these new fields are available for apps you build with Xcode 15, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=326"
  },
  {
    "text": "and although initially released with iOS 17, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=330"
  },
  {
    "text": "most of them also work retroactively with prior versions of iOS as well ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=333"
  },
  {
    "text": "when you are using StoreKit 2. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=337"
  },
  {
    "text": "Next, I'd like to talk about StoreKit Messages ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=339"
  },
  {
    "text": "and the great new feature we just added. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=342"
  },
  {
    "text": "We introduced the Message API last year at WWDC 2022 ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=344"
  },
  {
    "text": "as a way for the App Store to notify your customers of important information. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=348"
  },
  {
    "text": "Messages have a Reason value that tells you the purpose of the message. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=352"
  },
  {
    "text": "Your app can choose whether to defer or suppress messages. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=356"
  },
  {
    "text": "For example, you may want to defer a message ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=360"
  },
  {
    "text": "if displaying it would interrupt your customers during an interaction flow. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=362"
  },
  {
    "text": "Otherwise, StoreKit displays any active messages automatically ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=366"
  },
  {
    "text": "when your app launches. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=370"
  },
  {
    "text": "This year, we added a new message reason called billingIssue. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=372"
  },
  {
    "text": "This message is available starting in iOS 16.4. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=375"
  },
  {
    "text": "The App Store sends this message when a subscription fails to renew ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=379"
  },
  {
    "text": "because of a billing problem. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=382"
  },
  {
    "text": "StoreKit displays a Billing Problem sheet, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=384"
  },
  {
    "text": "and customers can resolve the issue without leaving your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=386"
  },
  {
    "text": "This new property is already enabled in sandbox to give you time to test it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=390"
  },
  {
    "text": "Please check back on the Apple Developer website later this year ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=393"
  },
  {
    "text": "for updates on when this will be enabled for all customers. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=397"
  },
  {
    "text": "When the App Store fails to renew a subscription, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=400"
  },
  {
    "text": "the subscription goes into a Billing Retry state. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=402"
  },
  {
    "text": "To learn about how to test this feature in sandbox, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=406"
  },
  {
    "text": "please refer to the WWDC session on testing in-app purchases. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=408"
  },
  {
    "text": "Now, let's review some security related updates. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=413"
  },
  {
    "text": "In order to keep StoreKit up-to-date with modern security practices, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=416"
  },
  {
    "text": "we're migrating our receipt signing certificate ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=420"
  },
  {
    "text": "from using SHA-1 to SHA-256 for the \"original StoreKit\" receipt. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=422"
  },
  {
    "text": "Modern versions of cryptographic libraries, like OpenSSL, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=427"
  },
  {
    "text": "already support SHA-256, but if your app performs on-device receipt validation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=431"
  },
  {
    "text": "it is important you verify that it handles the new certificate properly. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=436"
  },
  {
    "text": "The new SHA-256 signing certificate will be used to sign receipts in sandbox ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=440"
  },
  {
    "text": "starting on June 20th, and you will be able to test ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=445"
  },
  {
    "text": "on devices running iOS 16.6 and macOS 13.5 or later. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=448"
  },
  {
    "text": "After August 14th, the new certificate will be used ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=453"
  },
  {
    "text": "to sign receipts for all new apps and app updates ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=456"
  },
  {
    "text": "submitted to the App Store. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=458"
  },
  {
    "text": "For more details on this timeline, you can check the Apple Developer website. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=460"
  },
  {
    "text": "If your app uses StoreKit 2, you don't need to do anything. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=465"
  },
  {
    "text": "StoreKit 2's Signed Transaction, Renewal Info, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=468"
  },
  {
    "text": "and App Transaction already use SHA-256 today. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=471"
  },
  {
    "text": "And if you use App Store server APIs to do receipt validation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=474"
  },
  {
    "text": "you also don't need to make any changes, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=478"
  },
  {
    "text": "since we handle the new format automatically. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=480"
  },
  {
    "text": "Next, I am excited to show you a whole new set of features for StoreKit ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=483"
  },
  {
    "text": "that make it very easy and quick to merchandise in-app purchases ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=487"
  },
  {
    "text": "in your app, using SwiftUI. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=490"
  },
  {
    "text": "There are new APIs to create SwiftUI views for single in-app purchases, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=492"
  },
  {
    "text": "whole stores of products, and even some custom ones specific to subscriptions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=496"
  },
  {
    "text": "These function like normal SwiftUI views and require minimal code to implement, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=500"
  },
  {
    "text": "allowing you to get up and running with your app as quick as possible. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=504"
  },
  {
    "text": "Let's take a look at these new views. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=508"
  },
  {
    "text": "With this product view, you can represent a single in-app purchase, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=511"
  },
  {
    "text": "complete with its localized title, description, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=514"
  },
  {
    "text": "and even the optional promotional image. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=517"
  },
  {
    "text": "You can create it by passing product identifier to ProductView. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=520"
  },
  {
    "text": "And there is no need to load the StoreKit product either. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=524"
  },
  {
    "text": "You can just use the productID string. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=526"
  },
  {
    "text": "StoreKit and SwiftUI will take care of the rest. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=528"
  },
  {
    "text": "There is also a new view to display a whole collection of products, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=531"
  },
  {
    "text": "like a store right in your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=534"
  },
  {
    "text": "Instead of passing a single product identifier, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=536"
  },
  {
    "text": "you can use a collection of productIDs in combination with StoreView ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=539"
  },
  {
    "text": "to create a list of products to merchandise, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=543"
  },
  {
    "text": "which you can then further customize using SwiftUI components. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=545"
  },
  {
    "text": "The StoreView is a great way to get your app or game started ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=549"
  },
  {
    "text": "and support in-app purchases, since it requires ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=552"
  },
  {
    "text": "only a few lines of code to set up, like shown here. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=555"
  },
  {
    "text": "Last but not least, there is also a new view ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=558"
  },
  {
    "text": "to merchandise subscriptions with all of their available levels of service. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=561"
  },
  {
    "text": "Use SubscriptionStoreView to quickly create a custom page ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=565"
  },
  {
    "text": "for a subscription group, like this one. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=569"
  },
  {
    "text": "All you need is the subscriptionGroupID, which you can normally find ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=571"
  },
  {
    "text": "in App Store Connect, but it's now also available ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=575"
  },
  {
    "text": "in the StoreKit configuration, right in Xcode. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=577"
  },
  {
    "text": "There are many possible customizations that can be easily added ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=580"
  },
  {
    "text": "to any of these new view types. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=583"
  },
  {
    "text": "For example, check out how changing a few lines of code ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=585"
  },
  {
    "text": "to create a custom background can significantly alter ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=588"
  },
  {
    "text": "the look of this SubscriptionStoreView. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=591"
  },
  {
    "text": "To go along with these new subscription changes, we’re also adding ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=593"
  },
  {
    "text": "an additional manage subscription sheet to provide a new experience ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=596"
  },
  {
    "text": "to how people can interact and choose their subscription in a StoreKit app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=600"
  },
  {
    "text": "Let's take a look at it.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=604"
  },
  {
    "text": "Here, you can see the familiar flow to manage subscriptions, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=606"
  },
  {
    "text": "which shows the customer a sheet with their current active tiers ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=610"
  },
  {
    "text": "and provides the option to tap into each one ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=613"
  },
  {
    "text": "to see a list of the other ones available in that subscription group. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=615"
  },
  {
    "text": "To make this process faster and provide more customization, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=619"
  },
  {
    "text": "there is now another view that allows you to skip a step ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=622"
  },
  {
    "text": "and jump right into the subscription group you would like to show. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=625"
  },
  {
    "text": "You can pick the relevant subscription group in your app's context, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=628"
  },
  {
    "text": "if you have more than one, for example, and show what other levels of service ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=631"
  },
  {
    "text": "are available for your customers to choose. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=635"
  },
  {
    "text": "This sheet can be used with the same API as the regular one: ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=638"
  },
  {
    "text": ".manageSubscriptionsSheet. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=641"
  },
  {
    "text": "This time, additionally pass the subscriptionGroupID parameter.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=643"
  },
  {
    "text": "There is so much more to show you on the topic of creating SwiftUI apps ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=648"
  },
  {
    "text": "with StoreKit, with lots of other views and customization ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=651"
  },
  {
    "text": "you can apply to make it fit your app's aesthetic. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=654"
  },
  {
    "text": "If you would like to learn more, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=658"
  },
  {
    "text": "Greg will tell you about it in \"Meet StoreKit for SwiftUI.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=659"
  },
  {
    "text": "After looking at the new features for in-app purchases in StoreKit, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=663"
  },
  {
    "text": "let's see how we can test them using the new tools in StoreKit Testing ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=667"
  },
  {
    "text": "in Xcode, starting with Xcode 15. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=670"
  },
  {
    "text": "With StoreKit Testing in Xcode you can ensure your app using StoreKit ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=672"
  },
  {
    "text": "provides a great experience from the time you start building it, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=676"
  },
  {
    "text": "even before you set anything up in App Store Connect. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=679"
  },
  {
    "text": "This allows you to test, manage, edit, and even create actions ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=682"
  },
  {
    "text": "related to StoreKit while testing on your Mac, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=686"
  },
  {
    "text": "and it is supported on both the simulators and devices. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=690"
  },
  {
    "text": "Starting off with the transaction manager, there is new functionality ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=693"
  },
  {
    "text": "for debugging and testing your apps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=697"
  },
  {
    "text": "It now organizes all of your testing apps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=699"
  },
  {
    "text": "In the navigator, you can see all the current connected devices ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=702"
  },
  {
    "text": "and simulators that have your current StoreKit apps installed ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=705"
  },
  {
    "text": "using a StoreKit configuration for testing. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=708"
  },
  {
    "text": "This allows you to test on multiple devices at the same time ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=711"
  },
  {
    "text": "much more easily and quickly, and you are not required ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=713"
  },
  {
    "text": "to run your app to see a history of purchases. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=716"
  },
  {
    "text": "Let's jump in and see what that looks like. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=720"
  },
  {
    "text": "I have both an iPhone connected to my Mac and a simulator running. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=722"
  },
  {
    "text": "And I'm using the new in-development game, Backyard Birds. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=726"
  },
  {
    "text": "When you open Xcode, no matter if you have a project opened or not, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=730"
  },
  {
    "text": "you can go to Debug, StoreKit, Manage Transactions, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=734"
  },
  {
    "text": "and be presented with the transaction manager view ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=739"
  },
  {
    "text": "you’re already familiar with. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=742"
  },
  {
    "text": "In the navigator, you can see all the current devices connected to your Mac. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=745"
  },
  {
    "text": "In my case, this is the physical iPhone and the simulator. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=749"
  },
  {
    "text": "Notice how they both have a few apps showing in this list, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=753"
  },
  {
    "text": "including Backyard Birds. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=756"
  },
  {
    "text": "These are all apps using StoreKit Testing in Xcode ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=758"
  },
  {
    "text": "that you can inspect outside of a debug session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=760"
  },
  {
    "text": "Clicking on an app on either of these devices, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=763"
  },
  {
    "text": "you can see a list of StoreKit transactions for that app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=766"
  },
  {
    "text": "and with the details sidebar we showed you last year, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=769"
  },
  {
    "text": "you can inspect each one individually. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=771"
  },
  {
    "text": "This also works if I open the Xcode project for Backyard Birds ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=775"
  },
  {
    "text": "and run it on the simulator, for example.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=778"
  },
  {
    "text": "In this case, I can also see which app is actively being debugged ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=781"
  },
  {
    "text": "because it will have this small indicator next to the app name. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=785"
  },
  {
    "text": "This is not all that's new with the transaction manager. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=788"
  },
  {
    "text": "I am excited to show you that you now have the ability to make in-app purchases ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=792"
  },
  {
    "text": "for your app right from your Mac using Xcode. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=795"
  },
  {
    "text": "Plus, when creating a new purchase, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=799"
  },
  {
    "text": "you can also customize various purchase parameters, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=801"
  },
  {
    "text": "such as the quantity for a consumable product, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=804"
  },
  {
    "text": "or you can pick offer codes for your subscriptions.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=806"
  },
  {
    "text": "Let's see how this works in practice using Backyard Birds. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=810"
  },
  {
    "text": "You first need to select the app you want to test. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=813"
  },
  {
    "text": "Then, click the plus button on the left of the filter bar ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=816"
  },
  {
    "text": "to create a new purchase. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=819"
  },
  {
    "text": "The pop-up I am presented with lists all of the available in-app purchases ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=821"
  },
  {
    "text": "for this app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=825"
  },
  {
    "text": "These are the same products we configured in the StoreKit configuration. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=826"
  },
  {
    "text": "I am going to purchase a consumable first, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=830"
  },
  {
    "text": "so I can select Nutrition Pellet and click Next.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=832"
  },
  {
    "text": "Now, I have the opportunity to configure this new purchase, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=838"
  },
  {
    "text": "but the default options are also valid if I wanted to skip ahead. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=842"
  },
  {
    "text": "I am satisfied with these settings, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=845"
  },
  {
    "text": "so let's click Done to complete the purchase using these parameters.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=847"
  },
  {
    "text": "Although the app is not running in the simulator, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=853"
  },
  {
    "text": "StoreKit received and processed the new purchase. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=855"
  },
  {
    "text": "If I look at the transaction list, there is now a new item at the top. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=858"
  },
  {
    "text": "Clicking on it, I can inspect the details for this new transaction. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=862"
  },
  {
    "text": "Subscriptions are different, however, so let's make another purchase. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=867"
  },
  {
    "text": "I am going to again click on the plus button to create a new purchase, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=871"
  },
  {
    "text": "and this time, I will search ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=875"
  },
  {
    "text": "for the name of a subscription in this app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=876"
  },
  {
    "text": "then, pick the one I am looking for, and click next.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=880"
  },
  {
    "text": "The options to configure the purchase have now changed, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=885"
  },
  {
    "text": "because this is a different type of in-app purchase. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=888"
  },
  {
    "text": "Some are the same, like the purchase date, but there's also some new ones, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=890"
  },
  {
    "text": "so let's go over what they do. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=895"
  },
  {
    "text": "The default properties are also valid here, by the way.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=897"
  },
  {
    "text": "I have the option to pick an offer code for this subscription, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=901"
  },
  {
    "text": "if it has any set up in the StoreKit configuration. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=904"
  },
  {
    "text": "Customers have to type in offer codes and promotions, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=907"
  },
  {
    "text": "but to make testing easier, we provide a list of available offers ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=909"
  },
  {
    "text": "for this productID. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=912"
  },
  {
    "text": "I would like to change the purchase date in this case ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=915"
  },
  {
    "text": "and set it to exactly one year ago, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=917"
  },
  {
    "text": "as if I had first subscribed to this service ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=920"
  },
  {
    "text": "during last year's WWDC. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=922"
  },
  {
    "text": "Next, I can choose if this subscription should renew automatically ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=925"
  },
  {
    "text": "or only remain subscribed for exactly one subscription period, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=928"
  },
  {
    "text": "which, in the case of this product, would be one month. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=932"
  },
  {
    "text": "I would like to keep automatic renewals enabled ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=935"
  },
  {
    "text": "so I can test how my app handles active subscriptions ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=938"
  },
  {
    "text": "before I even start using it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=940"
  },
  {
    "text": "Let's click Done to complete the purchase ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=943"
  },
  {
    "text": "and look at the results by filtering the transaction list.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=945"
  },
  {
    "text": "As expected, I have one renewal for each month since last year. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=953"
  },
  {
    "text": "These are all currently marked as unfinished, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=957"
  },
  {
    "text": "because the app wasn’t running and didn’t get a chance to receive them, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=959"
  },
  {
    "text": "so I am going to run it in the simulator ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=963"
  },
  {
    "text": "and see that I now have access to the Backyard Birds Pass.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=965"
  },
  {
    "text": "The new features in the transaction manager work with all devices ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=973"
  },
  {
    "text": "and platforms that already support StoreKit Testing in Xcode, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=976"
  },
  {
    "text": "beginning with iOS 17 and macOS 14. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=980"
  },
  {
    "text": "And they are also supported on other platforms, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=983"
  },
  {
    "text": "including iPadOS, watchOS, and tvOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=986"
  },
  {
    "text": "If you are running an older version of the operating system, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=990"
  },
  {
    "text": "nothing changes for you: ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=993"
  },
  {
    "text": "the transaction manager is still compatible ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=995"
  },
  {
    "text": "with all the same features as before when using an active debug session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=997"
  },
  {
    "text": "Next, I would like to introduce a new feature ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1001"
  },
  {
    "text": "in the StoreKit configuration that allows for more in-depth testing ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1004"
  },
  {
    "text": "of how your StoreKit app behaves in different scenarios. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1007"
  },
  {
    "text": "To demonstrate this, I am going to open the Xcode project ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1011"
  },
  {
    "text": "for Backyard Birds and go to the StoreKit configuration.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1013"
  },
  {
    "text": "There is now a new item above the configured in-app purchases ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1019"
  },
  {
    "text": "called Configuration Settings. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1022"
  },
  {
    "text": "This is a new menu we added to provide configurable options ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1025"
  },
  {
    "text": "for your app's test environment, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1028"
  },
  {
    "text": "some that you might already be familiar with, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1030"
  },
  {
    "text": "and some new ones starting with Xcode 15. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1032"
  },
  {
    "text": "This first and the second sections cover all the existing options, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1036"
  },
  {
    "text": "like the default storefront and the locale your app should use ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1040"
  },
  {
    "text": "for pricing and availability, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1042"
  },
  {
    "text": "and others such as the speed of subscription renewals ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1044"
  },
  {
    "text": "or the ability to force ask to buy, for example. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1047"
  },
  {
    "text": "In prior versions of Xcode, you can find these in the Editor menu ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1051"
  },
  {
    "text": "when your StoreKit configuration is opened, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1054"
  },
  {
    "text": "and they are still there and can be used interchangeably.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1056"
  },
  {
    "text": "While we are talking about StoreKit Testing options, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1061"
  },
  {
    "text": "there are new subscription renewal rates we added this year in iOS 16.4. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1064"
  },
  {
    "text": "These are designed to change the subscription expiration ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1068"
  },
  {
    "text": "on a per-renewal basis, helping you generate ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1071"
  },
  {
    "text": "consistent renewals quicker than the subscription's actual duration. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1074"
  },
  {
    "text": "This is really helpful for quick and reliable testing ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1078"
  },
  {
    "text": "of the long-term state of your subscription. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1081"
  },
  {
    "text": "You can find these new configurable rates in both the Editor menu ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1084"
  },
  {
    "text": "and in the StoreKit configuration settings in Xcode 15. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1088"
  },
  {
    "text": "The third section in the StoreKit configuration settings ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1092"
  },
  {
    "text": "covers options you can use to simulate StoreKit errors in your app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1096"
  },
  {
    "text": "which was a highly requested feature by many of you. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1099"
  },
  {
    "text": "It expands on the Fail Transactions submenu ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1102"
  },
  {
    "text": "that used to be in the Editor menu, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1105"
  },
  {
    "text": "and it brings support for more StoreKit APIs and error types. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1107"
  },
  {
    "text": "Each option represents a StoreKit 2 API your app might be using ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1111"
  },
  {
    "text": "and allows you to pick an error that API should throw ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1115"
  },
  {
    "text": "every time when it's called by your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1117"
  },
  {
    "text": "Numerous APIs are supported by this feature. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1120"
  },
  {
    "text": "You can test product loading issues, purchase failures, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1123"
  },
  {
    "text": "receipt and transaction verification problems, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1126"
  },
  {
    "text": "refund requests, and so many more. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1128"
  },
  {
    "text": "Let's see what this looks like in practice.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1131"
  },
  {
    "text": "I have the Xcode project for Backyard Birds opened on the left ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1134"
  },
  {
    "text": "and the app running in the simulator on the right. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1138"
  },
  {
    "text": "In the StoreKit configuration, I can enable purchase errors using the checkbox ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1140"
  },
  {
    "text": "next to the Purchase API name ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1144"
  },
  {
    "text": "and choose the error it should throw.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1147"
  },
  {
    "text": "I would like to test how the app handles purchases ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1152"
  },
  {
    "text": "when the customer changes storefronts, so I will pick Product Unavailable.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1154"
  },
  {
    "text": "This file automatically saves on edit, and it also syncs to your device ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1161"
  },
  {
    "text": "when the app is running, so you can test the change immediately ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1165"
  },
  {
    "text": "without needing to re-run your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1168"
  },
  {
    "text": "Let's try to purchase a product and see what happens.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1170"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1177"
  },
  {
    "text": "As expected, it fails. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1180"
  },
  {
    "text": "It tells me I cannot purchase this product ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1182"
  },
  {
    "text": "and I should contact the developer for more information.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1184"
  },
  {
    "text": "Let's now disable purchase errors ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1188"
  },
  {
    "text": "and try this again to ensure it completes successfully this time.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1190"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1199"
  },
  {
    "text": "With these steps, I have now effectively tested ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1202"
  },
  {
    "text": "that this app's code can handle these kinds of errors ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1204"
  },
  {
    "text": "when making a purchase, if they should ever occur. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1207"
  },
  {
    "text": "This method can be applied to any of the APIs and error options ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1211"
  },
  {
    "text": "in the StoreKit configuration settings to cover multiple scenarios ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1214"
  },
  {
    "text": "and ensure your app is robust. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1217"
  },
  {
    "text": "These errors are all part of StoreKit, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1220"
  },
  {
    "text": "and you might have encountered them already. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1221"
  },
  {
    "text": "Each one of them represents a clear case of a failure in your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1223"
  },
  {
    "text": "And that is all the new features for StoreKit Testing in Xcode. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1228"
  },
  {
    "text": "Today, I showed how to inspect and manage transactions ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1232"
  },
  {
    "text": "on multiple devices outside of a debug session, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1235"
  },
  {
    "text": "how to purchase products from the transaction manager ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1239"
  },
  {
    "text": "to test how your app handles existing purchases, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1241"
  },
  {
    "text": "and how to simulate StoreKit errors to cover many possible failure scenarios.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1245"
  },
  {
    "text": "All of these new features in Xcode are also available in code ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1251"
  },
  {
    "text": "using the StoreKit Test framework to write unit tests for your app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1254"
  },
  {
    "text": "so you can write automation that performs all the same tasks. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1258"
  },
  {
    "text": "Let's have a look at the new APIs to create off-device purchases ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1262"
  },
  {
    "text": "and set simulated errors in an XCTest session.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1265"
  },
  {
    "text": "To create new in-app purchases, there is a new Swift API in StoreKitTest ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1269"
  },
  {
    "text": "that works the same way as the StoreKit purchase(_:) API, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1274"
  },
  {
    "text": "with the same purchase options as well. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1277"
  },
  {
    "text": "To support the new purchase features, like changing the purchase date, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1279"
  },
  {
    "text": "we also added new purchase options only for testing. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1283"
  },
  {
    "text": "Let's look at an example. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1286"
  },
  {
    "text": "After setting up an SKTestSession, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1288"
  },
  {
    "text": "I am making an off-device purchase for a subscription ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1291"
  },
  {
    "text": "and overriding the purchase date to a year ago from today. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1294"
  },
  {
    "text": "This is the same purchase I made in the transaction manager, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1298"
  },
  {
    "text": "and it behaves exactly the same way, allowing you to create ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1301"
  },
  {
    "text": "repeatable results and automate the testing for your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1304"
  },
  {
    "text": "There are also some new APIs in StoreKitTest ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1307"
  },
  {
    "text": "for simulating StoreKit errors in an SKTestSession, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1310"
  },
  {
    "text": "and they work the same way as the simulated errors ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1313"
  },
  {
    "text": "in the StoreKit configuration settings. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1315"
  },
  {
    "text": "After creating your test session, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1318"
  },
  {
    "text": "you can call setSimulatedError with the error type you would like to test ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1320"
  },
  {
    "text": "and the StoreKit API it should be simulated for. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1324"
  },
  {
    "text": "In this example, I am choosing to simulate ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1327"
  },
  {
    "text": "a network error for the loadProducts API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1329"
  },
  {
    "text": "Any time I call the loadProducts API in this test, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1332"
  },
  {
    "text": "it will always throw the same error. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1335"
  },
  {
    "text": "To disable the simulated failure, use the same setter API ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1337"
  },
  {
    "text": "and pass nil in place of the error type. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1340"
  },
  {
    "text": "Lastly, there are also APIs for the new subscription renewal rates. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1343"
  },
  {
    "text": "These can be accessed the same way as the existing ones, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1347"
  },
  {
    "text": "via a member in SKTestSession called timeRate. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1350"
  },
  {
    "text": "In this example test to make a subscription purchase, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1353"
  },
  {
    "text": "I added an extra line of code to set a faster renewal rate ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1356"
  },
  {
    "text": "and generate multiple renewals quickly. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1360"
  },
  {
    "text": "A lot of new StoreKit and StoreKit Testing in Xcode features were covered today. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1363"
  },
  {
    "text": "In StoreKit, there are new APIs to support promoting in-app purchases, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1367"
  },
  {
    "text": "the data model for Transaction and RenewalInfo got some enhancements ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1371"
  },
  {
    "text": "to give you more valuable information on hand, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1374"
  },
  {
    "text": "and there is a new message type you can listen for ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1377"
  },
  {
    "text": "to handle billing issues. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1379"
  },
  {
    "text": "The new StoreKit views in SwiftUI are a wonderful tool ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1381"
  },
  {
    "text": "to quickly build apps that support product merchandising, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1384"
  },
  {
    "text": "and they don't require any extra code to work across all devices. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1387"
  },
  {
    "text": "And finally, you can validate all the StoreKit features in your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1391"
  },
  {
    "text": "using great tools provided with StoreKit Testing in Xcode. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1394"
  },
  {
    "text": "StoreKit 2 is packed with many great features ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1398"
  },
  {
    "text": "that allow you to build awesome apps and grow your business. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1400"
  },
  {
    "text": "We have added many tools that take full advantage of Swift, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1403"
  },
  {
    "text": "and with new APIs that are simple but powerful, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1406"
  },
  {
    "text": "you have the opportunity to focus more ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1409"
  },
  {
    "text": "on the experience you're building for your customers. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1411"
  },
  {
    "text": "Any app that want to merchandise products and subscriptions ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1414"
  },
  {
    "text": "can now be built using StoreKit 2. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1417"
  },
  {
    "text": "If you aren't using StoreKit 2 yet, give it a try, and if you are, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1420"
  },
  {
    "text": "let us know what you think of the new features I showed you today. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1424"
  },
  {
    "text": "Use the new in-app purchase merchandising views ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1427"
  },
  {
    "text": "in your existing app to further customize the experience, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1430"
  },
  {
    "text": "or create a new one using exclusively these new APIs. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1433"
  },
  {
    "text": "And with StoreKit Testing in Xcode, you can put your code to the test ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1436"
  },
  {
    "text": "and ensure everything works well and as expected ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1440"
  },
  {
    "text": "to provide your customers with the best experience under all conditions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1443"
  },
  {
    "text": "For more information about other StoreKit features, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1447"
  },
  {
    "text": "check out these sessions linked below. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1450"
  },
  {
    "text": "We look forward to seeing what you create using StoreKit 2. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1452"
  },
  {
    "text": "Thank you for watching.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10140/?time=1456"
  }
]