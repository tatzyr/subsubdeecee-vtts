[
  {
    "text": "♪ ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=1"
  },
  {
    "text": "Alex: Hi, I’m Alex Abramets.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=10"
  },
  {
    "text": "Welcome to \"Integrate your media app with HomePod.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=12"
  },
  {
    "text": "I am here to present an exciting, new Siri capability for the Home.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=15"
  },
  {
    "text": "Starting with iOS 17, any HomePod owner will be able to ask Siri ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=19"
  },
  {
    "text": "to play media using apps installed on their iPhone or iPad.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=23"
  },
  {
    "text": "This new Siri ability will allow apps currently supporting SiriKit Media Intents ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=27"
  },
  {
    "text": "to seamlessly play content on HomePod.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=32"
  },
  {
    "text": "First, I am going to introduce expanded support for media apps to play on HomePod.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=35"
  },
  {
    "text": "Then, I will cover supported use cases and experiences ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=40"
  },
  {
    "text": "and show the best ways to implement them. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=43"
  },
  {
    "text": "Lastly, I will talk about how this capability integrates with the Home.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=45"
  },
  {
    "text": "Let's get started by going over HomePod support for more Media apps.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=50"
  },
  {
    "text": "Once HomePod processes a request, a SiriKit intent is sent to the iPhone, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=55"
  },
  {
    "text": "where Siri starts your app and AirPlays content back to the speaker.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=59"
  },
  {
    "text": "We will talk more about AirPlay support later in this session.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=64"
  },
  {
    "text": "To fulfill the request, HomePod will be communicating ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=68"
  },
  {
    "text": "with iPhone over Wi-Fi, which means that devices ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=71"
  },
  {
    "text": "need to be on the same network at the time of the request.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=74"
  },
  {
    "text": "Devices don’t need to be in physical proximity.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=78"
  },
  {
    "text": "If I am in a living room talking to my speaker ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=81"
  },
  {
    "text": "and my phone is charging in the bedroom, HomePod will successfully play.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=83"
  },
  {
    "text": "Siri requests to play media work with multiple destinations, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=89"
  },
  {
    "text": "including most speakers supporting AirPlay.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=93"
  },
  {
    "text": "Any app supporting SiriKit Media Intents today ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=96"
  },
  {
    "text": "will be able to use this capability with no additional changes.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=99"
  },
  {
    "text": "Later, I will talk about a few things ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=102"
  },
  {
    "text": "that can make the user experience and performance even better.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=104"
  },
  {
    "text": "Requests to Play, Add, and Affinity requests for the apps ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=108"
  },
  {
    "text": "not natively supported on HomePod, will be routed to the primary iPhone. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=111"
  },
  {
    "text": "Please note that on HomePod, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=116"
  },
  {
    "text": "requests to find or search for media will result in playback.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=118"
  },
  {
    "text": "Siri will rely on voice recognition ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=122"
  },
  {
    "text": "to route requests to the device of the recognized Home user.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=124"
  },
  {
    "text": "In addition, requests to \"like\" or \"add\" songs will work ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=128"
  },
  {
    "text": "even for content that was AirPlayed without using Siri. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=131"
  },
  {
    "text": "Now many existing media apps will be available on HomePod, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=135"
  },
  {
    "text": "and it’s not just music. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=139"
  },
  {
    "text": "Many types of media are supported. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=141"
  },
  {
    "text": "Music, audiobooks, podcasts, radio, meditation, and more.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=142"
  },
  {
    "text": "Any app adding new support for SiriKit Media intents ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=147"
  },
  {
    "text": "will be automatically supported on HomePod.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=150"
  },
  {
    "text": "Everything your app can do on iOS today will work on HomePod. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=154"
  },
  {
    "text": "For example, app users can ask to play artists, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=157"
  },
  {
    "text": "albums, songs, music genres, and hits.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=161"
  },
  {
    "text": "When the app name is used in the request, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=164"
  },
  {
    "text": "Siri will check if the app is installed on your iPhone.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=166"
  },
  {
    "text": "If the app is installed, Siri will establish AirPlay connection ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=169"
  },
  {
    "text": "and ask the app to start playback.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=173"
  },
  {
    "text": "Maybe your app is about listening to Podcasts or Audiobooks.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=176"
  },
  {
    "text": "Now it will be possible to catch up on the news ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=180"
  },
  {
    "text": "or continue listening to your current audiobook on your HomePod.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=182"
  },
  {
    "text": "Siri will understand requests to change speed, fast-forward, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=187"
  },
  {
    "text": "and control playback.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=190"
  },
  {
    "text": "Requests specific to your app and not covered by Media intents ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=192"
  },
  {
    "text": "can be implemented using App Intents.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=196"
  },
  {
    "text": "Check out \"Explore enhancements to App Intents\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=198"
  },
  {
    "text": "and other related sessions.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=201"
  },
  {
    "text": "So how do I add Siri to my app? ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=204"
  },
  {
    "text": "Let’s go over what is needed to support SiriKit Media Intents, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=206"
  },
  {
    "text": "then talk about making sure everything works reliably ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=209"
  },
  {
    "text": "and provides a great experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=212"
  },
  {
    "text": "Apps with existing support for Media Intents will just work. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=215"
  },
  {
    "text": "For example, if SoundCloud is installed on your iPhone ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=218"
  },
  {
    "text": "and you ask HomePod to play something on SoundCloud, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=222"
  },
  {
    "text": "media will play on the speaker. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=225"
  },
  {
    "text": "Adding playback support via Siri to your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=228"
  },
  {
    "text": "includes several simple steps.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=230"
  },
  {
    "text": "You’ll need to add an intents extension and implement a few methods ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=233"
  },
  {
    "text": "to wire up Siri callbacks with search and playback.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=236"
  },
  {
    "text": "You can find detailed instructions ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=240"
  },
  {
    "text": "in \"Introducing SiriKit Media Intents\" video from 2019 ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=241"
  },
  {
    "text": "and \"Expand your SiriKit Media Intents to more platforms\" from 2020.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=245"
  },
  {
    "text": "Let’s inspect the code from a sample app that can play a song. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=251"
  },
  {
    "text": "Here, I am checking that the request was for an entity named \"Push it\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=255"
  },
  {
    "text": "and, if so, return the media item. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=258"
  },
  {
    "text": "Let’s give it a try.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=263"
  },
  {
    "text": "Hey Siri, play \"Push It\" by Dukes on Control Audio.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=265"
  },
  {
    "text": "Siri: \"Push It\" now playing from your iPhone.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=268"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=271"
  },
  {
    "text": "Alex: The song plays as expected! ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=277"
  },
  {
    "text": "Now let’s ask something else.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=280"
  },
  {
    "text": "Hey Siri, play jazz on Control Audio.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=282"
  },
  {
    "text": "Siri: I couldn't find that in your Control Audio library. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=284"
  },
  {
    "text": "Alex: This time, Siri said it didn’t find anything.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=287"
  },
  {
    "text": "This happened because the function returned an \"unsupported\" response ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=291"
  },
  {
    "text": "since my app doesn’t support playing genres.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=295"
  },
  {
    "text": "But I can make Siri respond better! ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=299"
  },
  {
    "text": "I can provide a more specific reason for not being able to play, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=301"
  },
  {
    "text": "like \"unsupported media type\" or that the app requires a valid login.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=305"
  },
  {
    "text": "For such cases, Siri will give responses that will aid in resolving the issue.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=309"
  },
  {
    "text": "Now, I am going to change my code and add a guard statement ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=315"
  },
  {
    "text": "that will return a more specific error code ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=318"
  },
  {
    "text": "if the request was to play any music genre.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=320"
  },
  {
    "text": "Hey Siri, play jazz on Control Audio. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=325"
  },
  {
    "text": "Siri: Control Audio doesn't support playing that.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=328"
  },
  {
    "text": "Alex: So now, Siri says that the app doesn’t support playing that, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=331"
  },
  {
    "text": "which is a more helpful response.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=334"
  },
  {
    "text": "You might be wondering what will your app receive ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=337"
  },
  {
    "text": "when a Siri request is made? ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=340"
  },
  {
    "text": "In the previous examples, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=341"
  },
  {
    "text": "we discussed the \"mediaName\" and \"mediaType\" fields.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=343"
  },
  {
    "text": "Let’s review some of the most common intents that your app might get.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=346"
  },
  {
    "text": "A simple \"Play\" with just the app name will send an intent ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=350"
  },
  {
    "text": "without any search criteria.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=354"
  },
  {
    "text": "Music apps could play a personal mix or a station. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=356"
  },
  {
    "text": "Podcasts and audiobook apps may resume the last played item.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=359"
  },
  {
    "text": "For \"Play music in app\" requests, \"music\" translates into a \"mediaType.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=365"
  },
  {
    "text": "\"Play\" request with entity name will provide a mediaName field only.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=370"
  },
  {
    "text": "It will be up to the app to determine the type of the entity, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=374"
  },
  {
    "text": "whether that’s a song, artist, podcast or something else.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=378"
  },
  {
    "text": "Mentioning \"song\" and its name will produce a mediaType ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=383"
  },
  {
    "text": "equal to Song and a mediaName field.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=385"
  },
  {
    "text": "This is how asking for \"popular hits\" will behave.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=390"
  },
  {
    "text": "The media name will be set to \"music\" and the sortOrder will be \"popular.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=393"
  },
  {
    "text": "Asking to play something next will tell the app to add it to the queue.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=399"
  },
  {
    "text": "Notice that \"playbackqueuelocation\" has a value of \"next.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=403"
  },
  {
    "text": "If your app supports news, podcasts or audiobooks, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=408"
  },
  {
    "text": "you may receive requests like \"play my audiobook,\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=411"
  },
  {
    "text": "\"play the latest news,\" or \"play tech news podcast.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=413"
  },
  {
    "text": "You should explore and experiment with the intents produced by Siri ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=417"
  },
  {
    "text": "for the requests you expect to be sent to your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=420"
  },
  {
    "text": "After resolving the results, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=425"
  },
  {
    "text": "Siri will execute the \"handle\" step in your intents extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=426"
  },
  {
    "text": "You can return one of the two responses \"handleInApp\" and \"continueInApp.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=430"
  },
  {
    "text": "\"HandleInApp\" will instruct the system to start the app and play in the background.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=435"
  },
  {
    "text": "\"ContinueInApp\" will ask the system to start the app in the foreground.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=440"
  },
  {
    "text": "For requests to play Audio, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=444"
  },
  {
    "text": "background playback will result in a better experience ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=446"
  },
  {
    "text": "since it doesn’t require you to unlock the phone.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=449"
  },
  {
    "text": "When a request is made to HomePod, it is even more pronounced, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=452"
  },
  {
    "text": "since your phone could be nowhere near.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=455"
  },
  {
    "text": "Please keep in mind that your app’s responses ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=459"
  },
  {
    "text": "to Siri callbacks should be reasonably fast.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=461"
  },
  {
    "text": "Slow requests are often abandoned or simply time out. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=464"
  },
  {
    "text": "Make sure that your app responds in at most ten seconds.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=467"
  },
  {
    "text": "It is preferable to be fast as possible, but after ten seconds, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=471"
  },
  {
    "text": "Siri's response will be generic and not very helpful.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=475"
  },
  {
    "text": "What if you’d like to tell Siri that you like the song ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=480"
  },
  {
    "text": "or a podcast, or wanted to add it to your playlist? ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=482"
  },
  {
    "text": "Supporting INAddMediaIntent and INUpdateMediaAffinityIntent ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=486"
  },
  {
    "text": "will allow your app to work with these requests.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=490"
  },
  {
    "text": "The implementation is very similar to INPlayMediaIntent.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=494"
  },
  {
    "text": "For AirPlayed content, Siri will send the request to the iPhone ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=498"
  },
  {
    "text": "of the speaking person. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=501"
  },
  {
    "text": "Let’s go over a few things that can make the integration ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=504"
  },
  {
    "text": "of your app with Siri more robust.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=507"
  },
  {
    "text": "First up is personal app vocabulary.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=510"
  },
  {
    "text": "Using personal app vocabulary, your app can inform the system ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=512"
  },
  {
    "text": "of user-specific entities that requests might include.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=516"
  },
  {
    "text": "These can include personal playlists, purchased audiobooks, podcasts, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=519"
  },
  {
    "text": "favorite artists, or authors. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=523"
  },
  {
    "text": "Normally, only foreground apps can start playback, but during Siri request, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=526"
  },
  {
    "text": "your app can start audio in the background.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=531"
  },
  {
    "text": "For this to work, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=534"
  },
  {
    "text": "it is very important to have the audio session properly configured ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=535"
  },
  {
    "text": "prior to activating that session.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=538"
  },
  {
    "text": "This applies to all supported platforms, including HomePod, iOS and CarPlay.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=541"
  },
  {
    "text": "In this example, by setting the audio category to playback, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=546"
  },
  {
    "text": "the app will inform the system that it will be playing audio. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=550"
  },
  {
    "text": "Audio category, mode, and route sharing policy ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=553"
  },
  {
    "text": "will affect how the system handles audio playback and interruptions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=556"
  },
  {
    "text": "Setting the mode to \"spoken audio\" will pause the playback ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=561"
  },
  {
    "text": "when interrupted instead of temporarily reducing the volume of your content.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=564"
  },
  {
    "text": "This is especially useful for apps that play podcasts or audiobooks, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=569"
  },
  {
    "text": "so that listeners don’t miss any important parts of the content. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=574"
  },
  {
    "text": "Let’s check out what happens if the audio category ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=578"
  },
  {
    "text": "is not set to \".playback\" prior to activating the session.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=581"
  },
  {
    "text": "Hey, Siri, play \"Push It\" by Dukes on Control Audio.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=585"
  },
  {
    "text": "Siri: \"Push It\" now playing from your iPhone.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=588"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=591"
  },
  {
    "text": "Alex: While the app is in the foreground, the audio plays, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=592"
  },
  {
    "text": "but once the app goes into the background, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=594"
  },
  {
    "text": "for example when I lock the phone, playback stops.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=596"
  },
  {
    "text": "It works, but not the way you would expect it to. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=599"
  },
  {
    "text": "Let’s find out what happens if I change my code ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=603"
  },
  {
    "text": "to correctly configure the audio session.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=606"
  },
  {
    "text": "Hey, Siri, play \"Push It\" by Dukes on Control Audio.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=609"
  },
  {
    "text": "Siri: Here's \"Push It\" from your iPhone. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=613"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=615"
  },
  {
    "text": "Alex: When I lock the phone, the audio continues playing.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=618"
  },
  {
    "text": "♪ ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=621"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=626"
  },
  {
    "text": "HomePod and iPhone can do many things, so it is not uncommon ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=628"
  },
  {
    "text": "for the audio playback from your app to be interrupted by an incoming call, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=632"
  },
  {
    "text": "navigation prompt, Siri requests, or other apps playing something else.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=635"
  },
  {
    "text": "It is important to handle interruptions ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=640"
  },
  {
    "text": "so that your app can continue playing, especially when someone across the room ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=642"
  },
  {
    "text": "is talking to HomePod and doesn’t have their iPhone handy.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=645"
  },
  {
    "text": "Ok, let’s talk about AirPlay.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=649"
  },
  {
    "text": "For the system to successfully AirPlay content from your app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=652"
  },
  {
    "text": "make sure that you do the following: ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=655"
  },
  {
    "text": "set the audio category, mode, and route sharing policy appropriately ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=657"
  },
  {
    "text": "as I talked about earlier, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=660"
  },
  {
    "text": "use MPNowPlayingInfoCenter to inform the system ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=663"
  },
  {
    "text": "about the currently playing item, and MPRemoteCommandCenter ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=666"
  },
  {
    "text": "to receive remote commands, like play, pause, and skip.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=670"
  },
  {
    "text": "These steps will get the media from your app playing on AirPlay speakers.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=674"
  },
  {
    "text": "But since the audio data is being delivered to another device, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=678"
  },
  {
    "text": "the system needs a buffer ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=681"
  },
  {
    "text": "and will accumulate some data to ensure smooth playback.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=683"
  },
  {
    "text": "This may introduce a delay each time media is resumed or stopped. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=686"
  },
  {
    "text": "Using one of the APIs for buffered playback will remove this concern.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=691"
  },
  {
    "text": "Check out this year's session called \"Tune up your AirPlay experience\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=695"
  },
  {
    "text": "for more on this topic.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=699"
  },
  {
    "text": "Next, I will talk about additional considerations for this capability. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=701"
  },
  {
    "text": "What if I have multiple iPhones or iPads? How will Siri know which one to use? ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=706"
  },
  {
    "text": "The answer is that Siri will route SiriKit Media requests ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=711"
  },
  {
    "text": "to the primary iPhone, which is the one that is set up ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=714"
  },
  {
    "text": "to share your location under Apple ID and Find My settings.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=717"
  },
  {
    "text": "Since Siri will communicate with other devices ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=721"
  },
  {
    "text": "to fulfill these requests, the requesting user ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=723"
  },
  {
    "text": "will need to be registered in the Home and have Recognize My Voice enabled. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=726"
  },
  {
    "text": "You can find this setting in the Home app.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=730"
  },
  {
    "text": "Enabling Personal Requests is not required for this feature to work.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=734"
  },
  {
    "text": "Keep in mind that if you don’t have \"Recognize My Voice\" enabled ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=738"
  },
  {
    "text": "or you are not registered in the Home, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=742"
  },
  {
    "text": "you will not be able to play media from your or anyone else’s devices.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=744"
  },
  {
    "text": "If you just installed the app or never asked Siri to play from it, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=749"
  },
  {
    "text": "the first request to Play using the app will direct you to your iOS device ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=753"
  },
  {
    "text": "and request permission for Siri to access the app data. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=758"
  },
  {
    "text": "This permission is only needed for the first Siri request to Play from your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=762"
  },
  {
    "text": "Before I let you go, here are the things you should remember.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=767"
  },
  {
    "text": "Adding SiriKit Media intents support is the one thing that is required ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=771"
  },
  {
    "text": "for your app to work on HomePod.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=775"
  },
  {
    "text": "You can further improve the user experience by adding Buffered Playback, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=777"
  },
  {
    "text": "supporting more complex queries, and providing Siri with more context.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=781"
  },
  {
    "text": "Thank you! ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=786"
  },
  {
    "text": "I cannot wait to see your apps working with HomePod! ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=787"
  },
  {
    "text": "♪ ♪",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10104/?time=789"
  }
]