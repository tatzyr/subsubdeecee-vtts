[
  {
    "text": "♪ ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=0"
  },
  {
    "text": "Onur Tackin: Hi. My name is Onur Tackin. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=10"
  },
  {
    "text": "I'm an Engineering Manager, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=13"
  },
  {
    "text": "and today, I will be introducing you to integration with motorized iPhone stands ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=15"
  },
  {
    "text": "using DockKit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=19"
  },
  {
    "text": "In this video, I'll talk about what DockKit is, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=21"
  },
  {
    "text": "then dive into how it works out of the box, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=25"
  },
  {
    "text": "walk through how you can customize your apps using DockKit, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=28"
  },
  {
    "text": "and then finally go into motion as an affordance using device animations.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=33"
  },
  {
    "text": "So, what is DockKit? ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=38"
  },
  {
    "text": "DockKit is the framework that allows the iPhone to act ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=42"
  },
  {
    "text": "as the central compute for motorized camera stands.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=44"
  },
  {
    "text": "DockKit stands extend the field of view for any iPhone camera ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=48"
  },
  {
    "text": "to 360 degrees of pan and 90 degrees of tilt ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=51"
  },
  {
    "text": "by supporting a Pitch and Yaw motion model and an automatic system tracker. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=54"
  },
  {
    "text": "This allows the user to focus on their content ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=59"
  },
  {
    "text": "and without worrying about being in frame in any camera app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=63"
  },
  {
    "text": "These stands may include simple buttons for power and disabling tracking, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=68"
  },
  {
    "text": "and an LED indicator to let you know if tracking is active ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=72"
  },
  {
    "text": "and you are in the frame. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=76"
  },
  {
    "text": "You pair the phone with the stand and then it is good to go. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=78"
  },
  {
    "text": "All the magic happens in the application and system services on the iPhone itself. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=82"
  },
  {
    "text": "Due to the motor control and subject tracking being handled in system level, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=88"
  },
  {
    "text": "any app that uses the iOS camera APIs can take advantage of DockKit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=93"
  },
  {
    "text": "That creates opportunities for better experiences and new features in apps ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=99"
  },
  {
    "text": "for Video Capture, Live Streaming, Video Conferencing, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=103"
  },
  {
    "text": "Fitness, Enterprise, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=107"
  },
  {
    "text": "Education, Healthcare, and more.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=109"
  },
  {
    "text": "Instead of just talking about DockKit, let me demonstrate it to you.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=112"
  },
  {
    "text": "In front of me, I have a prototype DockKit stand. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=121"
  },
  {
    "text": "I already paired it with the iPhone. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=124"
  },
  {
    "text": "When on the stand, the phone will communicate ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=126"
  },
  {
    "text": "with the paired dock through DockKit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=128"
  },
  {
    "text": "Now, let's give it a try. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=130"
  },
  {
    "text": "I'm going to launch the built-in Camera app ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=132"
  },
  {
    "text": "and when I press this button here, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=135"
  },
  {
    "text": "it's gonna start tracking.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=137"
  },
  {
    "text": "As I move around the table, the dock tracks me. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=139"
  },
  {
    "text": "Notice the green LED blinking to denote I'm in frame.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=142"
  },
  {
    "text": "Now, let me switch to the back camera.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=146"
  },
  {
    "text": "Notice how the dock responds by rotating 180 degrees ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=154"
  },
  {
    "text": "to get me into the field of view. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=157"
  },
  {
    "text": "Super cool. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=159"
  },
  {
    "text": "But this doesn't work with only the built-in Camera app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=160"
  },
  {
    "text": "Any app that uses the camera APIs can be used with the dock.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=164"
  },
  {
    "text": "For instance, let's try FILMICPRO. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=171"
  },
  {
    "text": "This is the same FILMICPRO that you can download from the App Store today.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=174"
  },
  {
    "text": "When I launch the app, it is defaulting to the rear-facing camera. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=182"
  },
  {
    "text": "And all of this works out of the box. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=186"
  },
  {
    "text": "With DockKit stands, you can interact with the space and objects around you. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=189"
  },
  {
    "text": "For instance, I can go to my stack of books here and talk about my books, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=193"
  },
  {
    "text": "or I can rearrange my space, interacting with the objects.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=198"
  },
  {
    "text": "See, DockKit applications allow the storyteller to focus on the story ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=206"
  },
  {
    "text": "instead of worrying about field of view.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=211"
  },
  {
    "text": "With iPhone's built-in image intelligence and the smooth motors, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=222"
  },
  {
    "text": "these stands truly come alive. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=226"
  },
  {
    "text": "Let's dive into how this works. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=229"
  },
  {
    "text": "DockKit system tracker runs inside the camera processing pipeline, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=232"
  },
  {
    "text": "analyzing camera frames through built-in inference, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=236"
  },
  {
    "text": "deciding which subject to track, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=239"
  },
  {
    "text": "estimating subject trajectory, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=241"
  },
  {
    "text": "and framing the subject appropriately by driving the motors. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=243"
  },
  {
    "text": "Much like how a cinematographer observes real world events ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=248"
  },
  {
    "text": "and adjusts the camera perspective, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=251"
  },
  {
    "text": "DockKit infers an object from camera frames ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=254"
  },
  {
    "text": "and adjusts the motors through actuation commands to the dock.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=257"
  },
  {
    "text": "The motor control is achieved through the DockKit daemon ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=262"
  },
  {
    "text": "which manages and communicates with the DockKit stand. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=265"
  },
  {
    "text": "The actuation commands are sent to the stand via the DockKit protocol ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=268"
  },
  {
    "text": "and the sensor feedback is used to close the loop on motor control. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=273"
  },
  {
    "text": "To handle the tracking, camera frames are analyzed via ISP inference ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=277"
  },
  {
    "text": "and passed to DockKit at 30 frames per second. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=281"
  },
  {
    "text": "There's a Visual Understanding Framework under the hood ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=285"
  },
  {
    "text": "to help with multi-person scenarios. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=288"
  },
  {
    "text": "Face and Body bounding boxes are generated ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=290"
  },
  {
    "text": "and fed to a multi-model system level tracker. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=293"
  },
  {
    "text": "The tracker generates a track for each person or object tracked ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=297"
  },
  {
    "text": "and runs a statistical EKF filter to smooth for gaps and errors from inference. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=300"
  },
  {
    "text": "After all, real world signals are not always perfect. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=306"
  },
  {
    "text": "The tracker estimates for the subject are combined with ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=310"
  },
  {
    "text": "the motor positional and velocity feedback, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=313"
  },
  {
    "text": "as well as phone IMU to arrive at a final trajectory and actuator commands. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=316"
  },
  {
    "text": "Often, multiple subjects can be present in a frame. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=321"
  },
  {
    "text": "By default, DockKit tracks the primary subject with the center framing. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=325"
  },
  {
    "text": "If they engage a second person or an object, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=330"
  },
  {
    "text": "then DockKit will also try to frame that person or object.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=332"
  },
  {
    "text": "For example, here we have Mahmut, Steve, Dhruv, and Vamsi. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=337"
  },
  {
    "text": "Mahmut is the primary subject denoted by the green bounding box. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=343"
  },
  {
    "text": "Notice that there are bounding boxes for the body as well as the detected face. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=346"
  },
  {
    "text": "Even with other team members obstructing Mahmut and crossing paths, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=352"
  },
  {
    "text": "the tracker continues to track the primary subject.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=358"
  },
  {
    "text": "When the recognition or the inference gives incorrect results ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=363"
  },
  {
    "text": "due to obstruction, the statistical tracker corrects the error ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=366"
  },
  {
    "text": "and is able to continue to track Mahmut. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=370"
  },
  {
    "text": "That's how DockKit works ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=372"
  },
  {
    "text": "without you having to add any additional code to your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=374"
  },
  {
    "text": "However, things get really exciting when you integrate with DockKit ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=377"
  },
  {
    "text": "to deliver new features your customers will love. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=381"
  },
  {
    "text": "Let's explore how you can take control of the DockKit accessory.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=384"
  },
  {
    "text": "This will involve obtaining a reference to the dock. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=390"
  },
  {
    "text": "From there, you can choose to change the framing, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=393"
  },
  {
    "text": "specify what is being tracked, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=396"
  },
  {
    "text": "or directly control the motors after stopping system tracking. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=398"
  },
  {
    "text": "First, you will want to register dock accessory state changes. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=403"
  },
  {
    "text": "A docking or undocking notification occurs when a person docks ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=407"
  },
  {
    "text": "or removes the iPhone from a compatible dock accessory. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=411"
  },
  {
    "text": "The notification is a prerequisite for modifying the tracking behavior.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=414"
  },
  {
    "text": "You can query the state the of the dock ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=421"
  },
  {
    "text": "through the DockAccessoryManager State events. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=423"
  },
  {
    "text": "The only relevant states are Docked and Undocked. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=425"
  },
  {
    "text": "The connectivity is managed by DockKit itself. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=429"
  },
  {
    "text": "The Docked state also means that iPhone is connected to the dock ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=432"
  },
  {
    "text": "via DockKit Protocol. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=436"
  },
  {
    "text": "Through state events, your application can also get the state of the tracking button. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=438"
  },
  {
    "text": "Once you know that the iPhone is docked, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=443"
  },
  {
    "text": "you can take control of other aspects of the accessory. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=445"
  },
  {
    "text": "One of the most useful is for your app to manage ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=449"
  },
  {
    "text": "the way in which the video is cropped.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=452"
  },
  {
    "text": "There are two ways you can control the cropping of camera's field of view.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=456"
  },
  {
    "text": "First, you can simply select left, center, or right alignment ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=460"
  },
  {
    "text": "of the automatic framing, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=464"
  },
  {
    "text": "or you can specify a specific region of interest. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=466"
  },
  {
    "text": "Let's go through cases where you may want to choose one or the other.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=470"
  },
  {
    "text": "By default, DockKit will keep your subject centered in frame. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=474"
  },
  {
    "text": "This works well for simple things like video streaming, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=479"
  },
  {
    "text": "but there are use cases where this may not be ideal.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=482"
  },
  {
    "text": "For example, what if your app injects custom graphic overlays, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=486"
  },
  {
    "text": "like this logo, into the video frame? ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=490"
  },
  {
    "text": "In this case, you'd want to make sure that ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=493"
  },
  {
    "text": "your subject isn't obscured by the artwork.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=495"
  },
  {
    "text": "You can correct this by simply changing the framing mode. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=499"
  },
  {
    "text": "Here, I'm specifying \"right\" to help balance against the graphic ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=503"
  },
  {
    "text": "that is aligned to the left third of the frame. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=507"
  },
  {
    "text": "And with that simple bit of code, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=510"
  },
  {
    "text": "the composition is perfect for the opening sequence of this video. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=512"
  },
  {
    "text": "Another way to control cropping is to specify ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=516"
  },
  {
    "text": "a specific region of interest in the video frame.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=519"
  },
  {
    "text": "Take this video conferencing app, for example. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=523"
  },
  {
    "text": "All video frames are intended to be cropped to a square aspect ratio. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=526"
  },
  {
    "text": "However, the default framing of DockKit could cause ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=530"
  },
  {
    "text": "someone's face to be cut off.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=534"
  },
  {
    "text": "You can fix this by setting a region of interest on the DockKit accessory.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=537"
  },
  {
    "text": "The upper left corner of the iPhone's display is considered the point of origin. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=542"
  },
  {
    "text": "Regions of interest are defined in normalized coordinates. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=547"
  },
  {
    "text": "In this example, I'm telling the DockKit accessory ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=551"
  },
  {
    "text": "that the region of interest is a centered square. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=554"
  },
  {
    "text": "With the adjustment to the region of interest, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=558"
  },
  {
    "text": "the subject is perfectly cropped within the frame. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=560"
  },
  {
    "text": "With DockKit you can also do custom motor control in your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=564"
  },
  {
    "text": "for either utility or as an affordance. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=568"
  },
  {
    "text": "This can open up lots of new feature opportunities.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=571"
  },
  {
    "text": "Since DockKit enables system tracking by default, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=575"
  },
  {
    "text": "you will need to set this value to false before taking control of the motors ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=578"
  },
  {
    "text": "or performing your own custom tracking. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=582"
  },
  {
    "text": "DockKit stands operate on two axis of rotation: X and Y. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=586"
  },
  {
    "text": "The tilt or, specifically, Pitch rotation is around X axis ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=591"
  },
  {
    "text": "aligned with the motor behind the magnet dock point. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=596"
  },
  {
    "text": "For pan, known as Yaw, the rotation is around Y axis ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=600"
  },
  {
    "text": "aligned with the motor at the base of the stand. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=605"
  },
  {
    "text": "Let's look at example of controlling this in code.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=608"
  },
  {
    "text": "Say you want to move the motor at ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=612"
  },
  {
    "text": "a low speed of 0.2 radians per second to the right ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=614"
  },
  {
    "text": "while pitching down 0.1 radians per second. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=617"
  },
  {
    "text": "First you define the initial velocity vector, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=621"
  },
  {
    "text": "then send that vector to the dock. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=624"
  },
  {
    "text": "You can keep the motion going for 2 seconds by sleeping the task. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=628"
  },
  {
    "text": "And reverse direction with a different vector ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=632"
  },
  {
    "text": "to move left at 0.2 rad/s and Pitch up with 0.1 rad/s. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=634"
  },
  {
    "text": "Now, that's not all that's possible when your app integrates with DockKit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=641"
  },
  {
    "text": "In addition to controlling the motors directly, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=645"
  },
  {
    "text": "you can also take control of the Inference. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=648"
  },
  {
    "text": "You can use the Vision framework, your own custom ML model, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=651"
  },
  {
    "text": "or whichever perception algorithm your application needs. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=654"
  },
  {
    "text": "From the custom inference output, you construct observations ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=657"
  },
  {
    "text": "to feed into DockKit to track the object. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=661"
  },
  {
    "text": "So, what is an observation? ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=663"
  },
  {
    "text": "An observation is any rectangular bounding box ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=666"
  },
  {
    "text": "that represents a subject of interest in the camera frame.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=669"
  },
  {
    "text": "That is, what you want to track. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=673"
  },
  {
    "text": "It could be a face, or an animal, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=676"
  },
  {
    "text": "or even a hand.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=680"
  },
  {
    "text": "Honestly, any object or point that you can observe over time.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=683"
  },
  {
    "text": "The bounding boxes are defined in normalized coordinates ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=688"
  },
  {
    "text": "based lower left point of origin. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=691"
  },
  {
    "text": "For instance, to create an observation for this detected face, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=693"
  },
  {
    "text": "I'd use a bounding box of roughly 0.25, 0.5, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=697"
  },
  {
    "text": "with width and height a percentage of the overall image frame.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=700"
  },
  {
    "text": "To create an observation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=705"
  },
  {
    "text": "you construct a CGRect in normalized coordinates ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=707"
  },
  {
    "text": "and construct an Observation from it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=710"
  },
  {
    "text": "When you do so, you want to specify that the observation type ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=713"
  },
  {
    "text": "is either \"humanFace\" or \"object\".",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=717"
  },
  {
    "text": "By using the \"humanFace\" option, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=720"
  },
  {
    "text": "you can ensure that the system-level multi-person tracking ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=722"
  },
  {
    "text": "and framing optimizations are still in effect.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=725"
  },
  {
    "text": "Once the observations are created, they can be fed to the tracker. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=729"
  },
  {
    "text": "You start by getting the current camera information. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=733"
  },
  {
    "text": "In this case, I'm specifying that the orientation is \"corrected\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=736"
  },
  {
    "text": "to let DockKit know the coordinates are relative ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=740"
  },
  {
    "text": "to bottom left corner of the screen ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=743"
  },
  {
    "text": "and no transformation is necessary, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=745"
  },
  {
    "text": "and then pass the observations array and camera info to the dock accessory. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=748"
  },
  {
    "text": "Now, the good news is, you don't have to calculate ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=754"
  },
  {
    "text": "the bounding boxes of many things you may want to observe ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=758"
  },
  {
    "text": "and track completely by hand.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=760"
  },
  {
    "text": "The Vision framework is great for custom inference, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=762"
  },
  {
    "text": "as it already includes many built-in requests that return bounding boxes ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=765"
  },
  {
    "text": "which can easily be converted into trackable observations, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=770"
  },
  {
    "text": "including Body Pose Detection, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=774"
  },
  {
    "text": "Animal Body Pose Detection, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=777"
  },
  {
    "text": "and even Barcode Recognition. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=778"
  },
  {
    "text": "And the coordinate system for Vision is the same for DockKit, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=780"
  },
  {
    "text": "so you can pass those in directly without any conversion. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=784"
  },
  {
    "text": "You just have to let DockKit know what the device orientation is. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=788"
  },
  {
    "text": "Now, let's walk through implementing custom observations in code.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=792"
  },
  {
    "text": "In this case, I want to replace default face and body tracking with hand tracking ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=797"
  },
  {
    "text": "using the Hand Pose Detection request.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=802"
  },
  {
    "text": "Start by creating the Vision request and the request handler-- ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=805"
  },
  {
    "text": "for this use case, I'm using VNDetectHumanHandPoseRequest-- ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=809"
  },
  {
    "text": "then, perform the request. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=814"
  },
  {
    "text": "You can construct an Observation based on the recognized points. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=817"
  },
  {
    "text": "For simplicity, I'm focusing on the point of the thumb tip, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=821"
  },
  {
    "text": "but I could use any other finger joint ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=827"
  },
  {
    "text": "or the whole hand to construct the observation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=829"
  },
  {
    "text": "And finally, you pass the observations to DockKit to track.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=832"
  },
  {
    "text": "With that, let's see it in action! ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=837"
  },
  {
    "text": "I'll launch my custom camera app and start tracking.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=854"
  },
  {
    "text": "As I move my hand, moving left, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=859"
  },
  {
    "text": "note the stand panning left to follow. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=862"
  },
  {
    "text": "And then, as I move my hand to the right, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=864"
  },
  {
    "text": "the stand follows in the opposite direction.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=867"
  },
  {
    "text": "If I sweep my hand up, the stand will tilt to keep my hand in frame, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=869"
  },
  {
    "text": "and following again as I sweep my hand back down. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=873"
  },
  {
    "text": "Perfect.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=876"
  },
  {
    "text": "With the ability to control the motors directly through the DockKit APIs, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=881"
  },
  {
    "text": "you can bring the device to life through animations! ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=885"
  },
  {
    "text": "The motion of the dock can be used as an affordance for confirmation ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=889"
  },
  {
    "text": "or as a way to convey emotion. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=893"
  },
  {
    "text": "You can create your own custom animations through direct motor control ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=895"
  },
  {
    "text": "to emulate physical interaction with the phone, like a push or a pull, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=899"
  },
  {
    "text": "or you can leverage one of the built-in animations.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=903"
  },
  {
    "text": "The built-in animations are ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=908"
  },
  {
    "text": "Yes, No, Wakeup, and Kapow. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=910"
  },
  {
    "text": "You can see the Wakeup animation in action every time the device startup occurs. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=915"
  },
  {
    "text": "Going back to the custom hand tracking app I just demonstrated, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=920"
  },
  {
    "text": "you could trigger a built-in animation any time a specific hand gesture occurs. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=924"
  },
  {
    "text": "To do this, you first need to train a custom Hand Action Classification model. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=930"
  },
  {
    "text": "This is easily done using the Create ML app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=936"
  },
  {
    "text": "For more information on creating one of these models, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=939"
  },
  {
    "text": "be sure to watch the \"Classify hand poses and actions\" video from 2021.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=942"
  },
  {
    "text": "Any time the custom model predicts that the hand gesture occurred, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=948"
  },
  {
    "text": "you can trigger the animation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=951"
  },
  {
    "text": "Begin by first disabling system tracking, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=953"
  },
  {
    "text": "then initiate the animation-- in this case, Kapow. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=957"
  },
  {
    "text": "The animation will start from the stand's current position ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=961"
  },
  {
    "text": "and will execute asynchronously. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=964"
  },
  {
    "text": "Once the animation executes, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=968"
  },
  {
    "text": "you will want to re-enable system tracking. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=969"
  },
  {
    "text": "Now, back to the demo to see it in action.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=973"
  },
  {
    "text": "The app will continue to track my hand as I step back a bit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=980"
  },
  {
    "text": "If I make a gesture that I'm pushing the camera, kapow! ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=984"
  },
  {
    "text": "The camera swings back and forth in a pendulum motion. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=989"
  },
  {
    "text": "Let's do that one more time because that is so much fun. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=993"
  },
  {
    "text": "And kapow! ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=996"
  },
  {
    "text": "You can use animations like these ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=999"
  },
  {
    "text": "to end an experience, or express something, anything. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=1001"
  },
  {
    "text": "I encourage you to experiment with this, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=1004"
  },
  {
    "text": "and by all means, consider creating your own animations ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=1006"
  },
  {
    "text": "using custom motor control.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=1009"
  },
  {
    "text": "With DockKit, the ability to track objects using motorized stands is introduced, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=1011"
  },
  {
    "text": "which gives applications 360 degree field of view. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=1015"
  },
  {
    "text": "Objects can be tracked at system level or by applications using custom inference. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=1019"
  },
  {
    "text": "And you can use mechanical motion in your applications ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=1024"
  },
  {
    "text": "as an affordance for conveying emotion or utility. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=1027"
  },
  {
    "text": "To learn even more about ways you could use the Vision framework ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=1031"
  },
  {
    "text": "for custom tracking in DockKit, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=1034"
  },
  {
    "text": "be sure to check out the video on detecting animal poses. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=1036"
  },
  {
    "text": "I can't wait for you to get your hands on these amazing accessories ",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=1040"
  },
  {
    "text": "and to see the experiences you'll bring to your app when using one.",
    "link": "https://developer.apple.com/videos/play/wwdc2023/10304/?time=1044"
  }
]