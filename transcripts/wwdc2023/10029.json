[
  {
    "text": "♪ ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=0"
  },
  {
    "text": "Calvin: Hi. I'm Calvin Gaisford, an engineer on the watchOS team. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=10"
  },
  {
    "text": "In this code-along session, we'll build a widget for the new Smart Stack ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=14"
  },
  {
    "text": "on Apple Watch. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=18"
  },
  {
    "text": "We'll walk you through the whole process of building a Widget ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=20"
  },
  {
    "text": "using an AppIntent configuration. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=22"
  },
  {
    "text": "In the process, we'll be using the latest WidgetKit and SwiftUI updates. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=25"
  },
  {
    "text": "We'll use the Backyard Birds app for our code-along. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=31"
  },
  {
    "text": "Backyard Birds is an app that lets you create ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=34"
  },
  {
    "text": "and manage backyards that attract visiting birds. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=37"
  },
  {
    "text": "Our widget will show a backyard's status. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=41"
  },
  {
    "text": "If a bird is visiting, it will show the bird ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=43"
  },
  {
    "text": "and also include the backyard's status. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=46"
  },
  {
    "text": "The widget will provide relevant dates to the Smart Stack ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=49"
  },
  {
    "text": "so it can prioritize our widget when it's most relevant. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=52"
  },
  {
    "text": "If you want to follow along, you can download the sample code ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=57"
  },
  {
    "text": "associated with this session and open the Backyard Birds Xcode project. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=61"
  },
  {
    "text": "We've already added a Widget Extension to the project ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=66"
  },
  {
    "text": "which generated some files, including the BackyardVisitorsWidget file. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=69"
  },
  {
    "text": "We'll spend most of our time updating this file. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=75"
  },
  {
    "text": "Here's what we'll cover. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=79"
  },
  {
    "text": "First, we'll take a look at the widget structure which defines our widget. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=80"
  },
  {
    "text": "We'll also do a quick overview of the widget configuration intent. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=85"
  },
  {
    "text": "Then, we'll customize our TimelineEntry structure ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=90"
  },
  {
    "text": "to hold data for our widget views, and we'll build out our timeline. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=93"
  },
  {
    "text": "Once our timeline has the data we need to enable previews, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=99"
  },
  {
    "text": "we'll build out our widget's views. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=102"
  },
  {
    "text": "After our views are built, we'll return to finish up the timeline. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=106"
  },
  {
    "text": "Finally, we'll look at the Relevant Intent Manager ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=112"
  },
  {
    "text": "and set intents for dates when our widget should be prioritized ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=115"
  },
  {
    "text": "on the watchOS Smart Stack. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=119"
  },
  {
    "text": "Let's get started with the widget configuration ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=122"
  },
  {
    "text": "by looking at the widget structure in our code.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=125"
  },
  {
    "text": "The widget structure is where a widget's configuration is defined. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=130"
  },
  {
    "text": "New in watchOS are AppIntentConfigurations. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=134"
  },
  {
    "text": "We'll be using an AppIntentConfiguration in our widget. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=138"
  },
  {
    "text": "The configuration intent, provider, and view were all stubbed out ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=143"
  },
  {
    "text": "when we created the WidgetExtension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=147"
  },
  {
    "text": "We'll be looking at each one and implementing them ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=150"
  },
  {
    "text": "for our Backyard Birds widget. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=152"
  },
  {
    "text": "This widget definition looks good, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=156"
  },
  {
    "text": "so let's move on and look at the WidgetConfigurationIntent. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=158"
  },
  {
    "text": "Our widget is using an App Intent Configuration ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=163"
  },
  {
    "text": "to allow it to do two things. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=167"
  },
  {
    "text": "First, our widget can provide a set of pre-configured widgets ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=169"
  },
  {
    "text": "in the watchOS widget gallery. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=174"
  },
  {
    "text": "In the case of Backyard Birds, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=177"
  },
  {
    "text": "we'll provide a configuration for each yard in our app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=179"
  },
  {
    "text": "Second, the WidgetConfigurationIntent will be used to specify dates ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=184"
  },
  {
    "text": "when our widget is most relevant. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=188"
  },
  {
    "text": "The Smart Stack will use this information ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=191"
  },
  {
    "text": "to prioritize our widget in the Smart Stack. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=193"
  },
  {
    "text": "Let's look at our widget's Configuration App Intent. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=197"
  },
  {
    "text": "Each yard in Backyard Birds has a unique ID. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=200"
  },
  {
    "text": "I've already added a parameter named backyardID, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=205"
  },
  {
    "text": "so this can be used to create a set of widget intents, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=209"
  },
  {
    "text": "one for each yard identified by their backyard ID. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=212"
  },
  {
    "text": "For the widgets we're building, that's the only parameter we need. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=216"
  },
  {
    "text": "To learn more about App Intents ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=221"
  },
  {
    "text": "and how to further use WidgetConfigurationIntent, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=223"
  },
  {
    "text": "check out these sessions about App Intents. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=226"
  },
  {
    "text": "We have our widget structure defined and a WidgetConfigurationIntent ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=229"
  },
  {
    "text": "that can hold a backyard ID. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=234"
  },
  {
    "text": "Let's move on to our widget timeline ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=236"
  },
  {
    "text": "and take a look at our TimelineEntry structure. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=239"
  },
  {
    "text": "The TimelineEntry structure will hold all of the data our widget views will need ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=242"
  },
  {
    "text": "to render themselves for a particular date. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=247"
  },
  {
    "text": "Back in the BackyardVisitorsWidget file, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=250"
  },
  {
    "text": "locate the generated SimpleEntry structure.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=253"
  },
  {
    "text": "The date and configuration properties were added when this file was generated. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=258"
  },
  {
    "text": "We need to define any additional properties ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=263"
  },
  {
    "text": "our widget views will need. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=266"
  },
  {
    "text": "Our widget is going to show a backyard's status ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=269"
  },
  {
    "text": "with its name, food, and water status. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=272"
  },
  {
    "text": "If a bird is visiting, it's going to show the visiting bird and the bird's name. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=275"
  },
  {
    "text": "If there isn't a bird, it will show how many birds have visited the yard. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=281"
  },
  {
    "text": "To display information about the yard, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=285"
  },
  {
    "text": "we'll use a structure from the Backyard Birds app ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=288"
  },
  {
    "text": "that holds all of the information about a backyard ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=291"
  },
  {
    "text": "for a given point in time. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=294"
  },
  {
    "text": "This is important since the TimelineEntry may have a future date. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=296"
  },
  {
    "text": "Let's add the backyard property to our TimelineEntry.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=300"
  },
  {
    "text": "Now, let's add a few computed properties ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=310"
  },
  {
    "text": "based on the backyard property we just added. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=313"
  },
  {
    "text": "First, let's add a bird property so the widget views can check ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=316"
  },
  {
    "text": "if a bird is visiting and display it.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=320"
  },
  {
    "text": "Now let's add two more properties that our views will use ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=328"
  },
  {
    "text": "to show more information about the yard.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=331"
  },
  {
    "text": "waterDuration and foodDuration will be used in the view ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=338"
  },
  {
    "text": "to show how long the water and food will last. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=342"
  },
  {
    "text": "These are calculated from the date property ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=345"
  },
  {
    "text": "in the TimelineEntry.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=347"
  },
  {
    "text": "A TimelineEntry also has a property named relevance ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=351"
  },
  {
    "text": "that, if implemented, can tell the watchOS Smart Stack ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=355"
  },
  {
    "text": "which timeline entries are most important. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=358"
  },
  {
    "text": "Let's add the relevance property to our TimelineEntry.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=361"
  },
  {
    "text": "Inside, let's check to see if the backyard has a visitor ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=368"
  },
  {
    "text": "for the TimelineEntry's date.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=371"
  },
  {
    "text": "If there is a visiting bird, we'll return a TimelineEntryRelevance structure.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=376"
  },
  {
    "text": "The TimelineEntryRelevance structure takes two parameters, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=385"
  },
  {
    "text": "a score and a duration. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=389"
  },
  {
    "text": "The score is used to prioritize an entry ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=392"
  },
  {
    "text": "against other entries in the same timeline. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=394"
  },
  {
    "text": "We'll set the score to 10 to rank an entry with a visitor ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=399"
  },
  {
    "text": "higher than an entry without a visitor. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=403"
  },
  {
    "text": "This value is arbitrary and can have any range of values ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=406"
  },
  {
    "text": "needed to rank entries in your timeline. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=409"
  },
  {
    "text": "The duration is used to tell the Smart Stack ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=412"
  },
  {
    "text": "how long this relevance entry is valid. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=415"
  },
  {
    "text": "We've set the duration to last until the visitor's endDate. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=418"
  },
  {
    "text": "If there isn't a visitor, let's return a Relevance structure ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=423"
  },
  {
    "text": "with a score of zero ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=426"
  },
  {
    "text": "This will tell the Smart Stack which timeline entries are most important. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=432"
  },
  {
    "text": "Depending on what else is happening at the time, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=437"
  },
  {
    "text": "our Widget may be raised in priority on the watchOS Smart Stack.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=440"
  },
  {
    "text": "Our TimelineEntry looks great and has everything our widget views need ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=447"
  },
  {
    "text": "to render properly. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=451"
  },
  {
    "text": "Let's move on and build out our TimelineProvider. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=452"
  },
  {
    "text": "There are four functions we need to complete for our TimelineProvider: ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=456"
  },
  {
    "text": "placeholder, snapshot, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=461"
  },
  {
    "text": "timeline, and recommendations. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=464"
  },
  {
    "text": "The placeholder function is used when the widget displays ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=469"
  },
  {
    "text": "for the first time and should return quickly. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=472"
  },
  {
    "text": "Since we updated our TimelineEntry to take a backyard, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=476"
  },
  {
    "text": "we need to supply one. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=479"
  },
  {
    "text": "Let's fix that by adding a random backyard from the app's data model.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=481"
  },
  {
    "text": "That's good. Let's move on. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=490"
  },
  {
    "text": "The snapshot function is used when a widget is in transient situations. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=494"
  },
  {
    "text": "This function should return quickly, so using sample data is fine ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=499"
  },
  {
    "text": "as long as it doesn't take more than a few seconds to fetch. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=503"
  },
  {
    "text": "We can do that same thing we did in the placeholder function ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=507"
  },
  {
    "text": "and pass a random yard.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=510"
  },
  {
    "text": "That looks good, but we could do better. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=516"
  },
  {
    "text": "The snapshot function is passed a configuration intent ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=520"
  },
  {
    "text": "which has the backyardID property that we added earlier. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=524"
  },
  {
    "text": "Our data is all local, so we can quickly look up ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=529"
  },
  {
    "text": "and return the proper backyard rather than using a random backyard. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=532"
  },
  {
    "text": "Let's get the configured backyard from the backyardID in the configuration.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=537"
  },
  {
    "text": "Now let's check the backyard and see if we can get a visitorEvent from it.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=544"
  },
  {
    "text": "Let's return an entry configured with a visitor's date, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=553"
  },
  {
    "text": "and if we don't have a visitor, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=556"
  },
  {
    "text": "we'll return the configured yard with the current date.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=558"
  },
  {
    "text": "This will provide a better preview for the user ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=564"
  },
  {
    "text": "since it will show the configured backyard. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=566"
  },
  {
    "text": "Before we dive into the timeline function, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=571"
  },
  {
    "text": "I want to turn on the Xcode canvas preview. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=574"
  },
  {
    "text": "Let's fix the last SimpleEntry and give it a backyard so we can see the preview.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=577"
  },
  {
    "text": "Now let's turn on the canvas.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=588"
  },
  {
    "text": "New in Xcode is the ability to preview a widget timeline. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=596"
  },
  {
    "text": "The canvas is showing a preview of the rectangular widget, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=600"
  },
  {
    "text": "and at the bottom is a series of TimelineEntries ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=604"
  },
  {
    "text": "that make up the widget's timeline. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=607"
  },
  {
    "text": "The canvas preview is using the default view ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=609"
  },
  {
    "text": "that was generated when we added the widget. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=612"
  },
  {
    "text": "Before we finish the timeline provider, let's go build out our view ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=615"
  },
  {
    "text": "so we can better visualize our timelines as we build it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=619"
  },
  {
    "text": "Locate the BackyardBirdsWidgetEntryView. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=622"
  },
  {
    "text": "Let's add an environment property for the widgetFamily ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=627"
  },
  {
    "text": "so we can build views specifically for each family.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=631"
  },
  {
    "text": "Let's replace the body with a switch statement ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=637"
  },
  {
    "text": "so we can implement a view for each accessoryWidget family.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=640"
  },
  {
    "text": "Now, let's create a case for accessoryRectangular ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=649"
  },
  {
    "text": "with a view that takes an entry as a parameter. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=653"
  },
  {
    "text": "We'll implement this view below.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=656"
  },
  {
    "text": "The rectangular view is unique, in that it will be the view ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=661"
  },
  {
    "text": "of our widget shown in the watchOS Smart Stack. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=664"
  },
  {
    "text": "For our rectangular view, we'll follow a common pattern ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=668"
  },
  {
    "text": "where we'll have an image on the left and three lines of text on the right. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=671"
  },
  {
    "text": "Let's go to the bottom of the file ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=677"
  },
  {
    "text": "and we'll create the RectangularBackyardView.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=679"
  },
  {
    "text": "The view uses the TimelineEntry we modified earlier ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=686"
  },
  {
    "text": "to contain the backyard data. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=689"
  },
  {
    "text": "Before we continue, let's switch our canvas view ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=692"
  },
  {
    "text": "to the Smart Stack Rectangular view.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=695"
  },
  {
    "text": "This will let us visualize the widget as we build it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=702"
  },
  {
    "text": "Now let's put an image and three lines of text ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=707"
  },
  {
    "text": "in our view's HStack.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=710"
  },
  {
    "text": "Look at the preview. That's not exactly it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=718"
  },
  {
    "text": "Let's put the lines of text in their own VStack.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=721"
  },
  {
    "text": "Okay, that's close. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=729"
  },
  {
    "text": "Let's put actual data into the view from the entry. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=732"
  },
  {
    "text": "First, we'll use a ComposedBird view from the Backyard Birds app ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=736"
  },
  {
    "text": "that can display a bird.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=740"
  },
  {
    "text": "The bird is optional, so we need to unwrap it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=746"
  },
  {
    "text": "Let's put the ComposedBird view and VStack inside an if-let check ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=749"
  },
  {
    "text": "to see if there is a bird in the entry.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=754"
  },
  {
    "text": "If there isn't a bird, let's put an image of a fountain ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=762"
  },
  {
    "text": "for the yard and text that shows no bird.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=765"
  },
  {
    "text": "We can now go through the timeline and see entries that show a bird ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=773"
  },
  {
    "text": "with three lines of text and entries that show no bird.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=777"
  },
  {
    "text": "Let's fill out the details for the case where there is a bird first. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=787"
  },
  {
    "text": "For the first line, we'll show the bird's name, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=791"
  },
  {
    "text": "the second line, the backyard's name, and the third line, we'll add information ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=794"
  },
  {
    "text": "about the yard's food and water.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=799"
  },
  {
    "text": "For the case where there is no bird, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=808"
  },
  {
    "text": "let's show the yard name, the food and water information, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=810"
  },
  {
    "text": "and then the number of visitors to this yard.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=814"
  },
  {
    "text": "Let's see what our entries look like.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=822"
  },
  {
    "text": "That's great, but let's fix up the layout a bit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=830"
  },
  {
    "text": "First, let's update the ComposedBird. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=834"
  },
  {
    "text": "Let's make the view scaledToFit and make it widgetAccentable ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=837"
  },
  {
    "text": "so it will tint when used on a watch face that is tinted. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=841"
  },
  {
    "text": "On the bird's name, let's add the headline font, make it scale, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=846"
  },
  {
    "text": "and also make it widgetAccentable so it tints with the watch face. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=851"
  },
  {
    "text": "We'll also make the text take on the color of the bird's wing ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=855"
  },
  {
    "text": "using a foregroundStyle.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=858"
  },
  {
    "text": "Let's add the scale factor to both of our other views ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=865"
  },
  {
    "text": "in case the names go long.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=867"
  },
  {
    "text": "Let's set the foregroundStyle of the last line to secondary.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=875"
  },
  {
    "text": "Finally, let's make our stack leading aligned ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=883"
  },
  {
    "text": "so our three text views are aligned.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=886"
  },
  {
    "text": "Our view looks pretty good. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=893"
  },
  {
    "text": "Let's apply all of these same updates to the views in the else statement ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=895"
  },
  {
    "text": "when there isn't a bird.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=898"
  },
  {
    "text": "Now our widget is looking better.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=906"
  },
  {
    "text": "Notice our widget has different spacing when showing a bird or a yard. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=915"
  },
  {
    "text": "Let's make those match by adding a frame to the bird view and the image view.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=920"
  },
  {
    "text": "We'll also add frames to the VStacks so they align properly.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=935"
  },
  {
    "text": "There's one more option we need to add to finish our widget ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=948"
  },
  {
    "text": "for the watchOS Smart Stack. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=951"
  },
  {
    "text": "New in SwiftUI is the containerBackground. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=954"
  },
  {
    "text": "Let's replace the containerBackground with a gradient from the backyard. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=957"
  },
  {
    "text": "We'll set the containersBackground placement to be a widget.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=962"
  },
  {
    "text": "The containerBackground is selectively used by the system ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=970"
  },
  {
    "text": "and here will only appear in the watchOS Smart Stack ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=974"
  },
  {
    "text": "and not on the watch face.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=977"
  },
  {
    "text": "Now our view is ready for the watchOS Smart Stack. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=982"
  },
  {
    "text": "The view looks great, so let's go back to our TimelineProvider ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=985"
  },
  {
    "text": "and finish building out the timeline. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=989"
  },
  {
    "text": "The timeline function is where a widget generates ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=993"
  },
  {
    "text": "a collection of timeline entries ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=995"
  },
  {
    "text": "that contain data to render the widget's view. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=997"
  },
  {
    "text": "This is the workhorse-function of a widget. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1000"
  },
  {
    "text": "Right now it's generating five entries with random backyard data. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1005"
  },
  {
    "text": "Let's replace that with a timeline full of bird visits. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1009"
  },
  {
    "text": "At the top of the function is an array of TimelineEntries. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1014"
  },
  {
    "text": "We'll use this to build our timeline. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1018"
  },
  {
    "text": "First, let's remove the generated timeline code.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1021"
  },
  {
    "text": "Now, let's get the configured yard using the backyardID ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1027"
  },
  {
    "text": "from the ConfigurationAppIntent.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1031"
  },
  {
    "text": "The backyard structure has a property on it ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1037"
  },
  {
    "text": "that contains all of the visitorEvents for that yard. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1039"
  },
  {
    "text": "Let's iterate on the visitorEvents for the retrieved yard. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1042"
  },
  {
    "text": "For each event, let's create a TimelineEntry that contains ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1046"
  },
  {
    "text": "the startDate of the visitorEvent and pass in the configured backyard.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1050"
  },
  {
    "text": "Our timeline preview updated. Let's see how it changed. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1059"
  },
  {
    "text": "Now as we select our timeline entries, we see birds appearing. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1064"
  },
  {
    "text": "That's what we expected. However, every entry has a visitor. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1069"
  },
  {
    "text": "We need to add entries for when the birds leave too. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1073"
  },
  {
    "text": "Let's create a second entry and use the visitorEvent's endDate. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1077"
  },
  {
    "text": "We'll use the same backyard and append the entry to the entries array.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1081"
  },
  {
    "text": "Let's look at the timeline now.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1091"
  },
  {
    "text": "Okay, we have entries for when the birds visit ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1095"
  },
  {
    "text": "and when they leave. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1098"
  },
  {
    "text": "Our widget timeline looks great, and this new timeline preview is amazing. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1100"
  },
  {
    "text": "It's going to make building widgets and timelines a lot easier.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1105"
  },
  {
    "text": "Finally, let's implement the timeline provider's ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1111"
  },
  {
    "text": "recommendations function. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1114"
  },
  {
    "text": "Here, we need to return an array of AppIntentRecommendations ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1117"
  },
  {
    "text": "which will contain our WidgetConfigurationIntent, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1121"
  },
  {
    "text": "which holds a backyardID. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1124"
  },
  {
    "text": "Let's remove the default implementation.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1127"
  },
  {
    "text": "Let's create an array of recommendations to return.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1132"
  },
  {
    "text": "Next, we want to create a recommendation for each backyard ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1138"
  },
  {
    "text": "in our app, so let's iterate through all of the backyards.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1142"
  },
  {
    "text": "For each backyard, we'll create a ConfigurationAppIntent ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1149"
  },
  {
    "text": "and set the backyardID.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1152"
  },
  {
    "text": "And finally, let's create an AppIntentRecommendation ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1157"
  },
  {
    "text": "using the ConfigurationIntent and add it to our array. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1161"
  },
  {
    "text": "We'll us the backyard's name as a description.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1165"
  },
  {
    "text": "The recommendations function will now provide a list ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1171"
  },
  {
    "text": "of widget configurations, one for each backyard, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1175"
  },
  {
    "text": "in the widget gallery when a person is selecting ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1178"
  },
  {
    "text": "a Backyard Birds widget. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1181"
  },
  {
    "text": "Congratulations. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1184"
  },
  {
    "text": "You've now built a widget on watchOS that will surface ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1187"
  },
  {
    "text": "as a watch face complication and the watchOS Smart Stack. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1190"
  },
  {
    "text": "Earlier, we talked a little bit about relevance ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1195"
  },
  {
    "text": "when we implemented the relevance property on our TimelineEntry, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1197"
  },
  {
    "text": "but there is more we can do. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1201"
  },
  {
    "text": "Each yard in Backyard Birds app keeps track of the water ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1204"
  },
  {
    "text": "and food available for birds. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1208"
  },
  {
    "text": "Our new widget is also gonna show that information. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1210"
  },
  {
    "text": "We can provide the system a list of relevant intents ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1215"
  },
  {
    "text": "during the time periods when we know the water or food is running low. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1218"
  },
  {
    "text": "Our widget will be prioritized during those times, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1223"
  },
  {
    "text": "letting people know their yards need attention. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1226"
  },
  {
    "text": "Back in our code, let's create a new function ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1231"
  },
  {
    "text": "that will build relevant intents for any of our possible widgets ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1233"
  },
  {
    "text": "and then update the RelevantIntentManager with those intents. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1238"
  },
  {
    "text": "We'll create a new function named updateBackyardRelevantIntents.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1242"
  },
  {
    "text": "In the function, we need an array of relevantIntents.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1255"
  },
  {
    "text": "And we'll update the RelevantIntentManager with that array.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1263"
  },
  {
    "text": "To fill out the relevantIntents array, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1270"
  },
  {
    "text": "we'll loop through all of the backyards in the app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1272"
  },
  {
    "text": "Next, we'll create a configurationIntent for the backyard ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1277"
  },
  {
    "text": "and set the backyardID to the current backyard. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1281"
  },
  {
    "text": "We'll create a RelevantContext based on dates. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1286"
  },
  {
    "text": "In this case, we'll use the backyard's future low food date ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1290"
  },
  {
    "text": "and the future empty food date.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1294"
  },
  {
    "text": "Finally, we'll create a relevantIntent. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1300"
  },
  {
    "text": "We'll use the configurationIntent for our widget, our widget's kind, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1303"
  },
  {
    "text": "and the relevantDateContext we just created ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1308"
  },
  {
    "text": "and append this to our array.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1310"
  },
  {
    "text": "Now, let's do the same thing for the backyard's lowWater ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1316"
  },
  {
    "text": "and emptyWater dates.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1319"
  },
  {
    "text": "That looks good. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1325"
  },
  {
    "text": "Now the RelevantIntentManager has the date ranges ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1327"
  },
  {
    "text": "when each possible configuration of our widget has a higher relevance. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1330"
  },
  {
    "text": "Let's go add this function into key components ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1335"
  },
  {
    "text": "so the relevantIntents are updated when appropriate. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1338"
  },
  {
    "text": "First, let's go back to the timeline function in the timeline provider. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1342"
  },
  {
    "text": "Let's call our function just before we return the timeline.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1347"
  },
  {
    "text": "This will keep the relevantIntents up-to-date ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1353"
  },
  {
    "text": "every time we update our widget timeline. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1355"
  },
  {
    "text": "Let's also go over to the Backyard Birds app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1359"
  },
  {
    "text": "The Backyard Birds app has a detail view for each yard ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1363"
  },
  {
    "text": "and provides a page where a person can refill the food and water. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1366"
  },
  {
    "text": "This is also an ideal place to update the relevantIntents ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1371"
  },
  {
    "text": "since the food and water supply can change. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1375"
  },
  {
    "text": "In the BackyardContentTab, we'll add a Task ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1379"
  },
  {
    "text": "with our updateBackyardRelevantIntents function ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1382"
  },
  {
    "text": "when the Refill button is tapped. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1385"
  },
  {
    "text": "Since we know the food and water has just been updated, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1389"
  },
  {
    "text": "we should also make a call into WidgetKit and reload our widget's timeline.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1393"
  },
  {
    "text": "Now our relevant intents will be updated ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1400"
  },
  {
    "text": "and our widget's timeline will reload ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1402"
  },
  {
    "text": "when a person refills the water and food in a yard.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1405"
  },
  {
    "text": "We've now built a widget for the watchOS Smart Stack ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1410"
  },
  {
    "text": "and we've updated the RelevantIntentManager ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1414"
  },
  {
    "text": "with date intents to prioritize our widget when it's most relevant. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1416"
  },
  {
    "text": "Thanks for following along. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1421"
  },
  {
    "text": "We look forward to seeing widgets you build for the watchOS Smart Stack. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1423"
  },
  {
    "text": "For more information about widgets, the Smart Stack, and App Intents, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1428"
  },
  {
    "text": "check out these sessions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1434"
  },
  {
    "text": "Be adventurous and never stop coding.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10029/?time=1436"
  }
]