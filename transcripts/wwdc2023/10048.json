[
  {
    "text": "♪ ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=0"
  },
  {
    "text": "Adam: Welcome, I'm Adam, an engineer for VisionKit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=10"
  },
  {
    "text": "It is my pleasure to spend time with you today to talk about new features ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=13"
  },
  {
    "text": "and API the team has been working on for this year. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=17"
  },
  {
    "text": "To recap, last year Live Text support was added in VisionKit, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=20"
  },
  {
    "text": "enabling interactions such as text selection, translation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=24"
  },
  {
    "text": "QR support, and more for images in your apps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=28"
  },
  {
    "text": "VisionKit also introduced the DataScannerViewController, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=31"
  },
  {
    "text": "The Data scanner uses a live camera feed provide a simple and full featured way ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=35"
  },
  {
    "text": "to capture specific text types, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=39"
  },
  {
    "text": "as well as many variants of machine readable codes. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=41"
  },
  {
    "text": "Information on those APIs are included in these WWDC22 sessions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=44"
  },
  {
    "text": "The response from developers has been amazing, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=50"
  },
  {
    "text": "and this year I'm happy to announce VisionKit is adding support ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=53"
  },
  {
    "text": "for both Subject Lifting and Visual Look Up. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=56"
  },
  {
    "text": "There's also new Live Text API for text selection, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=60"
  },
  {
    "text": "expanded platform support for Catalyst, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=63"
  },
  {
    "text": "and context menu integration for native macOS apps.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=65"
  },
  {
    "text": "And now I'm going to get started with Subject Lifting. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=69"
  },
  {
    "text": "With a simple long press ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=73"
  },
  {
    "text": "on the subject of an image, it lifts it from its surroundings ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=74"
  },
  {
    "text": "and becomes highlighted with this beautiful animated glow, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=77"
  },
  {
    "text": "and then I am presented with several options to share it, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=80"
  },
  {
    "text": "or invoke Visual Look Up. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=83"
  },
  {
    "text": "New for iOS 17, you can now use any lifted subject ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=86"
  },
  {
    "text": "to create a sticker, with fun effects such as shiny, puffy, and more ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=89"
  },
  {
    "text": "to share with your friends and family. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=93"
  },
  {
    "text": "Now the good news is, integrating Subject Lifting is very simple. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=95"
  },
  {
    "text": "In fact, there is a good chance you are already finished. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=100"
  },
  {
    "text": "Here is the same code snippet from the last year's video ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=104"
  },
  {
    "text": "where I analyze an image and set it on the interaction. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=107"
  },
  {
    "text": "But now, it supports Subject Lifting, without any code changed. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=110"
  },
  {
    "text": "Let's explore further. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=114"
  },
  {
    "text": "Notice that I'm not passing anything special into the analyzer configuration. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=116"
  },
  {
    "text": "This is because in order to preserve power and performance, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=120"
  },
  {
    "text": "Subject Lifting analysis is handled separately by the interaction ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=123"
  },
  {
    "text": "after the initial analysis is complete. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=127"
  },
  {
    "text": "For iOS this process occurs after it's been on screen for a few seconds, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=130"
  },
  {
    "text": "and for macOS it will occur the first time the menu appears. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=134"
  },
  {
    "text": "This means you don't need to handle the case ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=138"
  },
  {
    "text": "of the user swiping though many photos. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=140"
  },
  {
    "text": "The interaction will handle this for you. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=142"
  },
  {
    "text": "All you need to do is ensure you have an appropriate interaction type set-- ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=145"
  },
  {
    "text": "in this case, automatic-- ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=149"
  },
  {
    "text": "and the rest is handled by the interaction. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=150"
  },
  {
    "text": "Let's examine Subject Lifting compatible interaction types ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=153"
  },
  {
    "text": "a bit closer. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=157"
  },
  {
    "text": "Automatic gives the default out of the box experience, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=158"
  },
  {
    "text": "combining text interaction, Subject Lifting, and more. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=161"
  },
  {
    "text": "If you only want Subject Lifting, and not text selection or data detectors, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=165"
  },
  {
    "text": "you can set the interaction type to .imageSegmentation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=170"
  },
  {
    "text": "or combine it with other types. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=173"
  },
  {
    "text": "And finally, if Subject Lifting just does not make sense for your app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=176"
  },
  {
    "text": "but you want the previous automatic behavior from iOS 16, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=180"
  },
  {
    "text": "no problem, you can use a new type, .automaticTextOnly. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=183"
  },
  {
    "text": "This provides features such as text selection and data detectors, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=187"
  },
  {
    "text": "but not Subject Lifting. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=190"
  },
  {
    "text": "We have a detailed session specifically on Subject Lifting available ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=193"
  },
  {
    "text": "if you would like to learn advanced topics about this amazing new technology ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=196"
  },
  {
    "text": "in both VisionKit, and Vision. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=200"
  },
  {
    "text": "This year VisionKit also supports Visual Look Up. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=203"
  },
  {
    "text": "Visual Look Up allows users to easily identify and learn about pets, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=208"
  },
  {
    "text": "nature, landmarks, art, and media. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=211"
  },
  {
    "text": "And In iOS 17, Visual Look Up will support additional domains, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=215"
  },
  {
    "text": "including food, products, and signs and symbols. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=218"
  },
  {
    "text": "Now, finally, it's easy to look up what those symbols on your laundry tags mean. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=222"
  },
  {
    "text": "I mean, that's pretty cool if you ask me. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=226"
  },
  {
    "text": "Visual Look Up availability is based on language, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=229"
  },
  {
    "text": "and is available for these languages. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=232"
  },
  {
    "text": "Let's take a quick peek under the hood, and explore how Visual Look Up works. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=235"
  },
  {
    "text": "It's actually a two-part process. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=239"
  },
  {
    "text": "Initial processing is accomplished entirely on device at analysis time. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=242"
  },
  {
    "text": "If the .visualLookUp type is present in the analyzer configuration, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=247"
  },
  {
    "text": "Visual Look Up will locate the bounding box of the results, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=250"
  },
  {
    "text": "and their top level domain. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=254"
  },
  {
    "text": "For example, if it's a cat, book, or plant. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=255"
  },
  {
    "text": "This step also includes feature extraction. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=258"
  },
  {
    "text": "Once the user requests to look up an object, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=262"
  },
  {
    "text": "then, and only then, are the domain and image embeddings ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=264"
  },
  {
    "text": "from feature extraction sent to the server for additional processing. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=268"
  },
  {
    "text": "Now you know how Visual Look Up works, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=272"
  },
  {
    "text": "let's quickly explore how to use it, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=275"
  },
  {
    "text": "and what actions you need to take to add it to your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=276"
  },
  {
    "text": "Visual Look Up can be invoked in two different ways. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=280"
  },
  {
    "text": "The first is in conjunction with Subject Lifting, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=283"
  },
  {
    "text": "if the current lifted subject contains one, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=286"
  },
  {
    "text": "and only one, correlated Visual Look Up result, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=288"
  },
  {
    "text": "the Look Up option will be offered in the menu, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=291"
  },
  {
    "text": "and selecting it will show the full Look Up result. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=294"
  },
  {
    "text": "VisionKit handles this interaction for you automatically. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=297"
  },
  {
    "text": "As an adopter all you need to do ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=300"
  },
  {
    "text": "is have .visualLookUp added to your analyzer configuration at analysis time. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=302"
  },
  {
    "text": "Second, there is a modal interaction available ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=307"
  },
  {
    "text": "where badges are placed over each of the visual search results. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=310"
  },
  {
    "text": "Notice how the badges move to the corner if they leave the viewport, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=314"
  },
  {
    "text": "Users can tap on these badges to show the Look Up result. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=318"
  },
  {
    "text": "This is the same interaction as clicking on the info button in the Photos app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=322"
  },
  {
    "text": "or Quick Look, for example. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=325"
  },
  {
    "text": "This mode is invoked by setting .visualLookUp ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=328"
  },
  {
    "text": "as the preferredInteractionType on your interaction. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=331"
  },
  {
    "text": "Please note: this type will have precedence ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=334"
  },
  {
    "text": "over the other interaction types. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=336"
  },
  {
    "text": "For example, you cannot select text or data detectors ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=338"
  },
  {
    "text": "at the same time that the visualLookup Mode is set. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=341"
  },
  {
    "text": "As such, this is normally used in conjunction with a button, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=344"
  },
  {
    "text": "or some other bespoke way to get in and out of this mode. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=348"
  },
  {
    "text": "For example, Quick Look uses the info button ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=352"
  },
  {
    "text": "to enter Visual Look Up mode. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=354"
  },
  {
    "text": "Now let's shift gears and discuss new API and features for the Data Scanner ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=357"
  },
  {
    "text": "as well as Live Text. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=361"
  },
  {
    "text": "Introduced In iOS 16, the DataScannerViewController ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=363"
  },
  {
    "text": "was designed to be the easiest way to use OCR ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=366"
  },
  {
    "text": "with a live camera viewfinder. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=369"
  },
  {
    "text": "In iOS 17, it's been enhanced with optical flow tracking as well as currency support. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=371"
  },
  {
    "text": "Optical flow tracking can enhance text tracking for live-camera experiences. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=378"
  },
  {
    "text": "Here is what we have in iOS 16. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=383"
  },
  {
    "text": "I'm scanning for text with highFrameRateTracking enabled. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=385"
  },
  {
    "text": "And this what you'll get with optical flow tracking. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=390"
  },
  {
    "text": "Now the highlights feel much more stable and grounded than before. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=393"
  },
  {
    "text": "Optical flow tracking comes for free ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=397"
  },
  {
    "text": "whenever you use the DataScannerViewController, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=399"
  },
  {
    "text": "however, it is only available when recognizing text, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=402"
  },
  {
    "text": "and not machine readable codes. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=405"
  },
  {
    "text": "And you're also required to scan for text without a specific text content type set. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=407"
  },
  {
    "text": "And finally, once again, ensure high frame-rate tracking is enabled. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=413"
  },
  {
    "text": "Which is, conveniently, the default.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=417"
  },
  {
    "text": "No matter how you configure it, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=421"
  },
  {
    "text": "the data scanner provides great text tracking; ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=423"
  },
  {
    "text": "but if your use case allows for this configuration, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=425"
  },
  {
    "text": "the new optical flow tracking can enhance it even further.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=428"
  },
  {
    "text": "Next, the data scanner has a new option ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=432"
  },
  {
    "text": "allowing users to find and interact with monetary values. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=435"
  },
  {
    "text": "It's incredibly simple to enable. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=438"
  },
  {
    "text": "Just set the text content type to currency when specifying text recognition ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=441"
  },
  {
    "text": "in the data scanner's initializer, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=445"
  },
  {
    "text": "just as you would other content types like email addresses ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=447"
  },
  {
    "text": "or telephone numbers. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=450"
  },
  {
    "text": "Now I'm going to explore this new type in more detail with a quick example. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=452"
  },
  {
    "text": "When the data scanner recognizes currency in text, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=457"
  },
  {
    "text": "It contains both a bounds and a transcript. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=461"
  },
  {
    "text": "The transcript has both the currency symbol and the amount. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=464"
  },
  {
    "text": "Here's an example where I find the total of all the values ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=469"
  },
  {
    "text": "on something like a receipt. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=472"
  },
  {
    "text": "First, I get the currency symbol using the current locale.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=474"
  },
  {
    "text": "While awaiting the data scanner's results in the recognizedItems stream, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=478"
  },
  {
    "text": "I can loop through each of the recognized items ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=482"
  },
  {
    "text": "and grab its transcript. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=484"
  },
  {
    "text": "If the transcript contains the currency symbol I'm interested in, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=487"
  },
  {
    "text": "I'll go ahead and update the total value. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=491"
  },
  {
    "text": "And just like that, now you'll have the sum of all values. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=493"
  },
  {
    "text": "This is just a simple example, but this can very powerful, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=496"
  },
  {
    "text": "I'm excited to see what you can build with this. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=500"
  },
  {
    "text": "And now I'm going to talk about enhancements to Live Text.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=503"
  },
  {
    "text": "First off, Live Text is coming to more regions ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=507"
  },
  {
    "text": "by expanding our supported languages to include Thai and Vietnamese. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=511"
  },
  {
    "text": "Live Text includes enhancements ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=516"
  },
  {
    "text": "for document structure detection as well this year. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=518"
  },
  {
    "text": "Document structure detection? What does that even mean? ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=520"
  },
  {
    "text": "Well, as an example, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=523"
  },
  {
    "text": "in iOS 16 Live Text supported list detection. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=525"
  },
  {
    "text": "This allows you to easily copy and paste a list into an app that understands lists, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=529"
  },
  {
    "text": "such as Notes, and the list formatting will be maintained. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=534"
  },
  {
    "text": "Live Text handles several list styles, such as numbers or bullets. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=537"
  },
  {
    "text": "And now, Live Text is offering the same support for Tables, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=541"
  },
  {
    "text": "making it far easier to get structured table data from an image ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=545"
  },
  {
    "text": "into applications like Notes or Numbers. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=549"
  },
  {
    "text": "Now I can select, copy, and paste this table into Numbers, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=552"
  },
  {
    "text": "and the structure is maintained. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=556"
  },
  {
    "text": "Notice how it merges cells automatically if necessary. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=558"
  },
  {
    "text": "And just like that, I'm now just a few clicks away ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=562"
  },
  {
    "text": "from visualizing this information in a graph. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=564"
  },
  {
    "text": "Nice. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=567"
  },
  {
    "text": "And that's not all. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=569"
  },
  {
    "text": "We are also adding Context Aware Data Detectors in Live Text. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=571"
  },
  {
    "text": "For this feature, data detectors and their visual relationships ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=575"
  },
  {
    "text": "are used when adding contacts. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=578"
  },
  {
    "text": "Notice how when I add this contact from an email address, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=581"
  },
  {
    "text": "additional information from surrounding data detectors are now included, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=585"
  },
  {
    "text": "allowing me to easily add all this information at once. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=589"
  },
  {
    "text": "Adding a contact from a business card or flyer has never been easier. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=593"
  },
  {
    "text": "In addition to these great features you are also getting for free, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=597"
  },
  {
    "text": "VisionKit also has some new APIs specifically for text. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=601"
  },
  {
    "text": "Last year, you could get the entire text contents ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=604"
  },
  {
    "text": "by accessing the transcript property on the image analysis. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=608"
  },
  {
    "text": "Based on your feedback, you now have full access ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=612"
  },
  {
    "text": "to plain and attributed text, selected ranges, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=615"
  },
  {
    "text": "and easy access to selected text. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=617"
  },
  {
    "text": "There is also a new delegate method so you can be aware ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=620"
  },
  {
    "text": "when the text selection changes and update your UI as appropriate. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=622"
  },
  {
    "text": "It is now easy to add features that rely on what the user has selected. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=627"
  },
  {
    "text": "For example, using the menu builder API, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=631"
  },
  {
    "text": "you could insert a menu item ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=634"
  },
  {
    "text": "that creates a reminder based on the current text selection. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=635"
  },
  {
    "text": "Start in the view controller that owns your image analysis interaction. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=638"
  },
  {
    "text": "First grab the selected text, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=642"
  },
  {
    "text": "and ensure it isn't empty. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=645"
  },
  {
    "text": "Then create a command that calls our handler when chosen, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=647"
  },
  {
    "text": "Now create a menu object that holds the command. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=651"
  },
  {
    "text": "And finally, insert that menu as a sibling after the share menu option. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=654"
  },
  {
    "text": "Now you have a custom menu ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=659"
  },
  {
    "text": "alongside system items like copy and share. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=660"
  },
  {
    "text": "Now I'm going to talk about our expanded platform support. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=664"
  },
  {
    "text": "And this year, it's all about the Mac. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=668"
  },
  {
    "text": "We are rolling out Catalyst support to easily bring Live Text ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=670"
  },
  {
    "text": "from your iOS apps over to the Mac. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=673"
  },
  {
    "text": "And if you're new to the native macOS API and the ImageAnalysisOverlayView, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=676"
  },
  {
    "text": "stay tuned, because I'm going to go over some specifics, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=680"
  },
  {
    "text": "as well as some tips on adopting them. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=683"
  },
  {
    "text": "Finally, I am going to talk about a new system for menus, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=686"
  },
  {
    "text": "offering simple and seamless integration of VisionKit into your contextual menus. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=689"
  },
  {
    "text": "Catalyst adoption is very straightforward. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=694"
  },
  {
    "text": "It should be a simple recompile ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=697"
  },
  {
    "text": "to get the image analysis interaction working in Catalyst. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=698"
  },
  {
    "text": "We support, Live Text, Subject Lifting and Visual Look Up, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=702"
  },
  {
    "text": "but unfortunately QR code support is unavailable ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=705"
  },
  {
    "text": "in either the Catalyst environment or native macOS API for VisionKit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=708"
  },
  {
    "text": "However, I wanted to let you know ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=713"
  },
  {
    "text": "that if you have a shared implementation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=715"
  },
  {
    "text": "leaving the .machineReadableCodes in your analyzer configuration for Catalyst ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=718"
  },
  {
    "text": "is perfectly safe, and just becomes a no-op. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=721"
  },
  {
    "text": "Also, please note that QR detection support ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=725"
  },
  {
    "text": "is available in the Vision Framework ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=727"
  },
  {
    "text": "if you need this functionality on the Mac.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=729"
  },
  {
    "text": "Now I'm gong to transition to the native macOS API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=734"
  },
  {
    "text": "As with iOS, there are two major classes you need to be aware of ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=738"
  },
  {
    "text": "when adopting VisionKit: ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=741"
  },
  {
    "text": "the ImageAnalyzer and the ImageAnalysisOverlayView. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=743"
  },
  {
    "text": "First, the easy part. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=747"
  },
  {
    "text": "The Image Analyzer and analysis process for the Mac is identical to iOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=749"
  },
  {
    "text": "With the exception of machine readable codes being a no-op, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=754"
  },
  {
    "text": "as I mentioned earlier, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=756"
  },
  {
    "text": "everything is the same and is used in the same way. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=758"
  },
  {
    "text": "The main difference between the iOS ImageAnalysisInteraction, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=761"
  },
  {
    "text": "and macOS's ImageAnalysisOverlayView ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=765"
  },
  {
    "text": "is how the interaction is added to your application. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=768"
  },
  {
    "text": "For iOS, the ImageAnalysisInteraction is a UIInteraction that is added to a view, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=771"
  },
  {
    "text": "already existing in your apps view hierarchy. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=777"
  },
  {
    "text": "But UIInteraction does not exist on the Mac. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=780"
  },
  {
    "text": "So what do you do? ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=783"
  },
  {
    "text": "In this case, as the name suggests, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=785"
  },
  {
    "text": "the image analysis overlay view is a subclass of NSView. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=787"
  },
  {
    "text": "I simply need to add the overlay view in my view hierarchy above my image content. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=791"
  },
  {
    "text": "I can add it, for example, here. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=797"
  },
  {
    "text": "Or even here. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=800"
  },
  {
    "text": "But the simplest way is to add it as a sub view of my content view. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=801"
  },
  {
    "text": "Any way you choose is perfectly fine, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=806"
  },
  {
    "text": "but I've found adding it as a subView is generally simpler, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=808"
  },
  {
    "text": "and easier to manage as you don't have to handle repositioning the overlay view ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=811"
  },
  {
    "text": "when the contents view position changes. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=815"
  },
  {
    "text": "And now you know how and where to add it to your app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=818"
  },
  {
    "text": "Let's talk rectangles. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=821"
  },
  {
    "text": "Since the OverlayView doesn't host or render your content, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=824"
  },
  {
    "text": "it needs to know exactly where the content exists in relation to its bounds. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=827"
  },
  {
    "text": "This is described by the contentsRect, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=831"
  },
  {
    "text": "which is in unit coordinate space with the origin at the top left. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=834"
  },
  {
    "text": "Wow, that was a mouthful. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=838"
  },
  {
    "text": "A quick example should help clarify this. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=840"
  },
  {
    "text": "Since the overlay view is placed directly over the imageView, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=842"
  },
  {
    "text": "they have same bounds. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=846"
  },
  {
    "text": "I'll show the bounds with this rectangle. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=847"
  },
  {
    "text": "And I'll also add its matching contents rect. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=850"
  },
  {
    "text": "Easiest case is if the content matches the bounds. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=853"
  },
  {
    "text": "Here it's simply the unit rectangle. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=856"
  },
  {
    "text": "Now, here is an aspect fit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=859"
  },
  {
    "text": "Notice this portion of the imageView now has no content underneath it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=861"
  },
  {
    "text": "And is reflected in the contents rect. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=864"
  },
  {
    "text": "And here is an aspect fill. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=867"
  },
  {
    "text": "This portion of the image is no longer visible to the user, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=869"
  },
  {
    "text": "Notice how the contents rect changes here. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=873"
  },
  {
    "text": "Now, some good news. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=876"
  },
  {
    "text": "Just as with UIImageView on iOS, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=878"
  },
  {
    "text": "if you are using NSImageView, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=880"
  },
  {
    "text": "you can simply set the trackingImageView property on the overlay view, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=882"
  },
  {
    "text": "and it will calculate all of this for you automatically. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=886"
  },
  {
    "text": "If you are not using NSImageView, no worries. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=890"
  },
  {
    "text": "You can provide the contents rect by implementing the delegate method ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=893"
  },
  {
    "text": "contentsRect(for overlayView:) ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=896"
  },
  {
    "text": "The overlay view will ask for this during layout when its bounds change. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=899"
  },
  {
    "text": "However, you can manually request this be updated ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=903"
  },
  {
    "text": "by calling setContentsRectNeedsUpdate on the overlayView. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=905"
  },
  {
    "text": "All righty, let's move on to contextual menus. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=910"
  },
  {
    "text": "As I'm sure you are all aware, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=913"
  },
  {
    "text": "contextual menus are a huge part of the Mac experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=915"
  },
  {
    "text": "Now Its now easy to add VisionKit provided functionality ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=918"
  },
  {
    "text": "directly into your menus, for features such as Live Text, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=921"
  },
  {
    "text": "Look Up, and Subject Lifting, and more. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=924"
  },
  {
    "text": "One question you may have is, why? ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=927"
  },
  {
    "text": "Let's examine the macOS Photos app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=930"
  },
  {
    "text": "If I were to right click on the text for this iconic road sign, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=932"
  },
  {
    "text": "I would just be presented with only the VisionKit text menu. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=935"
  },
  {
    "text": "If it were not over text, I would be offered the app menu instead, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=939"
  },
  {
    "text": "without any text items. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=942"
  },
  {
    "text": "This is not ideal. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=944"
  },
  {
    "text": "Now in macOS Sonoma, items can be combined into the same menu. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=946"
  },
  {
    "text": "You can easily get to both text and image functionality, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=951"
  },
  {
    "text": "no matter where the menu event was initiated. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=954"
  },
  {
    "text": "This is a far better experience for the user, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=956"
  },
  {
    "text": "and is simple to implement. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=959"
  },
  {
    "text": "Let's explore how this can be accomplished in your own app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=961"
  },
  {
    "text": "You now have a new delegate method available, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=964"
  },
  {
    "text": "overlayview:updatedmenu:forevent:atpoint. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=967"
  },
  {
    "text": "The arguments include the event that triggered the menu, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=969"
  },
  {
    "text": "and the point in the overlay view bounds coordinate space, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=972"
  },
  {
    "text": "so you can create any menus you need. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=975"
  },
  {
    "text": "From there, you simply need to return the menu that you would like to display. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=978"
  },
  {
    "text": "The default implementation returns the VisionKit menu. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=982"
  },
  {
    "text": "However, you may wish to add your own items to that menu, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=985"
  },
  {
    "text": "or take items from that menu and add it to yours.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=988"
  },
  {
    "text": "VisionKit menu items are identified by tags, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=992"
  },
  {
    "text": "and there is a struct available that contains these tags. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=995"
  },
  {
    "text": "We have several items available for copying and sharing ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=998"
  },
  {
    "text": "the image and subjects, and one for Look Up. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1001"
  },
  {
    "text": "We also have a special item you can use to find the suggested index ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1004"
  },
  {
    "text": "to add items to the VisionKit provided menu, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1008"
  },
  {
    "text": "but more on that later. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1010"
  },
  {
    "text": "Here are some examples of how this is used. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1012"
  },
  {
    "text": "If I had an existing menu and all I were interested in was adding ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1015"
  },
  {
    "text": "the copySubject item, it could be easily added like this. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1018"
  },
  {
    "text": "First, get your apps menu. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1022"
  },
  {
    "text": "Then get the item you are interested in. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1025"
  },
  {
    "text": "In this case, copySubject. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1026"
  },
  {
    "text": "And insert it in your menu. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1029"
  },
  {
    "text": "Now, it's important to remember that Items will only be available ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1031"
  },
  {
    "text": "if they are actually valid. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1034"
  },
  {
    "text": "For example, if there's no subject interaction capable type present, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1035"
  },
  {
    "text": "the copySubject item will not be in the menu. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1039"
  },
  {
    "text": "Also, for system provided text items, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1042"
  },
  {
    "text": "they are included if applicable, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1044"
  },
  {
    "text": "but not all are identifiable by tag. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1046"
  },
  {
    "text": "You can even customize these items however you would wish. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1049"
  },
  {
    "text": "For example, I've changed the item from copy image to copy photo. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1053"
  },
  {
    "text": "And worry not about changing these properties. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1057"
  },
  {
    "text": "These items are re-created each time ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1059"
  },
  {
    "text": "and you can change them however you'd like. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1061"
  },
  {
    "text": "Now that I've covered adding items to your existing menu, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1064"
  },
  {
    "text": "I'm going to explore an example of how to add items to the VisionKit menu. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1067"
  },
  {
    "text": "As mentioned earlier, the overlayView will provide an item ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1071"
  },
  {
    "text": "with a tag at the recommended index ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1074"
  },
  {
    "text": "to insert your items called recommendedAppItems. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1076"
  },
  {
    "text": "You simply ask for the index of this item and insert your items at that index. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1079"
  },
  {
    "text": "Using this index is optional and not required. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1085"
  },
  {
    "text": "However, it is a good way to keep things consistent for your users.",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1088"
  },
  {
    "text": "You will notice that some of these menu items have special properties. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1093"
  },
  {
    "text": "For example, when the subject related menu item are highlighted, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1096"
  },
  {
    "text": "the area surrounding my cat KiKi here dims ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1100"
  },
  {
    "text": "and the glow animation begins, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1103"
  },
  {
    "text": "indicating the subject to the user before it is copied or shared. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1105"
  },
  {
    "text": "VisionKit uses the menu appearing as a trigger to begin subject analysis, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1109"
  },
  {
    "text": "if it hasn't began already. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1113"
  },
  {
    "text": "This is all handled for you automatically. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1115"
  },
  {
    "text": "In order to provide these features, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1118"
  },
  {
    "text": "VisionKit will set itself as a delegate ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1120"
  },
  {
    "text": "for any menu you return from the update menu method. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1122"
  },
  {
    "text": "If you were previously relying on these NSMenuDelegate callbacks, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1126"
  },
  {
    "text": "VisionKit now provides its own Delegate callbacks ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1130"
  },
  {
    "text": "allowing you to retain functionality with your menu items ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1132"
  },
  {
    "text": "if you were using that previously. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1136"
  },
  {
    "text": "And here's a quick tip. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1138"
  },
  {
    "text": "If you are in this situation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1140"
  },
  {
    "text": "depending on where the menu was initiated from, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1142"
  },
  {
    "text": "it may not come from VisionKit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1144"
  },
  {
    "text": "So you'll likely want to keep your existing implementation around. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1146"
  },
  {
    "text": "Generally, the simplest way to keep this all in sync ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1150"
  },
  {
    "text": "is to have your OverlayViewDelegate implementation ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1153"
  },
  {
    "text": "call your matching NSMenuDelegate implementation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1156"
  },
  {
    "text": "adjusting as necessary. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1159"
  },
  {
    "text": "Of course, ensure this makes sense for your app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1161"
  },
  {
    "text": "but in general, this usually does the trick. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1163"
  },
  {
    "text": "And that's a quick overview of what's new in VisionKit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1166"
  },
  {
    "text": "It has been my pleasure to spend time with you today discussing Subject Lifting ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1169"
  },
  {
    "text": "and Visual Look Up, ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1173"
  },
  {
    "text": "as well as of our new macOS APIs and related information. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1174"
  },
  {
    "text": "I'm looking forward to hear how you use these new capabilities ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1178"
  },
  {
    "text": "to delight and surprise your customers. ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1181"
  },
  {
    "text": "And seriously, as always, please have fun! ",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1184"
  },
  {
    "text": "Thank you!",
    "link": "https://developer.apple.com/videos/play/wwdc2023-10048/?time=1188"
  }
]