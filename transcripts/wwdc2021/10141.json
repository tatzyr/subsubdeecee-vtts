[
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=0"
  },
  {
    "text": "♪ Bass music playing ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=2"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=5"
  },
  {
    "text": "♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=7"
  },
  {
    "text": "Naiwei Zheng: Hello. Welcome to WWDC.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=10"
  },
  {
    "text": "My name is Zheng Naiwei.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=13"
  },
  {
    "text": "I'm from Apple's HLS Streaming Team.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=15"
  },
  {
    "text": "Today I'm going to talk about a new feature in HLS ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=18"
  },
  {
    "text": "called Content Steering, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=21"
  },
  {
    "text": "and how it can improve global streaming availability.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=23"
  },
  {
    "text": "Today's network connectivity is at global scale.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=27"
  },
  {
    "text": "Streaming media providers deliver their contents ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=32"
  },
  {
    "text": "all around the world.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=34"
  },
  {
    "text": "However, delivering contents at the global scale comes with ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=36"
  },
  {
    "text": "enormous amount of challenges the industry has to solve.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=39"
  },
  {
    "text": "We, HLS Streaming Team at Apple, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=44"
  },
  {
    "text": "also recognize these challenging problems ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=46"
  },
  {
    "text": "and are constantly working to provide solutions.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=49"
  },
  {
    "text": "Today, we will be focusing on the problem of availability.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=52"
  },
  {
    "text": "Specifically, network congestion mitigation ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=57"
  },
  {
    "text": "and error recovery.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=59"
  },
  {
    "text": "To help us understand these problems, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=62"
  },
  {
    "text": "let's take a look at an example.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=64"
  },
  {
    "text": "Let's assume a popular streaming provider in Asia ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=67"
  },
  {
    "text": "deploys its CDN infrastructures ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=71"
  },
  {
    "text": "in the following three countries: ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=73"
  },
  {
    "text": "China, Japan, and Singapore.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=75"
  },
  {
    "text": "In this graph, we are showing a state where everything ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=77"
  },
  {
    "text": "is working in perfect condition.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=80"
  },
  {
    "text": "We have users in China streaming from Chinese CDN ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=82"
  },
  {
    "text": "and users from Japan streaming from Japanese CDN, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=86"
  },
  {
    "text": "and both CDN networks are performing at capable level.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=91"
  },
  {
    "text": "Now, let's introduce some change.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=95"
  },
  {
    "text": "Let's say a while later, users in China ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=98"
  },
  {
    "text": "streaming from the Chinese CDN has greatly increased, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=101"
  },
  {
    "text": "to a degree that CDN network is becoming overloading.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=105"
  },
  {
    "text": "With the HLS technologies we had, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=109"
  },
  {
    "text": "it's difficult to fully address this issue ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=112"
  },
  {
    "text": "of network congestion.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=114"
  },
  {
    "text": "Even though we could assign new users to different CDN, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=116"
  },
  {
    "text": "it's, however, difficult to instruct existing clients ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=120"
  },
  {
    "text": "to use a different CDN, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=123"
  },
  {
    "text": "and existing traffic will continuously overload ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=125"
  },
  {
    "text": "the current CDN.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=128"
  },
  {
    "text": "With our new HLS Content Steering feature, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=129"
  },
  {
    "text": "content providers can solve this problem ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=132"
  },
  {
    "text": "by hosting their own steering server.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=134"
  },
  {
    "text": "It establishes a side channel with all latest HLS clients ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=137"
  },
  {
    "text": "to update them with the latest CDN policy.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=141"
  },
  {
    "text": "For example, it can send a policy update to 30 percent ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=144"
  },
  {
    "text": "of the existing clients in China to switch to Japanese CDN.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=148"
  },
  {
    "text": "And the clients receiving the policy update ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=153"
  },
  {
    "text": "will honor the change and redirect their network traffics ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=156"
  },
  {
    "text": "to the Japanese CDN.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=159"
  },
  {
    "text": "Now the network congestion in the Chinese CDN is mitigated.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=161"
  },
  {
    "text": "But network congestion is only one ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=166"
  },
  {
    "text": "of the many availability problems.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=168"
  },
  {
    "text": "What happens when there's a network outage? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=171"
  },
  {
    "text": "Let's take another example.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=174"
  },
  {
    "text": "Say the network path from users in Japan to the Japanese CDN ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=176"
  },
  {
    "text": "has experienced a regional outage.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=181"
  },
  {
    "text": "With HLS technologies we had, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=184"
  },
  {
    "text": "content providers can list our fallback variant streams ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=186"
  },
  {
    "text": "in master playlist, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=189"
  },
  {
    "text": "so clients can try to walk through the list ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=191"
  },
  {
    "text": "until it reaches a working CDN.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=193"
  },
  {
    "text": "But this approach is preliminary in the sense ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=196"
  },
  {
    "text": "that content provider is unable to change ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=198"
  },
  {
    "text": "the ordering or priorities of the CDNs listed ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=200"
  },
  {
    "text": "in the master playlist in real time.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=204"
  },
  {
    "text": "However, with the help of the steering server, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=207"
  },
  {
    "text": "clients will be updated with the latest CDN priorities ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=209"
  },
  {
    "text": "at near real time.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=213"
  },
  {
    "text": "Let's rewind a bit to see how it can facilitate the client ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=215"
  },
  {
    "text": "with more efficient error recovery.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=218"
  },
  {
    "text": "Before the network outage, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=221"
  },
  {
    "text": "clients in Japan periodically pull ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=223"
  },
  {
    "text": "for CDN priority list updates from the steering server.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=225"
  },
  {
    "text": "Let's say in the latest update, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=229"
  },
  {
    "text": "clients in Japan received the following CDN priority list ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=232"
  },
  {
    "text": "where the Japanese CDN being most preferred, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=237"
  },
  {
    "text": "following Singapore and then China.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=240"
  },
  {
    "text": "Currently, users in Japan are streaming from the Japanese CDN.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=243"
  },
  {
    "text": "Now when the network outage happens, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=249"
  },
  {
    "text": "the Japanese CDN will be marked as penalized ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=251"
  },
  {
    "text": "from the priority list.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=254"
  },
  {
    "text": "The client will move on to the next CDN in the priority list, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=256"
  },
  {
    "text": "which in this case, the CDN in Singapore, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=260"
  },
  {
    "text": "and redirect their network traffics.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=263"
  },
  {
    "text": "Now the users in Japan will be able to continue ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=266"
  },
  {
    "text": "watching their shows without interrupt.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=269"
  },
  {
    "text": "What our example showed you is just a high-level overview ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=272"
  },
  {
    "text": "of our new HLS feature, Content Steering.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=276"
  },
  {
    "text": "Now let's dive deeper to show you how to integrate ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=279"
  },
  {
    "text": "this amazing feature into your streams.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=282"
  },
  {
    "text": "It's just a simple listing of different CDN URLs ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=285"
  },
  {
    "text": "duplicating all available variants.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=289"
  },
  {
    "text": "As explained before, a playlist like this ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=292"
  },
  {
    "text": "has a constant and final ordering of CDN priorities.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=295"
  },
  {
    "text": "Content providers cannot change it later ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=299"
  },
  {
    "text": "during the playback.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=301"
  },
  {
    "text": "Now let's see how to add Content Steering support ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=303"
  },
  {
    "text": "to this playlist.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=306"
  },
  {
    "text": "You may be surprised how little the change introduced.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=310"
  },
  {
    "text": "In fact, the changes are backward-compatible ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=314"
  },
  {
    "text": "with current HLS clients.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=316"
  },
  {
    "text": "Let's walk through the additions.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=318"
  },
  {
    "text": "Most notably, we now group variant streams ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=321"
  },
  {
    "text": "into different pathways by the PATHWAY-ID attributes ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=324"
  },
  {
    "text": "on each variant stream, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=328"
  },
  {
    "text": "where each pathway typically corresponds to one CDN.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=330"
  },
  {
    "text": "In this example, we group the variant streams into pathway CN, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=334"
  },
  {
    "text": "JP, and SG, representing CDNs in China, Japan, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=339"
  },
  {
    "text": "and Singapore, respectively.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=344"
  },
  {
    "text": "However, a pathway may contain variant streams ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=346"
  },
  {
    "text": "from different CDNs to enable more advanced use case.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=349"
  },
  {
    "text": "When the client selects a pathway, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=354"
  },
  {
    "text": "only the variant streams from that pathway ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=356"
  },
  {
    "text": "is eligible for variant selection.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=359"
  },
  {
    "text": "The PATHWAY-ID attribute on the new CONTENT-STEERING tag ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=361"
  },
  {
    "text": "specifies the initial pathway to use at playback startup.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=365"
  },
  {
    "text": "So, in this case, the client will only choose ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=370"
  },
  {
    "text": "from variant streams belonging to the CN pathway ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=372"
  },
  {
    "text": "at the initial playback.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=375"
  },
  {
    "text": "The SERVER-URI attribute ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=378"
  },
  {
    "text": "specifies where is the Content Steering server.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=380"
  },
  {
    "text": "Clients will pull for Content Steering updates ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=383"
  },
  {
    "text": "from this URI.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=386"
  },
  {
    "text": "But what if your playlist contains media groups? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=388"
  },
  {
    "text": "No problem.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=391"
  },
  {
    "text": "It's still very simple to enable Content Steering.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=392"
  },
  {
    "text": "All you have to do is to duplicate the media groups ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=396"
  },
  {
    "text": "for each pathway and assign them with unique GROUP-IDs.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=399"
  },
  {
    "text": "For example, the audio group in this playlist ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=405"
  },
  {
    "text": "is being duplicated for each pathway, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=408"
  },
  {
    "text": "with the GROUP-ID set to CN-audio for the CN pathway ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=410"
  },
  {
    "text": "and et cetera.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=414"
  },
  {
    "text": "When an HLS client loaded a master playlist ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=416"
  },
  {
    "text": "with Content Steering tag, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=419"
  },
  {
    "text": "it triggers a slightly different startup routine.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=421"
  },
  {
    "text": "First, when it performs initial variant stream selection, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=425"
  },
  {
    "text": "it will only use variant streams from the initial pathway.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=430"
  },
  {
    "text": "Then it will load and start playing ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=434"
  },
  {
    "text": "the selected variant stream and its media segments as usual.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=437"
  },
  {
    "text": "But in parallel to the normal playback routine, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=442"
  },
  {
    "text": "the client will start making ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=445"
  },
  {
    "text": "periodic Steering Manifest requests in background.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=446"
  },
  {
    "text": "Let's take a look of what ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=450"
  },
  {
    "text": "a Steering Manifest request looks like.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=452"
  },
  {
    "text": "It's just a simple HTTP GET request ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=456"
  },
  {
    "text": "sent to this resolved URI from the SERVER-URI attribute ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=458"
  },
  {
    "text": "based on the master playlist URL.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=462"
  },
  {
    "text": "The steering server will respond with a Steering Manifest.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=465"
  },
  {
    "text": "Let's dissect its format with an example.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=469"
  },
  {
    "text": "The Steering Manifest is a JSON document.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=473"
  },
  {
    "text": "The steering server can craft customized Steering Manifests ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=476"
  },
  {
    "text": "for each client.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=480"
  },
  {
    "text": "This gives steering server great potential ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=482"
  },
  {
    "text": "in shaping its managed network traffic.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=484"
  },
  {
    "text": "The most important property in this Steering Manifest ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=488"
  },
  {
    "text": "is the PATHWAY-PRIORITY field.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=491"
  },
  {
    "text": "It's a list of pathway IDs ordered by their priorities, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=494"
  },
  {
    "text": "with the first being the most preferred.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=498"
  },
  {
    "text": "Here in this example, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=501"
  },
  {
    "text": "we have a priority of CN pathway being most preferred, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=503"
  },
  {
    "text": "followed by JP and then SG.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=506"
  },
  {
    "text": "Upon receiving the Steering Manifest ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=510"
  },
  {
    "text": "from the steering server, the client will perform ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=512"
  },
  {
    "text": "Content Steering evaluation to determine whether ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=515"
  },
  {
    "text": "to switch to a different pathway.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=519"
  },
  {
    "text": "First, the client will exclude variant streams ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=522"
  },
  {
    "text": "ineligible for selection.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=525"
  },
  {
    "text": "This includes penalized variant streams ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=527"
  },
  {
    "text": "due to network errors.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=530"
  },
  {
    "text": "And also, variant streams with unsupported codecs, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=532"
  },
  {
    "text": "just like usual variant selection would do.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=536"
  },
  {
    "text": "It will select a pathway that has at least one ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=540"
  },
  {
    "text": "eligible variant streams and has highest pathway priority ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=543"
  },
  {
    "text": "among all eligible pathways.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=548"
  },
  {
    "text": "If the chosen pathway is different ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=551"
  },
  {
    "text": "from the currently using pathway, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=553"
  },
  {
    "text": "the client will immediately switch to the new pathway.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=555"
  },
  {
    "text": "If no suitable pathway is chosen ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=560"
  },
  {
    "text": "or is already using the chosen pathway, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=562"
  },
  {
    "text": "client will do nothing ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=565"
  },
  {
    "text": "and keep playing using the current pathway.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=567"
  },
  {
    "text": "Finally, the client will schedule ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=571"
  },
  {
    "text": "for the next Steering Manifest request ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=573"
  },
  {
    "text": "to pull for latest updates from the steering server.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=576"
  },
  {
    "text": "So how does this scheduling work? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=579"
  },
  {
    "text": "Let's review the Steering Manifest.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=582"
  },
  {
    "text": "Notice that there's a TTL field which specify ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=585"
  },
  {
    "text": "the number of seconds the client should wait ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=589"
  },
  {
    "text": "until sending the next Steering Manifest request.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=592"
  },
  {
    "text": "In this example, after the client performed ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=596"
  },
  {
    "text": "the Content Steering evaluation ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=599"
  },
  {
    "text": "using this Steering Manifest's pathway priority list, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=601"
  },
  {
    "text": "it will schedule the next Steering Manifest request ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=605"
  },
  {
    "text": "in 300 seconds, which is five minutes.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=608"
  },
  {
    "text": "It's also worth noting that steering server is able ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=612"
  },
  {
    "text": "to change this TTL value in each Steering Manifest response, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=615"
  },
  {
    "text": "affecting how long the client ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=620"
  },
  {
    "text": "should schedule the next request.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=622"
  },
  {
    "text": "It's also useful for steering server ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=624"
  },
  {
    "text": "to inject some randomness to each client's TTL value ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=626"
  },
  {
    "text": "to distribute server load.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=630"
  },
  {
    "text": "In addition, the optional RELOAD-URI field ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=633"
  },
  {
    "text": "tells the clients where to request ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=636"
  },
  {
    "text": "the next Steering Manifest.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=638"
  },
  {
    "text": "Steering server can leverage this field to inject ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=641"
  },
  {
    "text": "client-specific state or session data in the URL ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=643"
  },
  {
    "text": "to be echoed back in the next request.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=647"
  },
  {
    "text": "Now you have seen the major technical details ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=650"
  },
  {
    "text": "of Content Steering.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=653"
  },
  {
    "text": "Let's go back to one of our early examples ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=655"
  },
  {
    "text": "to see how it works under the hood.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=657"
  },
  {
    "text": "Let's say in this case, all users in China ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=662"
  },
  {
    "text": "have received a Steering Manifest ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=665"
  },
  {
    "text": "with the CN pathway being most preferred, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=667"
  },
  {
    "text": "and the corresponding Chinese CDN is being overloaded ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=671"
  },
  {
    "text": "because of the increasing number of users.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=674"
  },
  {
    "text": "So the steering server came into action, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=678"
  },
  {
    "text": "and sending out a different Steering Manifest ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=681"
  },
  {
    "text": "to 30 percent of the users in China, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=684"
  },
  {
    "text": "with the most preferred pathway changed to JP.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=687"
  },
  {
    "text": "After performing a Content Steering evaluation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=690"
  },
  {
    "text": "those 30 percent clients in China ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=693"
  },
  {
    "text": "will switch to the JP pathway, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=695"
  },
  {
    "text": "redirecting their network traffics to the CDN in Japan, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=697"
  },
  {
    "text": "resolving the network congestion situation in Chinese CDN.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=701"
  },
  {
    "text": "To wrap up, we introduced the new HLS feature ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=707"
  },
  {
    "text": "of Content Steering, explained how it works, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=710"
  },
  {
    "text": "and how to integrate it in your streams.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=713"
  },
  {
    "text": "With this amazing feature, you will be able ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=716"
  },
  {
    "text": "to fine-tune your global streaming availability.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=719"
  },
  {
    "text": "For more technical details, follow the link below this video ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=723"
  },
  {
    "text": "for \"HLS Content Steering Specification\".",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=727"
  },
  {
    "text": "I'd also like to tell you that playlists ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=730"
  },
  {
    "text": "and Steering Manifest validation is also supported ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=733"
  },
  {
    "text": "in our latest HTTP Live Streaming Tools.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=736"
  },
  {
    "text": "I'd also like to acknowledge feedbacks ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=740"
  },
  {
    "text": "and helps we received from industry members ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=742"
  },
  {
    "text": "in the HLS Interest IETF forum.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=745"
  },
  {
    "text": "Future feedbacks and suggestions are also welcomed.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=748"
  },
  {
    "text": "And with all these in place, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=753"
  },
  {
    "text": "the HLS Content Steering will be available to developers ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=754"
  },
  {
    "text": "and users in this year's WWDC Seed builds.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=757"
  },
  {
    "text": "So, if you want a better global streaming delivery ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=761"
  },
  {
    "text": "with more availability, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=765"
  },
  {
    "text": "act now to integrate HLS Content Steering ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=766"
  },
  {
    "text": "in your streams ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=769"
  },
  {
    "text": "and bring your customers a better streaming experience.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=771"
  },
  {
    "text": "Thank you very much.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=774"
  },
  {
    "text": "♪",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10141/?time=775"
  }
]