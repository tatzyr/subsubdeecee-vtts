[
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=2"
  },
  {
    "text": "Hi.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=9"
  },
  {
    "text": "My name is Annie, and I'm a software engineer ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=10"
  },
  {
    "text": "on the Health Records team.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=12"
  },
  {
    "text": "I'm joined today by my colleague Cary ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=14"
  },
  {
    "text": "to show you how you can empower people ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=16"
  },
  {
    "text": "to share their verifiable health records using HealthKit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=18"
  },
  {
    "text": "Before we dive into verifiable health records, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=23"
  },
  {
    "text": "I want to briefly reintroduce the Health Records feature ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=26"
  },
  {
    "text": "that we launched back in 2018 for iOS 11.3. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=29"
  },
  {
    "text": "Health Records allows users to connect to their providers ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=33"
  },
  {
    "text": "and securely download their clinical records ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=36"
  },
  {
    "text": "to the Health app for easy storage ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=39"
  },
  {
    "text": "and visualization.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=41"
  },
  {
    "text": "This is all built on top of industry standards ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=43"
  },
  {
    "text": "like HL7's Fast Healthcare Interoperability Resources, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=45"
  },
  {
    "text": "or FHIR. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=50"
  },
  {
    "text": "With user permission, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=51"
  },
  {
    "text": "your app can access these health records ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=53"
  },
  {
    "text": "that users have downloaded with HealthKit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=55"
  },
  {
    "text": "For more details about the existing Health Records API, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=58"
  },
  {
    "text": "I encourage you to check out our WWDC 2018 video, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=61"
  },
  {
    "text": "\"Accessing Health Records with HealthKit\" to learn more. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=66"
  },
  {
    "text": "For iOS 15, we're leveraging our Health Records work ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=69"
  },
  {
    "text": "to allow for the download, storage, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=73"
  },
  {
    "text": "and sharing of verifiable records ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=76"
  },
  {
    "text": "in the Health app ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=78"
  },
  {
    "text": "implemented based on the SMART Health Cards specification.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=79"
  },
  {
    "text": "Let's explore what verifiable health records are ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=83"
  },
  {
    "text": "and how they're different from the health records data ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=86"
  },
  {
    "text": "you can currently query for with HealthKit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=88"
  },
  {
    "text": "First, a verifiable health record contains ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=93"
  },
  {
    "text": "multiple FHIR resources, including a patient resource ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=96"
  },
  {
    "text": "and one or more clinical resources. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=100"
  },
  {
    "text": "These resources are bundled ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=103"
  },
  {
    "text": "in what we call a SMART Health Card. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=105"
  },
  {
    "text": "Issuers, or institutions that create ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=108"
  },
  {
    "text": "verifiable health records, such as a lab ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=111"
  },
  {
    "text": "or healthcare provider, cryptographically sign ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=114"
  },
  {
    "text": "this SMART Health Card as a JSON Web Signature, or JWS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=117"
  },
  {
    "text": "Finally, issuers generate verifiable health records ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=122"
  },
  {
    "text": "such that they include only necessary information ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=126"
  },
  {
    "text": "about the patient and their clinical data.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=129"
  },
  {
    "text": "To get a clearer picture of these points, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=132"
  },
  {
    "text": "let's look at an example. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=134"
  },
  {
    "text": "For this example, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=136"
  },
  {
    "text": "the record contains two FHIR immunization resources, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=138"
  },
  {
    "text": "one for each dose of a vaccine. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=141"
  },
  {
    "text": "It also includes a FHIR patient resource ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=144"
  },
  {
    "text": "to identify who received the vaccine. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=146"
  },
  {
    "text": "These resources are then combined ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=150"
  },
  {
    "text": "into a SMART Health Card, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=152"
  },
  {
    "text": "which, in its raw form, looks like this. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=154"
  },
  {
    "text": "The SMART Health Card payload includes information ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=157"
  },
  {
    "text": "such as the type, which contains URLs that declare ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=160"
  },
  {
    "text": "what types of data to expect in the health card, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=164"
  },
  {
    "text": "and the credential subject, which includes the FHIR version ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=167"
  },
  {
    "text": "and a Bundle resource that contains the immunization ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=171"
  },
  {
    "text": "and patient resources. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=174"
  },
  {
    "text": "The SMART Health Card is then signed as a JWS, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=176"
  },
  {
    "text": "which has two components: A header and a payload.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=180"
  },
  {
    "text": "The JWS header houses the algorithm used ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=184"
  },
  {
    "text": "to sign the JWS; the public key thumbprint, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=188"
  },
  {
    "text": "which specifies which of the issuer's public keys was ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=192"
  },
  {
    "text": "used to sign; and the algorithm used to compress the payload. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=195"
  },
  {
    "text": "The compressed JWS payload, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=201"
  },
  {
    "text": "along with the credential subject, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=203"
  },
  {
    "text": "contains other claims data, including the issuer URL, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=205"
  },
  {
    "text": "where the issuer's public keys are located, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=210"
  },
  {
    "text": "the issued date, and an optional expiration date.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=213"
  },
  {
    "text": "In its raw form, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=218"
  },
  {
    "text": "this is what a Verifiable Health Record looks like.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=219"
  },
  {
    "text": "For more information, we encourage you ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=222"
  },
  {
    "text": "to visit the SMART Health Card specification ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=225"
  },
  {
    "text": "via the link associated with this session.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=228"
  },
  {
    "text": "Now that we've reviewed ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=231"
  },
  {
    "text": "what a verifiable health record looks like, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=232"
  },
  {
    "text": "let me show you how you can import these records ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=235"
  },
  {
    "text": "into the Health app.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=237"
  },
  {
    "text": "One option is to use the existing Health Records feature. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=239"
  },
  {
    "text": "Users can download verifiable health records ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=243"
  },
  {
    "text": "to the Health app by connecting ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=246"
  },
  {
    "text": "to a Health Records-enabled provider.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=247"
  },
  {
    "text": "Note that this option is only available ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=250"
  },
  {
    "text": "where the Health Records feature is available, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=253"
  },
  {
    "text": "which is currently in the US, UK, and Canada. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=255"
  },
  {
    "text": "Users also have the options of downloading a file ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=260"
  },
  {
    "text": "with a .smart-health-cards extension or scanning ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=264"
  },
  {
    "text": "a smart-health-card file-embedded QR code. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=267"
  },
  {
    "text": "This will display the following sheet ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=270"
  },
  {
    "text": "in the Health app, where users can view details ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=273"
  },
  {
    "text": "and choose whether to download these records. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=276"
  },
  {
    "text": "These two options are available internationally.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=279"
  },
  {
    "text": "Finally, how can you request access ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=282"
  },
  {
    "text": "to this data with HealthKit? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=285"
  },
  {
    "text": "We are introducing a new HealthKit query, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=287"
  },
  {
    "text": "HKVerifiableClinicalRecordQuery, and a new HKSample subclass, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=290"
  },
  {
    "text": "HKVerifiableClinicalRecord for iOS 15. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=295"
  },
  {
    "text": "Unlike other HKQuery subclasses, in order to use this query, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=300"
  },
  {
    "text": "you must request for a HealthKit access entitlement ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=304"
  },
  {
    "text": "for Verifiable Health Records. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=307"
  },
  {
    "text": "While you will still have access ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=310"
  },
  {
    "text": "to the public headers in the SDK, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=311"
  },
  {
    "text": "the results handler will return an authorization denied error ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=314"
  },
  {
    "text": "without the entitlement. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=318"
  },
  {
    "text": "Please refer to the links associated with this session ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=319"
  },
  {
    "text": "for information on how to get started. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=322"
  },
  {
    "text": "Before we dive deeper into the query and sample classes, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=325"
  },
  {
    "text": "let's look at authorization for Verifiable Health Records, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=329"
  },
  {
    "text": "which is slightly different from what you might be used to ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=332"
  },
  {
    "text": "with Health Records.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=335"
  },
  {
    "text": "First, Verifiable Health Records ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=336"
  },
  {
    "text": "observes a per-sample authorization pattern, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=339"
  },
  {
    "text": "where the user selects individual samples, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=342"
  },
  {
    "text": "not types, to share with your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=344"
  },
  {
    "text": "This type of authorization provides users ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=347"
  },
  {
    "text": "with more granular control over their data ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=349"
  },
  {
    "text": "and is important in protecting their privacy. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=352"
  },
  {
    "text": "The current HealthKit authorization pattern ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=356"
  },
  {
    "text": "consists of two steps: ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=358"
  },
  {
    "text": "First requesting user authorization ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=360"
  },
  {
    "text": "for types to read and share, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=362"
  },
  {
    "text": "and then querying for samples once authorization is granted. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=364"
  },
  {
    "text": "With Verifiable Health Records, this first step is not needed. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=368"
  },
  {
    "text": "Instead, once an instance of HKVerifiableClinicalRecordQuery ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=372"
  },
  {
    "text": "is created and executed, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=377"
  },
  {
    "text": "an authorization sheet will be presented, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=379"
  },
  {
    "text": "allowing the user to select which individual records ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=381"
  },
  {
    "text": "to share with your app.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=385"
  },
  {
    "text": "After sharing, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=386"
  },
  {
    "text": "the chosen records are then returned ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=387"
  },
  {
    "text": "to the query's results handler.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=389"
  },
  {
    "text": "Furthermore, authorization ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=392"
  },
  {
    "text": "for Verifiable Health Records is one-time only.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=394"
  },
  {
    "text": "Sharing these records with a third-party app ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=397"
  },
  {
    "text": "does not set up long-term access authorization. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=400"
  },
  {
    "text": "Each execution of a HKVerifiableClinicalRecordQuery ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=404"
  },
  {
    "text": "will result in the presentation ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=408"
  },
  {
    "text": "of the following authorization sheet ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=410"
  },
  {
    "text": "and the return of user-selected records ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=412"
  },
  {
    "text": "to the results handler. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=415"
  },
  {
    "text": "Now that we've gone over authorization, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=416"
  },
  {
    "text": "let's look at HKVerifiableClinicalRecordQuery ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=419"
  },
  {
    "text": "in more detail.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=422"
  },
  {
    "text": "To initialize the HKVerifiableClinicalRecordQuery, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=423"
  },
  {
    "text": "you will first have to provide a string array of record types, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=427"
  },
  {
    "text": "which we defined earlier as the type of data present ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=431"
  },
  {
    "text": "in a verifiable health record.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=434"
  },
  {
    "text": "Only records with all provided record types present ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=436"
  },
  {
    "text": "will be shown in the authorization sheet. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=440"
  },
  {
    "text": "Like other HealthKit queries, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=444"
  },
  {
    "text": "you also have the option to add a predicate ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=446"
  },
  {
    "text": "to further filter the set of samples for authorization. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=448"
  },
  {
    "text": "We are providing a convenience constructor ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=452"
  },
  {
    "text": "to create a predicate for records ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=455"
  },
  {
    "text": "with relevant dates within a date interval. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=457"
  },
  {
    "text": "Once the query is executed and the user taps \"Share Once,\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=460"
  },
  {
    "text": "the authorized HKVerifiableClinicalRecords ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=464"
  },
  {
    "text": "are then returned in the results handler. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=467"
  },
  {
    "text": "The record includes basic information ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=470"
  },
  {
    "text": "about the subject and issuer, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=473"
  },
  {
    "text": "and, of course, the JWS property, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=475"
  },
  {
    "text": "which will contain the raw data that you will verify and decode. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=478"
  },
  {
    "text": "Now that we've gone through the Verifiable Health Records ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=482"
  },
  {
    "text": "feature and what its API looks like, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=485"
  },
  {
    "text": "I'm going to hand it off to Cary, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=487"
  },
  {
    "text": "who will walk you through how to import test data, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=489"
  },
  {
    "text": "use the API to request records, and verify a record's JWS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=492"
  },
  {
    "text": "Thanks, Annie. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=498"
  },
  {
    "text": "Hi, everyone. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=499"
  },
  {
    "text": "My name is Cary, and I'm also an engineer ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=500"
  },
  {
    "text": "on the Health Records team. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=502"
  },
  {
    "text": "Today, I'll be walking you through how to work ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=503"
  },
  {
    "text": "with Verifiable Health Records. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=505"
  },
  {
    "text": "So the best way to start working with this new feature ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=507"
  },
  {
    "text": "is to load some test data into HealthKit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=510"
  },
  {
    "text": "As Annie mentioned, there are three different methods ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=514"
  },
  {
    "text": "you can use to get started. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=516"
  },
  {
    "text": "If you're in the United States, Canada, or the United Kingdom, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=519"
  },
  {
    "text": "you can simply connect to a provider using the existing ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=521"
  },
  {
    "text": "Health Records feature in the Health App.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=524"
  },
  {
    "text": "Another new way we've added ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=529"
  },
  {
    "text": "is by downloading a .smart-health-card file, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=531"
  },
  {
    "text": "an example of which you can find ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=533"
  },
  {
    "text": "on the smarthealth.cards specification website. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=535"
  },
  {
    "text": "The third method is by scanning a QR code. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=540"
  },
  {
    "text": "So let's go get some data. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=544"
  },
  {
    "text": "For this demo, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=546"
  },
  {
    "text": "you can start by trying out the new QR code import. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=547"
  },
  {
    "text": "You'll start with a device running iOS 15 ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=552"
  },
  {
    "text": "and scanning this QR code. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=555"
  },
  {
    "text": "As soon as you scan it, you will receive a prompt ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=557"
  },
  {
    "text": "to open directly into the health app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=559"
  },
  {
    "text": "Once you switch to the health app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=561"
  },
  {
    "text": "it will immediately begin guiding you ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=562"
  },
  {
    "text": "through importing this health card. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=564"
  },
  {
    "text": "After selecting the \"Add to Health\" option, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=565"
  },
  {
    "text": "the import process will complete.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=567"
  },
  {
    "text": "You can scroll over to the browse tab ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=570"
  },
  {
    "text": "and see the imported records under the immunizations section. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=571"
  },
  {
    "text": "If you go ahead and tap into this category, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=575"
  },
  {
    "text": "you can now see that you have a vaccine ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=577"
  },
  {
    "text": "and that its signature has been verified by the Health app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=579"
  },
  {
    "text": "Now that you have some signed records imported ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=584"
  },
  {
    "text": "into the Health app, you're ready to go ahead ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=586"
  },
  {
    "text": "and request these records from your own app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=588"
  },
  {
    "text": "Now, let's look at an example ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=591"
  },
  {
    "text": "of how your app can access this new API.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=592"
  },
  {
    "text": "First, you'll start by importing HealthKit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=596"
  },
  {
    "text": "Next, you'll create a HealthStore, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=598"
  },
  {
    "text": "which you may already be familiar with doing ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=600"
  },
  {
    "text": "if you've used the standard HealthKit authorization API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=602"
  },
  {
    "text": "You will also create a list of record types to specify the type ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=606"
  },
  {
    "text": "of data that you would like the user to share with you. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=609"
  },
  {
    "text": "When authorizing, you will be presented with a list ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=612"
  },
  {
    "text": "of data to share that only match these record types. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=615"
  },
  {
    "text": "Next, you will create a predicate specifying ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=618"
  },
  {
    "text": "the valid date range for samples to share. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=620"
  },
  {
    "text": "In this example, you can see labs conducted ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=623"
  },
  {
    "text": "in the past seven days are being requested. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=625"
  },
  {
    "text": "Then you will create a query ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=630"
  },
  {
    "text": "using the constructed recordTypes and predicate, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=632"
  },
  {
    "text": "using a completion to check ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=634"
  },
  {
    "text": "whether the samples presented were shared with your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=636"
  },
  {
    "text": "Finally, executing the query will ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=639"
  },
  {
    "text": "cause an authorization sheet to be presented ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=641"
  },
  {
    "text": "where results may be selected to share with your app.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=643"
  },
  {
    "text": "This dialogue will be presented every time ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=647"
  },
  {
    "text": "this method is executed.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=649"
  },
  {
    "text": "Now that you have retrieved a piece of signed clinical data, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=651"
  },
  {
    "text": "you can write some code to verify its signature ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=654"
  },
  {
    "text": "within your app.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=656"
  },
  {
    "text": "To review, digital signatures are a mathematical way ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=657"
  },
  {
    "text": "to verify the authenticity of digital information. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=660"
  },
  {
    "text": "This process may be performed by any device, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=663"
  },
  {
    "text": "such as a server or another mobile device, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=666"
  },
  {
    "text": "but let's go ahead and take a look at how to do it ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=668"
  },
  {
    "text": "from within your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=669"
  },
  {
    "text": "You can accomplish this using four main steps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=673"
  },
  {
    "text": "First, you will parse the clinical data using a Codable. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=676"
  },
  {
    "text": "Second, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=680"
  },
  {
    "text": "you will decompress the signed JSON Web Token payload. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=681"
  },
  {
    "text": "Third, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=684"
  },
  {
    "text": "you will download the issuer's public key from their website.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=685"
  },
  {
    "text": "And finally, you will use CryptoKit ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=688"
  },
  {
    "text": "to verify the signature.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=690"
  },
  {
    "text": "Let's start by looking at how to define the data model ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=692"
  },
  {
    "text": "for a signed record, which is formally defined ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=694"
  },
  {
    "text": "in the JSON Web Signature specification. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=698"
  },
  {
    "text": "This struct is defined in three main parts: ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=701"
  },
  {
    "text": "A header, payload, and signature. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=703"
  },
  {
    "text": "You could use Swift Codable to do the parsing for you, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=707"
  },
  {
    "text": "and you should keep an original representation of the header ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=710"
  },
  {
    "text": "and payload around for use during signature verification.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=712"
  },
  {
    "text": "Most importantly, you'll add an initializer ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=716"
  },
  {
    "text": "to parse the JWS from its compact serialized form. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=718"
  },
  {
    "text": "Next, you'll create a struct ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=723"
  },
  {
    "text": "used to represent the JWS Header. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=724"
  },
  {
    "text": "You will need this during the initialization ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=727"
  },
  {
    "text": "from compact serialization, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=729"
  },
  {
    "text": "as well as during the signature verification process. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=731"
  },
  {
    "text": "You can see here in the header ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=734"
  },
  {
    "text": "that you can expect to find a specified signature algorithm, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=736"
  },
  {
    "text": "a key-ID field used to hold a public key thumbprint, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=738"
  },
  {
    "text": "and a compression algorithm. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=742"
  },
  {
    "text": "The public key thumbprint is used to identify which ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=745"
  },
  {
    "text": "of the issuer's keys was used to sign the JWS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=748"
  },
  {
    "text": "This process requires the ES256 Signature Algorithm ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=751"
  },
  {
    "text": "and the DEF compression algorithm, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=755"
  },
  {
    "text": "both of which are supported by first-party Swift libraries. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=757"
  },
  {
    "text": "Now let's look at the code needed to parse the JWS ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=761"
  },
  {
    "text": "from its compact serialization.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=764"
  },
  {
    "text": "You'll start by splitting the serialized string ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=766"
  },
  {
    "text": "into its constituent pieces, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=769"
  },
  {
    "text": "each of which is Base64URL encoded. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=770"
  },
  {
    "text": "After creating a JSONDecoder and Base64URL decoding the header ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=775"
  },
  {
    "text": "and payload, you can check to see ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=779"
  },
  {
    "text": "if the header indicates that the payload is compressed correctly. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=780"
  },
  {
    "text": "After checking the compression, you will use a utility method ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=785"
  },
  {
    "text": "that you can find in the provided sample project ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=788"
  },
  {
    "text": "to decompress the payload. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=790"
  },
  {
    "text": "The next piece you'll need is a struct ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=795"
  },
  {
    "text": "to model the health card payload.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=798"
  },
  {
    "text": "The two most important pieces here are the issuer field, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=800"
  },
  {
    "text": "which will hold the issuer's web identifier ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=803"
  },
  {
    "text": "that you can use to fetch their keys, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=805"
  },
  {
    "text": "and the other is the VC field, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=807"
  },
  {
    "text": "which holds all the patient data. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=809"
  },
  {
    "text": "For more information on how to parse the VC field ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=812"
  },
  {
    "text": "and analyze its contents, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=814"
  },
  {
    "text": "check out the \"Handling FHIR without getting burned\" talk ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=816"
  },
  {
    "text": "from WWDC 2020. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=818"
  },
  {
    "text": "Now that you've seen how to parse a JWS, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=821"
  },
  {
    "text": "you are ready to verify its authenticity.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=824"
  },
  {
    "text": "Let's look at creating an extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=827"
  },
  {
    "text": "that will add a verification method to your JWS struct.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=829"
  },
  {
    "text": "Since you'll be reaching out to the issuer's website directly ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=832"
  },
  {
    "text": "to retrieve their signing keys, you can use Combine to help ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=835"
  },
  {
    "text": "with the asynchronous aspects of this process, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=838"
  },
  {
    "text": "and you can use CryptoKit to help ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=840"
  },
  {
    "text": "with the signature verification. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=842"
  },
  {
    "text": "Inside the verification method, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=844"
  },
  {
    "text": "you'll begin by pulling out the issuer's identifier, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=846"
  },
  {
    "text": "which is always the issuer's web address. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=849"
  },
  {
    "text": "Here, you can add your own method to check if the URL ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=852"
  },
  {
    "text": "is one that you personally trust and abort if it's one ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=855"
  },
  {
    "text": "that you don't want to accept results from. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=857"
  },
  {
    "text": "Next, you will create a URL to retrieve the issuer's keys ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=860"
  },
  {
    "text": "by appending the standard .wellknown/jwks.json URL path.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=863"
  },
  {
    "text": "This path suffix is defined in the specification ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=870"
  },
  {
    "text": "and should be the same for all issuers.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=872"
  },
  {
    "text": "Now that you have constructed the well-known URL, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=876"
  },
  {
    "text": "you can connect to the issuer, download their keys, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=879"
  },
  {
    "text": "and finish verifying the signature. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=882"
  },
  {
    "text": "You'll finish writing this method by creating ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=886"
  },
  {
    "text": "a URLSession dataTaskPublisher that will ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=888"
  },
  {
    "text": "connect to the issuer's well-known jwk endpoint. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=890"
  },
  {
    "text": "You can then map it to data, decode it using a jsonDecoder ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=894"
  },
  {
    "text": "to a set of JWKs, and finally map it to a boolean, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=898"
  },
  {
    "text": "indicating whether or not the signature is valid. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=902"
  },
  {
    "text": "Inside the final map block you will select the issuer's key ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=905"
  },
  {
    "text": "based on what the JWS header indicates.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=909"
  },
  {
    "text": "The final piece involves using CryptoKit ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=912"
  },
  {
    "text": "to verify the signature. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=914"
  },
  {
    "text": "According to the JWS specification, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=917"
  },
  {
    "text": "the signed portion of data is formed by concatenating ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=919"
  },
  {
    "text": "the Base64URL-encoded header and payload joined by a period. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=921"
  },
  {
    "text": "Next, you'll convert the downloaded JWK keys ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=927"
  },
  {
    "text": "to CryptoKit P256 signing keys, using a utility method ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=930"
  },
  {
    "text": "that you can find in the sample project accompanying this talk. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=934"
  },
  {
    "text": "Finally, you'll use CryptoKit's isValidSignature method ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=939"
  },
  {
    "text": "to do the verification of the signature. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=942"
  },
  {
    "text": "Now that your data model and all logic needed ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=945"
  },
  {
    "text": "to verify its authenticity is defined, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=947"
  },
  {
    "text": "you can put everything together. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=949"
  },
  {
    "text": "Taking a look at the earlier example ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=952"
  },
  {
    "text": "of how to call the new API, you can replace this comment ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=954"
  },
  {
    "text": "with a call to your new verification method.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=957"
  },
  {
    "text": "Since the API returns a list of all selected samples, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=961"
  },
  {
    "text": "you can select the first one from the list.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=964"
  },
  {
    "text": "Next, parse it from data to a String. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=967"
  },
  {
    "text": "Then parse it using your compact serialization initializer. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=970"
  },
  {
    "text": "Finally, call your new verification method, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=974"
  },
  {
    "text": "and listen for emitted boolean results.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=976"
  },
  {
    "text": "And just like that, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=979"
  },
  {
    "text": "we've seen how to take a signed piece of clinical data ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=980"
  },
  {
    "text": "download the issuer's signing keys, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=983"
  },
  {
    "text": "and validate the signature of these records.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=984"
  },
  {
    "text": "Now, I'll hand things back to Annie to summarize.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=987"
  },
  {
    "text": "Thanks, Cary.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=990"
  },
  {
    "text": "Before we wrap up, I want to talk ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=991"
  },
  {
    "text": "about privacy with respect to Verifiable Health Records. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=994"
  },
  {
    "text": "Hopefully, I've made it clear throughout this session ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=998"
  },
  {
    "text": "that the Verifiable Health Records feature ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1001"
  },
  {
    "text": "is built with user privacy in mind. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1003"
  },
  {
    "text": "First of all, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1006"
  },
  {
    "text": "the SMART Health Card specification uses data profiles ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1007"
  },
  {
    "text": "that minimize the information an issuer should include ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1011"
  },
  {
    "text": "in each record. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1014"
  },
  {
    "text": "The Health app is designed to protect sensitive health data, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1016"
  },
  {
    "text": "so when a phone is locked, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1020"
  },
  {
    "text": "all health and fitness data in the Health app is encrypted, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1021"
  },
  {
    "text": "which includes verifiable health records. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1025"
  },
  {
    "text": "Access to verifiable health records requires an application ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1028"
  },
  {
    "text": "to an entitlement that will come with additional obligations ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1032"
  },
  {
    "text": "to ensure that this sensitive health data is not misused.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1035"
  },
  {
    "text": "And finally, users will have additional control over how ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1040"
  },
  {
    "text": "to share their verifiable health records with your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1044"
  },
  {
    "text": "Let's review what we've covered today.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1048"
  },
  {
    "text": "In iOS 15, building on top of Health Records, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1050"
  },
  {
    "text": "we are bringing the capability to import verifiable records ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1054"
  },
  {
    "text": "into the Health app and for developers ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1057"
  },
  {
    "text": "to read this data with a new API.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1059"
  },
  {
    "text": "To wrap up, here's what you can do next. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1062"
  },
  {
    "text": "First, to learn more ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1067"
  },
  {
    "text": "about the verifiable health data ecosystem, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1069"
  },
  {
    "text": "check out the SMART Health Cards specification.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1072"
  },
  {
    "text": "Import test records into the Health app ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1075"
  },
  {
    "text": "to try it out yourself.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1078"
  },
  {
    "text": "Download the sample app, which shows ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1080"
  },
  {
    "text": "how you can query for and verify those test records. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1082"
  },
  {
    "text": "And finally, when you're ready to ship your app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1086"
  },
  {
    "text": "request the HealthKit access entitlement ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1089"
  },
  {
    "text": "for verifiable health records. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1091"
  },
  {
    "text": "Thank you for watching, and have a great WWDC.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1094"
  },
  {
    "text": "[music]",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10089/?time=1098"
  }
]