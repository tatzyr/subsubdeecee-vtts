[
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=2"
  },
  {
    "text": "Hi, I'm Timm Hannon, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=9"
  },
  {
    "text": "an engineering manager in Core OS here at Apple. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=10"
  },
  {
    "text": "In this session, my colleague Melissa Nierle and I ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=13"
  },
  {
    "text": "will cover User Enrollments for MDM.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=16"
  },
  {
    "text": "User Enrollment is designed for BYOD, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=19"
  },
  {
    "text": "or Bring Your Own Device deployments ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=22"
  },
  {
    "text": "where the user, not the organization, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=24"
  },
  {
    "text": "owns the device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=25"
  },
  {
    "text": "Because the user owns the device, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=27"
  },
  {
    "text": "User Enrollment has a limited set ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=29"
  },
  {
    "text": "of payloads and restrictions ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=30"
  },
  {
    "text": "that can be applied to the device ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=32"
  },
  {
    "text": "by the Mobile Device Management solution. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=33"
  },
  {
    "text": "And it's available on iOS, iPadOS, and macOS.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=36"
  },
  {
    "text": "Security and privacy are at the heart ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=41"
  },
  {
    "text": "of everything we do here at Apple. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=43"
  },
  {
    "text": "User Enrollment is a great device management option ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=45"
  },
  {
    "text": "that incorporates both. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=48"
  },
  {
    "text": "Its design allows the user to be comfortable ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=50"
  },
  {
    "text": "that their privacy and personal data are protected, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=52"
  },
  {
    "text": "while the organization can be confident their data is secure.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=55"
  },
  {
    "text": "There are three core components ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=60"
  },
  {
    "text": "that form the basis of User Enrollment.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=62"
  },
  {
    "text": "The first is a Managed Apple ID. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=66"
  },
  {
    "text": "Managed Apple IDs provide access ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=69"
  },
  {
    "text": "to Apple Services such as iCloud.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=71"
  },
  {
    "text": "They are owned and managed by an organization ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=75"
  },
  {
    "text": "and are available through Apple Business Manager ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=78"
  },
  {
    "text": "and Apple School Manager. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=80"
  },
  {
    "text": "They support federation with Azure Active Directory ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=82"
  },
  {
    "text": "so that users can authenticate ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=85"
  },
  {
    "text": "with their organization's existing credentials.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=86"
  },
  {
    "text": "The second is Data Separation.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=90"
  },
  {
    "text": "During enrollment, a separate APFS volume ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=93"
  },
  {
    "text": "with different cryptographic keys is created. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=95"
  },
  {
    "text": "Data from managed apps and managed accounts ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=98"
  },
  {
    "text": "is kept securely on this volume ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=100"
  },
  {
    "text": "away from personal content. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=102"
  },
  {
    "text": "When the device unenrolls from management, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=104"
  },
  {
    "text": "the volume and the cryptographic keys are erased.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=106"
  },
  {
    "text": "And finally, the Management Capabilities ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=110"
  },
  {
    "text": "are limited to those that are appropriate ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=112"
  },
  {
    "text": "for controlling the organization's content ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=114"
  },
  {
    "text": "on the device.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=116"
  },
  {
    "text": "The user owns and has been using the device, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=119"
  },
  {
    "text": "so it's critical to protect their privacy.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=122"
  },
  {
    "text": "With User Enrollments, the user maintains control ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=125"
  },
  {
    "text": "of their personal data on the device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=128"
  },
  {
    "text": "The device is not considered supervised with User Enrollment.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=131"
  },
  {
    "text": "The management functionality ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=136"
  },
  {
    "text": "available to the MDM server ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=137"
  },
  {
    "text": "allows it full control ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=139"
  },
  {
    "text": "of the managed content ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=140"
  },
  {
    "text": "but is limited from accessing and restricting ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=142"
  },
  {
    "text": "personal data and settings. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=144"
  },
  {
    "text": "Access to personal accounts, apps, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=147"
  },
  {
    "text": "and unique device identifiers ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=149"
  },
  {
    "text": "is unavailable to the MDM server, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=151"
  },
  {
    "text": "as are system-wide operations ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=154"
  },
  {
    "text": "like remotely wiping the device.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=156"
  },
  {
    "text": "We've been hard at work this year ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=159"
  },
  {
    "text": "on updates to User Enrollment, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=160"
  },
  {
    "text": "and I'm excited to discuss them now. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=162"
  },
  {
    "text": "I'll cover Managed Apple IDs ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=165"
  },
  {
    "text": "and managed apps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=167"
  },
  {
    "text": "Then my colleague Melissa will cover changes ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=169"
  },
  {
    "text": "to the onboarding flows for users, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=171"
  },
  {
    "text": "how to enable ongoing User Authentication, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=174"
  },
  {
    "text": "and getting started.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=177"
  },
  {
    "text": "Let's start with Managed Apple IDs.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=180"
  },
  {
    "text": "In iOS 15, we've improved the experience ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=183"
  },
  {
    "text": "of accessing the Managed Account in Settings. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=186"
  },
  {
    "text": "When a device is user enrolled, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=189"
  },
  {
    "text": "it will now show the account at the top level of settings. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=191"
  },
  {
    "text": "From there, you can view details and settings for iCloud. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=195"
  },
  {
    "text": "It is now easier than ever ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=199"
  },
  {
    "text": "to manage the additional account. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=200"
  },
  {
    "text": "With this re-designed experience, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=203"
  },
  {
    "text": "Settings reflects the clear separation ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=205"
  },
  {
    "text": "of organizational content. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=207"
  },
  {
    "text": "Users are able to see which parts of the system ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=209"
  },
  {
    "text": "are managed by the organization and which are not.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=211"
  },
  {
    "text": "New in iOS 15 and macOS Monterey, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=215"
  },
  {
    "text": "Managed Apple IDs support iCloud Drive. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=218"
  },
  {
    "text": "iCloud Drive is an important feature of iCloud accounts ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=222"
  },
  {
    "text": "and now it will be available to user-enrolled devices.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=224"
  },
  {
    "text": "On iOS and iPadOS, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=229"
  },
  {
    "text": "it shows up as a new location in the Files app.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=231"
  },
  {
    "text": "And on macOS, it appears ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=235"
  },
  {
    "text": "as an additional location in Finder. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=236"
  },
  {
    "text": "With iCloud Drive for Managed Apple IDs, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=239"
  },
  {
    "text": "organizations are now able ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=242"
  },
  {
    "text": "to easily provide their users ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=243"
  },
  {
    "text": "a built-in cloud storage solution.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=245"
  },
  {
    "text": "Document browser-based apps ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=249"
  },
  {
    "text": "will also have access to the additional iCloud Drive. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=250"
  },
  {
    "text": "And of course, iCloud Drive will respect ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=254"
  },
  {
    "text": "Managed Open-in restrictions ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=256"
  },
  {
    "text": "for managed apps and data access.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=258"
  },
  {
    "text": "Now let's turn to managed apps.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=261"
  },
  {
    "text": "In macOS Big Sur, we enabled managed apps on macOS ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=264"
  },
  {
    "text": "for the first time.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=268"
  },
  {
    "text": "This allows organizations to install apps ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=271"
  },
  {
    "text": "on a managed device similar to how they can for iOS, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=273"
  },
  {
    "text": "including with a custom configuration payload.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=276"
  },
  {
    "text": "It also provides the ability to remove the app ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=280"
  },
  {
    "text": "with an MDM command or when the device unenrolls.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=283"
  },
  {
    "text": "In macOS Monterey, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=288"
  },
  {
    "text": "we are expanding the functionality ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=289"
  },
  {
    "text": "to user enrollments.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=291"
  },
  {
    "text": "Like on iOS, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=293"
  },
  {
    "text": "the app data is separated on a different volume. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=294"
  },
  {
    "text": "The app is removed during unenrollment ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=298"
  },
  {
    "text": "or with an MDM command. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=300"
  },
  {
    "text": "When that happens, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=302"
  },
  {
    "text": "the data container is also erased.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=303"
  },
  {
    "text": "Managed apps that use CloudKit ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=305"
  },
  {
    "text": "will now use the Managed Apple ID ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=307"
  },
  {
    "text": "associated with the MDM profile. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=309"
  },
  {
    "text": "You'll need to add the InstallAsManaged key ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=312"
  },
  {
    "text": "to the InstallApplication command. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=315"
  },
  {
    "text": "And just a quick reminder ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=318"
  },
  {
    "text": "that managed apps need be installed ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=319"
  },
  {
    "text": "to the Applications folder ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=321"
  },
  {
    "text": "and should only contain a single app bundle. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=323"
  },
  {
    "text": "We recommend that you adopt the use ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=326"
  },
  {
    "text": "of the Data Protection Keychain ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=328"
  },
  {
    "text": "and app sandboxing ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=330"
  },
  {
    "text": "to ensure that data is correctly separated.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=331"
  },
  {
    "text": "We've also added some enhancements ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=335"
  },
  {
    "text": "to managed apps for all types of enrollment ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=336"
  },
  {
    "text": "that are relevant to user enrollments. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=339"
  },
  {
    "text": "First, the restriction functionality ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=341"
  },
  {
    "text": "for Managed Open-In ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=343"
  },
  {
    "text": "has been expanded to include Copy & Paste. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=345"
  },
  {
    "text": "This will allow organizations to control data ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=348"
  },
  {
    "text": "from being pasted across the managed boundary ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=350"
  },
  {
    "text": "in both directions.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=353"
  },
  {
    "text": "There is also now the ability ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=355"
  },
  {
    "text": "to specify that a required app is installed ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=357"
  },
  {
    "text": "when a device enrolls in management. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=359"
  },
  {
    "text": "The app is approved for installation ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=362"
  },
  {
    "text": "when the device is enrolled, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=363"
  },
  {
    "text": "so it doesn't require additional user confirmation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=365"
  },
  {
    "text": "For more information on managed pasteboard ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=368"
  },
  {
    "text": "and the required app installation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=370"
  },
  {
    "text": "see \"What's new in managing Apple devices.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=372"
  },
  {
    "text": "Now over to Melissa ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=375"
  },
  {
    "text": "to cover enrollment and ongoing user authentication.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=376"
  },
  {
    "text": "Thanks, Timm. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=381"
  },
  {
    "text": "With all of these enhancements to User Enrollment, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=382"
  },
  {
    "text": "we updated the onboarding flow to be a more personalized ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=384"
  },
  {
    "text": "and user-driven experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=387"
  },
  {
    "text": "The onboarding experience for User Enrollment ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=390"
  },
  {
    "text": "introduced in iOS 13 ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=392"
  },
  {
    "text": "is initiated and driven by an MDM Enrollment profile. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=394"
  },
  {
    "text": "This profile has to be created for each user ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=398"
  },
  {
    "text": "and distributed by their admin.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=400"
  },
  {
    "text": "In iOS 15, for a more streamlined experience ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=403"
  },
  {
    "text": "for both users and administrators, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=406"
  },
  {
    "text": "we've created a new User Enrollment onboarding flow ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=409"
  },
  {
    "text": "that establishes the user's organization identity ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=412"
  },
  {
    "text": "as the entry point.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=415"
  },
  {
    "text": "Users are already familiar with ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=417"
  },
  {
    "text": "signing into their organization identity ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=419"
  },
  {
    "text": "to set up services like Mail and Calendar, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=421"
  },
  {
    "text": "so they'll be familiar with setting up MDM ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=424"
  },
  {
    "text": "on iPhone using their organization identity. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=426"
  },
  {
    "text": "This onboarding flow enables new security features ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=429"
  },
  {
    "text": "for User Enrollment. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=432"
  },
  {
    "text": "Now there's a layer of security ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=434"
  },
  {
    "text": "during the enrollment flow ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=436"
  },
  {
    "text": "where your MDM server can verify the user ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=437"
  },
  {
    "text": "before the MDM profile is even downloaded to the device ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=439"
  },
  {
    "text": "and before any organization data is sent to it.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=443"
  },
  {
    "text": "Let's take a look at how this new account-based flow works.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=448"
  },
  {
    "text": "There are four components ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=452"
  },
  {
    "text": "to the new User Enrollment onboarding flow. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=454"
  },
  {
    "text": "Service discovery, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=456"
  },
  {
    "text": "where the device identifies the organization's MDM server.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=457"
  },
  {
    "text": "User authentication, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=462"
  },
  {
    "text": "which is how the MDM server validates the user.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=463"
  },
  {
    "text": "Issuing the session token, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=468"
  },
  {
    "text": "which is how ongoing authentication is performed.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=469"
  },
  {
    "text": "And enrollment, which is the installation ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=474"
  },
  {
    "text": "of the MDM payload to the device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=476"
  },
  {
    "text": "Let's take a closer look at each of these.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=479"
  },
  {
    "text": "When the user starts the onboarding flow, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=482"
  },
  {
    "text": "they are prompted to enter their organization identifier.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=485"
  },
  {
    "text": "This identifier has two main pieces, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=489"
  },
  {
    "text": "delineated by the @ sign. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=491"
  },
  {
    "text": "The first piece will be the User ID, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=493"
  },
  {
    "text": "and the second piece will be the organization's domain ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=496"
  },
  {
    "text": "or a sub-domain. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=498"
  },
  {
    "text": "After the user has entered their organization ID, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=500"
  },
  {
    "text": "the device takes the domain portion of the identifier ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=503"
  },
  {
    "text": "and turns that into an HTTPS URL ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=506"
  },
  {
    "text": "pointing to a well-known HTTP resource at that domain.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=509"
  },
  {
    "text": "This discovery URL ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=514"
  },
  {
    "text": "is where you host your MDM server document ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=515"
  },
  {
    "text": "that tells the device where the enrollment endpoint is.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=518"
  },
  {
    "text": "The device then performs a GET request to that URL, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=523"
  },
  {
    "text": "expecting to get back a JSON document.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=526"
  },
  {
    "text": "The received JSON object ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=531"
  },
  {
    "text": "includes a version key to let the device know ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=532"
  },
  {
    "text": "what type of enrollment the server supports ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=535"
  },
  {
    "text": "and a BaseURL key that specifies the URL ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=538"
  },
  {
    "text": "of the MDM server's enrollment endpoint.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=541"
  },
  {
    "text": "With this information, the device is now ready ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=544"
  },
  {
    "text": "to request the enrollment profile from the server.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=547"
  },
  {
    "text": "The device POSTs a property list ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=550"
  },
  {
    "text": "to the server's enrollment endpoint ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=553"
  },
  {
    "text": "with various device attributes.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=554"
  },
  {
    "text": "If you are familiar with ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=558"
  },
  {
    "text": "the over-the-air profile delivery process, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=559"
  },
  {
    "text": "you will recognize this as the same request ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=562"
  },
  {
    "text": "a device makes to the profile service endpoint.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=564"
  },
  {
    "text": "But the key difference here is that the server asks the user ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=569"
  },
  {
    "text": "to authenticate themselves ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=572"
  },
  {
    "text": "before it hands over the enrollment profile.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=573"
  },
  {
    "text": "It does this by issuing an HTTP 401 Unauthorized response ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=577"
  },
  {
    "text": "to challenge the user for credentials. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=581"
  },
  {
    "text": "The server must issue this auth challenge ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=584"
  },
  {
    "text": "in order for enrollment to succeed.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=586"
  },
  {
    "text": "Importantly, this 401 response ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=590"
  },
  {
    "text": "includes a WWW-Authenticate header ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=592"
  },
  {
    "text": "with information that the device uses to authenticate. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=594"
  },
  {
    "text": "This WWW-Authenticate header ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=598"
  },
  {
    "text": "uses the Bearer authentication scheme ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=600"
  },
  {
    "text": "and two additional parameters.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=603"
  },
  {
    "text": "The method parameter tells the device ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=606"
  },
  {
    "text": "what type of authentication is being used. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=609"
  },
  {
    "text": "The value indicates that the device will use ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=611"
  },
  {
    "text": "the AuthenticationServices web sign-in flow ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=613"
  },
  {
    "text": "to authenticate the user. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=616"
  },
  {
    "text": "For now, that value is fixed.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=617"
  },
  {
    "text": "For this method parameter, a URL is also included.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=621"
  },
  {
    "text": "The value of this key is an HTTPS URL ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=627"
  },
  {
    "text": "that specifies the endpoint ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=630"
  },
  {
    "text": "where the authentication happens. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=631"
  },
  {
    "text": "This URL should be an endpoint on the MDM server itself. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=634"
  },
  {
    "text": "Receipt of this authenticate header kicks off ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=638"
  },
  {
    "text": "the AuthenticationServices web sign-in flow. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=640"
  },
  {
    "text": "Let's take a look at how that works.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=643"
  },
  {
    "text": "The initial content of the web view displayed by ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=646"
  },
  {
    "text": "AuthenticationServices web sign-in flow ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=649"
  },
  {
    "text": "is the result of a HTTP GET request ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=652"
  },
  {
    "text": "to the authentication endpoint ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=654"
  },
  {
    "text": "specified by the URL parameter from the 401 response.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=656"
  },
  {
    "text": "In a simple case, this web sign-in flow ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=662"
  },
  {
    "text": "could display a web form ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=664"
  },
  {
    "text": "where the user would enter their username and password.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=666"
  },
  {
    "text": "In more complex cases, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=670"
  },
  {
    "text": "it could make use of enterprise single sign-on ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=672"
  },
  {
    "text": "or even redirect to a third-party identity provider ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=674"
  },
  {
    "text": "or perform multi-factor authentication.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=677"
  },
  {
    "text": "Multiple round trips between the device ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=682"
  },
  {
    "text": "and authentication service can occur. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=684"
  },
  {
    "text": "The AuthenticationServices web flow completes ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=687"
  },
  {
    "text": "when the server returns an HTTP redirect response ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=690"
  },
  {
    "text": "to the device, like the one seen here.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=693"
  },
  {
    "text": "The response includes a Location header ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=698"
  },
  {
    "text": "with a URL using a custom fixed scheme.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=700"
  },
  {
    "text": "The URL also includes an access-token parameter ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=705"
  },
  {
    "text": "whose value is an opaque token ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=708"
  },
  {
    "text": "that the device will use as a session token ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=710"
  },
  {
    "text": "when making requests to the MDM server.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=712"
  },
  {
    "text": "With the session token in-hand, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=717"
  },
  {
    "text": "the device re-issues the original HTTP POST request ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=719"
  },
  {
    "text": "to fetch the enrollment profile.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=723"
  },
  {
    "text": "This time, that request includes an Authorization header ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=727"
  },
  {
    "text": "which contains the session token as the value. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=731"
  },
  {
    "text": "The server validates this token, and upon success, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=734"
  },
  {
    "text": "returns the enrollment profile to the device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=737"
  },
  {
    "text": "The user enrollment profile contains two new keys ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=741"
  },
  {
    "text": "in the MDM payload.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=744"
  },
  {
    "text": "First, the AssignedManagedAppleID key ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=746"
  },
  {
    "text": "is the Managed Apple ID associated ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=749"
  },
  {
    "text": "with the enterprise user. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=751"
  },
  {
    "text": "The user will be required ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=753"
  },
  {
    "text": "to authenticate this Managed Apple ID ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=755"
  },
  {
    "text": "to sign into the iCloud and iTunes accounts ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=757"
  },
  {
    "text": "as part of the enrollment flow.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=759"
  },
  {
    "text": "A successful MDM enrollment ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=761"
  },
  {
    "text": "guarantees that the Managed Apple ID ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=763"
  },
  {
    "text": "is active on the device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=765"
  },
  {
    "text": "The device will fail to enroll ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=767"
  },
  {
    "text": "if the AssignedManagedAppleID key is missing ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=769"
  },
  {
    "text": "or if the user does not successfully authenticate it.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=771"
  },
  {
    "text": "And the second new key is the EnrollmentMode key, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=775"
  },
  {
    "text": "indicating the enrollment is a BYOD type. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=778"
  },
  {
    "text": "The device verifies that this value ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=781"
  },
  {
    "text": "matches the mode it is in ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=784"
  },
  {
    "text": "and will fail the enrollment if there is a mismatch ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=785"
  },
  {
    "text": "or if the key is not present. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=787"
  },
  {
    "text": "Be sure to update your MDM payloads ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=790"
  },
  {
    "text": "with both of these new keys. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=792"
  },
  {
    "text": "With receipt of the enrollment profile, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=794"
  },
  {
    "text": "the device now sets up the required ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=796"
  },
  {
    "text": "Managed Apple ID account ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=798"
  },
  {
    "text": "and enrolls with the MDM server. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=800"
  },
  {
    "text": "All requests to the server now include the session token ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=804"
  },
  {
    "text": "in the Authorization header for the server to validate. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=807"
  },
  {
    "text": "Let's take a look at all of the pieces together. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=810"
  },
  {
    "text": "First, the user navigates to the redesigned VPN ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=813"
  },
  {
    "text": "and Device Management section in Settings ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=816"
  },
  {
    "text": "and taps the new Sign In to Work or School button. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=818"
  },
  {
    "text": "Then they enter their organization ID, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=821"
  },
  {
    "text": "triggering the service discovery step. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=823"
  },
  {
    "text": "After discovering the enrollment endpoint ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=826"
  },
  {
    "text": "from the domain, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=828"
  },
  {
    "text": "the Authentication Services Web UI flow begins. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=829"
  },
  {
    "text": "This is an example of a simple web form ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=833"
  },
  {
    "text": "used for auth. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=835"
  },
  {
    "text": "The user enters their organization password. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=837"
  },
  {
    "text": "Once the organization's authentication succeeds, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=840"
  },
  {
    "text": "we are handed the MDM profile. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=842"
  },
  {
    "text": "We take the value of the AssignedManagedAppleID key ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=845"
  },
  {
    "text": "from the profile and pre-populate it ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=848"
  },
  {
    "text": "into the next sign-in screen, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=850"
  },
  {
    "text": "where the user enters their password. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=852"
  },
  {
    "text": "After this authentication succeeds, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=855"
  },
  {
    "text": "the user then allows management of their device.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=857"
  },
  {
    "text": "They enter their device passcode ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=861"
  },
  {
    "text": "to create an encrypted enterprise data partition ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=863"
  },
  {
    "text": "and to authorize the MDM enrollment. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=866"
  },
  {
    "text": "The enrollment of the user is successful. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=869"
  },
  {
    "text": "And that's the new account-driven onboarding flow ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=872"
  },
  {
    "text": "for User Enrollment. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=874"
  },
  {
    "text": "In the onboarding flow, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=875"
  },
  {
    "text": "we looked at how a server authenticates a user ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=877"
  },
  {
    "text": "before sending enrollment data. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=880"
  },
  {
    "text": "With new User Enrollments in iOS 15, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=883"
  },
  {
    "text": "we are introducing the ability ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=885"
  },
  {
    "text": "for organizations to reauthenticate the user ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=886"
  },
  {
    "text": "at any point in time. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=889"
  },
  {
    "text": "This makes it possible for your server ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=891"
  },
  {
    "text": "and client connection to be more secure than ever. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=893"
  },
  {
    "text": "MDM servers can now validate authorization ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=896"
  },
  {
    "text": "on every request from the client ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=899"
  },
  {
    "text": "and ask the user to re-authenticate ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=901"
  },
  {
    "text": "their identity credentials at any time. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=903"
  },
  {
    "text": "This functionality is performed ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=905"
  },
  {
    "text": "through the use of the session token.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=907"
  },
  {
    "text": "Here's an example of an MDM client ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=910"
  },
  {
    "text": "checking in with the server to fetch the next MDM command. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=913"
  },
  {
    "text": "The Authorization header contains the session token. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=916"
  },
  {
    "text": "This is the staple for the two elements ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=919"
  },
  {
    "text": "of ongoing authentication.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=921"
  },
  {
    "text": "The first element is persistent authorization, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=925"
  },
  {
    "text": "where the session token is sent ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=927"
  },
  {
    "text": "in every client request to the server.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=929"
  },
  {
    "text": "The second element is refreshing the session token. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=932"
  },
  {
    "text": "This enables the organization administrator ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=935"
  },
  {
    "text": "to request user re-authentication at any time.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=938"
  },
  {
    "text": "By implementing your own server side validation logic ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=943"
  },
  {
    "text": "of this session token, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=946"
  },
  {
    "text": "you can add your organization's security rules ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=948"
  },
  {
    "text": "right into your management solution.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=951"
  },
  {
    "text": "For example, you can periodically verify ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=955"
  },
  {
    "text": "a user's credentials ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=957"
  },
  {
    "text": "to ensure sensitive payloads are only sent to devices ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=958"
  },
  {
    "text": "in possession of trusted users.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=962"
  },
  {
    "text": "Let's take a look at how that works.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=965"
  },
  {
    "text": "When the session token is invalidated, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=968"
  },
  {
    "text": "re-authentication is triggered.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=970"
  },
  {
    "text": "The next time the device makes an MDM HTTP request, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=973"
  },
  {
    "text": "the now invalid session token included in the HTTP PUT ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=977"
  },
  {
    "text": "will trigger a 401 response from the server.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=981"
  },
  {
    "text": "The response that the server sends ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=985"
  },
  {
    "text": "includes the same WWW-Authenticate header ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=987"
  },
  {
    "text": "that we saw earlier in the initial authentication exchange ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=990"
  },
  {
    "text": "during the onboarding flow.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=994"
  },
  {
    "text": "Of course, because the MDM process ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=997"
  },
  {
    "text": "runs in the background on devices, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=999"
  },
  {
    "text": "this reauthentication request is surfaced to the user ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1001"
  },
  {
    "text": "via NotificationCenter.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1004"
  },
  {
    "text": "By tapping on the notification, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1008"
  },
  {
    "text": "the user continues the re-authentication flow ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1010"
  },
  {
    "text": "in Settings.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1013"
  },
  {
    "text": "The client will start another AuthenticationServices ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1015"
  },
  {
    "text": "Web sign-in flow like the one during the onboarding process.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1017"
  },
  {
    "text": "The user will need to authenticate as part of ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1024"
  },
  {
    "text": "the AuthenticationServices web sign-in flow ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1026"
  },
  {
    "text": "with either a simple mechanism ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1028"
  },
  {
    "text": "or a more complex one ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1031"
  },
  {
    "text": "decided by the server's integration ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1032"
  },
  {
    "text": "with their identity provider.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1034"
  },
  {
    "text": "When that authentication services web flow completes, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1038"
  },
  {
    "text": "the server again sends a redirect response ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1041"
  },
  {
    "text": "with the custom Location header, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1043"
  },
  {
    "text": "containing a new session token.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1045"
  },
  {
    "text": "A successful re-authentication ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1049"
  },
  {
    "text": "results in the device immediately repeating ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1050"
  },
  {
    "text": "the MDM request that initially received the 401 response, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1053"
  },
  {
    "text": "continuing right from where it left off ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1057"
  },
  {
    "text": "without action from the server. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1059"
  },
  {
    "text": "Just like before, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1062"
  },
  {
    "text": "this new session token is included in all ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1063"
  },
  {
    "text": "subsequent MDM HTTP requests. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1065"
  },
  {
    "text": "If, for any reason, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1068"
  },
  {
    "text": "a user's authentication attempt fails, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1070"
  },
  {
    "text": "the server may no longer trust the device.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1073"
  },
  {
    "text": "In this case, the server can remove ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1076"
  },
  {
    "text": "any sensitive MDM payloads ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1078"
  },
  {
    "text": "or it can completely unenroll the device.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1080"
  },
  {
    "text": "And when it comes to unenrolling from MDM, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1084"
  },
  {
    "text": "because ongoing authentication ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1087"
  },
  {
    "text": "leverages the HTTP 401 response, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1089"
  },
  {
    "text": "it's important to note a key difference here ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1092"
  },
  {
    "text": "between profile-based enrollments ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1094"
  },
  {
    "text": "and this new User Enrollment.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1096"
  },
  {
    "text": "Before iOS 15, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1099"
  },
  {
    "text": "all MDM-enrolled devices ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1101"
  },
  {
    "text": "treated a 401 response from the server ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1103"
  },
  {
    "text": "as an unenroll command. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1105"
  },
  {
    "text": "When this new User Enrollment style is in effect, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1107"
  },
  {
    "text": "the 401 response triggers reauthentication instead.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1110"
  },
  {
    "text": "To trigger an unenroll, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1115"
  },
  {
    "text": "you can still use the existing mechanism ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1116"
  },
  {
    "text": "of sending the RemoveProfile command ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1118"
  },
  {
    "text": "for the MDM enrollment profile. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1120"
  },
  {
    "text": "This will result in a full MDM unenroll ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1123"
  },
  {
    "text": "as well as a complete managed account, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1125"
  },
  {
    "text": "managed data, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1127"
  },
  {
    "text": "and data separated volume removal from the device.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1128"
  },
  {
    "text": "All unenroll behavior of profile-based enrollments, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1134"
  },
  {
    "text": "including the user enrollment flow ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1137"
  },
  {
    "text": "from iOS13, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1138"
  },
  {
    "text": "remain unchanged.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1140"
  },
  {
    "text": "So that's a quick look into Ongoing Authentication. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1143"
  },
  {
    "text": "Now let's help you get started and wrap up. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1147"
  },
  {
    "text": "You can get started with the new User Enrollment onboarding ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1149"
  },
  {
    "text": "and ongoing authentication today with iOS 15. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1152"
  },
  {
    "text": "You'll need be sure to do these five things. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1156"
  },
  {
    "text": "First, set up and publish ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1159"
  },
  {
    "text": "an HTTP well-known resource file ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1161"
  },
  {
    "text": "for your enterprise domain.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1163"
  },
  {
    "text": "Second, integrate your MDM server ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1166"
  },
  {
    "text": "with your Identity Provider ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1168"
  },
  {
    "text": "to perform user authentication during enrollment ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1170"
  },
  {
    "text": "and take advantage of the ongoing authentication ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1173"
  },
  {
    "text": "for added Security benefit.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1175"
  },
  {
    "text": "Third, create Managed Apple IDs ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1178"
  },
  {
    "text": "or use already created Managed Apple IDs ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1180"
  },
  {
    "text": "from Apple School Manager and Apple Business Manager ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1184"
  },
  {
    "text": "to populate the AssignedManagedAppleID key ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1187"
  },
  {
    "text": "in your server's MDM payloads.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1190"
  },
  {
    "text": "Update your MDM payload to also include ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1193"
  },
  {
    "text": "the new EnrollmentMode key.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1195"
  },
  {
    "text": "And lastly, find our new iOS 15 ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1199"
  },
  {
    "text": "Apple Device Management documentation ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1201"
  },
  {
    "text": "to review our specific updates ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1203"
  },
  {
    "text": "along with all the details that we've gone over today. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1205"
  },
  {
    "text": "And that's all you need to get started ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1208"
  },
  {
    "text": "with Account-Based User Enrollments. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1209"
  },
  {
    "text": "We covered a lot today, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1211"
  },
  {
    "text": "so let's review. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1213"
  },
  {
    "text": "The new iCloud Drive support for Managed Apple IDs ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1215"
  },
  {
    "text": "brings a built-in cloud storage option ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1218"
  },
  {
    "text": "to your organization. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1220"
  },
  {
    "text": "You can now manage apps on macOS in User Enrollment. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1222"
  },
  {
    "text": "Build support for the new onboarding flow ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1227"
  },
  {
    "text": "in your MDM solution ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1229"
  },
  {
    "text": "or encourage your MDM provider ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1231"
  },
  {
    "text": "to support the new account-driven onboarding ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1233"
  },
  {
    "text": "to make user enrollment easier than ever before.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1236"
  },
  {
    "text": "Incorporate ongoing authentication ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1239"
  },
  {
    "text": "with your accounts throughout your management workflows.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1242"
  },
  {
    "text": "Take advantage of these new features ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1245"
  },
  {
    "text": "starting in iOS 15 and macOS Monterey ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1248"
  },
  {
    "text": "to significantly improve ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1251"
  },
  {
    "text": "the Bring Your Own Device workflow ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1252"
  },
  {
    "text": "for both you and your users. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1254"
  },
  {
    "text": "Thanks for joining us today, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1256"
  },
  {
    "text": "and have a great WWDC. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1258"
  },
  {
    "text": "[music]",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10136/?time=1260"
  }
]