[
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=0"
  },
  {
    "text": "♪ Bass music playing ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=2"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=5"
  },
  {
    "text": "♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=7"
  },
  {
    "text": "Jeff Robertson: Welcome to the second part of our talk ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=9"
  },
  {
    "text": "on building a great Mac app in SwiftUI. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=12"
  },
  {
    "text": "I'm Jeff, an engineer on the SwiftUI team. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=16"
  },
  {
    "text": "I hope you enjoyed the first part of this talk ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=21"
  },
  {
    "text": "by my colleague Mathieu. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=24"
  },
  {
    "text": "If you have not yet watched part one, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=26"
  },
  {
    "text": "please stop here and do so now, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=28"
  },
  {
    "text": "as we will be building on top of the changes ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=30"
  },
  {
    "text": "that are discussed in that talk. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=33"
  },
  {
    "text": "Our gardening app has come a long way ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=36"
  },
  {
    "text": "since the start of Mathieu's talk. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=39"
  },
  {
    "text": "SwiftUI enabled us to build an app ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=41"
  },
  {
    "text": "with quite a bit of functionality ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=44"
  },
  {
    "text": "in very little time. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=45"
  },
  {
    "text": "However, users tend to use our apps in many different ways, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=48"
  },
  {
    "text": "and a particularly great macOS app will account for this. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=53"
  },
  {
    "text": "With that in mind, let's take a look at some of the ways ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=58"
  },
  {
    "text": "that we can build an app for everyone ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=61"
  },
  {
    "text": "while still maintaining the principles ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=63"
  },
  {
    "text": "Mathieu outlined in part one. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=65"
  },
  {
    "text": "First, we'll take a look ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=67"
  },
  {
    "text": "at what it means to be a fully customizable macOS app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=69"
  },
  {
    "text": "by handling changes to the system as a whole ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=73"
  },
  {
    "text": "as well as within our own app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=76"
  },
  {
    "text": "Adding an additional workflow ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=79"
  },
  {
    "text": "for our users to manipulate their data through drag and drop ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=81"
  },
  {
    "text": "is another way for us to provide a flexible user experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=85"
  },
  {
    "text": "Then, we'll explore how to work with the file system, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=90"
  },
  {
    "text": "by allowing our app's data to be exported. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=93"
  },
  {
    "text": "And finally, we'll add support for Continuity Camera ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=97"
  },
  {
    "text": "to create a seamless workflow ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=100"
  },
  {
    "text": "for importing images into our app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=102"
  },
  {
    "text": "The first thing I'd like to talk to you about ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=105"
  },
  {
    "text": "isn't any specific API at all, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=107"
  },
  {
    "text": "but more about how an app built with SwiftUI ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=110"
  },
  {
    "text": "fits in with the customizability of macOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=112"
  },
  {
    "text": "Here, I have our gardening app open ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=116"
  },
  {
    "text": "as well as System Preferences. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=118"
  },
  {
    "text": "I'm going to switch to Dark mode, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=120"
  },
  {
    "text": "and you can see our app updates its interface automatically. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=122"
  },
  {
    "text": "While I have the System Preferences open, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=128"
  },
  {
    "text": "I'm also going to update my sidebar icon size to be large. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=130"
  },
  {
    "text": "Just as with Dark mode, our app adjusted itself ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=134"
  },
  {
    "text": "to what I set in System Preferences. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=137"
  },
  {
    "text": "I love these little touches, both as a developer -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=140"
  },
  {
    "text": "since I get them automatically -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=143"
  },
  {
    "text": "and as a user -- since it means the apps I'm using ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=144"
  },
  {
    "text": "will be taking into account my own personal tastes. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=147"
  },
  {
    "text": "Before I leave System Preferences ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=151"
  },
  {
    "text": "to focus on our app, I'd like to point out ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=152"
  },
  {
    "text": "that I have my accent color set to be multicolor. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=155"
  },
  {
    "text": "This feature allows developers ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=159"
  },
  {
    "text": "to configure an app-specific accent color; ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=161"
  },
  {
    "text": "and the operating system will customize your app's buttons, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=164"
  },
  {
    "text": "selection highlighting, and sidebar glyphs. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=167"
  },
  {
    "text": "I'd like to support an accent color in my app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=170"
  },
  {
    "text": "so I'm going to open the asset catalog in our project ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=174"
  },
  {
    "text": "and select the AccentColor. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=177"
  },
  {
    "text": "And I'm going to change its content to be system green ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=182"
  },
  {
    "text": "to match our app's theme. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=186"
  },
  {
    "text": "As you can see, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=188"
  },
  {
    "text": "our sidebar icons and selection have all picked up the change. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=190"
  },
  {
    "text": "We've seen how our app can automatically react to changes ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=194"
  },
  {
    "text": "which affect the entire operating system, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=197"
  },
  {
    "text": "but what about app-specific settings? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=200"
  },
  {
    "text": "Let's walk through adding an interface ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=203"
  },
  {
    "text": "to let users customize our gardening app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=204"
  },
  {
    "text": "Here, I've opened our GardenApp file. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=208"
  },
  {
    "text": "And alongside the WindowGroup scene ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=211"
  },
  {
    "text": "I'm going to add a Settings scene. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=213"
  },
  {
    "text": "And this scene will give us a menu item ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=216"
  },
  {
    "text": "which, when selected, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=217"
  },
  {
    "text": "will open a window with our view. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=219"
  },
  {
    "text": "I'm going to use the SettingsView that I've set up, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=221"
  },
  {
    "text": "and I'm going to pass it my model as well. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=224"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=227"
  },
  {
    "text": "Additionally, the Settings scene will also add ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=232"
  },
  {
    "text": "the appropriate menu item to your app's main menu ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=235"
  },
  {
    "text": "and configure it with the standard keyboard shortcut ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=238"
  },
  {
    "text": "of Command-comma. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=240"
  },
  {
    "text": "This gives us a great start. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=242"
  },
  {
    "text": "Now, let's take a look at the SettingsView, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=244"
  },
  {
    "text": "where I'll define the interface. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=246"
  },
  {
    "text": "On macOS, it's common for apps to provide a settings interface ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=248"
  },
  {
    "text": "with toolbar icons ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=252"
  },
  {
    "text": "to allow switching between the different panes, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=253"
  },
  {
    "text": "particularly if the app provides a lot of settings ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=256"
  },
  {
    "text": "which can be divided up into different categories. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=258"
  },
  {
    "text": "So for my main view here, I'm going to use a TabView. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=262"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=265"
  },
  {
    "text": "And I'm going to give it two children: ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=267"
  },
  {
    "text": "one for GeneralSettings, and one for ViewingSettings. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=271"
  },
  {
    "text": "And for the content of the tab in the window toolbar area, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=278"
  },
  {
    "text": "I'm going to use a tabItem. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=281"
  },
  {
    "text": "And the contents of this can just be a Label. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=285"
  },
  {
    "text": "We'll give it the text to be displayed -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=287"
  },
  {
    "text": "in this case, \"General\" -- and a systemImage; ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=289"
  },
  {
    "text": "I'm going to use \"gear\" for GeneralSettings. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=293"
  },
  {
    "text": "And then let's do the same for our ViewingSettings. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=296"
  },
  {
    "text": "I'll add a tabItem and a Label -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=299"
  },
  {
    "text": "we'll call it \"Viewing\" -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=302"
  },
  {
    "text": "and a systemImage of, I think, \"eyeglasses.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=304"
  },
  {
    "text": "All right. So now we have the contents of our two tabs. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=309"
  },
  {
    "text": "Let's fill out the GeneralSettings now. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=313"
  },
  {
    "text": "Something that could be nice for our users ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=316"
  },
  {
    "text": "is the ability to define a garden to be used ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=318"
  },
  {
    "text": "as the default when no garden is currently selected. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=321"
  },
  {
    "text": "For this, I'm going to add a Picker... ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=326"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=329"
  },
  {
    "text": "And the first item, I think, will be the Text(\"None\"). ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=340"
  },
  {
    "text": "And for the others, I'm going to add a ForEach ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=346"
  },
  {
    "text": "over all the gardens in our data. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=349"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=352"
  },
  {
    "text": "And for each garden, I'm just going to add a Text ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=360"
  },
  {
    "text": "and give it the garden's name as well as its displayYear. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=364"
  },
  {
    "text": "We'll also need to provide a tag here with the ID of the garden. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=374"
  },
  {
    "text": "So for our \"None\" value, we can give it a tag of none. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=381"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=387"
  },
  {
    "text": "And for our other gardens, we'll give it a tag ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=389"
  },
  {
    "text": "corresponding to the garden's ID. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=392"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=394"
  },
  {
    "text": "Lastly, we need to provide some state ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=401"
  },
  {
    "text": "for the Picker's selection. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=404"
  },
  {
    "text": "When providing a settings interface like this, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=406"
  },
  {
    "text": "it's important to persist the state ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=408"
  },
  {
    "text": "so that your app remembers the user's selection ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=411"
  },
  {
    "text": "across launches and OS updates. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=413"
  },
  {
    "text": "In SwiftUI, this can be accomplished ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=416"
  },
  {
    "text": "by using the AppStorage property wrapper. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=418"
  },
  {
    "text": "This property wrapper will persist our value ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=421"
  },
  {
    "text": "using the UserDefaults system, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=423"
  },
  {
    "text": "which is exactly what we want here. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=426"
  },
  {
    "text": "So for our selection binding, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=429"
  },
  {
    "text": "I'm going to add the AppStorage property wrapper. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=432"
  },
  {
    "text": "This takes a key. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=435"
  },
  {
    "text": "We'll give it \"defaultGarden\", and we'll call it \"selection\". ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=437"
  },
  {
    "text": "It is also an optional Garden.ID. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=444"
  },
  {
    "text": "And what this will do is persist our selection value ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=448"
  },
  {
    "text": "using the user default system. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=451"
  },
  {
    "text": "I'm also going to add a fixedSize to my Picker ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=455"
  },
  {
    "text": "and some padding to the form. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=459"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=461"
  },
  {
    "text": "I'm going to switch over to our ContentView here, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=467"
  },
  {
    "text": "and I'll add our AppStorage ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=472"
  },
  {
    "text": "and give it that same key we used. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=474"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=476"
  },
  {
    "text": "We'll call it \"defaultGardenID\", ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=480"
  },
  {
    "text": "and it's also an optional Garden.ID. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=485"
  },
  {
    "text": "And then here where I have this binding for selection, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=489"
  },
  {
    "text": "I'm going to replace this with a Binding, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=491"
  },
  {
    "text": "and the \"get\" will be to first use the selectedGardenID. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=495"
  },
  {
    "text": "And then if that isn't set, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=502"
  },
  {
    "text": "we're going to fall back to the defaultGardenID. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=503"
  },
  {
    "text": "And then for the setter, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=507"
  },
  {
    "text": "we only want to update our selectedGardenID. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=509"
  },
  {
    "text": "We don't actually want to update our defaultGarden. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=512"
  },
  {
    "text": "So I'm just going to say \"selectedGardenID = $0\". ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=515"
  },
  {
    "text": "All right. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=520"
  },
  {
    "text": "I'm going to run our app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=524"
  },
  {
    "text": "Open the Preferences menu item here, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=526"
  },
  {
    "text": "and I'm going to select Indoor Plants ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=530"
  },
  {
    "text": "as my default garden. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=533"
  },
  {
    "text": "And I'll open a new window, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=536"
  },
  {
    "text": "and we see Indoor Plants is selected. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=538"
  },
  {
    "text": "Providing customization support via settings is one nice way ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=541"
  },
  {
    "text": "of building a flexible experience for our users. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=545"
  },
  {
    "text": "Another way is providing alternative workflows ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=548"
  },
  {
    "text": "for the same action. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=551"
  },
  {
    "text": "In the first part of our talk, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=553"
  },
  {
    "text": "Mathieu showed you how to add a main menu item ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=554"
  },
  {
    "text": "for adding a plant to the selected garden. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=557"
  },
  {
    "text": "This is great functionality for our app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=559"
  },
  {
    "text": "but let's look at another way that we can provide ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=562"
  },
  {
    "text": "similar functionality via a common macOS user interaction: ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=564"
  },
  {
    "text": "drag and drop. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=568"
  },
  {
    "text": "Since we're using table here, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=570"
  },
  {
    "text": "I'm going to make a couple of adjustments ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=571"
  },
  {
    "text": "to support it being a drag source ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=573"
  },
  {
    "text": "and drop destination. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=574"
  },
  {
    "text": "The first thing I'm going to do ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=576"
  },
  {
    "text": "is remove this \"plants\" from the initializer. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=578"
  },
  {
    "text": "Then I'm going to go down at the end ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=582"
  },
  {
    "text": "and add a row builder. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=584"
  },
  {
    "text": "For the contents of this row builder, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=589"
  },
  {
    "text": "I'm going to add a ForEach ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=591"
  },
  {
    "text": "and use those plants that we had from before. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=594"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=595"
  },
  {
    "text": "And for each plant, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=598"
  },
  {
    "text": "I'm just going to create a TableRow with it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=600"
  },
  {
    "text": "So now I'm going to customize each of our TableRows ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=605"
  },
  {
    "text": "by adding the itemProvider modifier. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=608"
  },
  {
    "text": "And I'm going to return just plant.itemProvider here, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=612"
  },
  {
    "text": "which is a computed property I set up on my model. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=617"
  },
  {
    "text": "So now each of these rows supports being a drag source. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=620"
  },
  {
    "text": "I've made enough changes now ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=624"
  },
  {
    "text": "to allow me to drag out my plants, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=625"
  },
  {
    "text": "but this is not very useful if nothing will accept it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=627"
  },
  {
    "text": "Let's fix that by also adding drop support to our table. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=631"
  },
  {
    "text": "The onInsert modifier is the other half ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=635"
  },
  {
    "text": "of our drag and drop equation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=637"
  },
  {
    "text": "It takes a list of content types, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=639"
  },
  {
    "text": "and I'm going to pass Plant.draggableType here, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=643"
  },
  {
    "text": "which is a custom type I set up on my model. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=646"
  },
  {
    "text": "It also takes a closure, which is passed two parameters. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=650"
  },
  {
    "text": "One is the index where the drop occurred, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=653"
  },
  {
    "text": "and another is the list of item providers. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=655"
  },
  {
    "text": "We're going to then call Plant.fromItemProviders ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=659"
  },
  {
    "text": "to create our model, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=663"
  },
  {
    "text": "and we'll pass those item providers here. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=665"
  },
  {
    "text": "This will give us back a list of plants, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=669"
  },
  {
    "text": "which we can use to update our model. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=672"
  },
  {
    "text": "I'll call garden.plants.insert (contentsOf: plants) ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=674"
  },
  {
    "text": "at the index where it occurred.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=681"
  },
  {
    "text": "Now, I can open a new window with my Indoor Plants, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=689"
  },
  {
    "text": "select a few flowers from my Backyard Flower Bed, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=694"
  },
  {
    "text": "and drag to copy them over.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=698"
  },
  {
    "text": "Drag and drop is a great way to move data around ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=702"
  },
  {
    "text": "inside our app, but what about moving data ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=705"
  },
  {
    "text": "between our app and the operating system? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=707"
  },
  {
    "text": "Our users would appreciate ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=710"
  },
  {
    "text": "being able to export all this data -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=712"
  },
  {
    "text": "perhaps for backup purposes or importing into another app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=714"
  },
  {
    "text": "To facilitate this workflow, let's add a main menu item ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=718"
  },
  {
    "text": "for exporting our database in a common file format ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=721"
  },
  {
    "text": "that can be shared with other applications. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=724"
  },
  {
    "text": "I've already created a type to contain my menu item, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=728"
  },
  {
    "text": "which conforms to the commands protocol. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=731"
  },
  {
    "text": "In our commands here, I'm going to add an ImportExportCommands ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=734"
  },
  {
    "text": "And also pass it our store. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=740"
  },
  {
    "text": "Let's switch over to that file now. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=743"
  },
  {
    "text": "And for the body, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=746"
  },
  {
    "text": "I'm going to add a CommandGroup ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=748"
  },
  {
    "text": "and I'm going to replace the system-provided ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=751"
  },
  {
    "text": "importExport placement. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=755"
  },
  {
    "text": "And what this will do is add our menu item ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=757"
  },
  {
    "text": "in the expected place in the File menu. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=760"
  },
  {
    "text": "So for the contents of our CommandGroup, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=764"
  },
  {
    "text": "I'll add a Section and a Button. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=766"
  },
  {
    "text": "We'll give it a label of \"Export\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=770"
  },
  {
    "text": "followed by the ellipses. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=773"
  },
  {
    "text": "The ellipses indicate to the user that selecting that item ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=775"
  },
  {
    "text": "will open a window or a save dialog. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=778"
  },
  {
    "text": "And the Button can just modify some state -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=782"
  },
  {
    "text": "say, \"isShowingExport = true\" -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=785"
  },
  {
    "text": "and let's add that state up here as well. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=790"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=793"
  },
  {
    "text": "So now we have our Button, which is modifying some state. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=801"
  },
  {
    "text": "I'm also going to add the fileExporter modifier here. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=804"
  },
  {
    "text": "And I'm going to give it a binding to our state ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=809"
  },
  {
    "text": "in its isPresented parameter. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=812"
  },
  {
    "text": "isShowingExport. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=817"
  },
  {
    "text": "It also takes a document. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=820"
  },
  {
    "text": "This is a type that needs to conform ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=822"
  },
  {
    "text": "to either the file document protocol ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=824"
  },
  {
    "text": "or the reference file document protocol. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=827"
  },
  {
    "text": "I've already added conformance to my store, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=829"
  },
  {
    "text": "so we'll just pass that here. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=831"
  },
  {
    "text": "Additionally, it takes a content type. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=833"
  },
  {
    "text": "We'll give it Store.readableContentTypes.first ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=836"
  },
  {
    "text": "which is just the CSV type. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=844"
  },
  {
    "text": "And lastly, it takes a closure, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=847"
  },
  {
    "text": "which is passed the result of the operation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=849"
  },
  {
    "text": "indicating success or failure. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=852"
  },
  {
    "text": "Now, I can select our Export menu item, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=855"
  },
  {
    "text": "give it a file to save as, say \"plants.csv\", ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=862"
  },
  {
    "text": "hit Export, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=866"
  },
  {
    "text": "and the file's been saved to disk. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=868"
  },
  {
    "text": "While we're on the topic of moving data between our app ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=871"
  },
  {
    "text": "and the operating system, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=874"
  },
  {
    "text": "there is one last thing I'd like to discuss. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=876"
  },
  {
    "text": "Our app has lots of textual data about our plants, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=879"
  },
  {
    "text": "but it would be great to add images as well. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=882"
  },
  {
    "text": "Users could take pictures of their plants over time ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=885"
  },
  {
    "text": "to track their progress. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=887"
  },
  {
    "text": "One way to enable this import flow ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=889"
  },
  {
    "text": "is with Continuity Camera. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=891"
  },
  {
    "text": "This feature would allow our users ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=893"
  },
  {
    "text": "to take a picture of their plant with their iOS device ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=895"
  },
  {
    "text": "and have it import directly into our app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=898"
  },
  {
    "text": "Let's take a look at how we can add a menu item ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=900"
  },
  {
    "text": "to enable this flow ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=903"
  },
  {
    "text": "when a user has selected a plant in the gallery view. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=904"
  },
  {
    "text": "After my importExportCommands, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=908"
  },
  {
    "text": "I'm going to add ImportFromDevicesCommands, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=910"
  },
  {
    "text": "and that'll give us our main menu item. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=915"
  },
  {
    "text": "Additionally, I'm going to switch over ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=918"
  },
  {
    "text": "to our GardenDetail file, and at the end of our body here, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=920"
  },
  {
    "text": "I'm going to add the importsItemProviders modifier, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=925"
  },
  {
    "text": "and this takes a list of types ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=931"
  },
  {
    "text": "that we want to support importing. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=933"
  },
  {
    "text": "I'm going to base this off of whether anything is selected, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=935"
  },
  {
    "text": "so I'm going to use our selection here. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=939"
  },
  {
    "text": "And if it's empty, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=942"
  },
  {
    "text": "I'm going to return an empty array. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=946"
  },
  {
    "text": "And if it's not empty, I'm going to return ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=950"
  },
  {
    "text": "Plant.importImageTypes, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=952"
  },
  {
    "text": "which is a list of all the image types on the system. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=957"
  },
  {
    "text": "And this modifier takes a closure, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=960"
  },
  {
    "text": "which is passed a list of item providers. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=963"
  },
  {
    "text": "We'll take those providers and call ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=967"
  },
  {
    "text": "Plant.importImageFromProviders, pass it the providers, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=969"
  },
  {
    "text": "and this is going to give us back a URL ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=976"
  },
  {
    "text": "where it saved the image to disk. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=979"
  },
  {
    "text": "We'll then update our model ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=982"
  },
  {
    "text": "by looping through all the IDs that are selected... ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=984"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=987"
  },
  {
    "text": "...and get a reference to the plant ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=993"
  },
  {
    "text": "and update its imageURL. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=996"
  },
  {
    "text": "I'm going to select my Indoor Plants garden ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=1001"
  },
  {
    "text": "and switch to Gallery mode. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=1004"
  },
  {
    "text": "And I'm going to make things a little bit bigger. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=1006"
  },
  {
    "text": "Select my plant here. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=1009"
  },
  {
    "text": "In the main menu item, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=1011"
  },
  {
    "text": "choose Import from iPhone > Take Photo.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=1013"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=1020"
  },
  {
    "text": "And you can see our gallery updated. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=1022"
  },
  {
    "text": "I hope this was a nice tour of some of the various ways ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=1026"
  },
  {
    "text": "which define a great Mac app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=1029"
  },
  {
    "text": "I'm looking forward to all the ways your apps ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=1031"
  },
  {
    "text": "will make the macOS platform better. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=1034"
  },
  {
    "text": "Have a wonderful WWDC 2021. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=1036"
  },
  {
    "text": "♪",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10289/?time=1040"
  }
]