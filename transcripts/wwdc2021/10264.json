[
  {
    "text": "Hi, I'm Nicki Brower. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=9"
  },
  {
    "text": "I'm an engineer on the Pencil and Paper team. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=12"
  },
  {
    "text": "And today, I'm gonna show you how to adopt Quick Note.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=14"
  },
  {
    "text": "Quick Note is a brand-new, system-wide note-taking experience ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=19"
  },
  {
    "text": "aimed to not only streamline the ability to take notes on iOS and macOS, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=22"
  },
  {
    "text": "but to connect content from multiple apps and the web in one location.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=27"
  },
  {
    "text": "This feature enables people to easily bring up a Note anywhere, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=33"
  },
  {
    "text": "and the best part is, it uses an API that already exists: ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=37"
  },
  {
    "text": "NSUserActivity. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=41"
  },
  {
    "text": "If that sounds familiar, it's because it's used for other features, like Handoff.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=44"
  },
  {
    "text": "Today, I'll show you Quick Note live and in action. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=49"
  },
  {
    "text": "I'll talk about the how it works on the system ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=52"
  },
  {
    "text": "and how to adopt NSUserActivity. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=55"
  },
  {
    "text": "Finally, I'll go over some best practices so you can create the best experience.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=58"
  },
  {
    "text": "To show you the new Quick Note feature, I'm going to step through ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=64"
  },
  {
    "text": "my plan of action to get into shape using Apple Fitness+.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=66"
  },
  {
    "text": "I haven't signed up yet, and I don't want to without an action plan. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=71"
  },
  {
    "text": "Instead of having to switch to the Notes app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=75"
  },
  {
    "text": "I'm now able to use my pencil to swipe up from the bottom right corner of the screen ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=78"
  },
  {
    "text": "to create a brand-new Quick Note to remember that when I'm ready to start, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=83"
  },
  {
    "text": "the Apple website has all the information I need to know.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=87"
  },
  {
    "text": "There's also a new add link menu at the top of the Quick Note, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=94"
  },
  {
    "text": "where I'll add a link to the website to make it easy ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=98"
  },
  {
    "text": "to navigate back to this content.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=100"
  },
  {
    "text": "Similar to picture-in-picture, the Quick Note window ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=105"
  },
  {
    "text": "is able to freely move around to any corner of the device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=107"
  },
  {
    "text": "I can also pinch to scale the window from the default size, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=111"
  },
  {
    "text": "to the smallest size, all the way up the largest size.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=115"
  },
  {
    "text": "If I'm finished with my note, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=119"
  },
  {
    "text": "I can press the Done button in top left corner. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=121"
  },
  {
    "text": "but I still have some stuff I need to add, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=123"
  },
  {
    "text": "so I'll swipe the UI to the right to tuck it away on the side of the screen.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=126"
  },
  {
    "text": "In addition to websites, of course, it also works with apps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=130"
  },
  {
    "text": "Using Maps, I was able to find a great spot to practice my HIIT workouts. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=134"
  },
  {
    "text": "I'll pull out my note that I tucked away and add this location to my note, too.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=138"
  },
  {
    "text": "For more room to draw, tap the Notes icon from the Quick Note toolbar ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=143"
  },
  {
    "text": "to get to the note in the Notes app.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=147"
  },
  {
    "text": "Here, I'll take advantage of the ability to draw over images and links.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=151"
  },
  {
    "text": "The links I've added here aren't just any old links. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=156"
  },
  {
    "text": "Sure, tapping on them will take me to Safari or Maps, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=160"
  },
  {
    "text": "but now I can get back to my note ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=163"
  },
  {
    "text": "from these apps with Quick Note Suggestions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=165"
  },
  {
    "text": "When I go to the site about Apple Fitness+, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=168"
  },
  {
    "text": "the Quick Note Suggestions UI will show up in the bottom right-hand corner. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=172"
  },
  {
    "text": "Tapping on this will bring me right back to where I was, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=176"
  },
  {
    "text": "and I'll add a note that my goal is to do a HIIT workout 4 to 5 times a week.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=179"
  },
  {
    "text": "I've created a note here on an iPad, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=185"
  },
  {
    "text": "but it also works cross-platform with the Mac.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=188"
  },
  {
    "text": "When I visit the link about Apple Fitness+, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=191"
  },
  {
    "text": "the Quick Note Suggestions UI will also appear here on my Mac. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=194"
  },
  {
    "text": "When I click on it, I'll be directed to the note in the Notes app.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=198"
  },
  {
    "text": "Now that you've met Quick Note, let's talk about how it works. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=202"
  },
  {
    "text": "An NSUserActivity object provides a way ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=206"
  },
  {
    "text": "to capture the state of an app and put it to use later. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=209"
  },
  {
    "text": "User activity objects are created about what is happening, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=212"
  },
  {
    "text": "such as viewing a web page or viewing app content, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=216"
  },
  {
    "text": "and each app will register its current activity with the system.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=219"
  },
  {
    "text": "The system then gets these activities ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=224"
  },
  {
    "text": "and sends them out out to features like Handoff.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=226"
  },
  {
    "text": "Quick Note linking piggybacks on this system.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=229"
  },
  {
    "text": "In addition to going to Handoff, Spotlight, and Reminders, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=233"
  },
  {
    "text": "registered activities are also sent to Quick Note. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=237"
  },
  {
    "text": "This is how the link shows up in the add link menu ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=240"
  },
  {
    "text": "and what triggers Quick Note Suggestions.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=243"
  },
  {
    "text": "NSUserActivity already has three properties ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=246"
  },
  {
    "text": "that serve as durable identifiers for linking app content with Quick Note. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=249"
  },
  {
    "text": "To be part of this ecosystem, you must set one or more ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=255"
  },
  {
    "text": "of these properties: ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=258"
  },
  {
    "text": "targetContentIdentifier, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=260"
  },
  {
    "text": "persistentIdentifier, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=262"
  },
  {
    "text": "and webpageURL. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=264"
  },
  {
    "text": "Which ones you choose depends on what other features you want to support.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=266"
  },
  {
    "text": "targetContentIdentifier is also used during state restoration. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=272"
  },
  {
    "text": "This property creates a great multitasking experience for apps that run on iPad.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=276"
  },
  {
    "text": "persistentIdentifier is also used to identify app content ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=282"
  },
  {
    "text": "in the system's Spotlight index, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=286"
  },
  {
    "text": "and webpageURL is also used for web fallback during Handoff. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=288"
  },
  {
    "text": "In order for Quick Note links to work, there are a few properties ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=292"
  },
  {
    "text": "the identifiers need to have. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=296"
  },
  {
    "text": "They should be unique for that piece of content, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=298"
  },
  {
    "text": "be global so they work across all devices, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=302"
  },
  {
    "text": "and be stable enough to work for that content over time. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=305"
  },
  {
    "text": "Having a unique, global, and stable identifier for an activity ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=310"
  },
  {
    "text": "enables Quick Note Suggestions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=315"
  },
  {
    "text": "When I come back to the website about Apple Fitness+, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=317"
  },
  {
    "text": "the reason the Quick Note Suggestions UI shows up ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=320"
  },
  {
    "text": "is because the identifier in the link, created an hour ago or six months ago, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=323"
  },
  {
    "text": "still matches the identifier on the website.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=328"
  },
  {
    "text": "There are three main steps to adopt NSUserActivity: ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=331"
  },
  {
    "text": "declare supported activities in your app's Info.plist, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=335"
  },
  {
    "text": "create and register user activities ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=340"
  },
  {
    "text": "describing what's on screen at different points in time, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=342"
  },
  {
    "text": "and handle incoming requests to continue an activity.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=346"
  },
  {
    "text": "This could be coming from a link in Quick Note or from another device.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=350"
  },
  {
    "text": "Declare the activity types that your app supports ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=355"
  },
  {
    "text": "under the NSUserActivityTypes key in its Info.plist file.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=358"
  },
  {
    "text": "The system uses the information in that key to determine whether ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=364"
  },
  {
    "text": "your app is capable of handling a given user activity object. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=367"
  },
  {
    "text": "To create an NSUserActivity object, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=371"
  },
  {
    "text": "use one of your plist-registered activity type strings, and set the title. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=374"
  },
  {
    "text": "Set one or more of the three identifiers mentioned earlier. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=379"
  },
  {
    "text": "Any one of these identifiers can be used for Quick Note. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=383"
  },
  {
    "text": "For this example, let's say your app is an iPad app ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=386"
  },
  {
    "text": "that is also interested in supporting state restoration. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=389"
  },
  {
    "text": "Set targetContentIdentifier. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=393"
  },
  {
    "text": "Set the userInfo property with any app-specific ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=395"
  },
  {
    "text": "state information needed to continue the activity.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=398"
  },
  {
    "text": "Then, attach it to a responder.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=402"
  },
  {
    "text": "Instead of having to register the activity ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=406"
  },
  {
    "text": "by manually managing the current app activity, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=408"
  },
  {
    "text": "let the system take care of it for you. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=411"
  },
  {
    "text": "By setting the activity on a responder, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=414"
  },
  {
    "text": "the object becomes managed by UIKit and AppKit.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=417"
  },
  {
    "text": "Because NSUserActivity is cross-platform, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=422"
  },
  {
    "text": "this code works on both iOS and macOS.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=425"
  },
  {
    "text": "The final step is to handle receiving incoming activities ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=429"
  },
  {
    "text": "and restoring its state in your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=433"
  },
  {
    "text": "When a link is tapped, Quick Note launches your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=435"
  },
  {
    "text": "and calls the scene (willContinueUserActivityWithType) method ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=438"
  },
  {
    "text": "of UIWindowSceneDelegate. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=443"
  },
  {
    "text": "This is where you can give some feedback that your app is receiving the activity.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=445"
  },
  {
    "text": "Quick Note then provides the activity to your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=451"
  },
  {
    "text": "in scene(continue userActivity:). ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=454"
  },
  {
    "text": "This is where you set up any view controllers, views, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=457"
  },
  {
    "text": "and use the userInfo dictionary to restore and continue the activity. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=460"
  },
  {
    "text": "In the case of Handoff, if devices can't connect, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=465"
  },
  {
    "text": "the system calls scene (didFailToContinueUserActivityWithType) ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=468"
  },
  {
    "text": "where you can present an error message. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=473"
  },
  {
    "text": "This method will not be invoked for Quick Note, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=476"
  },
  {
    "text": "but is good to implement for a well-rounded adoption of NSUserActivity.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=479"
  },
  {
    "text": "For macOS apps, implement the equivalent ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=484"
  },
  {
    "text": "application (willContinueUserActivityWithType), ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=487"
  },
  {
    "text": "application(continue userActivity), ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=491"
  },
  {
    "text": "and application (didFailToContinueUserActivityWithType) ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=494"
  },
  {
    "text": "in the app delegate. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=498"
  },
  {
    "text": "For more information about adopting NSUserActivity, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=500"
  },
  {
    "text": "check out the WWDC 2014 video, \"Adopting Handoff on iOS 8 and OS X.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=503"
  },
  {
    "text": "NSUserActivity is a gateway because it's the foundation for many other features.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=512"
  },
  {
    "text": "By adopting it for Quick Note, this is everything else that you could get. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=518"
  },
  {
    "text": "Handoff is on by default, while the others are opt-in. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=522"
  },
  {
    "text": "Your app could be even more powerful ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=527"
  },
  {
    "text": "because people could create a reminder about a document in your app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=529"
  },
  {
    "text": "or have a blog post from your app show up in spotlight, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=533"
  },
  {
    "text": "or improved multi-window handling.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=536"
  },
  {
    "text": "Check out the latest documentation and related WWDC videos ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=539"
  },
  {
    "text": "for more information.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=543"
  },
  {
    "text": "Last, but certainly not least, let's go over some ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=546"
  },
  {
    "text": "best practices for adopting NSUserActivity for Quick Note. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=549"
  },
  {
    "text": "I'm going to go over four behaviors, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=553"
  },
  {
    "text": "and for each of these, I'll talk about why ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=556"
  },
  {
    "text": "and how to implement them in your app.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=558"
  },
  {
    "text": "The title property is a human-readable string for the activity.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=562"
  },
  {
    "text": "This is the string that shows up in the add link menu. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=567"
  },
  {
    "text": "That said, the title should provide a good, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=570"
  },
  {
    "text": "descriptive representation of the content. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=573"
  },
  {
    "text": "In general, it's better to use the title of the document or item directly.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=576"
  },
  {
    "text": "There are a few tips to help identifiers be unique, global, and stable.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=582"
  },
  {
    "text": "Avoid using device-specific data. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=588"
  },
  {
    "text": "If the identifier for this photo is its local file path, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=591"
  },
  {
    "text": "the link is only guaranteed to work on the device it was created on. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=595"
  },
  {
    "text": "Avoid any transient information, like a session ID ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=599"
  },
  {
    "text": "or specific viewing properties. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=603"
  },
  {
    "text": "The title of the photo might be implicitly unique, but if it can be modified, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=606"
  },
  {
    "text": "there's no guarantee it will exist when trying to navigate back to this content.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=611"
  },
  {
    "text": "Thinking long term, like using the app's saved UUID for the photo, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=616"
  },
  {
    "text": "will allow your app to restore Quick Note links, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=621"
  },
  {
    "text": "even if the content has been moved around.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=624"
  },
  {
    "text": "Although URLs can be unique identifiers for app content, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=627"
  },
  {
    "text": "they often contain transient state information, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=631"
  },
  {
    "text": "breaking the identifier guidelines covered earlier.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=635"
  },
  {
    "text": "Quick Note prefers targetContentIdentifier or persistentIdentifier ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=638"
  },
  {
    "text": "over webpageURL. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=643"
  },
  {
    "text": "webpageURL is perfectly fine to use, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=645"
  },
  {
    "text": "as long as it follows the guidelines. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=648"
  },
  {
    "text": "If your app uses NSUserActivity for both state restoration and Spotlight, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=651"
  },
  {
    "text": "use the same value for targetContentIdentifier ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=657"
  },
  {
    "text": "and persistentIdentifier. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=660"
  },
  {
    "text": "If you have a website that compliments your app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=662"
  },
  {
    "text": "add a URL as a second, fallback identifier. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=665"
  },
  {
    "text": "This way, if the app isn't installed, opening a link redirects to your website.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=669"
  },
  {
    "text": "Another important practice is making sure the app's ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=675"
  },
  {
    "text": "current NSUserActivity is up to date. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=678"
  },
  {
    "text": "This means keeping up with what is happening.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=681"
  },
  {
    "text": "Best practice is to keep the title and identifier properties accurate ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=685"
  },
  {
    "text": "when detecting any activity change, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=688"
  },
  {
    "text": "like selecting to view a different photo.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=691"
  },
  {
    "text": "It's not recommended to reuse activity instances. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=695"
  },
  {
    "text": "When there's new content, like the new photo, create a new activity.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=699"
  },
  {
    "text": "Let UIKit and AppKit handle the current app activity ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=704"
  },
  {
    "text": "by attaching activities to responders like viewControllers or views, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=707"
  },
  {
    "text": "like I showed in the example code. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=712"
  },
  {
    "text": "If attaching to a responder doesn't work for your app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=714"
  },
  {
    "text": "the current app activity can be manually managed by calling ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=718"
  },
  {
    "text": "becomeCurrent() and resignCurrent() at the appropriate times. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=721"
  },
  {
    "text": "For example, when finished viewing the photo, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=725"
  },
  {
    "text": "the app will call resignCurrent() on the current activity, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=728"
  },
  {
    "text": "and when a new photo is picked, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=732"
  },
  {
    "text": "the app will call becomeCurrent() on the new activity.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=734"
  },
  {
    "text": "For better performance, take advantage of the activity's \"needsSave\" property. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=738"
  },
  {
    "text": "An activity might need specific view properties to properly restore ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=744"
  },
  {
    "text": "the activity in the app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=747"
  },
  {
    "text": "For example, the position and zoom when viewing a map. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=749"
  },
  {
    "text": "These properties can be passed along with the activity, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=754"
  },
  {
    "text": "but there's overhead when updating after every gesture. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=757"
  },
  {
    "text": "Instead of updating the activity, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=761"
  },
  {
    "text": "set needsSave to true. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=764"
  },
  {
    "text": "When the system needs to send the activity out to Quick Note linking or Handoff, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=766"
  },
  {
    "text": "the delegate callback userActivityWillSave is invoked, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=771"
  },
  {
    "text": "so that the app can update all the properties on demand.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=775"
  },
  {
    "text": "This callback is where the userInfo dictionary can be updated to include ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=780"
  },
  {
    "text": "any properties that help with restoring the activity.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=784"
  },
  {
    "text": "There are a couple compatibility issues to prepare for. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=788"
  },
  {
    "text": "What if the app has been updated? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=791"
  },
  {
    "text": "Take this note with two links from an app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=794"
  },
  {
    "text": "The links could be from an older or newer version of the app than is on the device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=797"
  },
  {
    "text": "Perfectly fine, but the links still need to work. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=803"
  },
  {
    "text": "To prepare for compatibility handling, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=807"
  },
  {
    "text": "have support to handle receiving activities ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=809"
  },
  {
    "text": "from earlier versions of your app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=812"
  },
  {
    "text": "and fail gracefully when receiving activities from newer versions.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=815"
  },
  {
    "text": "This could be supported from versioning your activities, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=819"
  },
  {
    "text": "or using a dictionary of keys, and being tolerant of keys being missing ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=823"
  },
  {
    "text": "or having some that you don't understand. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=828"
  },
  {
    "text": "What if the content doesn't exist anymore? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=830"
  },
  {
    "text": "The content the activity linked to could have been deleted or moved. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=834"
  },
  {
    "text": "When navigating back to the app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=838"
  },
  {
    "text": "show an error message if deleted ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=840"
  },
  {
    "text": "or redirect if the content was moved.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=843"
  },
  {
    "text": "Adopting Quick Note plugs your app into this new system of note taking. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=845"
  },
  {
    "text": "A system designed to improve the connection between people, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=850"
  },
  {
    "text": "content, and your app.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=854"
  },
  {
    "text": "Make sure you've adopted NSUserActivity. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=858"
  },
  {
    "text": "Now's a great opportunity to revisit and polish up any existing code.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=860"
  },
  {
    "text": "Have unique, global, and stable identifiers. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=866"
  },
  {
    "text": "And set your activities on responders to let the system ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=870"
  },
  {
    "text": "manage the app's current NSUserActivity. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=873"
  },
  {
    "text": "Thank you for watching, and I look forward to seeing your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=876"
  },
  {
    "text": "in Quick Note and beyond. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=878"
  },
  {
    "text": "[percussive music]",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10264/?time=879"
  }
]