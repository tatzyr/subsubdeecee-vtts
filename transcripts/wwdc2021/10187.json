[
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=0"
  },
  {
    "text": "♪ Bass music playing ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=2"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=5"
  },
  {
    "text": "♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=6"
  },
  {
    "text": "Willem Mattelaer: Hi, my name is Willem ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=9"
  },
  {
    "text": "and I'm an engineer working on Group Activities. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=11"
  },
  {
    "text": "I'll be joined by Angus and Adam to talk about how you can create ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=13"
  },
  {
    "text": "custom experiences with Group Activities. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=16"
  },
  {
    "text": "To start, I'll introduce the app ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=19"
  },
  {
    "text": "we're going to be working on in this session ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=21"
  },
  {
    "text": "and explain why it's a great candidate ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=23"
  },
  {
    "text": "to add Group Activities support to. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=24"
  },
  {
    "text": "Next, we'll go over the activity creation ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=27"
  },
  {
    "text": "and session management steps and explain the differences ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=29"
  },
  {
    "text": "compared to making a media experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=32"
  },
  {
    "text": "Finally, we'll mention some ways you could polish the experience ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=35"
  },
  {
    "text": "your users have while using your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=38"
  },
  {
    "text": "Group Activities allows you to build shared experiences ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=41"
  },
  {
    "text": "across devices with SharePlay. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=44"
  },
  {
    "text": "Although the focus is on creating media experiences, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=47"
  },
  {
    "text": "that shouldn't prevent you from letting your creativity go wild ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=49"
  },
  {
    "text": "and see how your app could be experienced ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=52"
  },
  {
    "text": "across multiple devices. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=54"
  },
  {
    "text": "We will be building on some of the concepts ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=56"
  },
  {
    "text": "that were introduced in the ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=58"
  },
  {
    "text": "\"Coordinate media experiences with Group Activities\" session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=59"
  },
  {
    "text": "I highly recommend checking that one out.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=62"
  },
  {
    "text": "In this session, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=66"
  },
  {
    "text": "we'll be working on an app called DrawTogether ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=67"
  },
  {
    "text": "that allows you to -- you guessed it -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=68"
  },
  {
    "text": "draw together while in FaceTime. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=70"
  },
  {
    "text": "It's a pretty simple app ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=73"
  },
  {
    "text": "where almost the entire screen is the canvas ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=74"
  },
  {
    "text": "and everyone gets a random color they can use to draw with. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=76"
  },
  {
    "text": "But despite being simple, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=79"
  },
  {
    "text": "it's still incredibly fun to draw with my friends ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=80"
  },
  {
    "text": "and admire the great skill of some of them ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=82"
  },
  {
    "text": "or laugh at their poor drawings. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=84"
  },
  {
    "text": "I definitely fall into the second category myself. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=86"
  },
  {
    "text": "Let me show you a quick demo ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=89"
  },
  {
    "text": "of what we're going to work towards.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=90"
  },
  {
    "text": "Hey guys, what's up? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=98"
  },
  {
    "text": "Adam, I saw you had a question for me. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=100"
  },
  {
    "text": "Adam Syed: Yeah. So Angus and I were talking, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=102"
  },
  {
    "text": "and he mentioned that you're a really good artist -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=104"
  },
  {
    "text": "like a grade A Picasso. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=106"
  },
  {
    "text": "So you got to show us, man! ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=108"
  },
  {
    "text": "Angus Burton: I've seen some of Willem's drawings, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=109"
  },
  {
    "text": "and they're impressive. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=111"
  },
  {
    "text": "Willem: I think, Angus, you're exaggerating just a tiny bit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=113"
  },
  {
    "text": "But I'm happy to show you what I can do. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=116"
  },
  {
    "text": "Let's go to the DrawTogether app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=118"
  },
  {
    "text": "Adam: OK. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=120"
  },
  {
    "text": "Can we do, like, a pastoral landscape? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=121"
  },
  {
    "text": "Willem: Sure, uh... let me start by drawing a house, maybe. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=126"
  },
  {
    "text": "Adam:  OK. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=129"
  },
  {
    "text": "Angus: Willem, this house is looking pretty basic, man. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=133"
  },
  {
    "text": "Maybe I'll help you out with a sun. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=135"
  },
  {
    "text": "Adam: I'll try a tree. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=138"
  },
  {
    "text": "Willem: That tree is way too tall. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=140"
  },
  {
    "text": "Adam: No, the sun's too low, man. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=143"
  },
  {
    "text": "Willem: Let me add some grass. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=147"
  },
  {
    "text": "Adam: I'll draw some more trees. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=149"
  },
  {
    "text": "Willem: OK. Um, I think I'm going to call it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=152"
  },
  {
    "text": "We are not artists and we should stop what we're doing right now. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=155"
  },
  {
    "text": "Let's --  I'll talk to you guys later, OK? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=159"
  },
  {
    "text": "Adam:  OK Angus: Bye. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=163"
  },
  {
    "text": "Willem: As you saw, one of the core experiences ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=165"
  },
  {
    "text": "of the Group Activities API ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=167"
  },
  {
    "text": "is allowing you to do things together ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=169"
  },
  {
    "text": "while being physically apart. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=170"
  },
  {
    "text": "The real-time interactions that you can unlock ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=172"
  },
  {
    "text": "and the instant reaction your users will get, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=174"
  },
  {
    "text": "since they can see and hear everyone else, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=176"
  },
  {
    "text": "can lead to some truly magical moments. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=179"
  },
  {
    "text": "This is something you should keep in mind when considering ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=181"
  },
  {
    "text": "how to integrate Group Activities in your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=183"
  },
  {
    "text": "There are two steps to adopt Group Activities: ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=187"
  },
  {
    "text": "activity creation and session management. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=189"
  },
  {
    "text": "We've covered this in more detail ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=192"
  },
  {
    "text": "in the \"Coordinate media experiences\" session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=193"
  },
  {
    "text": "In this session, let's take a look at how these steps change ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=196"
  },
  {
    "text": "when building a custom experience, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=199"
  },
  {
    "text": "starting with activity creation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=201"
  },
  {
    "text": "There are two parts to create a Group Activity. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=204"
  },
  {
    "text": "First you configure your activity, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=207"
  },
  {
    "text": "and that's followed by activating the activity. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=209"
  },
  {
    "text": "Compared to a media Group Activity, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=212"
  },
  {
    "text": "only the configure part is different for a custom activity. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=214"
  },
  {
    "text": "When configuring the activity, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=218"
  },
  {
    "text": "you have to think about the specific experience ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=219"
  },
  {
    "text": "that you want to share between all the participants. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=221"
  },
  {
    "text": "The activity should contain all the information ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=224"
  },
  {
    "text": "that remains constant throughout that experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=226"
  },
  {
    "text": "If you've watched the ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=229"
  },
  {
    "text": "\"Coordinate media experiences with Group Activities\" session, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=231"
  },
  {
    "text": "this should look familiar. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=233"
  },
  {
    "text": "We've defined a DrawTogether struct ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=235"
  },
  {
    "text": "that conforms to the GroupActivity protocol, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=237"
  },
  {
    "text": "and we've implemented the metadata property where ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=239"
  },
  {
    "text": "we construct the associated metadata with a title. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=241"
  },
  {
    "text": "Now to make this a custom activity, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=244"
  },
  {
    "text": "we'll just need to set the right type on the metadata. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=246"
  },
  {
    "text": "By setting that to generic, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=250"
  },
  {
    "text": "we configure this activity to be a custom activity. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=251"
  },
  {
    "text": "And that's all you need to do when configuring ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=255"
  },
  {
    "text": "a custom activity compared to a media one. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=256"
  },
  {
    "text": "Now let's jump right into Xcode and start creating ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=259"
  },
  {
    "text": "our custom Group Activity in the DrawTogether app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=261"
  },
  {
    "text": "First, let me quickly walk you through the code ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=265"
  },
  {
    "text": "that we start with. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=267"
  },
  {
    "text": "DrawTogether is a SwiftUI app using the SwiftUI app lifecycle. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=269"
  },
  {
    "text": "ContentView is the main view of the app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=273"
  },
  {
    "text": "At the top of the view, there is an indicator ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=276"
  },
  {
    "text": "that shows the color that will be used when drawing. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=278"
  },
  {
    "text": "Below that is the CanvasView. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=281"
  },
  {
    "text": "This takes a canvas and will be responsible ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=284"
  },
  {
    "text": "for drawing all the strokes in the canvas ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=286"
  },
  {
    "text": "and updating the canvas based on any user input. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=288"
  },
  {
    "text": "Finally, at the bottom there is a ControlBar, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=291"
  },
  {
    "text": "which contains a couple of controls ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=293"
  },
  {
    "text": "that could be useful while drawing. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=295"
  },
  {
    "text": "Currently we have a single button there ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=297"
  },
  {
    "text": "to clear the canvas and start from scratch. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=298"
  },
  {
    "text": "The canvas itself consists of an array of strokes ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=302"
  },
  {
    "text": "where each stroke has a color, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=304"
  },
  {
    "text": "an identifier, and a list of points. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=306"
  },
  {
    "text": "The canvas also has an activeStroke -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=309"
  },
  {
    "text": "which represents a stroke ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=311"
  },
  {
    "text": "that the local user is currently drawing -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=312"
  },
  {
    "text": "and the stroke color that will be used by the user. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=315"
  },
  {
    "text": "Let's now start with configuring our activity. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=319"
  },
  {
    "text": "Before we do that, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=322"
  },
  {
    "text": "I'll have to add the Group Activities entitlement. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=323"
  },
  {
    "text": "I do that by going to the project settings, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=325"
  },
  {
    "text": "and in the Signing & Capabilities tab, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=328"
  },
  {
    "text": "I'll add a new capability. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=330"
  },
  {
    "text": "I'll search for Group Activities and select it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=332"
  },
  {
    "text": "Now that we have the entitlement, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=338"
  },
  {
    "text": "let's finally configure our activity. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=339"
  },
  {
    "text": "I'll add a new file by going to File > New > File... ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=342"
  },
  {
    "text": "and selecting Swift File. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=348"
  },
  {
    "text": "I'll call it \"DrawTogether\"... ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=351"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=352"
  },
  {
    "text": "...and click Create. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=354"
  },
  {
    "text": "First, I'll import our framework. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=358"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=360"
  },
  {
    "text": "Next, I'll define a new struct called \"DrawTogether\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=363"
  },
  {
    "text": "that conforms to the GroupActivity protocol. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=366"
  },
  {
    "text": "The GroupActivity protocol has two properties ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=371"
  },
  {
    "text": "that should be implemented: activityIdentifier and metadata. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=373"
  },
  {
    "text": "For the activityIdentifier, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=377"
  },
  {
    "text": "I will rely on the default implementation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=378"
  },
  {
    "text": "The metadata property is, however, still necessary. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=380"
  },
  {
    "text": "So let's add it.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=383"
  },
  {
    "text": "In this computed property, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=389"
  },
  {
    "text": "I create a GroupActivityMetadata object, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=390"
  },
  {
    "text": "and I set the title. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=393"
  },
  {
    "text": "I also set the type to be generic. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=396"
  },
  {
    "text": "This is crucial for a custom activity. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=399"
  },
  {
    "text": "Finally, I return the metadata object.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=402"
  },
  {
    "text": "Now that we've configured the activity, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=408"
  },
  {
    "text": "we still need to activate it at the appropriate moment. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=410"
  },
  {
    "text": "I'll add a new button to activate it -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=413"
  },
  {
    "text": "and what better place for that then our control bar? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=414"
  },
  {
    "text": "I'll add the button at the start of our HStack. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=417"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=419"
  },
  {
    "text": "For the label of the button, we're using an SF Symbol. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=423"
  },
  {
    "text": "And in the action closure, we'll create a new instance ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=427"
  },
  {
    "text": "of our custom Group Activity and call activate on it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=430"
  },
  {
    "text": "And that's all that is necessary to activate our activity. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=434"
  },
  {
    "text": "I just showed how to configure a custom Group Activity ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=438"
  },
  {
    "text": "and how to activate it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=441"
  },
  {
    "text": "These are the two parts necessary ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=442"
  },
  {
    "text": "for the activity creation step. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=444"
  },
  {
    "text": "Now, I'll hand it off to Angus ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=446"
  },
  {
    "text": "who will tell you about the session management step. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=447"
  },
  {
    "text": "Angus: Thanks, Willem. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=451"
  },
  {
    "text": "Next, we are going to talk about how you can send and receive ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=452"
  },
  {
    "text": "custom data in your application using Group Activities. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=454"
  },
  {
    "text": "This is at the heart of creating unique SharePlay experiences ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=458"
  },
  {
    "text": "with Group Activities. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=461"
  },
  {
    "text": "From the previous session titled, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=464"
  },
  {
    "text": "\"Coordinate media experiences with Group Activities,\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=466"
  },
  {
    "text": "you should be familiar ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=469"
  },
  {
    "text": "with the three steps of receiving a session, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=470"
  },
  {
    "text": "preparing for playback, and joining a session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=472"
  },
  {
    "text": "Instead of playback synchronization, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=476"
  },
  {
    "text": "we need to configure a session for our custom experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=477"
  },
  {
    "text": "But before we jump into that, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=481"
  },
  {
    "text": "let's add the code to receive the Group Session and join in. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=483"
  },
  {
    "text": "Let's go back to Xcode, and the first thing we'll do ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=487"
  },
  {
    "text": "is to navigate to ContentView, and import GroupActivities.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=490"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=497"
  },
  {
    "text": "Next, we will create an async task ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=501"
  },
  {
    "text": "to receive our GroupSession. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=503"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=506"
  },
  {
    "text": "Now that we have a GroupSession, we need a place to store it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=510"
  },
  {
    "text": "Let's store it on our Canvas object using a new method ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=513"
  },
  {
    "text": "that we'll call \"configureGroupSession\". ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=516"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=520"
  },
  {
    "text": "Now, let's navigate over to Canvas ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=522"
  },
  {
    "text": "and implement the configureGroupSession method.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=524"
  },
  {
    "text": "We'll start by going to the top ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=530"
  },
  {
    "text": "and making sure to import GroupActivities. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=532"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=535"
  },
  {
    "text": "Let's go to the bottom of our file ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=538"
  },
  {
    "text": "and implement our new method next. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=539"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=543"
  },
  {
    "text": "Here we assigned the groupSession object ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=547"
  },
  {
    "text": "we receive to a new property on our class. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=549"
  },
  {
    "text": "Also note that we reset the canvas ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=553"
  },
  {
    "text": "before setting the groupSession property. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=555"
  },
  {
    "text": "Last but not least, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=559"
  },
  {
    "text": "let's add the code to join the groupSession. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=560"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=564"
  },
  {
    "text": "At this point, we should be able to build ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=569"
  },
  {
    "text": "and compile our project. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=570"
  },
  {
    "text": "Let's test that now by going to Product > Build.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=572"
  },
  {
    "text": "Great. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=580"
  },
  {
    "text": "Now that we've set up the code ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=581"
  },
  {
    "text": "to receive and join our Group Session, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=582"
  },
  {
    "text": "let's look at how to configure the session ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=584"
  },
  {
    "text": "for sending and receiving custom data in our application. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=586"
  },
  {
    "text": "For configuring the session, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=590"
  },
  {
    "text": "we'll be using GroupSessionMessenger, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=591"
  },
  {
    "text": "which provides a simple API to send and receive raw data ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=594"
  },
  {
    "text": "or structured messages ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=597"
  },
  {
    "text": "to and from participants within the Group Session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=599"
  },
  {
    "text": "Let's look at how to use GroupSessionMessenger next. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=602"
  },
  {
    "text": "To start, we will create a GroupSessionMessenger ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=607"
  },
  {
    "text": "from our groupSession. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=609"
  },
  {
    "text": "The first step in using GroupSessionMessenger ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=612"
  },
  {
    "text": "is to define what type of data needs to be exchanged ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=614"
  },
  {
    "text": "between participants in your application. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=617"
  },
  {
    "text": "In DrawTogether, the specific data we need ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=620"
  },
  {
    "text": "to share with other devices are the strokes themselves. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=623"
  },
  {
    "text": "We could represent a stroke with three properties: ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=627"
  },
  {
    "text": "an identifier, a color, and a coordinate point. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=629"
  },
  {
    "text": "Note that we make our UpsertStrokeMessage ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=633"
  },
  {
    "text": "conform to the Codable protocol. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=635"
  },
  {
    "text": "This is because GroupSessionMessenger ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=638"
  },
  {
    "text": "allows us to send and receive structured messages ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=640"
  },
  {
    "text": "and will automatically handle ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=643"
  },
  {
    "text": "the serialization and deserialization for us, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=644"
  },
  {
    "text": "as long as the messages are codable. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=647"
  },
  {
    "text": "The second step for configuring the session ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=650"
  },
  {
    "text": "is to receive data using the Messages API ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=652"
  },
  {
    "text": "on GroupSessionMessenger. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=655"
  },
  {
    "text": "For DrawTogether, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=658"
  },
  {
    "text": "we will need to handle receiving the UpsertStrokeMessages. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=659"
  },
  {
    "text": "The messages API shown here is able to take the codable type ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=662"
  },
  {
    "text": "and returns an async sequence -- which hands us a tuple ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=666"
  },
  {
    "text": "containing messages of that type -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=669"
  },
  {
    "text": "and the context surrounding the message -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=671"
  },
  {
    "text": "which includes information like ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=673"
  },
  {
    "text": "which participant sent that message. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=675"
  },
  {
    "text": "The third step for configuring the session is to send data ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=678"
  },
  {
    "text": "using the send API on GroupSessionMessenger. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=681"
  },
  {
    "text": "For DrawTogether, we will send an UpsertStrokeMessage ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=684"
  },
  {
    "text": "to all participants within the group. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=688"
  },
  {
    "text": "Note that the send API is an async throwing method. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=690"
  },
  {
    "text": "The errors it throws should be handled appropriately ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=693"
  },
  {
    "text": "by your application. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=695"
  },
  {
    "text": "Now, let's go to Xcode and add our GroupSessionMessenger code. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=697"
  },
  {
    "text": "We'll start by navigating to the Canvas source file ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=701"
  },
  {
    "text": "and creating a GroupSessionMessenger ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=703"
  },
  {
    "text": "from our Group Session.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=705"
  },
  {
    "text": "We'll add the messenger property to the Canvas ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=712"
  },
  {
    "text": "which will hold the messenger object we just created. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=715"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=717"
  },
  {
    "text": "Next we need to define the UpsertStrokeMessage, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=724"
  },
  {
    "text": "which will be sent and received between participants. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=727"
  },
  {
    "text": "Let's create a new file for this. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=730"
  },
  {
    "text": "We'll do that by going to File > New > File... ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=732"
  },
  {
    "text": "selecting Swift File... ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=737"
  },
  {
    "text": "...and let's stick it in our Model folder. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=739"
  },
  {
    "text": "And let's call it \"Messages\". ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=742"
  },
  {
    "text": "Now let's add the code to define the UpsertStrokeMessage. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=747"
  },
  {
    "text": "Now that we've defined the message to send and receive ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=754"
  },
  {
    "text": "with GroupSessionMessenger, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=757"
  },
  {
    "text": "let's write the code to send and receive it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=759"
  },
  {
    "text": "We'll navigate back to Canvas to do this.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=761"
  },
  {
    "text": "Let's go to the bottom of our file ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=767"
  },
  {
    "text": "and add the code to receive the messages.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=768"
  },
  {
    "text": "Here, we create a detached task to receive ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=777"
  },
  {
    "text": "the UpsertStrokeMessages from the async sequence ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=779"
  },
  {
    "text": "and call a new method, handle, to process the message. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=782"
  },
  {
    "text": "Let's implement that next. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=785"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=789"
  },
  {
    "text": "In this code, we check to see if we already have a stroke ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=793"
  },
  {
    "text": "by checking for its identifier, and if so, add the point to it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=795"
  },
  {
    "text": "Otherwise, we create a new stroke, add the point to it, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=800"
  },
  {
    "text": "and append the stroke to our array of strokes. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=804"
  },
  {
    "text": "Next, we'll write the code to send the messages. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=807"
  },
  {
    "text": "We'll go up to the method above, addPointToActiveStroke. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=811"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=817"
  },
  {
    "text": "Awesome! ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=822"
  },
  {
    "text": "Now let's build and run our app ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=823"
  },
  {
    "text": "and see a shared DrawTogether experience in action. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=825"
  },
  {
    "text": "So I'll go over to my two devices, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=829"
  },
  {
    "text": "and I'm going to start a FaceTime call with myself. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=831"
  },
  {
    "text": "I'll go to the Phone app and then call myself. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=834"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=836"
  },
  {
    "text": "And then I'm going to answer on my other device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=837"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=839"
  },
  {
    "text": "Turn off the mics. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=844"
  },
  {
    "text": "Now on this device, I'm going to start ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=847"
  },
  {
    "text": "a shared DrawTogether experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=849"
  },
  {
    "text": "I'll tap the bottom-left icon. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=853"
  },
  {
    "text": "And on the other device, I'll join the Group Session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=856"
  },
  {
    "text": "And now I'm going to play tic-tac-toe with myself. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=860"
  },
  {
    "text": "I'll move first.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=865"
  },
  {
    "text": "Looks like I won. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=877"
  },
  {
    "text": "Cool. Looks like our code works. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=879"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=882"
  },
  {
    "text": "Now that we've talked about how to configure the session ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=885"
  },
  {
    "text": "using GroupSessionMessenger by first defining the messages, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=888"
  },
  {
    "text": "then receiving the messages, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=891"
  },
  {
    "text": "and finally sending the messages, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=893"
  },
  {
    "text": "let's talk about a few other things to consider ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=895"
  },
  {
    "text": "when using GroupSessionMessenger.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=897"
  },
  {
    "text": "Under the hood, GroupSessionMessenger ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=902"
  },
  {
    "text": "provides reliable and FIFO-ordered message delivery ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=904"
  },
  {
    "text": "to all active participants in the group. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=907"
  },
  {
    "text": "The messages you send do have constraints; ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=911"
  },
  {
    "text": "if they are too large, an error will be thrown ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=913"
  },
  {
    "text": "from the send API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=915"
  },
  {
    "text": "GroupSessionMessenger is meant for smaller payloads ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=917"
  },
  {
    "text": "and should not be used for streaming large assets ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=919"
  },
  {
    "text": "like files, images, or videos. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=922"
  },
  {
    "text": "Another thing to consider when sending messages ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=926"
  },
  {
    "text": "is flow control and rate limiting. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=928"
  },
  {
    "text": "Sending a burst of messages in quick succession, like a loop, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=930"
  },
  {
    "text": "could result in an error being thrown from the send API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=934"
  },
  {
    "text": "Finally, when defining the messages to use ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=939"
  },
  {
    "text": "with GroupSessionMessenger, consider adding ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=941"
  },
  {
    "text": "versioning support to your application protocol. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=943"
  },
  {
    "text": "This will allow your applications ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=946"
  },
  {
    "text": "to support inter-op with devices running an older version ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=947"
  },
  {
    "text": "of your software. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=950"
  },
  {
    "text": "Now I'll hand it off to Adam who will talk to you ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=952"
  },
  {
    "text": "about how you can polish your GroupActivities experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=955"
  },
  {
    "text": "Adam: Thanks, Angus! ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=959"
  },
  {
    "text": "So now let's talk about some finishing touches ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=960"
  },
  {
    "text": "that your app may need for its custom experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=962"
  },
  {
    "text": "First, let's talk about late joiners. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=967"
  },
  {
    "text": "Late joiners are devices that join into an activitySession ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=970"
  },
  {
    "text": "after the session is started. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=973"
  },
  {
    "text": "To ensure a proper experience, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=975"
  },
  {
    "text": "late joiners need to be given the latest information ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=977"
  },
  {
    "text": "so that all the devices are working off of the same data. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=979"
  },
  {
    "text": "Accounting for this scenario is critical ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=983"
  },
  {
    "text": "to ensure a coherent user experience, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=985"
  },
  {
    "text": "but it isn't a one-size-fits-all. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=987"
  },
  {
    "text": "The data needed for this catch-up process ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=990"
  },
  {
    "text": "will depend on your app and experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=992"
  },
  {
    "text": "So let's see how it applies to the DrawTogether app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=994"
  },
  {
    "text": "Let's say that we have two devices in a Group Session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=998"
  },
  {
    "text": "These two devices have the same information: ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1000"
  },
  {
    "text": "a smiley face drawn on their canvas. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1003"
  },
  {
    "text": "You can see that because they were both in the session ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1006"
  },
  {
    "text": "when the drawing happened, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1008"
  },
  {
    "text": "they have the same data throughout the experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1009"
  },
  {
    "text": "Now, let's add another device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1012"
  },
  {
    "text": "At this point, the new device calls join ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1014"
  },
  {
    "text": "on their GroupSession, but there's nothing on the canvas. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1017"
  },
  {
    "text": "So we draw a cloud, and -- Oh, that's -- that's not good! ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1019"
  },
  {
    "text": "Because the new device didn't have prior context, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1024"
  },
  {
    "text": "our smiley face now has a cloud on it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1026"
  },
  {
    "text": "Now let's back up and try that again. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1029"
  },
  {
    "text": "How do we fix this so that the new device ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1031"
  },
  {
    "text": "has a smiley face show as soon as it joins? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1034"
  },
  {
    "text": "Once the new device calls join on the Group Session, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1037"
  },
  {
    "text": "every other device joined into the Group Session ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1040"
  },
  {
    "text": "will see the activeParticipants property on GroupSession fire. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1042"
  },
  {
    "text": "Devices that observe that signal ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1047"
  },
  {
    "text": "will then send its catch-up data -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1048"
  },
  {
    "text": "in this case, the existing drawing canvas -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1050"
  },
  {
    "text": "to the newly joined device. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1052"
  },
  {
    "text": "Now when the new device joins, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1054"
  },
  {
    "text": "it sees that there was a smiley face already there ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1056"
  },
  {
    "text": "so we can draw around it! ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1058"
  },
  {
    "text": "So now, how we do this in code? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1060"
  },
  {
    "text": "The first thing we need to do is understand what data ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1063"
  },
  {
    "text": "our app needs to transmit in our catch-up message. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1065"
  },
  {
    "text": "Since we're a DrawTogether experience ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1068"
  },
  {
    "text": "and our goal is to ensure that the canvas ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1070"
  },
  {
    "text": "is the same on everyone's device, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1072"
  },
  {
    "text": "let's go ahead and make a new message ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1073"
  },
  {
    "text": "in our Message.swift file called \"CanvasMessage\". ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1075"
  },
  {
    "text": "This struct will contain all of the strokes that we have ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1081"
  },
  {
    "text": "and a variable that we'll call \"pointCount\", ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1084"
  },
  {
    "text": "which will be used as a heuristic to calculate ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1086"
  },
  {
    "text": "which message is the most up to date. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1088"
  },
  {
    "text": "Awesome! ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1091"
  },
  {
    "text": "Now, how do we handle receiving this message? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1092"
  },
  {
    "text": "If we go over to our Canvas model in Canvas.swift, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1095"
  },
  {
    "text": "we're able to set up a message handler ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1099"
  },
  {
    "text": "in configureGroupSession using the GroupSessionMessenger ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1101"
  },
  {
    "text": "like Angus showed us previously. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1104"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1107"
  },
  {
    "text": "From here, you can see that we call into our handle function, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1112"
  },
  {
    "text": "so let's go ahead and implement that. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1115"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1119"
  },
  {
    "text": "In this code, you can see that we guard against ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1122"
  },
  {
    "text": "our pointCount heuristic to only accept catch-up messages ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1124"
  },
  {
    "text": "that are newer than what we currently have. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1127"
  },
  {
    "text": "If that passes, then we go ahead and override our canvas' strokes ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1129"
  },
  {
    "text": "with the catchupMessage's strokes. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1133"
  },
  {
    "text": "Now, like we discussed earlier, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1136"
  },
  {
    "text": "we need to listen for activeParticipants ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1138"
  },
  {
    "text": "to change to figure out if there's any new participants ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1140"
  },
  {
    "text": "that we need to communicate to. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1143"
  },
  {
    "text": "So let's go ahead and add that to our ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1145"
  },
  {
    "text": "configureGroupSession function. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1147"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1152"
  },
  {
    "text": "In this handler, you can see that we grab the delta ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1155"
  },
  {
    "text": "between our new activeParticipants ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1157"
  },
  {
    "text": "and our old activeParticipants. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1159"
  },
  {
    "text": "This ensures that we only send our catch-up message ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1161"
  },
  {
    "text": "to the newly joined participants. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1163"
  },
  {
    "text": "Great! ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1166"
  },
  {
    "text": "Now we just form and send our message. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1167"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1171"
  },
  {
    "text": "This message will contain our current canvas' state ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1174"
  },
  {
    "text": "and will send it only to the newParticipants. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1177"
  },
  {
    "text": "And that's it! ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1180"
  },
  {
    "text": "That's catch-up! ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1181"
  },
  {
    "text": "So, now that we have all the pieces in place ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1183"
  },
  {
    "text": "for a Group Session to go on for a specific activity, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1186"
  },
  {
    "text": "what do we do if we're changing activities completely? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1189"
  },
  {
    "text": "This could be something like changing the drawing canvas ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1191"
  },
  {
    "text": "or changing movies. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1194"
  },
  {
    "text": "Our API provides two ways of changing activities: ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1197"
  },
  {
    "text": "you can either create a new Group Session ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1200"
  },
  {
    "text": "or update the activity for everyone ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1202"
  },
  {
    "text": "on your existing Group Session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1204"
  },
  {
    "text": "So, let's talk about the two. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1206"
  },
  {
    "text": "The first and preferred way to change content ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1210"
  },
  {
    "text": "is through calling the same API that started the Group Session: ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1213"
  },
  {
    "text": "prepareForActivation on GroupActivity. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1216"
  },
  {
    "text": "This approach makes it easier to reason about ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1219"
  },
  {
    "text": "a consistent state between participants, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1221"
  },
  {
    "text": "since it provides a clean barrier ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1224"
  },
  {
    "text": "for entrance and exit of the GroupSession, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1225"
  },
  {
    "text": "so you don't need to worry about lingering states ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1228"
  },
  {
    "text": "or messages that you don't need from the old GroupSession. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1230"
  },
  {
    "text": "This is incredibly helpful for when users ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1234"
  },
  {
    "text": "back out of the activity to find the next one, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1236"
  },
  {
    "text": "such as searching for a new note or movie. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1238"
  },
  {
    "text": "This also gives the system an indication of a major change, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1242"
  },
  {
    "text": "which will be used to notify the user. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1245"
  },
  {
    "text": "After this call, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1248"
  },
  {
    "text": "in the same fashion as starting a Group Session, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1249"
  },
  {
    "text": "you'll receive your new GroupSession ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1252"
  },
  {
    "text": "through the sessions async sequence on GroupActivity. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1253"
  },
  {
    "text": "Now, what if your application has a list of activities ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1258"
  },
  {
    "text": "that you are going to be transitioning between, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1261"
  },
  {
    "text": "such as multiple songs playing after each other? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1263"
  },
  {
    "text": "Our GroupSession API provides a simple way ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1265"
  },
  {
    "text": "for you to trigger an update for everyone ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1268"
  },
  {
    "text": "by simply setting the activity property on the GroupSession. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1270"
  },
  {
    "text": "From there, you then listen to the activity property change. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1274"
  },
  {
    "text": "Our API will ensure that devices ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1277"
  },
  {
    "text": "always converge onto the same activity ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1278"
  },
  {
    "text": "so you don't need to worry about it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1281"
  },
  {
    "text": "Now that we conceptually understand the two, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1284"
  },
  {
    "text": "which one should we use for our DrawTogether app? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1286"
  },
  {
    "text": "Because our app wants a clean slate ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1289"
  },
  {
    "text": "on each new drawing canvas, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1290"
  },
  {
    "text": "the New Session API would give us exactly what we want. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1292"
  },
  {
    "text": "So now let's hop over to Xcode to see how to implement it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1295"
  },
  {
    "text": "The first step here is to decide ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1300"
  },
  {
    "text": "how we want to trigger a new session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1302"
  },
  {
    "text": "In our case, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1304"
  },
  {
    "text": "let's make it so when a client uses our Reset button, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1305"
  },
  {
    "text": "we'll go ahead and create a new GroupSession. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1308"
  },
  {
    "text": "If we look at our ControlBar code, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1311"
  },
  {
    "text": "we can see that we already have a CapsuleButton ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1312"
  },
  {
    "text": "that calls into our Canvas model to reset the local state. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1315"
  },
  {
    "text": "So let's go ahead and modify that function ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1320"
  },
  {
    "text": "to tear down the GroupSession and create a new one. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1322"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1326"
  },
  {
    "text": "In this code, we'll go ahead and cancel any tasks ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1333"
  },
  {
    "text": "and cancelables that we have for our GroupSession. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1335"
  },
  {
    "text": "We'll also check if we have a GroupSession -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1339"
  },
  {
    "text": "and if we do, leave it and call into the activate property ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1341"
  },
  {
    "text": "on our DrawTogether type. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1344"
  },
  {
    "text": "From there, our normal flow for receiving a GroupSession ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1347"
  },
  {
    "text": "will take place, and we're good to go! ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1349"
  },
  {
    "text": "We now have a clean way to transition to a new canvas. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1352"
  },
  {
    "text": "Now, what if we want to change our UI to indicate to users ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1358"
  },
  {
    "text": "that they can try our SharePlay experience with their friends? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1361"
  },
  {
    "text": "For example, in our drawing app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1364"
  },
  {
    "text": "we want our canvas to change from this to this ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1366"
  },
  {
    "text": "where when we're eligible for a GroupSession, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1370"
  },
  {
    "text": "you'll notice that we now show a button to share the canvas. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1372"
  },
  {
    "text": "So how do we do this? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1375"
  },
  {
    "text": "With the GroupStateObserver API, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1378"
  },
  {
    "text": "we're able to listen to a publisher ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1380"
  },
  {
    "text": "to tell us when the device is eligible for a Group Session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1382"
  },
  {
    "text": "We can then use this to dynamically show ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1385"
  },
  {
    "text": "and hide our button. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1387"
  },
  {
    "text": "So let's go and implement it! ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1389"
  },
  {
    "text": "Like we saw, we want a small button ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1394"
  },
  {
    "text": "in the bottom left of our application. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1396"
  },
  {
    "text": "Since our application already has the sharing button ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1398"
  },
  {
    "text": "in our ControlBar view, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1400"
  },
  {
    "text": "let's just change the behavior to show and hide the button ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1402"
  },
  {
    "text": "based off of the GroupStateObserver. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1404"
  },
  {
    "text": "First we go ahead and add our groupStateObserver ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1410"
  },
  {
    "text": "to our view. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1412"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1414"
  },
  {
    "text": "Now let's surround our CapsuleButton ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1417"
  },
  {
    "text": "to only show if we're eligible for a groupSession ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1419"
  },
  {
    "text": "and we're not in this groupSession already.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1422"
  },
  {
    "text": "And that's it! ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1431"
  },
  {
    "text": "Our button now dynamically shows ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1432"
  },
  {
    "text": "only when it's helpful to the user. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1434"
  },
  {
    "text": "Now let's go over what we saw in this session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1437"
  },
  {
    "text": "We went through the full process of creating a simple drawing app ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1441"
  },
  {
    "text": "that we then changed to leverage Group Activities ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1444"
  },
  {
    "text": "to make it synchronized and connected like never before. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1446"
  },
  {
    "text": "But more importantly, we went through all the steps needed ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1450"
  },
  {
    "text": "for you to fully unleash your creativity ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1453"
  },
  {
    "text": "and create any custom SharePlay experience ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1455"
  },
  {
    "text": "with Group Activities. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1457"
  },
  {
    "text": "We talked about creating a custom activity ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1460"
  },
  {
    "text": "with a generic type, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1462"
  },
  {
    "text": "configuring and leveraging GroupSession ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1464"
  },
  {
    "text": "and GroupSessionMessenger for synchronized communication, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1466"
  },
  {
    "text": "and edge cases and APIs your app should adopt ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1470"
  },
  {
    "text": "to make a truly rich user experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1472"
  },
  {
    "text": "I hope you enjoyed creating this custom experience with us, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1476"
  },
  {
    "text": "and we look forward to seeing your creativity go wild ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1479"
  },
  {
    "text": "with the Group Activities framework! ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1481"
  },
  {
    "text": "Your next step while learning about GroupActivities ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1483"
  },
  {
    "text": "should be the \"Design for Group Activities\" session ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1485"
  },
  {
    "text": "And if you haven't seen it already, check out ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1488"
  },
  {
    "text": "the \"Build media experiences with Group Activities\" session ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1489"
  },
  {
    "text": "as well. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1492"
  },
  {
    "text": "If you have any questions, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1493"
  },
  {
    "text": "please find us at the Group Activities lab. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1494"
  },
  {
    "text": "And finally, thank you all for tuning in ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1496"
  },
  {
    "text": "and have a great WWDC. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1499"
  },
  {
    "text": "We can't wait to see what you build! ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1500"
  },
  {
    "text": "♪",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10187/?time=1502"
  }
]