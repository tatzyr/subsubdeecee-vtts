[
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=0"
  },
  {
    "text": "♪ Bass music playing ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=2"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=5"
  },
  {
    "text": "♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=7"
  },
  {
    "text": "Jake Petroules: Hi, and welcome to ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=9"
  },
  {
    "text": "\"Explore advanced project configuration in Xcode\". ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=11"
  },
  {
    "text": "I'm Jake, and together with my colleague Prachi, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=14"
  },
  {
    "text": "I'll discuss strategies and techniques for making ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=17"
  },
  {
    "text": "the most of your Xcode project's build configuration. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=19"
  },
  {
    "text": "We're going to cover three major topic areas. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=22"
  },
  {
    "text": "First, Prachi will discuss multiplatform projects ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=26"
  },
  {
    "text": "and Xcode 13's new support for multiplatform framework targets. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=29"
  },
  {
    "text": "Next, I'll cover best practices for modeling ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=34"
  },
  {
    "text": "and configuring your project through schemes, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=37"
  },
  {
    "text": "target setup and dependency management, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=40"
  },
  {
    "text": "and build phases and rules. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=42"
  },
  {
    "text": "And finally, Prachi will take you on a deep dive ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=44"
  },
  {
    "text": "into build settings, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=47"
  },
  {
    "text": "where we'll cover their structure and behavior, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=48"
  },
  {
    "text": "the project editor UI, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=51"
  },
  {
    "text": "configuration settings files and their syntax, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=52"
  },
  {
    "text": "and a whole lot more! ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=55"
  },
  {
    "text": "Throughout this talk, we'll be using ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=57"
  },
  {
    "text": "a multiplatform app project called Fruta ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=59"
  },
  {
    "text": "to show how these techniques apply to a real project. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=61"
  },
  {
    "text": "And now I'm going to hand it over to Prachi, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=64"
  },
  {
    "text": "who's going to talk about multiplatform frameworks. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=66"
  },
  {
    "text": "Prachi Pai Asnodkar: Thanks, Jake. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=69"
  },
  {
    "text": "One of the new features in Xcode 13 ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=70"
  },
  {
    "text": "is support for multiplatform frameworks. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=73"
  },
  {
    "text": "Multiplatform frameworks allow us to consolidate ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=76"
  },
  {
    "text": "multiple frameworks into one, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=79"
  },
  {
    "text": "providing us simplified target management, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=82"
  },
  {
    "text": "one set of build phases to manage, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=85"
  },
  {
    "text": "and one set of build settings to manage. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=87"
  },
  {
    "text": "Let's take a look at the Fruta app ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=90"
  },
  {
    "text": "and update our project to take advantage of this feature. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=92"
  },
  {
    "text": "This is the Fruta app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=95"
  },
  {
    "text": "It is a multiplatform app that builds for macOS, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=97"
  },
  {
    "text": "iOS, and watchOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=101"
  },
  {
    "text": "It also has three framework targets -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=103"
  },
  {
    "text": "one for each platform that contains a set of shared code ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=106"
  },
  {
    "text": "used by the apps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=109"
  },
  {
    "text": "Maintaining three separate frameworks ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=111"
  },
  {
    "text": "can come with challenges, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=113"
  },
  {
    "text": "such as keeping build settings in sync, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=115"
  },
  {
    "text": "and ensuring all of your source files are properly added ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=117"
  },
  {
    "text": "to your compile sources build phases. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=121"
  },
  {
    "text": "To tackle these challenges, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=124"
  },
  {
    "text": "we'll start by converting one of our frameworks ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=125"
  },
  {
    "text": "to a multiplatform framework. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=128"
  },
  {
    "text": "Here we have the three frameworks -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=132"
  },
  {
    "text": "one for each platform. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=135"
  },
  {
    "text": "All of these targets are identical ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=137"
  },
  {
    "text": "except that one has a file which only builds on macOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=139"
  },
  {
    "text": "First, let's navigate to the Build Settings tab ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=144"
  },
  {
    "text": "in the project navigator for the macOS framework target. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=147"
  },
  {
    "text": "Next, we will configure the framework ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=154"
  },
  {
    "text": "to build for all platforms by going ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=156"
  },
  {
    "text": "to the Supported Platforms build setting ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=158"
  },
  {
    "text": "and choosing Any Platform. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=161"
  },
  {
    "text": "You can also see that Allow Multiplatform Builds ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=163"
  },
  {
    "text": "has been set to \"Yes\" automatically. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=166"
  },
  {
    "text": "This informs the build system to build this target ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=169"
  },
  {
    "text": "once for each of its supported platforms, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=171"
  },
  {
    "text": "as necessary. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=174"
  },
  {
    "text": "Now that this is a multiplatform target, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=176"
  },
  {
    "text": "recall that the original macOS framework ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=178"
  },
  {
    "text": "had one additional file that should only build ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=181"
  },
  {
    "text": "when building for macOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=183"
  },
  {
    "text": "In order to configure our framework to do this, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=186"
  },
  {
    "text": "we can add a platform filter to specify that this file ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=188"
  },
  {
    "text": "should only build for macOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=192"
  },
  {
    "text": "To do this, we will first go to the Build Phases tab. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=194"
  },
  {
    "text": "Next, expand the Compile Sources build phase. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=199"
  },
  {
    "text": "Finally, configure Ingredient+macOS.swift ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=203"
  },
  {
    "text": "to build only for macOS by clicking on the Filters item ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=207"
  },
  {
    "text": "and unchecking everything but macOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=211"
  },
  {
    "text": "Now that we have our new multiplatform target configured, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=216"
  },
  {
    "text": "we can delete the other two variants of our framework, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=220"
  },
  {
    "text": "as they are no longer needed. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=223"
  },
  {
    "text": "Additionally, because we have only one framework target, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=227"
  },
  {
    "text": "we will have to configure all of our apps ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=231"
  },
  {
    "text": "to link and embed that new target. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=233"
  },
  {
    "text": "The macOS app is already configured ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=236"
  },
  {
    "text": "because we have set up our multiplatform target ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=239"
  },
  {
    "text": "starting from the macOS one. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=241"
  },
  {
    "text": "We can add the new framework to the iOS and watchOS apps ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=243"
  },
  {
    "text": "by going to the General tab for each of the app targets, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=248"
  },
  {
    "text": "and adding the framework ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=252"
  },
  {
    "text": "to the Frameworks and Libraries build phase. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=253"
  },
  {
    "text": "To summarize: we took our macOS framework target ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=260"
  },
  {
    "text": "and enabled it to build for iOS and watchOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=263"
  },
  {
    "text": "We customized that framework with a platform filter ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=267"
  },
  {
    "text": "for our macOS-only source file. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=270"
  },
  {
    "text": "And finally, we configured our app targets ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=272"
  },
  {
    "text": "to link and embed the new single multiplatform framework target. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=275"
  },
  {
    "text": "And that's multiplatform targets in Xcode. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=279"
  },
  {
    "text": "Now back to Jake, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=282"
  },
  {
    "text": "who's going to dive deeper into project configuration. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=283"
  },
  {
    "text": "Jake: Thanks, Prachi. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=287"
  },
  {
    "text": "I'm going to discuss best practices for modeling ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=288"
  },
  {
    "text": "and configuring your Xcode project, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=291"
  },
  {
    "text": "and show a few things you can do to improve the performance ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=293"
  },
  {
    "text": "and correctness of your builds. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=296"
  },
  {
    "text": "First, let's have a look at build options for the scheme. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=299"
  },
  {
    "text": "I'll click the scheme picker, Edit Scheme, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=302"
  },
  {
    "text": "then go to the Build section. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=305"
  },
  {
    "text": "There's a few simple things I can configure here. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=308"
  },
  {
    "text": "For Build Order, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=310"
  },
  {
    "text": "we recommend selecting Dependency Order, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=312"
  },
  {
    "text": "which will cause targets in your project ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=314"
  },
  {
    "text": "to build in parallel according to the dependency graph. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=316"
  },
  {
    "text": "This can greatly improve multicore build performance ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=319"
  },
  {
    "text": "and will also get you faster results ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=321"
  },
  {
    "text": "from continuous integration. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=323"
  },
  {
    "text": "In contrast, choosing Manual Order is deprecated ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=325"
  },
  {
    "text": "and is not recommended. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=328"
  },
  {
    "text": "Using this option will slow down your build ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=330"
  },
  {
    "text": "and can cause cycle errors ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=332"
  },
  {
    "text": "when the target order listed in the scheme ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=333"
  },
  {
    "text": "is inconsistent with your project's dependencies. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=335"
  },
  {
    "text": "Another important setting in the scheme build options ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=339"
  },
  {
    "text": "is Find Implicit Dependencies. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=342"
  },
  {
    "text": "Checking this option allows Xcode ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=344"
  },
  {
    "text": "to automatically add dependencies between targets ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=346"
  },
  {
    "text": "based on the information in your project, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=349"
  },
  {
    "text": "such as linker flags in build settings ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=351"
  },
  {
    "text": "and the names of linked libraries in build phases. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=353"
  },
  {
    "text": "This can be especially useful ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=356"
  },
  {
    "text": "when the related targets are in different projects ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=358"
  },
  {
    "text": "where you can't normally add an explicit target dependency. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=360"
  },
  {
    "text": "If you are using manual dependency order ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=364"
  },
  {
    "text": "to build targets in a specific order due to the inability ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=366"
  },
  {
    "text": "to add explicit target dependencies ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=369"
  },
  {
    "text": "across different projects, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=371"
  },
  {
    "text": "enabling Find Implicit Dependencies ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=373"
  },
  {
    "text": "in conjunction with choosing Dependency Order ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=375"
  },
  {
    "text": "is often a better solution. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=377"
  },
  {
    "text": "Now I'm going to talk about script phases and build rules. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=379"
  },
  {
    "text": "I'll select the SmoothieKit target ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=382"
  },
  {
    "text": "from the project's target list, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=384"
  },
  {
    "text": "and then select the Build Phases tab. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=386"
  },
  {
    "text": "Here we have a Process Recipes script phase ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=389"
  },
  {
    "text": "that contains some custom build logic. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=392"
  },
  {
    "text": "One of its responsibilities is generating code ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=394"
  },
  {
    "text": "from a number of recipe files ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=397"
  },
  {
    "text": "with one output per input, which we process in sequence. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=398"
  },
  {
    "text": "Now, you may realize that these computations ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=402"
  },
  {
    "text": "are completely independent of each other. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=405"
  },
  {
    "text": "This presents a performance optimization opportunity ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=407"
  },
  {
    "text": "that we can take advantage of by running them in parallel. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=410"
  },
  {
    "text": "Build rules allow us to do just that. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=414"
  },
  {
    "text": "Let's take a look at how we can extract this work ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=417"
  },
  {
    "text": "into a build rule. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=419"
  },
  {
    "text": "I'll go to the Build Rules tab in the project editor ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=421"
  },
  {
    "text": "for our framework and click the plus button ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=423"
  },
  {
    "text": "to add a new build rule. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=425"
  },
  {
    "text": "Then enter the file pattern \"*.recipe\", ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=428"
  },
  {
    "text": "which corresponds to the file extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=431"
  },
  {
    "text": "of the file type I want this rule to process. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=432"
  },
  {
    "text": "Next, I'll add dependencies to this rule. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=436"
  },
  {
    "text": "I don't need to add any additional inputs ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=439"
  },
  {
    "text": "to the build rule, because it will automatically ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=441"
  },
  {
    "text": "get each input file it processes as an input. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=443"
  },
  {
    "text": "However, I do need to tell the build system ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=446"
  },
  {
    "text": "the path of the output file that the rule will produce ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=448"
  },
  {
    "text": "for each file it processes. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=451"
  },
  {
    "text": "I'll click the plus button ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=453"
  },
  {
    "text": "to add a new output file and enter in ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=455"
  },
  {
    "text": "$(DERIVED_ FILE_ DIR)/$ (INPUT_ FILE _BASE) ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=457"
  },
  {
    "text": ".compiledrecipe. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=459"
  },
  {
    "text": "It's best practice to write generated files ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=461"
  },
  {
    "text": "under DERIVED_FILE_DIR ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=463"
  },
  {
    "text": "since this will point to an appropriate location ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=465"
  },
  {
    "text": "managed by the build system. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=467"
  },
  {
    "text": "You should avoid generating output files ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=469"
  },
  {
    "text": "under the source root. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=471"
  },
  {
    "text": "This can interfere with source control ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=472"
  },
  {
    "text": "and lead to conflicts ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=474"
  },
  {
    "text": "when running multiple builds simultaneously. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=475"
  },
  {
    "text": "Now we, of course, have to copy our script phase code ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=478"
  },
  {
    "text": "over to the rule. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=481"
  },
  {
    "text": "I'll go back to the script phase, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=483"
  },
  {
    "text": "and copy out the code where we processed each of the files. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=485"
  },
  {
    "text": "Then I'll go back to the rule and paste that in. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=490"
  },
  {
    "text": "Remember that rules run once for each input they process. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=495"
  },
  {
    "text": "So I'll remove the for loop, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=498"
  },
  {
    "text": "replace $RECIPE with $SCRIPT_INPUT_FILE -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=500"
  },
  {
    "text": "which corresponds to the absolute file path ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=503"
  },
  {
    "text": "of the current input file being processed -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=504"
  },
  {
    "text": "and replace $DERIVED_FILE_DIR/ $RECIPE.compiledrecipe ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=507"
  },
  {
    "text": "with $SCRIPT_OUTPUT_FILE_0, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=511"
  },
  {
    "text": "which refers to the output file path I've entered ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=512"
  },
  {
    "text": "in the Output Files section below. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=514"
  },
  {
    "text": "Don't forget to quote variables to make sure spaces ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=517"
  },
  {
    "text": "and other special characters in file paths ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=520"
  },
  {
    "text": "are handled correctly. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=522"
  },
  {
    "text": "Great. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=524"
  },
  {
    "text": "Now there's one more thing to configure in the rule. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=525"
  },
  {
    "text": "I mentioned that rules run once for each input they process. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=527"
  },
  {
    "text": "By default, they also run once for each architecture ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=532"
  },
  {
    "text": "that the target is compiling for. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=535"
  },
  {
    "text": "For example, a rule in a Mac app target might run once ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=537"
  },
  {
    "text": "for arm64 and once for x86_64 times each of its inputs. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=540"
  },
  {
    "text": "So if there are four inputs times two architectures, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=546"
  },
  {
    "text": "the rule would be invoked eight times. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=548"
  },
  {
    "text": "This is useful when the output of the rule ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=551"
  },
  {
    "text": "is architecture-dependent, such as object code. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=553"
  },
  {
    "text": "However, in this case, my rule produces output ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=556"
  },
  {
    "text": "which is independent of the underlying CPU architecture, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=559"
  },
  {
    "text": "so I'm going to uncheck “Run once per architecture”. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=563"
  },
  {
    "text": "Lastly, in order for the build system to propagate ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=568"
  },
  {
    "text": "the input files into the build rule, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=571"
  },
  {
    "text": "I'll need to add all of the .recipe files ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=573"
  },
  {
    "text": "into the Compile Sources build phase of my framework target. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=575"
  },
  {
    "text": "I'll go back to Build Phases, expand Compile Sources, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=579"
  },
  {
    "text": "and use the plus button to add the recipe files.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=584"
  },
  {
    "text": "Now let's go back to the script phase. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=591"
  },
  {
    "text": "The remaining piece of work this does ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=593"
  },
  {
    "text": "is merge the contents of multiple text files ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=595"
  },
  {
    "text": "into a single file we can load at runtime ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=597"
  },
  {
    "text": "in our app more efficiently. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=600"
  },
  {
    "text": "And in order to have better source control experience, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=602"
  },
  {
    "text": "I'm keeping scripts external to the project file ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=605"
  },
  {
    "text": "and calling them from the inline script editor here. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=608"
  },
  {
    "text": "So let's follow the reference to package.sh to see the code. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=611"
  },
  {
    "text": "A build rule wouldn't be appropriate in this case, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=616"
  },
  {
    "text": "since we need to process all the inputs at once ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=619"
  },
  {
    "text": "to combine them into one. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=622"
  },
  {
    "text": "So there's no way to break it up into isolated units ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=624"
  },
  {
    "text": "which can be run in parallel and therefore it makes sense ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=626"
  },
  {
    "text": "to keep this work in the script phase. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=629"
  },
  {
    "text": "But this brings us to one of the most important takeaways: ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=632"
  },
  {
    "text": "the script has no input and output dependencies specified. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=635"
  },
  {
    "text": "This might cause build tasks to run in the wrong order ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=639"
  },
  {
    "text": "and slows down the build ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=642"
  },
  {
    "text": "because Xcode has to be more conservative ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=644"
  },
  {
    "text": "with respect to running other tasks in parallel, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=646"
  },
  {
    "text": "as it doesn't know what files the script phase may be using. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=648"
  },
  {
    "text": "So it's important to add input and output dependencies ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=652"
  },
  {
    "text": "to ensure the work performed by script phases is done ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=655"
  },
  {
    "text": "in the correct order relative to other tasks in the build. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=658"
  },
  {
    "text": "For this particular script, I have a large number of inputs. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=663"
  },
  {
    "text": "Instead of entering these in the project file one by one, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=666"
  },
  {
    "text": "I can use an xcfilelist to manage this list of inputs ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=670"
  },
  {
    "text": "via an external file. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=673"
  },
  {
    "text": "I'll go ahead and add one to the project now. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=676"
  },
  {
    "text": "I'll go to File > New File, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=679"
  },
  {
    "text": "and choose Build Phase File List under the Other section.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=681"
  },
  {
    "text": "I'll paste the list of input files that will be processed ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=688"
  },
  {
    "text": "by this script phase, one per line. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=690"
  },
  {
    "text": "If you want, you can even write comments ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=694"
  },
  {
    "text": "by beginning a line with the pound sign, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=696"
  },
  {
    "text": "which is great for adding additional context. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=698"
  },
  {
    "text": "Now I'll reference this xcfilelist ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=701"
  },
  {
    "text": "from the script phase. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=704"
  },
  {
    "text": "I'll go back to the script phase and specify the path ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=706"
  },
  {
    "text": "to the xcfilelist in the Input File Lists. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=709"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=712"
  },
  {
    "text": "Lastly, I'll specify an output dependency ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=717"
  },
  {
    "text": "by providing the file path ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=720"
  },
  {
    "text": "at which the output contents will be written, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=721"
  },
  {
    "text": "just like I did for the build rule. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=724"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=726"
  },
  {
    "text": "There's one more thing to mention. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=731"
  },
  {
    "text": "Similar to the build rule, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=733"
  },
  {
    "text": "there are some crucial environment variables ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=734"
  },
  {
    "text": "provided for you by the script phase. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=736"
  },
  {
    "text": "Let's navigate back to package.sh ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=738"
  },
  {
    "text": "to have a closer look. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=741"
  },
  {
    "text": "In the source, I reference SCRIPT_INPUT_FILE_LIST_COUNT; ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=743"
  },
  {
    "text": "which refers to the total number of input file lists ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=747"
  },
  {
    "text": "passed to our script phase, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=750"
  },
  {
    "text": "SCRIPT_INPUT_FILE_LIST_n; ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=753"
  },
  {
    "text": "which refers to the resolved absolute file path ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=755"
  },
  {
    "text": "of the input file list at the nth index, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=757"
  },
  {
    "text": "and SCRIPT_OUTPUT_FILE_0; ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=761"
  },
  {
    "text": "which refers to the resolved absolute file path ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=763"
  },
  {
    "text": "of the first -- and in this case, only -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=765"
  },
  {
    "text": "output file. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=767"
  },
  {
    "text": "Here is an overview of some of the key environment variables ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=769"
  },
  {
    "text": "provided to script phases. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=771"
  },
  {
    "text": "The build settings of the target are also made available ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=774"
  },
  {
    "text": "to the script phase environment. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=776"
  },
  {
    "text": "Here is an overview of some environment variables ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=779"
  },
  {
    "text": "specific to build rules, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=781"
  },
  {
    "text": "as well as some less common ones. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=784"
  },
  {
    "text": "Like script phases, the build settings of the target ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=786"
  },
  {
    "text": "are also made available to the build rule environment. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=789"
  },
  {
    "text": "OK. Now, if I try to build the project, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=792"
  },
  {
    "text": "I'll run into an issue.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=795"
  },
  {
    "text": "Let's go to the build log to take a closer look. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=803"
  },
  {
    "text": "Because SmoothieKit is a multiplatform target, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=807"
  },
  {
    "text": "it's building twice: once for iOS and once for watchOS, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=810"
  },
  {
    "text": "and this means each of these builds are trying to produce ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=814"
  },
  {
    "text": "the output of the script phase at the same path. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=817"
  },
  {
    "text": "This is not allowed because the build system ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=820"
  },
  {
    "text": "requires that only one task in the entire build ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=822"
  },
  {
    "text": "may produce the output at a given path. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=825"
  },
  {
    "text": "There are a couple different ways I could solve this. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=828"
  },
  {
    "text": "One simple solution would be to change the output path ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=831"
  },
  {
    "text": "of the script phase so that it's unique ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=833"
  },
  {
    "text": "each time the target is built. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=836"
  },
  {
    "text": "In this case, I could consider using a different build setting ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=838"
  },
  {
    "text": "like DERIVED_FILE_DIR, which is platform-specific, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=840"
  },
  {
    "text": "and would make the path sufficiently unique ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=844"
  },
  {
    "text": "and solve the conflict. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=846"
  },
  {
    "text": "However, if the actual work that the script phase is doing ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=847"
  },
  {
    "text": "would be identical within the context of each target, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=851"
  },
  {
    "text": "that would simply cause the same work to be done twice. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=854"
  },
  {
    "text": "In that case, it can be a better option ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=857"
  },
  {
    "text": "to move the script phase to a new aggregate target ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=860"
  },
  {
    "text": "which the shared framework target depends on. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=863"
  },
  {
    "text": "That's what I'm going to do for my project. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=866"
  },
  {
    "text": "To get started, I'll click the plus button ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=868"
  },
  {
    "text": "at the bottom of the target list, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=871"
  },
  {
    "text": "select the Other tab, and choose Aggregate target. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=873"
  },
  {
    "text": "I'll call it Resources. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=878"
  },
  {
    "text": "Then I'll add a new script phase, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=882"
  },
  {
    "text": "and copy the name, script source, inputs, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=885"
  },
  {
    "text": "and outputs from the framework target.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=888"
  },
  {
    "text": "Finally, I'll delete the original script phase ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=906"
  },
  {
    "text": "from the framework target and then add a target dependency ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=908"
  },
  {
    "text": "on the new aggregate target.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=911"
  },
  {
    "text": "This way, the work will only be done once, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=919"
  },
  {
    "text": "there will be no output file conflict, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=922"
  },
  {
    "text": "and both the iOS and watchOS variants of the framework ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=925"
  },
  {
    "text": "will build in the correct order relative to that script phase. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=928"
  },
  {
    "text": "Build successful. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=934"
  },
  {
    "text": "And now, back to Prachi, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=937"
  },
  {
    "text": "who's going to tell you all about build settings. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=938"
  },
  {
    "text": "Prachi: Thank you, Jake! ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=941"
  },
  {
    "text": "So what is a build setting? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=943"
  },
  {
    "text": "It is a property you can apply to Xcode targets ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=945"
  },
  {
    "text": "to configure aspects of how they are built. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=948"
  },
  {
    "text": "Xcode provides two main mechanisms ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=952"
  },
  {
    "text": "for configuring build settings. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=954"
  },
  {
    "text": "The first is through the build settings editor. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=957"
  },
  {
    "text": "The second is through a configuration settings file ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=960"
  },
  {
    "text": "or an .xcconfig file. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=963"
  },
  {
    "text": "Let's start by seeing how the build settings editor ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=966"
  },
  {
    "text": "can be used to manage the settings within our project. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=969"
  },
  {
    "text": "In order to bring up the build settings editor, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=974"
  },
  {
    "text": "first you need to select your project ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=977"
  },
  {
    "text": "in the Project navigator. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=979"
  },
  {
    "text": "Next, make sure to select the target you wish to configure. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=981"
  },
  {
    "text": "And finally, click the Build Settings tab ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=986"
  },
  {
    "text": "across the tab bar. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=990"
  },
  {
    "text": "From here, you can add new build settings ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=992"
  },
  {
    "text": "or modify existing ones. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=995"
  },
  {
    "text": "You can also find out additional information ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=997"
  },
  {
    "text": "for the selected build setting ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=999"
  },
  {
    "text": "by opening the Quick Help inspector. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1001"
  },
  {
    "text": "Build settings are defined at multiple levels. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1006"
  },
  {
    "text": "You can think of this as a stack of definitions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1009"
  },
  {
    "text": "In fact, these levels can be visualized ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1012"
  },
  {
    "text": "by clicking on the Levels filter. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1015"
  },
  {
    "text": "Each column represents a different level ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1019"
  },
  {
    "text": "a build setting can be defined in, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1021"
  },
  {
    "text": "and they are evaluated from the right to the left. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1023"
  },
  {
    "text": "Starting from the lowest level there is the default value, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1028"
  },
  {
    "text": "which is defined by the currently selected SDK, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1031"
  },
  {
    "text": "the project level configuration settings file, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1035"
  },
  {
    "text": "the project level settings from the Xcode project file, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1039"
  },
  {
    "text": "target settings defined in a configuration settings file, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1042"
  },
  {
    "text": "the target level settings defined ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1046"
  },
  {
    "text": "in your Xcode project file, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1048"
  },
  {
    "text": "and finally, the resolved value of the build setting. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1051"
  },
  {
    "text": "Note that if you see a bold setting ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1055"
  },
  {
    "text": "that denotes that the level has an explicit value ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1058"
  },
  {
    "text": "for the build setting. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1061"
  },
  {
    "text": "The other mechanism Xcode provides ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1063"
  },
  {
    "text": "for managing build settings are configuration setting files ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1066"
  },
  {
    "text": "or .xcconfig files. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1070"
  },
  {
    "text": "Some of the benefits of an xcconfig file include: ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1072"
  },
  {
    "text": "better source control management, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1076"
  },
  {
    "text": "sharing settings across targets or configurations, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1079"
  },
  {
    "text": "advanced composition of build settings, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1083"
  },
  {
    "text": "and the ability to include additional xcconfig files ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1085"
  },
  {
    "text": "based on your development or test environment. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1089"
  },
  {
    "text": "Let's take a look at how you can author build settings ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1092"
  },
  {
    "text": "in an xcconfig file. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1094"
  },
  {
    "text": "At its most basic level, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1097"
  },
  {
    "text": "a build setting is made up of a name, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1099"
  },
  {
    "text": "an assignment operator, and a value. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1101"
  },
  {
    "text": "You can narrow the value of a build setting ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1107"
  },
  {
    "text": "using the conditional syntax. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1109"
  },
  {
    "text": "Conditional settings are defined using square brackets. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1112"
  },
  {
    "text": "Some of the supported conditions include ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1116"
  },
  {
    "text": "configuration, architecture, and SDK. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1119"
  },
  {
    "text": "As shown with the SDK condition, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1124"
  },
  {
    "text": "wildcards can be used for matching purposes. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1126"
  },
  {
    "text": "Comments can be added as well ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1131"
  },
  {
    "text": "using the familiar double-slash syntax. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1132"
  },
  {
    "text": "A build setting can be set to the value ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1137"
  },
  {
    "text": "of another build setting by using the dollar-parens syntax. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1139"
  },
  {
    "text": "In the example here, MY_OTHER_BUILD_SETTING ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1143"
  },
  {
    "text": "has been set to YES. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1147"
  },
  {
    "text": "The value of MY_BUILD_SETTING_NAME ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1149"
  },
  {
    "text": "uses the dollar-parens syntax to evaluate ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1151"
  },
  {
    "text": "MY_OTHER_BUILD_SETTING. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1153"
  },
  {
    "text": "Multiple values can be evaluated here as well, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1156"
  },
  {
    "text": "like we see with MORE_SETTINGS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1159"
  },
  {
    "text": "And finally, existing values for a build setting ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1162"
  },
  {
    "text": "can be used with the $(inherited) value. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1165"
  },
  {
    "text": "This allows you to append additional values ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1168"
  },
  {
    "text": "to a build setting ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1170"
  },
  {
    "text": "while retaining all of its existing values. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1171"
  },
  {
    "text": "This is a convenience form as you could also use ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1174"
  },
  {
    "text": "the build setting name, APPEND_TO_EXISTING_SETTINGS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1177"
  },
  {
    "text": "Another use of the build setting evaluation syntax ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1181"
  },
  {
    "text": "is to compose build settings together ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1185"
  },
  {
    "text": "from a set of other build settings. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1187"
  },
  {
    "text": "First, we start with a control setting: ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1190"
  },
  {
    "text": "IS_BUILD_SETTING_ENABLED. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1193"
  },
  {
    "text": "We will use the value of this setting as a suffix ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1195"
  },
  {
    "text": "for two additional build settings, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1198"
  },
  {
    "text": "MY_BUILD_SETTING_NO and MY_BUILD_SETTING_YES. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1201"
  },
  {
    "text": "Lastly, we define MY_BUILD_SETTING ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1204"
  },
  {
    "text": "to have a value that is composed of both MY_BUILD_SETTING ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1207"
  },
  {
    "text": "and IS_BUILD_SETTING_ENABLED. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1211"
  },
  {
    "text": "Because build setting evaluation happens inside-out, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1214"
  },
  {
    "text": "the inner-most setting is evaluated ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1217"
  },
  {
    "text": "and returns NO, which is the value of ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1220"
  },
  {
    "text": "IS_BUILD_SETTING_ENABLED. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1222"
  },
  {
    "text": "Finally, the composed BUILD_SETTING_NO ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1224"
  },
  {
    "text": "is evaluated to a value of -use_this_one. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1228"
  },
  {
    "text": "When evaluating a build setting, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1233"
  },
  {
    "text": "there are a set of operators you can use to provide ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1235"
  },
  {
    "text": "some basic transformations of your value. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1238"
  },
  {
    "text": "The three classifications of operators are: ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1241"
  },
  {
    "text": "string operators, path operators, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1244"
  },
  {
    "text": "and replacement operators. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1247"
  },
  {
    "text": "The supported string operators are quote, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1252"
  },
  {
    "text": "which escapes the characters within the string; ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1255"
  },
  {
    "text": "lower and upper, which convert cases of characters; ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1258"
  },
  {
    "text": "and identifiers, which convert strings to valid identifiers ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1262"
  },
  {
    "text": "in various formats. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1266"
  },
  {
    "text": "We provide a set of path operators to get the directory, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1269"
  },
  {
    "text": "filename, base name, suffix, and standardized path. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1273"
  },
  {
    "text": "For each path operator, there is a replacement counterpart ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1280"
  },
  {
    "text": "that allows you to replace part of a value. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1283"
  },
  {
    "text": "There's also a default operator which provides ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1286"
  },
  {
    "text": "the replacement value if the build setting is empty, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1288"
  },
  {
    "text": "otherwise it uses the existing value of the build setting. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1292"
  },
  {
    "text": "The last item to look at is the ability to include ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1296"
  },
  {
    "text": "xcconfig files within other xcconfig files. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1299"
  },
  {
    "text": "There are two mechanisms available to you. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1303"
  },
  {
    "text": "The first are required includes, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1305"
  },
  {
    "text": "which requires the xcconfig file to exist on disk. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1308"
  },
  {
    "text": "A compiler error will be produced ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1311"
  },
  {
    "text": "if the file cannot be found. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1313"
  },
  {
    "text": "The second are optional includes, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1315"
  },
  {
    "text": "which allow for including an xconfig file if present on disk. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1318"
  },
  {
    "text": "This will not fail if the file does not exist. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1322"
  },
  {
    "text": "Note that the path is relative ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1326"
  },
  {
    "text": "from the location of your Xcode project file. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1328"
  },
  {
    "text": "So let's take a look at how you might put ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1332"
  },
  {
    "text": "all of this information together in a real-world scenario. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1335"
  },
  {
    "text": "In this example, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1340"
  },
  {
    "text": "we'll be taking a look at how to solve the following problem. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1341"
  },
  {
    "text": "On our development machines, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1345"
  },
  {
    "text": "the compiler should aggressively warn for expressions ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1346"
  },
  {
    "text": "that take too long to type check. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1349"
  },
  {
    "text": "However, the CI machines are slower, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1352"
  },
  {
    "text": "so the time for expression checking should be increased. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1355"
  },
  {
    "text": "For our solution, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1359"
  },
  {
    "text": "there are three configuration setting files: ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1360"
  },
  {
    "text": "debug, common, and ci.xcconfig. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1363"
  },
  {
    "text": "The debug xcconfig file is used for our debug builds, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1368"
  },
  {
    "text": "and passes some additional flags to the Swift compiler ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1372"
  },
  {
    "text": "via the OTHER_SWIFT_FLAGS build setting. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1375"
  },
  {
    "text": "The common xcconfig file ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1379"
  },
  {
    "text": "optionally includes the ci.xcconfig file. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1380"
  },
  {
    "text": "It also defines the OTHER_SWIFT_FLAGS setting ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1384"
  },
  {
    "text": "to control the type expression warning. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1387"
  },
  {
    "text": "It makes use of $(inherited) ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1389"
  },
  {
    "text": "to ensure that any of the other flag settings are included, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1392"
  },
  {
    "text": "such as from the debug.xcconfig file ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1396"
  },
  {
    "text": "and a build setting evaluation for MAX _EXPRESSION_TIME ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1399"
  },
  {
    "text": "that has a default value of 200. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1403"
  },
  {
    "text": "The ci xcconfig file defines an override value ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1407"
  },
  {
    "text": "for MAX_EXPRESSION _TIME. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1411"
  },
  {
    "text": "Finally, Xcode needs to be told ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1414"
  },
  {
    "text": "how to apply these xcconfig files ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1416"
  },
  {
    "text": "to one of the supported configuration levels. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1419"
  },
  {
    "text": "This is done through the project editor, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1422"
  },
  {
    "text": "which is what we see here. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1424"
  },
  {
    "text": "From the Configuration section, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1427"
  },
  {
    "text": "you can apply any of the config files ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1429"
  },
  {
    "text": "from your project at either the project or target levels, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1432"
  },
  {
    "text": "for any defined build configuration. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1435"
  },
  {
    "text": "Here, you can see that the debug.xcconfig file ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1439"
  },
  {
    "text": "is being applied at the project level ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1443"
  },
  {
    "text": "for the debug configuration of Fruta. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1445"
  },
  {
    "text": "Also, common.xcconfig file ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1448"
  },
  {
    "text": "is set for each of the targets within the project. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1451"
  },
  {
    "text": "To recap the solution, the default operator was used ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1456"
  },
  {
    "text": "to define a default value for MAX_EXPRESSION_TIME. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1460"
  },
  {
    "text": "The ci.xcconfig file was optionally included ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1464"
  },
  {
    "text": "because it will only exist on the CI system. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1467"
  },
  {
    "text": "And an override of the default value ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1470"
  },
  {
    "text": "for MAX_EXPRESSION_TIME was used in the ci xcconfig file. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1473"
  },
  {
    "text": "This wraps up our practical example. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1477"
  },
  {
    "text": "Now let's go back to Jake to review everything ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1480"
  },
  {
    "text": "that we have covered. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1483"
  },
  {
    "text": "Jake: Thanks, Prachi. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1484"
  },
  {
    "text": "Let's recap. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1486"
  },
  {
    "text": "You learned about multiplatform frameworks ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1487"
  },
  {
    "text": "and how they provide an easier way ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1489"
  },
  {
    "text": "to manage build settings and build phases ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1491"
  },
  {
    "text": "in multiplatform projects. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1493"
  },
  {
    "text": "You saw how you can improve your project configuration ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1495"
  },
  {
    "text": "and build performance by building targets in parallel ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1498"
  },
  {
    "text": "according to dependency order, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1501"
  },
  {
    "text": "how to properly use build rules and build phases, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1503"
  },
  {
    "text": "and the importance of specifying dependencies. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1506"
  },
  {
    "text": "Finally, you took a deep dive into build settings, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1510"
  },
  {
    "text": "how you can use configuration settings files ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1513"
  },
  {
    "text": "to manage them more easily, and dived into their syntax ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1515"
  },
  {
    "text": "and all of the constructs it provides. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1518"
  },
  {
    "text": "We hope these lessons provide you with a set of useful tools ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1521"
  },
  {
    "text": "to help you make the most of your development experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1524"
  },
  {
    "text": "Thank you for watching! ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1528"
  },
  {
    "text": "♪",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10210/?time=1529"
  }
]