[
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=2"
  },
  {
    "text": "Hello, and welcome to WWDC. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=9"
  },
  {
    "text": "My name is Frank Doepke, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=12"
  },
  {
    "text": "and I'm an Engineer on the Vision team.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=13"
  },
  {
    "text": "The Vision framework has grown over the years, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=16"
  },
  {
    "text": "with its focus on image analysis. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=18"
  },
  {
    "text": "To get a better grasp, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=20"
  },
  {
    "text": "we can look at Vision's capabilities ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=22"
  },
  {
    "text": "in terms of its usage focus. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=24"
  },
  {
    "text": "Sports. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=26"
  },
  {
    "text": "Tracking objects and the analysis of the human pose ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=27"
  },
  {
    "text": "are just some of the requests ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=30"
  },
  {
    "text": "that can help you to create a sports application.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=32"
  },
  {
    "text": "Accessibility. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=36"
  },
  {
    "text": "Visions request like OCR ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=38"
  },
  {
    "text": "or image classification and object detection ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=39"
  },
  {
    "text": "are helping visually-impaired users.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=42"
  },
  {
    "text": "People. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=46"
  },
  {
    "text": "Vision provides a number of face ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=47"
  },
  {
    "text": "and body-related requests ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=49"
  },
  {
    "text": "that your app can use. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=50"
  },
  {
    "text": "You can find out more about this ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=52"
  },
  {
    "text": "in the \"Detect people, faces, and poses using Vision\" session.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=54"
  },
  {
    "text": "Health. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=60"
  },
  {
    "text": "From barcode scanning and OCR ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=61"
  },
  {
    "text": "to analysis of the human pose, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=64"
  },
  {
    "text": "Vision provides building blocks ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=66"
  },
  {
    "text": "to create a smart Health application.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=67"
  },
  {
    "text": "Computational Photography. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=71"
  },
  {
    "text": "Features like portrait mode ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=73"
  },
  {
    "text": "rely on face detection and segmentation.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=75"
  },
  {
    "text": "Security. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=79"
  },
  {
    "text": "Requests like face and human detection ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=81"
  },
  {
    "text": "are helpful for applications like motion detection ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=83"
  },
  {
    "text": "in security cameras.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=85"
  },
  {
    "text": "And documents. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=89"
  },
  {
    "text": "This is what we want to focus on in this session.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=91"
  },
  {
    "text": "Vision offers a number of requests ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=96"
  },
  {
    "text": "that help you with the analysis of documents: ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=98"
  },
  {
    "text": "barcode detection, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=101"
  },
  {
    "text": "text recognition, or commonly known as OCR, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=103"
  },
  {
    "text": "contour detection, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=106"
  },
  {
    "text": "rectangle detection, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=108"
  },
  {
    "text": "and new for this year, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=109"
  },
  {
    "text": "document segmentation detection.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=111"
  },
  {
    "text": "Here's our agenda. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=115"
  },
  {
    "text": "First, we'll talk about barcode detection. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=116"
  },
  {
    "text": "Then, we'll talk about text recognition. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=119"
  },
  {
    "text": "And last, we'll talk about document detection.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=121"
  },
  {
    "text": "Let's look at barcode detection. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=124"
  },
  {
    "text": "This year, we are introducing a new revision ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=127"
  },
  {
    "text": "of the barcode detection request.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=129"
  },
  {
    "text": "VNDetectBarcodesRequestRevision2 ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=132"
  },
  {
    "text": "offers support for new symbologies. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=135"
  },
  {
    "text": "Codabar, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=138"
  },
  {
    "text": "GS1Databar, including Expanded and Limited, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=139"
  },
  {
    "text": "MicroPDF, and MicroQR, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=144"
  },
  {
    "text": "where the latter is particularly helpful ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=148"
  },
  {
    "text": "if you want to make a QR code for a URL ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=150"
  },
  {
    "text": "and need to place it on a small label or package, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=153"
  },
  {
    "text": "as it uses a lot less space.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=156"
  },
  {
    "text": "We changed the behavior for this new revision ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=160"
  },
  {
    "text": "to be in line with the rest of Vision ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=163"
  },
  {
    "text": "in respect to how the resulting bounding boxes ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=165"
  },
  {
    "text": "are reported in relation to the region of interest ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=167"
  },
  {
    "text": "that a client has specified.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=171"
  },
  {
    "text": "Let's look at that change in detail. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=175"
  },
  {
    "text": "Here, we have a document with a QR code. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=178"
  },
  {
    "text": "When we do not specify a Region of Interest, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=181"
  },
  {
    "text": "also known as ROI, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=183"
  },
  {
    "text": "the bounding box gets reported ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=185"
  },
  {
    "text": "in relation to the full image. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=187"
  },
  {
    "text": "Now, let's specify an ROI, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=190"
  },
  {
    "text": "like we want to only focus on the center part ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=192"
  },
  {
    "text": "of what the camera sees. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=195"
  },
  {
    "text": "Revision 2 now reports the bounding box ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=197"
  },
  {
    "text": "in relation to the ROI, just like other Vision requests.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=200"
  },
  {
    "text": "Unfortunately, Revision 1 ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=205"
  },
  {
    "text": "always reports in relation to the full image. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=206"
  },
  {
    "text": "But we don't want to change that behavior, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=209"
  },
  {
    "text": "as it would potentially break existing clients. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=211"
  },
  {
    "text": "And just as a reminder, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=214"
  },
  {
    "text": "when you compile your application ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=216"
  },
  {
    "text": "against the latest SDK ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=218"
  },
  {
    "text": "and do not specify a specific revision, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=220"
  },
  {
    "text": "you will always get the latest revision on your request. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=222"
  },
  {
    "text": "But for applications that specify Revision 1 ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=225"
  },
  {
    "text": "or do not re-compile against a new SDK, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=228"
  },
  {
    "text": "they will still get the old Revision 1 behavior.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=231"
  },
  {
    "text": "Let me highlight a few interesting aspects ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=237"
  },
  {
    "text": "of the barcode detection request in Vision. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=239"
  },
  {
    "text": "Vision supports 1D and 2D barcodes.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=243"
  },
  {
    "text": "But what makes it really interesting ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=247"
  },
  {
    "text": "is that within one image, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=248"
  },
  {
    "text": "it can detect multiple codes, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=250"
  },
  {
    "text": "as well as multiple symbologies, at once.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=252"
  },
  {
    "text": "That means you don't have to scan ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=256"
  },
  {
    "text": "again and again to get multiple codes. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=258"
  },
  {
    "text": "This is a huge advantage over most handheld scanners. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=261"
  },
  {
    "text": "Keep in mind that if you scan for multiple symbologies, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=264"
  },
  {
    "text": "it'll take longer the more symbologies you have specified. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=268"
  },
  {
    "text": "So you want to setup the request with only the symbologies ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=272"
  },
  {
    "text": "that are relevant to your use case.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=275"
  },
  {
    "text": "With the expansion of the new symbologies ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=280"
  },
  {
    "text": "for barcode scanning, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=282"
  },
  {
    "text": "Vision can play a particularly helpful role ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=284"
  },
  {
    "text": "in the health sector. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=286"
  },
  {
    "text": "With an iPhone, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=287"
  },
  {
    "text": "you can analyze multiple codes at once, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=289"
  },
  {
    "text": "and thanks to its connectivity to the internet, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=291"
  },
  {
    "text": "pull up the information without needing a separate scanner.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=294"
  },
  {
    "text": "And thanks to the iPhone's strong low-light capabilities, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=297"
  },
  {
    "text": "you can scan codes, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=300"
  },
  {
    "text": "even in dark scenarios, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=302"
  },
  {
    "text": "without shooting off a laser ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=304"
  },
  {
    "text": "or disturbing the patient while they are resting.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=306"
  },
  {
    "text": "Now, let's look at how Vision performs barcode detection.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=310"
  },
  {
    "text": "1D codes will get scanned as lines. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=315"
  },
  {
    "text": "That means you will likely get ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=318"
  },
  {
    "text": "multiple detections for the same code. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=320"
  },
  {
    "text": "It is easy to de-duplicate them ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=323"
  },
  {
    "text": "by looking at the payload, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=325"
  },
  {
    "text": "which is the real data that is included in the barcode.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=327"
  },
  {
    "text": "2D codes get scanned as a single unit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=333"
  },
  {
    "text": "That means you get one bounding box back ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=335"
  },
  {
    "text": "for the whole code. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=338"
  },
  {
    "text": "An example for a 2D code would be a QR code.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=339"
  },
  {
    "text": "Each barcode gets reported with its own observation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=345"
  },
  {
    "text": "But as I mentioned before, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=349"
  },
  {
    "text": "1D codes can return multiple observations, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=350"
  },
  {
    "text": "with the same content, but in different physical locations. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=353"
  },
  {
    "text": "The payload is the content of the barcode, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=358"
  },
  {
    "text": "that is, the data that is included ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=360"
  },
  {
    "text": "in this machine-readable code. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=363"
  },
  {
    "text": "In particular for the payload of QR codes, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=365"
  },
  {
    "text": "you might want to use data detectors ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=368"
  },
  {
    "text": "to analyze the encoded URL.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=370"
  },
  {
    "text": "Now, let's look at this in a little demo.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=374"
  },
  {
    "text": "Alright, here we have an Xcode playground, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=377"
  },
  {
    "text": "where you see that I have an image ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=379"
  },
  {
    "text": "with all the barcodes in them. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=381"
  },
  {
    "text": "I use the VNDetectBarcodesRequest, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=384"
  },
  {
    "text": "and I set the Revision to 2. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=386"
  },
  {
    "text": "Now, as the symbologies, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=389"
  },
  {
    "text": "I just have codabar, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=391"
  },
  {
    "text": "and when we look at this, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=393"
  },
  {
    "text": "we see the codabar got highlighted in red.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=394"
  },
  {
    "text": "Now, I can change this to, let's say, QR.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=398"
  },
  {
    "text": "What happens now is that we run the request again, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=406"
  },
  {
    "text": "and we see that the QR code gets highlighted. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=409"
  },
  {
    "text": "But it's an array, so I can also specify ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=412"
  },
  {
    "text": "other requests with it, let's say ean8. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=414"
  },
  {
    "text": "And when I do that, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=418"
  },
  {
    "text": "we'll now see that we have both, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=420"
  },
  {
    "text": "the ean8 and the QR code. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=422"
  },
  {
    "text": "But what if I want to get all of them? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=426"
  },
  {
    "text": "I simply pass in an empty array, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=428"
  },
  {
    "text": "and in that moment, all symbologies get read. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=430"
  },
  {
    "text": "And as you see, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=433"
  },
  {
    "text": "all highlighted right now with the code on the bottom. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=434"
  },
  {
    "text": "Let's go back to our slides.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=438"
  },
  {
    "text": "From barcodes, we are now moving on ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=441"
  },
  {
    "text": "to look at text recognition. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=442"
  },
  {
    "text": "Vision introduced text recognition in 2019. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=445"
  },
  {
    "text": "It operates in two modes: Fast and Accurate. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=449"
  },
  {
    "text": "Since then, Vision has expanded its language support. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=453"
  },
  {
    "text": "Let's look at how text recognition works ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=457"
  },
  {
    "text": "and where language plays a role. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=460"
  },
  {
    "text": "In the Fast path, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=462"
  },
  {
    "text": "we have a Latin-character recognizer. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=464"
  },
  {
    "text": "The Accurate path, on the other hand, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=466"
  },
  {
    "text": "uses a machine-learning-based recognizer ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=468"
  },
  {
    "text": "that operates on words and lines.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=471"
  },
  {
    "text": "After the recognition is done, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=474"
  },
  {
    "text": "each path goes through a language correction stage. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=476"
  },
  {
    "text": "And, in the end, we get back the recognized text. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=479"
  },
  {
    "text": "The language selection affects the recognition stage. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=482"
  },
  {
    "text": "In the Fast path, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=485"
  },
  {
    "text": "it would mean that the different ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=487"
  },
  {
    "text": "Latin character sets are supported, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=488"
  },
  {
    "text": "like the umlaut for German. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=491"
  },
  {
    "text": "In the Accurate path, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=493"
  },
  {
    "text": "a completely different model gets used ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=494"
  },
  {
    "text": "when we have to recognize Chinese, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=496"
  },
  {
    "text": "as its structure is very different ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=498"
  },
  {
    "text": "to Latin-based languages. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=500"
  },
  {
    "text": "That means if you need to read Chinese text, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=503"
  },
  {
    "text": "then it is important ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=505"
  },
  {
    "text": "that Chinese is the primary language ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=507"
  },
  {
    "text": "in the request. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=509"
  },
  {
    "text": "The language selection also influences language correction, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=511"
  },
  {
    "text": "as it picks the correct dictionary for its work.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=515"
  },
  {
    "text": "So, what are the best practices ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=520"
  },
  {
    "text": "when using languages in text recognition? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=521"
  },
  {
    "text": "Even though it might look like a fixed set of languages ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=524"
  },
  {
    "text": "is supported, it is always better to query ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=526"
  },
  {
    "text": "which languages are supported ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=529"
  },
  {
    "text": "for a given request configuration using ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=531"
  },
  {
    "text": "supportedRecognitionLanguages(). ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=533"
  },
  {
    "text": "You can specify multiple languages, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=536"
  },
  {
    "text": "and, in that case, the order matters. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=538"
  },
  {
    "text": "When there is ambiguity, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=541"
  },
  {
    "text": "it gets resolved in the order of languages. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=543"
  },
  {
    "text": "In particular for the Accurate path, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=546"
  },
  {
    "text": "the first language decides which recognition model gets used. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=548"
  },
  {
    "text": "That means your use case dictates ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=553"
  },
  {
    "text": "which languages you want to use in the request.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=555"
  },
  {
    "text": "Let's look at this in a little demo.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=562"
  },
  {
    "text": "So, I have here now a revised version ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=565"
  },
  {
    "text": "of our sample code, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=567"
  },
  {
    "text": "and you can see that I have an image ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=569"
  },
  {
    "text": "with different languages of text in it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=571"
  },
  {
    "text": "Now, I specified Revision 2, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=575"
  },
  {
    "text": "and I can see which languages are supported. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=577"
  },
  {
    "text": "We have English, French, and so on.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=579"
  },
  {
    "text": "Now, if I switch, for instance, back to Revision 1, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=585"
  },
  {
    "text": "we can see I only have English. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=589"
  },
  {
    "text": "And that is the same for the Fast ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=592"
  },
  {
    "text": "as it is for the Accurate path. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=595"
  },
  {
    "text": "Now, let's go back to Revision 2.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=597"
  },
  {
    "text": "Notice that when I switch now, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=600"
  },
  {
    "text": "for instance, to German, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=602"
  },
  {
    "text": "I actually get the umlaut correctly ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=604"
  },
  {
    "text": "in Gr√ºsse aus Cupertino.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=606"
  },
  {
    "text": "But I don't have support ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=610"
  },
  {
    "text": "in the Fast path for Chinese.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=611"
  },
  {
    "text": "In the Accurate path, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=615"
  },
  {
    "text": "I can now pick Chinese.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=618"
  },
  {
    "text": "And now, we finally get ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=622"
  },
  {
    "text": "the correct Chinese letters for \"Hello World.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=623"
  },
  {
    "text": "Let's go back to the slides.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=627"
  },
  {
    "text": "Last but not least, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=630"
  },
  {
    "text": "let's look at Document Detection.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=631"
  },
  {
    "text": "Vision introduces a new request called ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=634"
  },
  {
    "text": "VNDocumentSegmentationRequest. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=636"
  },
  {
    "text": "It's a machine-learning-based detector ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=639"
  },
  {
    "text": "that we have trained on various types of documents, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=640"
  },
  {
    "text": "like sheets of paper, signs, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=643"
  },
  {
    "text": "notes, receipts, labels, et cetera.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=645"
  },
  {
    "text": "The result of the request ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=649"
  },
  {
    "text": "is a low resolution segmentation mask, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=651"
  },
  {
    "text": "where each pixel represents a confidence ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=653"
  },
  {
    "text": "if that pixel is part of the detected document or not. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=656"
  },
  {
    "text": "In addition it provides the four corner points ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=660"
  },
  {
    "text": "of the quadrilateral.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=663"
  },
  {
    "text": "On devices with a Neural Engine, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=667"
  },
  {
    "text": "the request can run in realtime on a camera or video feed. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=669"
  },
  {
    "text": "The VNDocumentCamera in VisionKit ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=674"
  },
  {
    "text": "is now using the request instead of the VNDetectRectanglesRequest ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=676"
  },
  {
    "text": "on modern devices with a Neural Engine.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=680"
  },
  {
    "text": "Speaking of the VNDetectRectanglesRequest, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=685"
  },
  {
    "text": "how do these two requests differ, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=688"
  },
  {
    "text": "as they both can be used to detect a document? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=689"
  },
  {
    "text": "The DetectDocumentsRequest is, as I mentioned, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=693"
  },
  {
    "text": "machine-learning-based ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=696"
  },
  {
    "text": "and performs fastest on the Neural Engine. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=697"
  },
  {
    "text": "But it can also be used on the GPU or CPU, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=700"
  },
  {
    "text": "but it is not fast enough there for realtime performance.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=704"
  },
  {
    "text": "The rectangle detector ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=708"
  },
  {
    "text": "is a traditional computer vision algorithm ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=709"
  },
  {
    "text": "that runs only on the CPU ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=711"
  },
  {
    "text": "and can keep up with the realtime performance, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=713"
  },
  {
    "text": "as long as the CPU is not saturated with other tasks.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=715"
  },
  {
    "text": "The document request is trained on a variety of documents, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=721"
  },
  {
    "text": "and they don't have to be all rectangles, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=725"
  },
  {
    "text": "which is one of its main strengths. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=726"
  },
  {
    "text": "The rectangle detector, on the other hand, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=729"
  },
  {
    "text": "works by finding edges and intersections ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=731"
  },
  {
    "text": "that form a quadrilateral, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=734"
  },
  {
    "text": "which can be a challenge with obscured corners ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=736"
  },
  {
    "text": "or folds in the document.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=738"
  },
  {
    "text": "The documents requests provides a segmentation mask ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=742"
  },
  {
    "text": "and the corner points, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=745"
  },
  {
    "text": "while the rectangle detector only provides corner points. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=746"
  },
  {
    "text": "And the document detector ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=751"
  },
  {
    "text": "is trained to look for one document only. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=752"
  },
  {
    "text": "With the rectangle detector will return multiple rectangles. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=755"
  },
  {
    "text": "These rectangles can even be nested. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=759"
  },
  {
    "text": "Let's look at this a little bit more.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=762"
  },
  {
    "text": "As I mentioned, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=766"
  },
  {
    "text": "the document detector finds one document, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=767"
  },
  {
    "text": "which we see here ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=770"
  },
  {
    "text": "with the quadrilateral of the detected object. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=771"
  },
  {
    "text": "But the rectangle detector ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=775"
  },
  {
    "text": "will deliver back multiple observations ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=776"
  },
  {
    "text": "of all the rectangles it finds in the image, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=779"
  },
  {
    "text": "and I highlighted a few here. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=782"
  },
  {
    "text": "It's up to the app to decide ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=784"
  },
  {
    "text": "which rectangle is the document. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=785"
  },
  {
    "text": "How about we try all this in a demo? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=788"
  },
  {
    "text": "All right, we wanted to create a little survey, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=792"
  },
  {
    "text": "how well we are doing at WWDC. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=794"
  },
  {
    "text": "Now, unfortunately, you are not with me, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=797"
  },
  {
    "text": "so I had to ask the camera team here ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=798"
  },
  {
    "text": "to fill out the survey for you. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=800"
  },
  {
    "text": "So, I created a little app ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=802"
  },
  {
    "text": "in which I can now scan our survey cards.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=804"
  },
  {
    "text": "And what do we get? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=807"
  },
  {
    "text": "QuickDraw for beginners felt outdated. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=808"
  },
  {
    "text": "Well, it is bit old by now.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=811"
  },
  {
    "text": "Let's go for the next one. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=816"
  },
  {
    "text": "Ah, Vision was entertaining and informative.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=818"
  },
  {
    "text": "And last but not least, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=825"
  },
  {
    "text": "Cobol, just what I needed. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=827"
  },
  {
    "text": "Somebody is in the wrong session here. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=829"
  },
  {
    "text": "Okay, now let's look how we did this in the code. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=832"
  },
  {
    "text": "So, I created again a little playground here ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=836"
  },
  {
    "text": "because it's easier to build this stuff up for us. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=838"
  },
  {
    "text": "What you can already see is that I loaded up an image, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=841"
  },
  {
    "text": "and I used the CIImage, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=844"
  },
  {
    "text": "because I need to do some image manipulation on it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=846"
  },
  {
    "text": "I created a requestHandler, and I used the new ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=850"
  },
  {
    "text": "VNDetectDocument SegmentationRequest(). ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=852"
  },
  {
    "text": "Once I perform the request, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=855"
  },
  {
    "text": "I get now the results back, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=858"
  },
  {
    "text": "and I created a little helper function ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=859"
  },
  {
    "text": "that I used core image to use now ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=861"
  },
  {
    "text": "as a perspective corrected image, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=864"
  },
  {
    "text": "and we get back just a cropped-out card ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=867"
  },
  {
    "text": "in a perspective corrected form. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=870"
  },
  {
    "text": "So, that's easy. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=873"
  },
  {
    "text": "So, what do we have to do next? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=875"
  },
  {
    "text": "We need to detect the bar codes, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=877"
  },
  {
    "text": "detect the rectangles, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=879"
  },
  {
    "text": "and recognize the text.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=881"
  },
  {
    "text": "Once we perform this request, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=884"
  },
  {
    "text": "we then have to scan the check boxes ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=885"
  },
  {
    "text": "to see which ones were ticked. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=887"
  },
  {
    "text": "All right, I prepared this a little bit, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=890"
  },
  {
    "text": "so let's start with detecting the bar codes.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=892"
  },
  {
    "text": "And I'm using, as the symbologies, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=898"
  },
  {
    "text": "just the QR code. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=899"
  },
  {
    "text": "I loaded into the document title ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=902"
  },
  {
    "text": "because I know that is-- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=903"
  },
  {
    "text": "the content of my QR code ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=904"
  },
  {
    "text": "will be the title of what we get out of it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=907"
  },
  {
    "text": "Next, we need to detect the rectangles. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=909"
  },
  {
    "text": "Again, we have a little piece of code rectangle for that.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=912"
  },
  {
    "text": "So, I create two arrays. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=918"
  },
  {
    "text": "I want to get all the checkBoxImages, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=920"
  },
  {
    "text": "which is data needed for the analysis. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=922"
  },
  {
    "text": "And I get all the rectangles out. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=925"
  },
  {
    "text": "So, I used the VNDetectRectanglesRequest. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=927"
  },
  {
    "text": "Now, what I do here is ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=930"
  },
  {
    "text": "I sort them in the vertical order ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=932"
  },
  {
    "text": "so that I get the results in the correct order back.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=934"
  },
  {
    "text": "OK, now we need to recognize our text.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=939"
  },
  {
    "text": "That is simple. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=944"
  },
  {
    "text": "We store all the resulting textBlocks, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=945"
  },
  {
    "text": "and we use the VNRecognizeTextRequest. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=948"
  },
  {
    "text": "So now, what we have to do is simply perform the request.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=951"
  },
  {
    "text": "And as you can see, I used the documentRequestHandler, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=956"
  },
  {
    "text": "which is the one that used the cropped-out image, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=959"
  },
  {
    "text": "and performed the requests on it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=962"
  },
  {
    "text": "And if I go back up here, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=965"
  },
  {
    "text": "I can already see that I get my correct QR code, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=967"
  },
  {
    "text": "but something is not quite right with my rectangles. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=972"
  },
  {
    "text": "I don't get any rectangles. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=974"
  },
  {
    "text": "So, what do I have to do? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=976"
  },
  {
    "text": "Well, by default, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=978"
  },
  {
    "text": "the rectangles detector only looks for rectangles ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=980"
  },
  {
    "text": "that are at least 20% of the image. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=982"
  },
  {
    "text": "So, we need to correct that. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=985"
  },
  {
    "text": "So, I go in ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=986"
  },
  {
    "text": "and set the minimumSize ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=989"
  },
  {
    "text": "to, let's say, something like 10%.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=993"
  },
  {
    "text": "And once we do that, we get a rectangle.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1001"
  },
  {
    "text": "Okay, well, that's only one. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1005"
  },
  {
    "text": "Well, the other thing with the rectangle detector is ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1008"
  },
  {
    "text": "that I need to tell it how many it should return. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1011"
  },
  {
    "text": "By default, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1013"
  },
  {
    "text": "the rectangle detection will only return one, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1015"
  },
  {
    "text": "the most prominent rectangle. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1017"
  },
  {
    "text": "But I want to get all of them. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1019"
  },
  {
    "text": "I do this by setting the maximumObservations to 0. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1020"
  },
  {
    "text": "And once I have done that, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1025"
  },
  {
    "text": "I now get ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1028"
  },
  {
    "text": "all of our checkboxes and the bar code, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1031"
  },
  {
    "text": "because that looks like a rectangle. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1033"
  },
  {
    "text": "Okay, so we are good. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1036"
  },
  {
    "text": "Now comes the last part, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1038"
  },
  {
    "text": "and I need to actually scan the checkboxes. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1040"
  },
  {
    "text": "So, for that, I actually prepared ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1043"
  },
  {
    "text": "a little machine-learning demo.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1045"
  },
  {
    "text": "I have a model here that I trained earlier with Create ML. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1048"
  },
  {
    "text": "It's an image classifier, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1051"
  },
  {
    "text": "and all I did was ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1053"
  },
  {
    "text": "I used some of these checkbox images, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1054"
  },
  {
    "text": "which were marked, and some of them are not marked, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1056"
  },
  {
    "text": "for my \"yes\" and \"no\" label. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1058"
  },
  {
    "text": "And I also gathered a few images that are neither of them. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1060"
  },
  {
    "text": "That's my NotIt.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1063"
  },
  {
    "text": "Again, we can use this in our code.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1067"
  },
  {
    "text": "So, what do we have? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1076"
  },
  {
    "text": "We create our request by loading the model ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1078"
  },
  {
    "text": "and create our Create ML request. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1080"
  },
  {
    "text": "And then we iterate, over all the checkbox images, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1083"
  },
  {
    "text": "create an ImageRequestHandler from it, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1086"
  },
  {
    "text": "and perform our classification.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1089"
  },
  {
    "text": "Now, I can look at my top classification. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1092"
  },
  {
    "text": "If that is \"Yes,\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1094"
  },
  {
    "text": "then I just find which text line ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1096"
  },
  {
    "text": "lines up with the checkbox that I have, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1098"
  },
  {
    "text": "and what do we get, in the end? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1100"
  },
  {
    "text": "Vision was entertaining and informative. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1102"
  },
  {
    "text": "Let's go back to the slides.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1106"
  },
  {
    "text": "Let's recap on what we saw. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1109"
  },
  {
    "text": "Document analysis is a focus in the Vision API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1111"
  },
  {
    "text": "Barcode detection in Vision ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1115"
  },
  {
    "text": "is more versatile than a scanner, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1116"
  },
  {
    "text": "and we are introducing a new document segmentation detection. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1119"
  },
  {
    "text": "If you want to learn more about how to use OCR, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1122"
  },
  {
    "text": "please look at our session from WWDC 2019. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1125"
  },
  {
    "text": "The \"Vision and core image\" session from WWDC 2020 ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1129"
  },
  {
    "text": "gives you additional insights ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1134"
  },
  {
    "text": "in doing your own custom document analysis ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1136"
  },
  {
    "text": "by preprocessing images ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1138"
  },
  {
    "text": "and detecting contours. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1140"
  },
  {
    "text": "Thank you, and enjoy the rest of WWDC. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1142"
  },
  {
    "text": "[music]",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10041/?time=1145"
  }
]