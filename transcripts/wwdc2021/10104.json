[
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1"
  },
  {
    "text": "♪ ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=4"
  },
  {
    "text": "Hi. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=9"
  },
  {
    "text": "Welcome to Meet Safari Web Extensions on iOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=10"
  },
  {
    "text": "I'm David Quesada, an engineer on the Safari team. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=13"
  },
  {
    "text": "And today, I'll be walking through an exciting new feature ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=16"
  },
  {
    "text": "in iOS 15, Safari Web Extensions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=19"
  },
  {
    "text": "Web Extensions are a powerful type ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=22"
  },
  {
    "text": "of browser extension that allows users to extend ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=24"
  },
  {
    "text": "and customize their browsing in a huge number of ways. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=27"
  },
  {
    "text": "They're built with the standard web technologies: ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=31"
  },
  {
    "text": "HTML, CSS, and JavaScript. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=33"
  },
  {
    "text": "And the WebExtension API has been available ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=36"
  },
  {
    "text": "for all the major desktop browsers for a while, which means you can write ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=38"
  },
  {
    "text": "a browser extension once and deploy it ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=42"
  },
  {
    "text": "across all those browsers, reaching so many users. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=44"
  },
  {
    "text": "But now, I'm thrilled to tell you that Web Extensions ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=48"
  },
  {
    "text": "are coming to iOS 15, letting you build ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=51"
  },
  {
    "text": "a browser extension for more users than ever. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=54"
  },
  {
    "text": "I'd love to show you a demo now of a Safari Web Extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=57"
  },
  {
    "text": "running on iOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=60"
  },
  {
    "text": "I'll be showing off an extension called Sea Creator. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=62"
  },
  {
    "text": "This extension was originally written for browsers on the Mac, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=65"
  },
  {
    "text": "but I've been working on bringing it to iOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=68"
  },
  {
    "text": "This extension shows me fun facts about sea creatures ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=72"
  },
  {
    "text": "and makes reading more about sea life fun ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=75"
  },
  {
    "text": "by replacing the names of sea creatures with emoji. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=78"
  },
  {
    "text": "Let's take a look at this on an iPad. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=82"
  },
  {
    "text": "Now, I've just installed Sea Creator, and I've opened up Safari, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=86"
  },
  {
    "text": "where I'm reading an article about fish. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=90"
  },
  {
    "text": "I'd really love to start using Sea Creator here ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=92"
  },
  {
    "text": "so I can liven up this page with some emoji. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=94"
  },
  {
    "text": "So I'll open up the action menu ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=98"
  },
  {
    "text": "and drill into the new Extensions list, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=100"
  },
  {
    "text": "which shows me all the extensions ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=103"
  },
  {
    "text": "that I have available, including Sea Creator. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=104"
  },
  {
    "text": "So I'll turn it on. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=107"
  },
  {
    "text": "Now, another feature of Sea Creator is that ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=109"
  },
  {
    "text": "I can put it front and center in Safari ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=112"
  },
  {
    "text": "with a custom Start Page ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=114"
  },
  {
    "text": "that I use every time I open a new tab. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=116"
  },
  {
    "text": "I'll check that out in a bit. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=118"
  },
  {
    "text": "And now that I've turned on Sea Creator, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=122"
  },
  {
    "text": "it's right there in the Action menu ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=124"
  },
  {
    "text": "ready for me to use. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=125"
  },
  {
    "text": "And when I do that, Safari asks me if I'm OK ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=128"
  },
  {
    "text": "with giving Sea Creator full access to this site. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=131"
  },
  {
    "text": "We brought the same Web Extensions permission model ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=134"
  },
  {
    "text": "from Safari on the Mac to iOS, which means I, as the user, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=137"
  },
  {
    "text": "have full control over how much of my browsing extensions can access. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=141"
  },
  {
    "text": "I'll talk in more detail about this later. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=146"
  },
  {
    "text": "But right now, I'll allow Sea Creator to run. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=148"
  },
  {
    "text": "And just like that, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=151"
  },
  {
    "text": "it swapped in all these fish emoji on the page, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=153"
  },
  {
    "text": "which is just how I like to read it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=155"
  },
  {
    "text": "It's also opened this popup showing me a running total ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=157"
  },
  {
    "text": "of just how many words I've replaced so far. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=160"
  },
  {
    "text": "But it's not just this one page. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=163"
  },
  {
    "text": "I gave Sea Creator permission to work ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=165"
  },
  {
    "text": "across this website as a whole. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=167"
  },
  {
    "text": "So as I navigate to other pages, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=170"
  },
  {
    "text": "Sea Creator is still working for me ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=172"
  },
  {
    "text": "and gives me emoji here as well. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=174"
  },
  {
    "text": "I don't need to go out of my way to open the extension again ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=177"
  },
  {
    "text": "once I've started using it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=179"
  },
  {
    "text": "Of course, Sea Creator has one more feature that I mentioned earlier. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=182"
  },
  {
    "text": "When I open up a new tab to do some more browsing, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=185"
  },
  {
    "text": "I'm greeted by this bold New Tab page ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=188"
  },
  {
    "text": "from Sea Creator with a fact of the day ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=191"
  },
  {
    "text": "today about starfish-- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=193"
  },
  {
    "text": "and once again, that counter showing me ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=195"
  },
  {
    "text": "just how many emoji Sea Creator has given me so far. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=197"
  },
  {
    "text": "This is pretty cool. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=200"
  },
  {
    "text": "So that was a quick look at Sea Creator ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=202"
  },
  {
    "text": "working great on iOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=204"
  },
  {
    "text": "In this session, I want to show how ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=206"
  },
  {
    "text": "you too can create a Safari Web Extension for iOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=208"
  },
  {
    "text": "And I'll be using Sea Creator as an example ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=212"
  },
  {
    "text": "of how I took an existing extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=215"
  },
  {
    "text": "and brought it to iOS with just a few changes. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=217"
  },
  {
    "text": "But don't worry if you've never written a browser extension before. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=220"
  },
  {
    "text": "I'll give you an overview of how Web Extensions work ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=224"
  },
  {
    "text": "and how you can get started creating a new one. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=227"
  },
  {
    "text": "Along the way, I'll cover some debugging techniques ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=231"
  },
  {
    "text": "and best practices ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=234"
  },
  {
    "text": "to help your extension be the best it can be. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=236"
  },
  {
    "text": "And I'll wrap it up with some thoughts on user privacy ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=240"
  },
  {
    "text": "and how it relates to the permissions model ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=243"
  },
  {
    "text": "of Safari Web Extensions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=245"
  },
  {
    "text": "So, our journey begins with creating a web extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=248"
  },
  {
    "text": "that can run on iOS in the first place. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=252"
  },
  {
    "text": "Let's look behind the scenes to understand how this works. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=255"
  },
  {
    "text": "It's important to understand that for Safari, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=260"
  },
  {
    "text": "Web Extensions are parts of apps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=263"
  },
  {
    "text": "So when you want to install a web extension, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=266"
  },
  {
    "text": "you install its app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=268"
  },
  {
    "text": "And like any other type of iOS app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=271"
  },
  {
    "text": "apps with Safari Web Extensions ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=273"
  },
  {
    "text": "can be found on the App Store. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=275"
  },
  {
    "text": "And Xcode has everything you need ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=278"
  },
  {
    "text": "to build an app to ship your extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=280"
  },
  {
    "text": "So when you think about building a Safari Web Extension for iOS, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=284"
  },
  {
    "text": "you may be starting from one of three places. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=287"
  },
  {
    "text": "Maybe you're looking at creating a new extension from scratch, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=290"
  },
  {
    "text": "or maybe you already wrote one for another browser, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=295"
  },
  {
    "text": "and you want to bring it to Safari, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=297"
  },
  {
    "text": "or perhaps you already have an extension for Safari ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=300"
  },
  {
    "text": "on the Mac, and you want to make it available on iOS too. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=304"
  },
  {
    "text": "I want to go over what you can do in each of these cases. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=308"
  },
  {
    "text": "So first, if you want to create a brand-new Web Extension, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=312"
  },
  {
    "text": "you can use Xcode's included templates, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=316"
  },
  {
    "text": "which make it super easy to get started. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=319"
  },
  {
    "text": "You can create a new Xcode project ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=321"
  },
  {
    "text": "and use the Safari Extension App template ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=324"
  },
  {
    "text": "to start building a web extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=326"
  },
  {
    "text": "as well as its containing app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=328"
  },
  {
    "text": "And when you use this template, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=331"
  },
  {
    "text": "you get an extension that comes complete ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=332"
  },
  {
    "text": "with all the resources a typical web extension might have. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=335"
  },
  {
    "text": "You can use this as a starting point ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=338"
  },
  {
    "text": "by customizing what's already there ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=340"
  },
  {
    "text": "or adding or removing pieces ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=343"
  },
  {
    "text": "according to what your extension needs. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=345"
  },
  {
    "text": "Now, if you've already built a Web Extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=347"
  },
  {
    "text": "for another browser, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=349"
  },
  {
    "text": "you can take advantage of a tool ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=351"
  },
  {
    "text": "called the Safari Web Extension Converter ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=352"
  },
  {
    "text": "to automatically create an Xcode project ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=355"
  },
  {
    "text": "from that existing extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=357"
  },
  {
    "text": "You simply run the converter on the command line, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=359"
  },
  {
    "text": "provide it a path to your extension's resources, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=362"
  },
  {
    "text": "and it will create a new Xcode project ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=365"
  },
  {
    "text": "that packages your extension in a native app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=368"
  },
  {
    "text": "And new in Xcode 13, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=371"
  },
  {
    "text": "the Safari Web Extension Converter creates a project ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=373"
  },
  {
    "text": "that supports Safari on both iOS ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=376"
  },
  {
    "text": "and macOS by default. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=379"
  },
  {
    "text": "And the newly created project, by default, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=382"
  },
  {
    "text": "references your existing extension's resources ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=385"
  },
  {
    "text": "at the original path rather than copying them. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=387"
  },
  {
    "text": "Finally, if you've already set up an Xcode project ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=391"
  },
  {
    "text": "in the past to build a Safari Web Extension for macOS, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=394"
  },
  {
    "text": "you can also use the converter ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=397"
  },
  {
    "text": "to upgrade that project so it supports iOS too. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=399"
  },
  {
    "text": "You can run the converter ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=403"
  },
  {
    "text": "and provide a --rebuild-project option ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=405"
  },
  {
    "text": "along with a path to your Xcode project. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=408"
  },
  {
    "text": "Then the converter will add an iOS-compatible version ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=411"
  },
  {
    "text": "of the extension and a containing app to your project. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=414"
  },
  {
    "text": "Now I want to show the Safari Web Extension Converter ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=417"
  },
  {
    "text": "in action by retracing my steps ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=420"
  },
  {
    "text": "of bringing Sea Creator to iOS for the very first time.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=423"
  },
  {
    "text": "So here is my Sea Creator Xcode project, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=428"
  },
  {
    "text": "which I used to develop Sea Creator ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=431"
  },
  {
    "text": "for Safari on the Mac. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=433"
  },
  {
    "text": "But it only supports the Mac right now, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=435"
  },
  {
    "text": "and I want to fix that. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=437"
  },
  {
    "text": "So I'll open up a terminal ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=439"
  },
  {
    "text": "and type xcrun safari-web-extension-converter, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=442"
  },
  {
    "text": "and I'll use the --rebuild-project option, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=445"
  },
  {
    "text": "and I'll provide a path to my Xcode project ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=449"
  },
  {
    "text": "and run the converter. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=452"
  },
  {
    "text": "And it confirms some details about my existing project ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=454"
  },
  {
    "text": "and stops to ask me if I'd like to overwrite it ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=458"
  },
  {
    "text": "with a cross-platform version. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=460"
  },
  {
    "text": "Also, any time you run the converter, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=463"
  },
  {
    "text": "it'll warn you about potential compatibility issues with your extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=466"
  },
  {
    "text": "In this case, it's warning me about the use ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=469"
  },
  {
    "text": "of something called a persistent background page, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=471"
  },
  {
    "text": "which isn't supported on iOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=474"
  },
  {
    "text": "I'll need to fix this later. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=477"
  },
  {
    "text": "But for now, I'll let the converter keep going.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=478"
  },
  {
    "text": "And when it's done, my project automatically opens. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=483"
  },
  {
    "text": "Notice there are folders here ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=488"
  },
  {
    "text": "for both the iOS and macOS versions ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=490"
  },
  {
    "text": "of my app and the extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=492"
  },
  {
    "text": "Now, I want to take a look at the Resources folder ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=495"
  },
  {
    "text": "within the Shared extension group. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=498"
  },
  {
    "text": "Here is where I'll find the core pieces ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=501"
  },
  {
    "text": "of the Sea Creator Web Extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=503"
  },
  {
    "text": "For those of you who are new to the Web Extension API, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=505"
  },
  {
    "text": "I want to explain what some of these pieces are, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=508"
  },
  {
    "text": "since I'll be referring to them later. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=510"
  },
  {
    "text": "I'll start with the manifest. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=513"
  },
  {
    "text": "This is a JSON file ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=515"
  },
  {
    "text": "that describes the structure of the extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=517"
  },
  {
    "text": "It includes important information ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=519"
  },
  {
    "text": "such as the extension's name, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=521"
  },
  {
    "text": "which websites it wants to access, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=523"
  },
  {
    "text": "and what features it supports, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=525"
  },
  {
    "text": "such as a pop-up page or a New Tab page ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=527"
  },
  {
    "text": "like Sea Creator has. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=529"
  },
  {
    "text": "Next, there's a JavaScript source called the background script. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=532"
  },
  {
    "text": "The browser can run this script in the background ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=536"
  },
  {
    "text": "when your extension is enabled, and it allows your extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=539"
  },
  {
    "text": "to listen for various events coming from the browser ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=542"
  },
  {
    "text": "or other parts of your extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=545"
  },
  {
    "text": "Sea Creator's background script keeps track of that counter ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=547"
  },
  {
    "text": "of just how many emoji it's added to web pages. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=551"
  },
  {
    "text": "Next, there's another type of script ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=554"
  },
  {
    "text": "called the content script. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=557"
  },
  {
    "text": "The browser automatically runs this script ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=559"
  },
  {
    "text": "on web pages that the user visits. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=562"
  },
  {
    "text": "An extension can have any number of content scripts, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=564"
  },
  {
    "text": "and the manifest specifies which content scripts ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=567"
  },
  {
    "text": "should run on which websites. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=570"
  },
  {
    "text": "This script gives your extension the power to extend ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=572"
  },
  {
    "text": "and customize pages by directly manipulating them. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=576"
  },
  {
    "text": "For example, Sea Creator's content page is what actually does ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=579"
  },
  {
    "text": "the replacement of animal names with emoji. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=583"
  },
  {
    "text": "And after it does that, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=586"
  },
  {
    "text": "it sends a message to the background script ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=588"
  },
  {
    "text": "so it can update that central counter. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=590"
  },
  {
    "text": "Of course, the extension also has some HTML, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=594"
  },
  {
    "text": "CSS, and other JavaScript files ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=597"
  },
  {
    "text": "for the New Tab page, and that pop-up page as well. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=600"
  },
  {
    "text": "And finally, there are some other resources here ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=604"
  },
  {
    "text": "such as localized strings, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=608"
  },
  {
    "text": "as well as the extension's icons and other graphics. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=611"
  },
  {
    "text": "So all of these pieces come together ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=615"
  },
  {
    "text": "to make the Sea Creator Web Extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=618"
  },
  {
    "text": "And thanks to the Safari Web Extension Converter, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=620"
  },
  {
    "text": "I now have a project that packages all ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=623"
  },
  {
    "text": "of this up into a native app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=625"
  },
  {
    "text": "And I can run my project now, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=627"
  },
  {
    "text": "so I can start using Sea Creator in Safari right away. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=629"
  },
  {
    "text": "I'll do that now by going to the toolbar ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=634"
  },
  {
    "text": "at the top of the screen, selecting Sea Creator for iOS, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=636"
  },
  {
    "text": "and choosing the destination where I want to run the app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=640"
  },
  {
    "text": "I don't have any iOS devices connected, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=643"
  },
  {
    "text": "so in this case, I'll use an iPhone simulator.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=646"
  },
  {
    "text": "I'll then click the Run button. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=651"
  },
  {
    "text": "And Xcode will then build my app project, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=654"
  },
  {
    "text": "load the simulator, and run my app.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=657"
  },
  {
    "text": "So this is the Sea Creator app ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=662"
  },
  {
    "text": "generated by the Web Extension Converter, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=665"
  },
  {
    "text": "and it contains the Sea Creator Web Extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=667"
  },
  {
    "text": "At the beginning of this session, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=671"
  },
  {
    "text": "I showed that I can turn on extensions ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=672"
  },
  {
    "text": "directly within Safari, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=674"
  },
  {
    "text": "but as the app suggests, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=676"
  },
  {
    "text": "I can also use Settings to manage my extensions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=679"
  },
  {
    "text": "And I want to show that off here, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=682"
  },
  {
    "text": "so I'll switch to Settings.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=683"
  },
  {
    "text": "I'll jump into Safari, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=689"
  },
  {
    "text": "Extensions, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=692"
  },
  {
    "text": "and then Sea Creator. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=693"
  },
  {
    "text": "And here's the details page for Sea Creator with some info ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=696"
  },
  {
    "text": "about the extension and a switch to turn it on. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=699"
  },
  {
    "text": "But that switch is grayed out, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=702"
  },
  {
    "text": "and I can't turn on the extension yet. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=705"
  },
  {
    "text": "This means there's a problem ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=707"
  },
  {
    "text": "with the extension that keeps it from loading. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=708"
  },
  {
    "text": "I definitely need to look into this next. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=710"
  },
  {
    "text": "And this is where I want to talk about debugging. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=713"
  },
  {
    "text": "It's a great first step to just be able ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=716"
  },
  {
    "text": "to build your project and install your extension, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=718"
  },
  {
    "text": "but of course, it's essential to know how ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=721"
  },
  {
    "text": "to dig deeper to find out why things go wrong if they do. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=723"
  },
  {
    "text": "It's easy to identify errors in web extensions and use tools ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=727"
  },
  {
    "text": "such as Web Inspector to debug parts of your extension, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=730"
  },
  {
    "text": "and that's what I'll show you now. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=734"
  },
  {
    "text": "Looking back at Settings, there's an error here ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=737"
  },
  {
    "text": "at the bottom telling me that Extensions on iOS ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=739"
  },
  {
    "text": "must have a non-persistent background page. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=743"
  },
  {
    "text": "This sounds familiar. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=746"
  },
  {
    "text": "It's the same issue the converter warned me about earlier. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=747"
  },
  {
    "text": "And now I want to actually go fix it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=750"
  },
  {
    "text": "So I'll go back to Xcode, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=753"
  },
  {
    "text": "open up the manifest, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=756"
  },
  {
    "text": "and add a \"persistent\": false key ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=759"
  },
  {
    "text": "in the background section. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=765"
  },
  {
    "text": "I'll talk about this change in more detail later, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=767"
  },
  {
    "text": "but for now, this should get me past the error. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=770"
  },
  {
    "text": "Now that I've made this change, I'll run the app again ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=772"
  },
  {
    "text": "to install the updated extension on the simulator.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=776"
  },
  {
    "text": "And here's the Sea Creator app once again. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=785"
  },
  {
    "text": "It looked like I only had that one error to fix, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=788"
  },
  {
    "text": "so now I'll go straight to Safari ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=791"
  },
  {
    "text": "instead of going back to Settings.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=793"
  },
  {
    "text": "I'll open up Safari, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=797"
  },
  {
    "text": "open the Extensions list, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=800"
  },
  {
    "text": "and there's Sea Creator, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=802"
  },
  {
    "text": "and it looks like I can turn it on now. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=805"
  },
  {
    "text": "Safari offers me the choice ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=808"
  },
  {
    "text": "to use Sea Creator's New Tab experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=809"
  },
  {
    "text": "And I do want to check out what that looks like ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=812"
  },
  {
    "text": "on iPhone since I haven't seen it before. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=814"
  },
  {
    "text": "So I'll set that as my New Tab page, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=817"
  },
  {
    "text": "close out the Extensions list, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=821"
  },
  {
    "text": "and open up a new tab. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=823"
  },
  {
    "text": "And just as I'd expect, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=826"
  },
  {
    "text": "there's that New Tab page from Sea Creator. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=827"
  },
  {
    "text": "But the text is really small, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=830"
  },
  {
    "text": "and the page just doesn't look good. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=832"
  },
  {
    "text": "This is the first time I've ever run this extension on iOS, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=834"
  },
  {
    "text": "so it's not surprising that the content hasn't yet ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=837"
  },
  {
    "text": "been adjusted to work well with iPhone. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=840"
  },
  {
    "text": "I want to go fix this now, and to do that, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=843"
  },
  {
    "text": "I'll use Web Inspector to take a closer look at this page ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=845"
  },
  {
    "text": "and try out a few changes I have in mind. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=849"
  },
  {
    "text": "So to get to Web Inspector, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=851"
  },
  {
    "text": "I'll open up Safari on my Mac, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=853"
  },
  {
    "text": "and then I'll double-check in Safari's Advanced Preferences ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=857"
  },
  {
    "text": "to make sure I have the Develop menu enabled.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=860"
  },
  {
    "text": "And now that I have that Develop menu, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=871"
  },
  {
    "text": "I can open it up, select the iPhone Simulator ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=875"
  },
  {
    "text": "I've been using, and choose a page to inspect. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=877"
  },
  {
    "text": "Now, there are two options here for Sea Creator. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=881"
  },
  {
    "text": "I could select the Extension Background Page ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=884"
  },
  {
    "text": "if I'd like to debug the background script, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=886"
  },
  {
    "text": "but in this case, I want to inspect the New Tab page. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=889"
  },
  {
    "text": "So I'll choose the other option.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=892"
  },
  {
    "text": "And now I'm in Web Inspector. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=896"
  },
  {
    "text": "The first thing I want to address here ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=898"
  },
  {
    "text": "is the overall size of the page. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=900"
  },
  {
    "text": "By default, Safari on iPhone renders the web page ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=902"
  },
  {
    "text": "as if it were the size of a desktop browser, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=905"
  },
  {
    "text": "and then it scales that larger content down ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=908"
  },
  {
    "text": "so it all fits on screen. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=910"
  },
  {
    "text": "But I don't want this behavior here ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=912"
  },
  {
    "text": "since it makes the text too small. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=914"
  },
  {
    "text": "So I'll use a very common practice ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=916"
  },
  {
    "text": "when it comes to web design for iPhone. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=918"
  },
  {
    "text": "I'll add a viewport meta-tag to tell Safari ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=921"
  },
  {
    "text": "not to scale the content this way. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=923"
  },
  {
    "text": "I'll select the Head element, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=926"
  },
  {
    "text": "add a Child element, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=928"
  },
  {
    "text": "and add the contents ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=930"
  },
  {
    "text": "of that viewport meta-tag. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=932"
  },
  {
    "text": "I'll add the tag, and the page updates live ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=936"
  },
  {
    "text": "in the simulator in response to that change. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=940"
  },
  {
    "text": "Now all the text is at a readable size, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=943"
  },
  {
    "text": "but it doesn't all fit on screen, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=945"
  },
  {
    "text": "which is my next problem. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=947"
  },
  {
    "text": "I want to inspect the elements on this page ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=949"
  },
  {
    "text": "to understand why it lays out like this.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=951"
  },
  {
    "text": "I'll look at the body tag, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=955"
  },
  {
    "text": "and I notice there's this div here ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=957"
  },
  {
    "text": "that contains all the content on the page. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=959"
  },
  {
    "text": "If I focus it ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=962"
  },
  {
    "text": "and look in the stylesheet sidebar to the right, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=964"
  },
  {
    "text": "I notice that the element ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=967"
  },
  {
    "text": "has a fixed width of 850. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=969"
  },
  {
    "text": "That would make sense on a desktop, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=971"
  },
  {
    "text": "where windows can be really wide ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=973"
  },
  {
    "text": "and you'd want the text to wrap at some point. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=975"
  },
  {
    "text": "But that doesn't work on iPhone ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=977"
  },
  {
    "text": "because the phone just isn't that wide. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=979"
  },
  {
    "text": "I think it would make more sense here ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=982"
  },
  {
    "text": "if that rule set a maximum width for the content ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=984"
  },
  {
    "text": "rather than demanding an exact width. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=986"
  },
  {
    "text": "And I can simply edit the rule here. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=990"
  },
  {
    "text": "I'll click width ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=992"
  },
  {
    "text": "and change it to max-width, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=995"
  },
  {
    "text": "and the page in the simulator updates ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=997"
  },
  {
    "text": "to reflect that change. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1000"
  },
  {
    "text": "Now the content's width is much more appropriate for iPhone, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1002"
  },
  {
    "text": "and all of the text fits on screen. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1005"
  },
  {
    "text": "This looks much better now, but these changes that I've made ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1008"
  },
  {
    "text": "are only temporary to this Inspector session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1011"
  },
  {
    "text": "I want to actually save these changes back ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1014"
  },
  {
    "text": "into my project so I don't lose them. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1016"
  },
  {
    "text": "And it's really easy to save an updated copy ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1019"
  },
  {
    "text": "of the stylesheet while I work in the stylesheet Inspector. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1021"
  },
  {
    "text": "I can simply type Command+S ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1024"
  },
  {
    "text": "to save my stylesheet that has that updated rule. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1027"
  },
  {
    "text": "And I'll overwrite the new_tab_page.css ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1031"
  },
  {
    "text": "in my project.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1034"
  },
  {
    "text": "But for the viewport change, I added that tag ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1037"
  },
  {
    "text": "to a live web page rather than a static resource, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1040"
  },
  {
    "text": "so I'll have to make the same change to the original source. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1044"
  },
  {
    "text": "I'll select that tag, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1047"
  },
  {
    "text": "copy it, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1051"
  },
  {
    "text": "go back to Xcode, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1053"
  },
  {
    "text": "open up that source for the New Tab page, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1056"
  },
  {
    "text": "and paste the contents there.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1061"
  },
  {
    "text": "So the next time I run Sea Creator, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1066"
  },
  {
    "text": "it'll use that updated page source and stylesheet, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1069"
  },
  {
    "text": "and it'll look just as good again. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1072"
  },
  {
    "text": "And that's been a few examples of using Web Inspector ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1074"
  },
  {
    "text": "to look under the hood of a web extension, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1078"
  },
  {
    "text": "understand exactly what's happening, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1080"
  },
  {
    "text": "and experiment with potential changes ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1082"
  },
  {
    "text": "while iterating on the extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1084"
  },
  {
    "text": "For now, I'm only going to look at the New Tab page, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1087"
  },
  {
    "text": "but later on in development, I should obviously go test ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1090"
  },
  {
    "text": "all the other parts of the extension on iOS, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1093"
  },
  {
    "text": "and I'd use the same tools and techniques for that. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1096"
  },
  {
    "text": "You can use Safari's extension settings on iOS ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1099"
  },
  {
    "text": "to view any errors in the configuration ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1103"
  },
  {
    "text": "of your Web Extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1105"
  },
  {
    "text": "Specifically, Sea Creator had the fatal error ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1107"
  },
  {
    "text": "of using a persistent background page, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1110"
  },
  {
    "text": "but there may also be non-fatal warnings here ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1112"
  },
  {
    "text": "that you should check out. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1114"
  },
  {
    "text": "These details will only appear in Settings ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1116"
  },
  {
    "text": "for debug builds of your app from Xcode ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1119"
  },
  {
    "text": "and not for copies from the App Store or TestFlight.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1121"
  },
  {
    "text": "As you make changes to your web extension, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1126"
  },
  {
    "text": "you simply run your app again to update the extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1128"
  },
  {
    "text": "on the device or simulator. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1131"
  },
  {
    "text": "And of course, Web Inspector allows you ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1134"
  },
  {
    "text": "to investigate issues with your extension's web content. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1137"
  },
  {
    "text": "Remember that in order to access Web Inspector, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1141"
  },
  {
    "text": "I had to enable the Develop menu ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1144"
  },
  {
    "text": "in Safari's Advanced Preferences on the Mac. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1146"
  },
  {
    "text": "In my demo, I used the iOS simulator for my extension, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1149"
  },
  {
    "text": "but if you wanted to use a physical iOS device, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1153"
  },
  {
    "text": "you would also need to enable Web Inspector support ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1156"
  },
  {
    "text": "on that device in Safari's Advanced Settings. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1159"
  },
  {
    "text": "To take a deeper dive into Web Inspector ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1162"
  },
  {
    "text": "and learn about some of its newest features, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1164"
  },
  {
    "text": "check out Discover Web Inspector improvements. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1167"
  },
  {
    "text": "Now that I've created a Safari Web Extension for iOS ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1170"
  },
  {
    "text": "and I've debugged a few basic issues, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1173"
  },
  {
    "text": "I'd like to walk through some best practices to keep in mind, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1176"
  },
  {
    "text": "including some things you might need to watch out for ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1179"
  },
  {
    "text": "as you build an extension for Safari on iOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1182"
  },
  {
    "text": "I'll focus on five topics ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1186"
  },
  {
    "text": "that may be relevant to your extension, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1188"
  },
  {
    "text": "starting with non-persistent background pages. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1190"
  },
  {
    "text": "The background page is a web page that the browser loads ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1194"
  },
  {
    "text": "to run your extension's background script. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1197"
  },
  {
    "text": "And this page allows your extension to handle events ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1200"
  },
  {
    "text": "sent by the browser or other parts of your extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1203"
  },
  {
    "text": "But keeping this page loaded has a performance cost. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1207"
  },
  {
    "text": "It can use memory and power ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1210"
  },
  {
    "text": "as if you were keeping one more tab open and running ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1212"
  },
  {
    "text": "for every enabled extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1215"
  },
  {
    "text": "Keeping all these pages loaded all the time ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1217"
  },
  {
    "text": "can be pretty wasteful. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1220"
  },
  {
    "text": "But you can make a background page non-persistent, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1222"
  },
  {
    "text": "which means the browser will only load it when your extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1226"
  },
  {
    "text": "actually needs to do work, and the browser can later ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1230"
  },
  {
    "text": "unload that page when it's been idle for some time. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1233"
  },
  {
    "text": "That way, the performance cost is only paid ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1236"
  },
  {
    "text": "while your extension is doing something useful. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1239"
  },
  {
    "text": "This is important because background pages must be ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1243"
  },
  {
    "text": "non-persistent on iOS, where system memory ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1246"
  },
  {
    "text": "and battery life are especially at a premium. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1249"
  },
  {
    "text": "The web extension templates in Xcode already come ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1253"
  },
  {
    "text": "with a non-persistent background page, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1256"
  },
  {
    "text": "so they're ready to run on iOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1258"
  },
  {
    "text": "But if you have an existing extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1261"
  },
  {
    "text": "that uses a persistent background page ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1264"
  },
  {
    "text": "like Sea Creator did, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1266"
  },
  {
    "text": "you'll need to change it to be non-persistent. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1268"
  },
  {
    "text": "And you can do that by adding that \"persistent:\" False key ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1271"
  },
  {
    "text": "in the background section of your manifest. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1275"
  },
  {
    "text": "To learn more about some best practices ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1279"
  },
  {
    "text": "and potential issues you may face ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1281"
  },
  {
    "text": "when updating an extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1283"
  },
  {
    "text": "to use a non-persistent background page, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1285"
  },
  {
    "text": "check out ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1287"
  },
  {
    "text": "Explore Safari Web Extension Improvements. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1288"
  },
  {
    "text": "Up next, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1292"
  },
  {
    "text": "let's talk about responsive design. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1294"
  },
  {
    "text": "As we learned with Sea Creator, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1297"
  },
  {
    "text": "bringing an extension to iOS ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1299"
  },
  {
    "text": "means its web content may be rendered ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1301"
  },
  {
    "text": "in new environments that you haven't considered before. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1303"
  },
  {
    "text": "Just like I did with Sea Creator's New Tab page, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1307"
  },
  {
    "text": "be sure to test the layout of your extension's web content ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1310"
  },
  {
    "text": "on iPhone and iPad and use a responsive design ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1313"
  },
  {
    "text": "that can accommodate various screen sizes. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1317"
  },
  {
    "text": "But the difference in screen size isn't ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1320"
  },
  {
    "text": "the only consideration when it comes ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1322"
  },
  {
    "text": "to making your web content look great on iOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1325"
  },
  {
    "text": "Let me tell you about a few things you should be aware of. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1328"
  },
  {
    "text": "If your extension has full-page web content ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1331"
  },
  {
    "text": "that lays out important elements near the bottom of the screen, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1334"
  },
  {
    "text": "you may find it being covered by Safari's Tab Bar ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1338"
  },
  {
    "text": "or the device's home indicator. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1341"
  },
  {
    "text": "In CSS terminology, this area near the edge ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1343"
  },
  {
    "text": "of the screen where content may be partially hidden ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1347"
  },
  {
    "text": "is called the unsafe area, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1350"
  },
  {
    "text": "while the usable area ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1352"
  },
  {
    "text": "of the viewport is called the safe area. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1353"
  },
  {
    "text": "By using CSS environment variables, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1357"
  },
  {
    "text": "you can calculate the safe area inset ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1360"
  },
  {
    "text": "to make sure important elements are positioned ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1363"
  },
  {
    "text": "within the safe area. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1365"
  },
  {
    "text": "On iPhone, this is also worth considering in Landscape, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1367"
  },
  {
    "text": "where devices may have safe area insets ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1371"
  },
  {
    "text": "on the left and right side of the display as well. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1374"
  },
  {
    "text": "By using similar CSS ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1378"
  },
  {
    "text": "and by specifying the viewport-fit parameter ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1380"
  },
  {
    "text": "in your viewport, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1383"
  },
  {
    "text": "you can give your web content an edge-to-edge design ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1384"
  },
  {
    "text": "that still keeps important content within the safe area.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1388"
  },
  {
    "text": "Check out Design for Safari 15 to learn more about these APIs ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1393"
  },
  {
    "text": "that can make your web content feel more at home on iOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1397"
  },
  {
    "text": "On iPad and desktop browsers, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1401"
  },
  {
    "text": "if your extension has a pop-up page, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1403"
  },
  {
    "text": "you may be used to it being shown as a popover ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1405"
  },
  {
    "text": "that's comfortably sized to fit its content. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1408"
  },
  {
    "text": "But on iPhone, however, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1411"
  },
  {
    "text": "Safari will display this web page as a sheet, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1413"
  },
  {
    "text": "which may be a surprise to your content. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1416"
  },
  {
    "text": "The sheet spans the full width of the device, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1420"
  },
  {
    "text": "and it may be laid out taller ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1422"
  },
  {
    "text": "than the content expects. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1424"
  },
  {
    "text": "In this screenshot of an early version of Sea Creator, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1426"
  },
  {
    "text": "the content didn't have much padding ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1430"
  },
  {
    "text": "from the edge of the screen, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1432"
  },
  {
    "text": "and we set a background color on an individual element ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1433"
  },
  {
    "text": "in the page rather than on the body. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1437"
  },
  {
    "text": "So the text looks a bit cramped ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1440"
  },
  {
    "text": "and the background doesn't fill ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1441"
  },
  {
    "text": "the whole page. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1443"
  },
  {
    "text": "But we've since updated the alignment ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1446"
  },
  {
    "text": "and padding of the content ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1448"
  },
  {
    "text": "to give it a little more space to breathe, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1449"
  },
  {
    "text": "and we now specify a background color ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1452"
  },
  {
    "text": "on the body so it covers the whole sheet. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1454"
  },
  {
    "text": "If your extension has a pop-up page, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1457"
  },
  {
    "text": "think about whether you should make similar changes ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1460"
  },
  {
    "text": "for your extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1462"
  },
  {
    "text": "And note that Safari will use a similar presentation ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1464"
  },
  {
    "text": "in Landscape as well. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1468"
  },
  {
    "text": "Be sure to test your extension's interface ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1470"
  },
  {
    "text": "in these configurations to make sure its layout makes sense ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1472"
  },
  {
    "text": "when given this extra space. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1475"
  },
  {
    "text": "And finally among the design considerations, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1477"
  },
  {
    "text": "I want to mention Dynamic Type. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1480"
  },
  {
    "text": "Dynamic Type is a feature that allows users ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1483"
  },
  {
    "text": "to adjust the size of text and other visual elements. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1486"
  },
  {
    "text": "You can make content smaller to fit more ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1490"
  },
  {
    "text": "or larger so it's more visible. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1493"
  },
  {
    "text": "Be sure to test your extension's interface ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1497"
  },
  {
    "text": "under smaller or larger text sizes to make sure it looks all right ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1499"
  },
  {
    "text": "with any size the user chooses. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1503"
  },
  {
    "text": "To help your web content make the most of Dynamic Type, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1507"
  },
  {
    "text": "WebKit has a variety of system fonts ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1510"
  },
  {
    "text": "that respect the user's text size preference ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1513"
  },
  {
    "text": "and resize to match. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1516"
  },
  {
    "text": "You should adopt these fonts in your extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1518"
  },
  {
    "text": "so that its text remains comfortably readable to the user, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1521"
  },
  {
    "text": "just like the rest of Safari's interface. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1524"
  },
  {
    "text": "So the main takeaway here is ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1527"
  },
  {
    "text": "to design your extension's web content ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1530"
  },
  {
    "text": "with Safari's UI in mind. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1532"
  },
  {
    "text": "Test any full page web content on iPhone ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1535"
  },
  {
    "text": "to make sure that it adapts well to the screen size ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1539"
  },
  {
    "text": "and doesn't clash with Safari's UI ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1541"
  },
  {
    "text": "at the bottom of the screen. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1544"
  },
  {
    "text": "You should test your pop-up web page on iPhone to make sure ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1547"
  },
  {
    "text": "its layout makes sense with the sheet-style presentation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1550"
  },
  {
    "text": "and you should test your interface ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1554"
  },
  {
    "text": "across a wide range of Dynamic Type sizes ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1556"
  },
  {
    "text": "to make sure it adjusts for the user's preference. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1559"
  },
  {
    "text": "For more tips on designing web content to look great ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1562"
  },
  {
    "text": "in Safari's new interface, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1565"
  },
  {
    "text": "check out Design for Safari 15. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1567"
  },
  {
    "text": "Up next, pointer events.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1571"
  },
  {
    "text": "If your extension currently depends on handling mouse events ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1574"
  },
  {
    "text": "for arbitrary clicks and drags, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1578"
  },
  {
    "text": "be aware that the same events ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1581"
  },
  {
    "text": "won't be sent when the user taps on iOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1583"
  },
  {
    "text": "You should instead adopt the Pointer Events API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1586"
  },
  {
    "text": "It's similar to the Mouse Events API, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1590"
  },
  {
    "text": "and it works just the same with mouse input, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1593"
  },
  {
    "text": "but the Pointer Events API also reports touches ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1596"
  },
  {
    "text": "and Apple Pencil input. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1599"
  },
  {
    "text": "And now let's talk ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1602"
  },
  {
    "text": "about the Web Extension Windows API. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1604"
  },
  {
    "text": "On desktop browsers, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1607"
  },
  {
    "text": "users may have multiple windows open ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1609"
  },
  {
    "text": "and your Web Extension can use the browser.windows API ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1612"
  },
  {
    "text": "to work with these windows. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1615"
  },
  {
    "text": "And the same is true on iPad, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1617"
  },
  {
    "text": "where you can also open multiple windows of Safari. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1619"
  },
  {
    "text": "Each Safari window might be full screen, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1623"
  },
  {
    "text": "or it might be in split view, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1626"
  },
  {
    "text": "side-by-side with another app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1628"
  },
  {
    "text": "maybe another Safari. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1630"
  },
  {
    "text": "Under the hood though, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1632"
  },
  {
    "text": "each of these windows is actually ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1634"
  },
  {
    "text": "called a scene on iOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1636"
  },
  {
    "text": "If your extension uses the Windows API, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1638"
  },
  {
    "text": "you should know that each scene ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1641"
  },
  {
    "text": "of Safari actually has two windows: ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1643"
  },
  {
    "text": "one for regular browsing and one for Private browsing. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1646"
  },
  {
    "text": "This is also true on iPhone, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1649"
  },
  {
    "text": "even though there's only one scene of Safari. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1651"
  },
  {
    "text": "If I call the browser.windows.getAll API ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1655"
  },
  {
    "text": "to query what windows are open, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1658"
  },
  {
    "text": "then the API returns ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1660"
  },
  {
    "text": "these two window objects. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1662"
  },
  {
    "text": "In the first window, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1665"
  },
  {
    "text": "the incognito property is false, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1666"
  },
  {
    "text": "and focused is true. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1669"
  },
  {
    "text": "This represents the window I'm looking at, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1671"
  },
  {
    "text": "which is in regular browsing ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1674"
  },
  {
    "text": "and not Private Browsing. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1675"
  },
  {
    "text": "The second window holds the Private Browsing tabs ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1678"
  },
  {
    "text": "in the Safari scene. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1681"
  },
  {
    "text": "And of course, its properties are different from the first window. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1683"
  },
  {
    "text": "Incognito is true, and focused is false. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1686"
  },
  {
    "text": "Now when I switch Safari to Private Browsing ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1690"
  },
  {
    "text": "and call windows.getAll again, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1694"
  },
  {
    "text": "the API returns different window objects. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1696"
  },
  {
    "text": "Now the focused property has changed in both windows, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1700"
  },
  {
    "text": "and the second window now has focus.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1703"
  },
  {
    "text": "This works exactly the same on iPad ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1709"
  },
  {
    "text": "where one Safari scene ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1712"
  },
  {
    "text": "is represented by two windows. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1713"
  },
  {
    "text": "But if I open a second scene of Safari in split view, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1716"
  },
  {
    "text": "the API would now report four windows. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1720"
  },
  {
    "text": "And if my extension listens for the windows.onCreated event, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1722"
  },
  {
    "text": "it would observe that event fire twice ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1727"
  },
  {
    "text": "when opening split view, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1729"
  },
  {
    "text": "once for each of the two new windows ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1731"
  },
  {
    "text": "in the new Safari scene. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1733"
  },
  {
    "text": "So if you use this API, keep this model in mind ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1735"
  },
  {
    "text": "as you encounter extra windows ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1738"
  },
  {
    "text": "you might not expect at first. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1740"
  },
  {
    "text": "In addition to this model of what a window actually is, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1742"
  },
  {
    "text": "there are a few limitations of the windows API ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1746"
  },
  {
    "text": "that may affect your extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1749"
  },
  {
    "text": "The methods to create, remove, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1751"
  },
  {
    "text": "and update the state of windows aren't available. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1754"
  },
  {
    "text": "On iOS, window placement ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1758"
  },
  {
    "text": "is fully controlled by the user, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1760"
  },
  {
    "text": "not any app or extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1762"
  },
  {
    "text": "The windows.onRemoved event won't be fired ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1766"
  },
  {
    "text": "as you'd maybe expect when the user closes Safari ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1769"
  },
  {
    "text": "from the app switcher. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1772"
  },
  {
    "text": "That doesn't truly close or remove a window. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1774"
  },
  {
    "text": "It just leaves it for the user to pick up ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1777"
  },
  {
    "text": "where they left off later. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1779"
  },
  {
    "text": "And note that these restrictions only apply ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1782"
  },
  {
    "text": "to the windows themselves ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1785"
  },
  {
    "text": "and not the tabs within those windows. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1786"
  },
  {
    "text": "With the browser.tabs API, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1789"
  },
  {
    "text": "Web Extensions still have full control to add, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1792"
  },
  {
    "text": "remove, and update individual tabs as they'd like. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1795"
  },
  {
    "text": "Now, last up in the best practices ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1799"
  },
  {
    "text": "is feature detection. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1802"
  },
  {
    "text": "When bringing an existing extension to iOS, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1804"
  },
  {
    "text": "you may find some APIs are unavailable-- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1807"
  },
  {
    "text": "for example, the windows APIs that I mentioned a moment ago. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1810"
  },
  {
    "text": "But there are a few others, like context menus ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1814"
  },
  {
    "text": "and WebRequest. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1818"
  },
  {
    "text": "If non-essential parts of your extension use such APIs, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1821"
  },
  {
    "text": "be sure to use feature detection to handle the case ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1824"
  },
  {
    "text": "that they're not available. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1827"
  },
  {
    "text": "So, instead of unconditionally ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1829"
  },
  {
    "text": "calling these APIs, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1832"
  },
  {
    "text": "conditionalize that code based ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1834"
  },
  {
    "text": "on the existence of those APIs, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1836"
  },
  {
    "text": "so you can cleanly exclude parts of your extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1838"
  },
  {
    "text": "and make it more flexible when it comes ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1841"
  },
  {
    "text": "to which browsers it supports. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1843"
  },
  {
    "text": "You should also use this pattern when adopting new APIs ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1846"
  },
  {
    "text": "that are added in the future, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1849"
  },
  {
    "text": "as they might not immediately be available ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1851"
  },
  {
    "text": "across all browsers or in previous versions ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1853"
  },
  {
    "text": "of browsers that some users may still be using. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1857"
  },
  {
    "text": "And that wraps up the best practices. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1861"
  },
  {
    "text": "I've now covered many parts of Safari Web Extensions, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1864"
  },
  {
    "text": "but I've saved arguably the most important topic for last, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1867"
  },
  {
    "text": "and that's user privacy. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1871"
  },
  {
    "text": "User privacy is a huge part of everything we do, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1873"
  },
  {
    "text": "so we believe users deserve transparency and control ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1877"
  },
  {
    "text": "when it comes to how their personal data is handled. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1880"
  },
  {
    "text": "And of course that includes everything they do in Safari. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1883"
  },
  {
    "text": "Web Extensions can gain a tremendous amount ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1886"
  },
  {
    "text": "of access to the user's browsing, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1889"
  },
  {
    "text": "so the decision of whether that should be allowed ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1891"
  },
  {
    "text": "and on which websites should be up to the user. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1893"
  },
  {
    "text": "Historically, other browsers would give an extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1897"
  },
  {
    "text": "full access to every website it requests ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1900"
  },
  {
    "text": "right away when you turn it on, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1903"
  },
  {
    "text": "which is potentially asking you to sacrifice privacy up front ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1905"
  },
  {
    "text": "just to get a taste of the extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1909"
  },
  {
    "text": "But Safari aims to do better by providing transparency ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1912"
  },
  {
    "text": "and control to Web Extension users ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1915"
  },
  {
    "text": "with an opt-in model where extensions are only given access ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1918"
  },
  {
    "text": "to websites when the user consents. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1922"
  },
  {
    "text": "You caught a glimpse of this earlier with Sea Creator. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1925"
  },
  {
    "text": "It didn't immediately start modifying my pages ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1927"
  },
  {
    "text": "when I turned it on, but it was only able to do that ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1931"
  },
  {
    "text": "when I explicitly told Safari, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1934"
  },
  {
    "text": "\"Yes, I want to use this extension here, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1936"
  },
  {
    "text": "and I'm okay with it having access.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1939"
  },
  {
    "text": "And once I give an extension that access, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1942"
  },
  {
    "text": "Safari tells me in the Tab Bar ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1945"
  },
  {
    "text": "that I have an extension running on this page, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1947"
  },
  {
    "text": "so I know that the extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1950"
  },
  {
    "text": "might be seeing my web browsing here. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1952"
  },
  {
    "text": "But if I navigate to any website ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1954"
  },
  {
    "text": "that I haven't yet allowed the extension to access, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1956"
  },
  {
    "text": "that indicator disappears. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1959"
  },
  {
    "text": "And I know that that extension isn't running on this page ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1962"
  },
  {
    "text": "and can't see what I'm doing here. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1965"
  },
  {
    "text": "Let's look at this permissions model in more detail. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1968"
  },
  {
    "text": "Again, users opt in to your extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1971"
  },
  {
    "text": "when they choose to use it on specific websites. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1975"
  },
  {
    "text": "Safari will ask the user for consent ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1978"
  },
  {
    "text": "by presenting a dialog which makes it clear ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1981"
  },
  {
    "text": "which websites the extension is trying to access. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1983"
  },
  {
    "text": "This happens when the user invokes your extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1987"
  },
  {
    "text": "by selecting it in the Action menu ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1990"
  },
  {
    "text": "or by using any of its keyboard shortcuts. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1992"
  },
  {
    "text": "And this consent is required ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1995"
  },
  {
    "text": "for any privacy sensitive API to work. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=1997"
  },
  {
    "text": "Specifically, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2001"
  },
  {
    "text": "any API that reveals the URL ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2003"
  },
  {
    "text": "or title of a tab will only include this info ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2005"
  },
  {
    "text": "if your extension has permission for that URL. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2008"
  },
  {
    "text": "The Cookies API will only let your extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2012"
  },
  {
    "text": "read and write cookies for websites ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2014"
  },
  {
    "text": "your extension has permission for. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2017"
  },
  {
    "text": "And injecting JavaScript and stylesheets will ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2019"
  },
  {
    "text": "only be allowed on websites where, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2023"
  },
  {
    "text": "you guessed it, your extension has permission.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2025"
  },
  {
    "text": "If your extension's scripts call any of these APIs ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2029"
  },
  {
    "text": "when your extension doesn't have the required permissions ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2032"
  },
  {
    "text": "but hasn't asked the user yet, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2034"
  },
  {
    "text": "Safari will wait to call your completion handlers ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2037"
  },
  {
    "text": "and will show a non-disruptive banner ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2040"
  },
  {
    "text": "at the top of the screen. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2042"
  },
  {
    "text": "This lets the user know that your extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2044"
  },
  {
    "text": "wants some more access, and they can then review the set ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2047"
  },
  {
    "text": "of websites your extension is asking for, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2051"
  },
  {
    "text": "and they can make a decision to allow ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2053"
  },
  {
    "text": "or reject access for those websites. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2056"
  },
  {
    "text": "You should avoid requesting more permission this way ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2059"
  },
  {
    "text": "than your extension really needs. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2062"
  },
  {
    "text": "For some types of extensions, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2064"
  },
  {
    "text": "this way of thinking about permission ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2066"
  },
  {
    "text": "might be a bit more than you need. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2068"
  },
  {
    "text": "For example, extensions that share or annotate ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2070"
  },
  {
    "text": "individual web pages don't need full access to the site ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2073"
  },
  {
    "text": "any time the user visits in any tab, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2077"
  },
  {
    "text": "but rather they just want permission once ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2080"
  },
  {
    "text": "to do one thing at a time for the user.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2082"
  },
  {
    "text": "And there's a great solution for those extensions ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2085"
  },
  {
    "text": "called the activeTab permission. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2088"
  },
  {
    "text": "When your extension requests the activeTab permission, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2091"
  },
  {
    "text": "Safari will automatically grant your extension permission ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2094"
  },
  {
    "text": "on tabs where the user ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2098"
  },
  {
    "text": "explicitly uses your extension. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2099"
  },
  {
    "text": "And this permission will be limited ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2102"
  },
  {
    "text": "to just the current website in just the current tab. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2104"
  },
  {
    "text": "So it'll be revoked if the user navigates that tab ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2108"
  },
  {
    "text": "to a different website. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2111"
  },
  {
    "text": "Safari won't display a prompt when granting this permission, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2114"
  },
  {
    "text": "since there's no long-term commitment needed from the user.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2117"
  },
  {
    "text": "To adopt this feature, simply add activeTab ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2122"
  },
  {
    "text": "to the Permissions section of your manifest.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2125"
  },
  {
    "text": "So all of this is to say that in Safari, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2129"
  },
  {
    "text": "users are always in control ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2133"
  },
  {
    "text": "of which websites their extensions can work on. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2135"
  },
  {
    "text": "So be aware that your extension won't automatically be able ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2138"
  },
  {
    "text": "to go to work on every page the user visits. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2141"
  },
  {
    "text": "For many extensions, the activeTab permission ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2145"
  },
  {
    "text": "is a great way to get access to just the pages ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2148"
  },
  {
    "text": "where the user is using your extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2151"
  },
  {
    "text": "without bugging them ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2153"
  },
  {
    "text": "about any access beyond that. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2155"
  },
  {
    "text": "All of these concepts are the same ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2157"
  },
  {
    "text": "across all our platforms that support Safari Web Extensions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2160"
  },
  {
    "text": "To see this in action on macOS and get a closer look ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2164"
  },
  {
    "text": "at updating an extension to use activeTab, check out ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2168"
  },
  {
    "text": "Meet Safari Web Extensions from WWDC 2020. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2172"
  },
  {
    "text": "And that's the privacy preserving permissions model ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2176"
  },
  {
    "text": "of Safari Web Extensions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2180"
  },
  {
    "text": "Along with everything else I've covered today, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2181"
  },
  {
    "text": "I hope this gives you a more complete view ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2184"
  },
  {
    "text": "of Safari Web Extensions on iOS and the tools available ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2186"
  },
  {
    "text": "to you for building them. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2189"
  },
  {
    "text": "We're so excited to see the Web Extension experiences ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2192"
  },
  {
    "text": "that will be brought to Safari on iOS 15, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2195"
  },
  {
    "text": "including the many extensions we already love on the Mac today ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2198"
  },
  {
    "text": "but also the great new extensions ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2201"
  },
  {
    "text": "that are yet to come. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2203"
  },
  {
    "text": "So if you're new to extension development, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2205"
  },
  {
    "text": "I encourage you to check out the linked resources ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2209"
  },
  {
    "text": "associated with this session. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2211"
  },
  {
    "text": "There, you'll find sample code that you can download ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2213"
  },
  {
    "text": "and try out for yourself. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2216"
  },
  {
    "text": "And you can read more about the Web Extension APIs ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2218"
  },
  {
    "text": "available to you in Apple's developer documentation ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2220"
  },
  {
    "text": "and the MDN Web Docs. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2224"
  },
  {
    "text": "If you already develop a Web Extension ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2226"
  },
  {
    "text": "for another browser or for Safari on the Mac, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2229"
  },
  {
    "text": "I encourage you to try out the Safari Web Extension Converter ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2232"
  },
  {
    "text": "in Xcode 13 ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2235"
  },
  {
    "text": "to easily bring your extension to iOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2237"
  },
  {
    "text": "If you have feedback like bug reports, suggestions, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2241"
  },
  {
    "text": "or compatibility issues, I encourage you to send us that feedback ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2244"
  },
  {
    "text": "at feedbackassistant.apple.com. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2248"
  },
  {
    "text": "You can also reach out to us at the Apple Developer Forums ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2252"
  },
  {
    "text": "if you'd like to get in touch or have questions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2255"
  },
  {
    "text": "And finally, I'd like to again recommend ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2258"
  },
  {
    "text": "two other sessions you may be interested in. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2261"
  },
  {
    "text": "Explore Safari Web Extension Improvements will teach you ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2264"
  },
  {
    "text": "about some recent API additions to Safari Web Extensions. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2267"
  },
  {
    "text": "And Design for Safari 15 will show you ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2271"
  },
  {
    "text": "how to make your web content look great ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2274"
  },
  {
    "text": "with Safari's new design in iOS 15. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2277"
  },
  {
    "text": "Thanks for watching, and have a great WWDC. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2280"
  },
  {
    "text": "[upbeat music]",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10104/?time=2284"
  }
]