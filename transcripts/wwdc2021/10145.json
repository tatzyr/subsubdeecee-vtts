[
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=0"
  },
  {
    "text": "♪ Bass music playing ♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=2"
  },
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=5"
  },
  {
    "text": "♪ ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=7"
  },
  {
    "text": "Pranav Sodhani: Hello and welcome to WWDC! ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=9"
  },
  {
    "text": "My name is Pranav, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=11"
  },
  {
    "text": "and I am part of the Display and Color Technologies team ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=13"
  },
  {
    "text": "at Apple.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=15"
  },
  {
    "text": "In this talk, we will introduce a video quality tool ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=16"
  },
  {
    "text": "and show how you can use it ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=20"
  },
  {
    "text": "to evaluate perceptual quality of compressed videos ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=22"
  },
  {
    "text": "in your apps or content creation workflows ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=25"
  },
  {
    "text": "All right.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=28"
  },
  {
    "text": "Let's start by looking at a typical video delivery workflow.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=30"
  },
  {
    "text": "In such a workflow, the high-quality source video ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=33"
  },
  {
    "text": "undergoes video compression and, optionally, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=37"
  },
  {
    "text": "video downscaling to generate videos with lower bit rates.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=40"
  },
  {
    "text": "And these low-bit rate videos can then be easily delivered ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=44"
  },
  {
    "text": "over bandwidth-constrained networks.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=48"
  },
  {
    "text": "A few possible ways to use such workflows ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=51"
  },
  {
    "text": "include AVFoundation APIs such as AVAssetWriter, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=54"
  },
  {
    "text": "apps such as Compressor, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=58"
  },
  {
    "text": "or it can be one of your own video compression workflows.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=60"
  },
  {
    "text": "Now, downscaling and compression ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=64"
  },
  {
    "text": "can add video coding and scaling artifacts.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=66"
  },
  {
    "text": "And this will impair the source video ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=69"
  },
  {
    "text": "and create visible artifacts.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=72"
  },
  {
    "text": "One example of such artifact ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=75"
  },
  {
    "text": "is blockiness in the compressed video, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=77"
  },
  {
    "text": "which is shown in the frame on the right side.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=79"
  },
  {
    "text": "Another example is when the video appears blurry ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=83"
  },
  {
    "text": "and video details start disappearing.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=87"
  },
  {
    "text": "Such artifacts can adversely affect ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=90"
  },
  {
    "text": "a consumer's video quality experience.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=92"
  },
  {
    "text": "We know that consumers are expecting ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=97"
  },
  {
    "text": "a high-quality video experience.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=98"
  },
  {
    "text": "So it's important to deliver on this expectation.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=101"
  },
  {
    "text": "Now, the first step to do this ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=104"
  },
  {
    "text": "is to evaluate the quality of your delivered content.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=106"
  },
  {
    "text": "And the most accurate way of doing this ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=110"
  },
  {
    "text": "is to have real people watch the videos ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=112"
  },
  {
    "text": "and rate them on a video quality scale.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=115"
  },
  {
    "text": "But this is very time consuming and not scalable ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=118"
  },
  {
    "text": "if you want to evaluate a high volume of videos.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=121"
  },
  {
    "text": "Fortunately, there's another way.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=124"
  },
  {
    "text": "What we need here ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=128"
  },
  {
    "text": "is an objective way to characterize video quality, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=129"
  },
  {
    "text": "so that we can automate the process for speed ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=132"
  },
  {
    "text": "and scalability.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=135"
  },
  {
    "text": "In such a setup, the perceptual video quality tool ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=137"
  },
  {
    "text": "will take the compressed video and the source video as input ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=141"
  },
  {
    "text": "and output a video quality score.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=146"
  },
  {
    "text": "This score can be a floating point number ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=149"
  },
  {
    "text": "in the range of one to five ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=151"
  },
  {
    "text": "and mimic how real people would have rated the compressed video.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=154"
  },
  {
    "text": "Today, we are very excited to enable our developers ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=159"
  },
  {
    "text": "with such a perceptual video quality tool.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=163"
  },
  {
    "text": "We are calling it the Advanced Video Quality Tool ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=166"
  },
  {
    "text": "or AVQT in short.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=169"
  },
  {
    "text": "Let's learn more about AVQT.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=171"
  },
  {
    "text": "So what exactly is AVQT? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=174"
  },
  {
    "text": "Well, AVQT comes as a macOS command line executable.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=176"
  },
  {
    "text": "And it attempts to mimic how real people ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=181"
  },
  {
    "text": "rate quality of compressed videos.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=183"
  },
  {
    "text": "You can use AVQT to compute both frame level ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=187"
  },
  {
    "text": "and segment level scores, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=190"
  },
  {
    "text": "where a segment is typically a few seconds long.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=192"
  },
  {
    "text": "And, of course, we have added support ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=195"
  },
  {
    "text": "for all AVFoundation-based video formats in AVQT.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=198"
  },
  {
    "text": "This includes SDR, as well as HDR video formats ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=202"
  },
  {
    "text": "such as HDR10, HLG, and Dolby Vision.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=206"
  },
  {
    "text": "Next, we want to discuss three key attributes of AVQT ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=212"
  },
  {
    "text": "that make it very useful across applications.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=217"
  },
  {
    "text": "First, we will see how well AVQT aligns with human perception.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=220"
  },
  {
    "text": "Then we will talk about AVQT's computational speed.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=226"
  },
  {
    "text": "And finally, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=231"
  },
  {
    "text": "we will show why viewing setup awareness is important ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=232"
  },
  {
    "text": "when predicting video quality.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=236"
  },
  {
    "text": "Let's get into details for each of these.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=238"
  },
  {
    "text": "AVQT correlates well with human opinions on video quality.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=242"
  },
  {
    "text": "And it works well across content types, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=247"
  },
  {
    "text": "such as animation, natural scenes, or sports.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=250"
  },
  {
    "text": "We have found that traditional video quality metrics ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=254"
  },
  {
    "text": "such as PSNR and structural similarity -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=257"
  },
  {
    "text": "or SSIM in short -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=261"
  },
  {
    "text": "typically do not work very well across content types.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=263"
  },
  {
    "text": "Let's look at one example.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=267"
  },
  {
    "text": "Now, this is a frame from a high-quality sports clip, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=270"
  },
  {
    "text": "which is our first source video.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=274"
  },
  {
    "text": "Let's look at the same frame in the compressed video.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=276"
  },
  {
    "text": "You can see that the frame does appear to be ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=282"
  },
  {
    "text": "of sufficiently high perceptual quality.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=284"
  },
  {
    "text": "Rightly so, it gets a PSNR score of around 35 ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=287"
  },
  {
    "text": "and an AVQT score of 4.4.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=292"
  },
  {
    "text": "Next, we go with the same exercise ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=296"
  },
  {
    "text": "for our second source video.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=299"
  },
  {
    "text": "The compressed video in this case ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=302"
  },
  {
    "text": "seems to have visible artifacts.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=304"
  },
  {
    "text": "In particular, you can see some artifacts ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=307"
  },
  {
    "text": "on the face of the person.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=310"
  },
  {
    "text": "Interestingly, it gets the same PSNR score of around 35, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=313"
  },
  {
    "text": "but this time AVQT rates it around 2.5, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=318"
  },
  {
    "text": "implying poor quality.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=322"
  },
  {
    "text": "We think the AVQT score is the correct prediction here.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=325"
  },
  {
    "text": "Note that this is just one example we have picked ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=329"
  },
  {
    "text": "to illustrate what can go wrong in cross-content evaluations.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=333"
  },
  {
    "text": "We wanted to test AVQT's perceptual accuracy ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=339"
  },
  {
    "text": "on a diverse set of videos.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=342"
  },
  {
    "text": "So we evaluated it ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=345"
  },
  {
    "text": "on publicly available video quality datasets.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=346"
  },
  {
    "text": "These datasets include source videos, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=350"
  },
  {
    "text": "compressed videos, and video quality scores ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=353"
  },
  {
    "text": "provided by human subjects.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=357"
  },
  {
    "text": "Here, we will show you the results on two datasets: ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=359"
  },
  {
    "text": "Waterloo IVC 4K and VQEG HD3.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=363"
  },
  {
    "text": "The Waterloo IVC dataset includes 20 source videos ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=368"
  },
  {
    "text": "and 480 compressed videos, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=372"
  },
  {
    "text": "spanning both coding and scaling artifacts.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=375"
  },
  {
    "text": "It covers four different video resolutions ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=379"
  },
  {
    "text": "and two different video standards.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=382"
  },
  {
    "text": "The VQEG HD3 dataset is relatively smaller.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=385"
  },
  {
    "text": "It has nine source videos and 72 compressed videos.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=389"
  },
  {
    "text": "And these were generated using video coding ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=394"
  },
  {
    "text": "at 1080p video resolution.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=397"
  },
  {
    "text": "And to measure performance ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=401"
  },
  {
    "text": "of a video quality metric objectively, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=402"
  },
  {
    "text": "we make use of correlation and distance measures.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=405"
  },
  {
    "text": "Pearson Correlation Coefficient, or PCC in short, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=409"
  },
  {
    "text": "measures how well the predicted scores ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=413"
  },
  {
    "text": "correlate with subjective scores.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=416"
  },
  {
    "text": "A higher PCC value implies better correlation.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=418"
  },
  {
    "text": "And RMSE measures how far off the predictions are ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=423"
  },
  {
    "text": "from subjective scores.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=426"
  },
  {
    "text": "A lower RMSE value would imply higher prediction accuracy.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=429"
  },
  {
    "text": "Now, we want to evaluate how well can AVQT predict the scores ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=434"
  },
  {
    "text": "given by human subjects.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=438"
  },
  {
    "text": "On the x-axis here, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=441"
  },
  {
    "text": "we have the ground truth subjective video quality scores.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=443"
  },
  {
    "text": "And on the y-axis, we have scores predicted by AVQT.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=446"
  },
  {
    "text": "Every point here represents a compressed video.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=451"
  },
  {
    "text": "As you can see from the scatter plot, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=455"
  },
  {
    "text": "except for a few outliers, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=457"
  },
  {
    "text": "AVQT does a great job in predicting the subjective scores ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=459"
  },
  {
    "text": "for this dataset.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=463"
  },
  {
    "text": "This is also reflected in the high PCC and low RMSE scores.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=465"
  },
  {
    "text": "And we see a high performance on the VQEG HD3 dataset as well.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=472"
  },
  {
    "text": "Let's move on and talk about AVQT's computational speed.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=478"
  },
  {
    "text": "Note that high computational speed is quite important ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=483"
  },
  {
    "text": "to ensure scalability.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=486"
  },
  {
    "text": "AVQT's algorithm is designed and optimized to run fast on Metal.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=489"
  },
  {
    "text": "This implies that you can run through large video files ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=495"
  },
  {
    "text": "very quickly.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=498"
  },
  {
    "text": "It also takes care of all preprocessing natively.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=500"
  },
  {
    "text": "For you, this means you don't have to decode your videos ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=504"
  },
  {
    "text": "and scale them offline.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=507"
  },
  {
    "text": "AVQT does that for you.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=509"
  },
  {
    "text": "You should note that AVQT runs through a 1080p video ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=511"
  },
  {
    "text": "at 175 frames per second.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=515"
  },
  {
    "text": "So if you have a 10-minute long 1080p video at 24 Hz, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=518"
  },
  {
    "text": "AVQT can compute its quality in under 1.5 minutes.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=522"
  },
  {
    "text": "The final attribute we want to talk about ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=528"
  },
  {
    "text": "is viewing setup awareness.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=531"
  },
  {
    "text": "Your viewing setup can affect the video quality you perceive ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=535"
  },
  {
    "text": "when watching a video.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=538"
  },
  {
    "text": "In particular, factors such as display size, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=541"
  },
  {
    "text": "display resolution, and viewing distance ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=544"
  },
  {
    "text": "can mask or exaggerate artifacts in the video.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=547"
  },
  {
    "text": "To address this, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=551"
  },
  {
    "text": "AVQT takes these parameters as input to the tool ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=552"
  },
  {
    "text": "and then attempts to predict the right trend ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=557"
  },
  {
    "text": "as these factors change.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=559"
  },
  {
    "text": "Let's take a look at one such case.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=561"
  },
  {
    "text": "Consider two scenarios.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=564"
  },
  {
    "text": "In scenario A, you're watching a 4K video on a 4K display ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=566"
  },
  {
    "text": "at a viewing distance of 1.5 times the height of the screen.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=571"
  },
  {
    "text": "In scenario B, you are watching the same video ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=576"
  },
  {
    "text": "on the same display but now at a viewing distance ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=580"
  },
  {
    "text": "which is three times the height of the screen.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=583"
  },
  {
    "text": "Clearly, in scenario B you will miss out on some of the artifacts ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=587"
  },
  {
    "text": "which were visible when you were watching it closely.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=591"
  },
  {
    "text": "This implies that your perceived video quality in scenario B ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=595"
  },
  {
    "text": "will be higher than in scenario A.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=599"
  },
  {
    "text": "And AVQT can capture such trends at different quality levels.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=603"
  },
  {
    "text": "The chart here shows that as viewing distance increases ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=607"
  },
  {
    "text": "from 1.5H to 3H, AVQT scores increase as well.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=611"
  },
  {
    "text": "We recommend you go over the README document ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=617"
  },
  {
    "text": "available with the tool for more information on this.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=620"
  },
  {
    "text": "Well, now that we have all of you excited about AVQT, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=625"
  },
  {
    "text": "let me show how you can use the tool the right way.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=628"
  },
  {
    "text": "We will be making AVQT available to all of you soon ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=633"
  },
  {
    "text": "via the Developer downloads portal.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=636"
  },
  {
    "text": "Let me walk you through a demo.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=640"
  },
  {
    "text": "So I have already downloaded the tool ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=643"
  },
  {
    "text": "and installed AVQT on this system.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=645"
  },
  {
    "text": "If you look at the output of \"which AVQT\", ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=649"
  },
  {
    "text": "you can see AVQT is placed in the usr/local/bin directory.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=651"
  },
  {
    "text": "Now, you can invoke AVQT help command ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=658"
  },
  {
    "text": "to read more about the usage of different flags ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=660"
  },
  {
    "text": "supported by AVQT.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=664"
  },
  {
    "text": "Let's see what I have in my current directory.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=668"
  },
  {
    "text": "I have a sample reference and a sample compressed video ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=671"
  },
  {
    "text": "that I will use for the demo.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=675"
  },
  {
    "text": "So let me run AVQT through them.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=677"
  },
  {
    "text": "We will provide the reference and test files as input ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=681"
  },
  {
    "text": "and specify an output file.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=685"
  },
  {
    "text": "Let's name the output file sample_output.csv.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=688"
  },
  {
    "text": "The tool prints the progress ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=694"
  },
  {
    "text": "and reports the segment scores on the screen.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=696"
  },
  {
    "text": "The default segment duration is six seconds ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=699"
  },
  {
    "text": "and since this clip is five seconds long, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=702"
  },
  {
    "text": "we have only one segment.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=704"
  },
  {
    "text": "Next, let's look at the output file.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=708"
  },
  {
    "text": "You can see the frame level scores here.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=712"
  },
  {
    "text": "And, finally, we have the segment level scores ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=715"
  },
  {
    "text": "towards the bottom.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=718"
  },
  {
    "text": "Now, in the demo, we showed a few options, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=723"
  },
  {
    "text": "but the tool has several other features built into it as well.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=726"
  },
  {
    "text": "For example, you can use the segment-duration ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=729"
  },
  {
    "text": "and the temporal-pooling flags ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=733"
  },
  {
    "text": "to change the way frame level scores are aggregated.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=735"
  },
  {
    "text": "Similarly, you can specify the viewing setup ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=739"
  },
  {
    "text": "using the viewing-distance and display-resolution flags.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=743"
  },
  {
    "text": "Please refer to the README for more details on this.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=747"
  },
  {
    "text": "All right.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=751"
  },
  {
    "text": "So far we have learned about some of the key attributes ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=753"
  },
  {
    "text": "of AVQT.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=755"
  },
  {
    "text": "We have also seen how to use the command line tool ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=757"
  },
  {
    "text": "on a pair of videos to generate video quality scores.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=760"
  },
  {
    "text": "Now let's take a look at a specific case ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=765"
  },
  {
    "text": "where you can use AVQT to optimize bit rates for HLS.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=768"
  },
  {
    "text": "HLS tiers are encoded at different bit rates.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=774"
  },
  {
    "text": "And we know that choosing these bit rates ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=778"
  },
  {
    "text": "is not an easy process always.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=780"
  },
  {
    "text": "To help with this, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=783"
  },
  {
    "text": "we have published some bit rate guidelines ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=785"
  },
  {
    "text": "in the HLS Authoring Specification document.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=787"
  },
  {
    "text": "Please note that these bit rates ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=791"
  },
  {
    "text": "are only initial encoding targets ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=793"
  },
  {
    "text": "for typical content delivered via HLS.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=795"
  },
  {
    "text": "We also know that different content ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=800"
  },
  {
    "text": "has different encoding complexity, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=802"
  },
  {
    "text": "which implies that the optimal bit rate ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=804"
  },
  {
    "text": "varies across different content.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=807"
  },
  {
    "text": "So the bit rate that works well for one type of content -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=809"
  },
  {
    "text": "for example, an animation movie -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=813"
  },
  {
    "text": "might not work well for a sporting event.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=815"
  },
  {
    "text": "Here's how you can use AVQT as feedback to help you determine ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=820"
  },
  {
    "text": "optimal bit rate for your content.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=824"
  },
  {
    "text": "First, we start with our initial target bit rates.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=828"
  },
  {
    "text": "We use this bit rate to encode our source video ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=832"
  },
  {
    "text": "and create the HLS tier.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=835"
  },
  {
    "text": "We then use the source video and the encoded HLS tier ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=838"
  },
  {
    "text": "to compute video quality scores using AVQT.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=842"
  },
  {
    "text": "Finally, we can analyze AVQT scores ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=847"
  },
  {
    "text": "to decide if we want to increase or decrease the target bit rate ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=850"
  },
  {
    "text": "for the HLS tier.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=854"
  },
  {
    "text": "To demonstrate this with an example, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=858"
  },
  {
    "text": "let's pick a specific HLS tier.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=860"
  },
  {
    "text": "Here we are choosing the 2160p tier ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=863"
  },
  {
    "text": "at 11.6 megabits per second.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=866"
  },
  {
    "text": "We will then encode our previous two sequences -- ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=870"
  },
  {
    "text": "animation and sports -- with this recommended bit rate.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=873"
  },
  {
    "text": "Once we have the encoded tiers ready, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=877"
  },
  {
    "text": "we will use AVQT to compute their video quality scores.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=880"
  },
  {
    "text": "The chart here shows AVQT scores for the two video sequences.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=885"
  },
  {
    "text": "For this particular tier, we can expect a high video quality, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=890"
  },
  {
    "text": "so we are setting the threshold to be 4.5, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=894"
  },
  {
    "text": "indicating close-to-excellent quality.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=898"
  },
  {
    "text": "You can see that while this bit rate ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=901"
  },
  {
    "text": "is good enough for this animation clip, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=903"
  },
  {
    "text": "it is not sufficient for the sports clip.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=905"
  },
  {
    "text": "So we go back and use this feedback ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=910"
  },
  {
    "text": "to adapt our bit rate target.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=912"
  },
  {
    "text": "In particular, we need to increase our bit rate target ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=915"
  },
  {
    "text": "for the sports clip and recompute its AVQT score.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=918"
  },
  {
    "text": "Let's aim for a 10-percent increase in bit rate.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=923"
  },
  {
    "text": "Here we have plotted our new AVQT scores for the sports clip.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=928"
  },
  {
    "text": "The updated scores now lie above our expected threshold ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=933"
  },
  {
    "text": "of four and a half.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=937"
  },
  {
    "text": "And it also resembles video quality of the animation content ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=939"
  },
  {
    "text": "much more closely.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=943"
  },
  {
    "text": "To wrap up, here are a few important things ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=945"
  },
  {
    "text": "that we want you to take away from this talk.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=948"
  },
  {
    "text": "Video compression can lead to visible artifacts, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=952"
  },
  {
    "text": "which affects consumers' video quality experience.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=955"
  },
  {
    "text": "You can evaluate the quality of your compressed videos ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=959"
  },
  {
    "text": "using AVQT.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=962"
  },
  {
    "text": "AVQT comes as a macOS command line tool, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=965"
  },
  {
    "text": "is quick to compute, and is viewing setup aware.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=968"
  },
  {
    "text": "It also has support ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=972"
  },
  {
    "text": "for all AVFoundation-based video formats.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=974"
  },
  {
    "text": "Finally, you can use AVQT to optimize the video quality ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=978"
  },
  {
    "text": "of your HLS tiers.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=982"
  },
  {
    "text": "Thank you very much! ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=985"
  },
  {
    "text": "♪",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10145/?time=988"
  }
]