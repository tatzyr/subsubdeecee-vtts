[
  {
    "text": " ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=2"
  },
  {
    "text": "Hi, I'm Michael Ochs. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=9"
  },
  {
    "text": "I'm a framework engineer on the UIKit team. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=11"
  },
  {
    "text": "Welcome to Focus on iPad keyboard navigation.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=13"
  },
  {
    "text": "People love using hardware keyboards with their iPads. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=17"
  },
  {
    "text": "Mac Catalyst and iPadOS 15 introduce powerful API ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=20"
  },
  {
    "text": "to support keyboard navigation in your app.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=24"
  },
  {
    "text": "Navigating any app with a keyboard on iPadOS ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=28"
  },
  {
    "text": "will feel very familiar. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=31"
  },
  {
    "text": "The tab key navigates between significant areas in an app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=33"
  },
  {
    "text": "The arrow keys navigate within an area, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=36"
  },
  {
    "text": "and an item can be selected with the return key ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=39"
  },
  {
    "text": "on iPadOS or the space bar on Mac Catalyst. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=41"
  },
  {
    "text": "If your app already uses these key commands, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=45"
  },
  {
    "text": "your custom commands will no longer work. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=48"
  },
  {
    "text": "I'll show you how to resolve these conflicts later. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=50"
  },
  {
    "text": "First, let me show you keyboard navigation in action. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=55"
  },
  {
    "text": "In Photos, I can press the tab key to move the focus ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=58"
  },
  {
    "text": "from the Library cell in the sidebar ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=61"
  },
  {
    "text": "to the photos grid on the right. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=63"
  },
  {
    "text": "Now I can navigate between the photos ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=66"
  },
  {
    "text": "in the grid using the arrow keys. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=69"
  },
  {
    "text": "Once I found the photo I'm looking for, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=73"
  },
  {
    "text": "I can select it by pressing return.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=75"
  },
  {
    "text": "Once you compile with the iOS 15 SDK, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=81"
  },
  {
    "text": "this behavior will be enabled automatically ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=84"
  },
  {
    "text": "for text fields, text views, and sidebars. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=87"
  },
  {
    "text": "You should also opt in other collection, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=90"
  },
  {
    "text": "table, and custom views for a great experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=93"
  },
  {
    "text": "I'll show you how to do this in a minute.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=95"
  },
  {
    "text": "I know this is an exciting feature, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=99"
  },
  {
    "text": "but don't make every element in your app keyboard navigable. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=101"
  },
  {
    "text": "Keyboard navigation is intended ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=104"
  },
  {
    "text": "to give users access to key features of your app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=106"
  },
  {
    "text": "so focus on text input, lists, and collection views. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=109"
  },
  {
    "text": "Leave controls such as buttons, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=113"
  },
  {
    "text": "segmented controls, and switches aside. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=115"
  },
  {
    "text": "Full Keyboard access already allows these controls ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=118"
  },
  {
    "text": "to be keyboard navigable. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=120"
  },
  {
    "text": "To learn more about full Keyboard access, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=122"
  },
  {
    "text": "check out \"Support Full Keyboard Access in your iOS app.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=124"
  },
  {
    "text": "Keyboard navigation on iPadOS uses the same focus system ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=128"
  },
  {
    "text": "as tvOS ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=132"
  },
  {
    "text": "If you have written tvOS apps before, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=133"
  },
  {
    "text": "many of the APIs will feel familiar. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=135"
  },
  {
    "text": "However, there are some new APIs ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=137"
  },
  {
    "text": "and behavioral differences that you should be aware of. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=139"
  },
  {
    "text": "If you wanna learn more about the focus system in general, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=143"
  },
  {
    "text": "check out \"Focus Interaction in tvOS.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=146"
  },
  {
    "text": "In this video, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=150"
  },
  {
    "text": "I'm going to show you how to make more content in your app ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=151"
  },
  {
    "text": "focusable and how to customize the appearance ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=154"
  },
  {
    "text": "of these focusable items. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=157"
  },
  {
    "text": "I'll show you some special behavior in sidebars ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=159"
  },
  {
    "text": "that you should be aware of, and we are going to talk ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=162"
  },
  {
    "text": "about focus groups, a new way to define structure in your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=164"
  },
  {
    "text": "At the end, I'm going to show you some important changes ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=169"
  },
  {
    "text": "in the responder chain that you should be familiar with. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=172"
  },
  {
    "text": "But now, let's take a look at how ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=175"
  },
  {
    "text": "to make more elements in your UI focusable. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=177"
  },
  {
    "text": "canBecomeFocused is the single source of truth. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=181"
  },
  {
    "text": "It is a read-only property of UIFocusItem. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=184"
  },
  {
    "text": "Override it and return true to make an item focusable. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=188"
  },
  {
    "text": "Now, you might be wondering, what is a focus item? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=192"
  },
  {
    "text": "The backbone of the focus system are the two protocols: ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=196"
  },
  {
    "text": "UIFocusItem and UIFocusEnvironment. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=200"
  },
  {
    "text": "FocusItems are simply that, items that can be focused. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=204"
  },
  {
    "text": "FocusEnvironments define the hierarchy ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=208"
  },
  {
    "text": "of focusable items. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=210"
  },
  {
    "text": "UIView conforms to both of these protocols, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=213"
  },
  {
    "text": "since any view can be focused itself, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=215"
  },
  {
    "text": "but it can also contain subviews that can be focused. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=218"
  },
  {
    "text": "UIViewController, on the other hand, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=222"
  },
  {
    "text": "only conforms to UIFocusEnvironment, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=224"
  },
  {
    "text": "since it doesn't provide any visuals itself. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=226"
  },
  {
    "text": "You can also implement both protocols on your own objects. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=230"
  },
  {
    "text": "This allows you to adopt focus in content that is rendered ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=234"
  },
  {
    "text": "with other technologies, like Metal. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=237"
  },
  {
    "text": "The most likely candidates for keyboard navigation ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=240"
  },
  {
    "text": "are cells in a table or collection view. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=243"
  },
  {
    "text": "UIKit offers some convenience APIs, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=246"
  },
  {
    "text": "so you don't have to subclass. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=248"
  },
  {
    "text": "Set allowsFocus to true on a table or collection view ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=250"
  },
  {
    "text": "to make all of its cells focusable. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=254"
  },
  {
    "text": "Note that in sidebars, allowsFocus is true by default.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=257"
  },
  {
    "text": "For more fine-grained control, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=262"
  },
  {
    "text": "you can use canFocusItemAt indexPath in your delegate ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=264"
  },
  {
    "text": "to control focusability for each cell individually. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=267"
  },
  {
    "text": "Both of these methods will only have an effect ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=271"
  },
  {
    "text": "on cells that don't override canBecomeFocused.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=273"
  },
  {
    "text": "If a focus item is not behaving as you would expect, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=278"
  },
  {
    "text": "there are some debugging tools available. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=281"
  },
  {
    "text": "In lldb you can call ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=283"
  },
  {
    "text": "UIFocusDebugger. CheckFocusability(for item:) ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=285"
  },
  {
    "text": "and pass in the item you want to debug. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=288"
  },
  {
    "text": "For example, a view that you are trying to make focusable. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=290"
  },
  {
    "text": "It will give you an explanation of why the focus system ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=293"
  },
  {
    "text": "does not consider this item to be focusable.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=297"
  },
  {
    "text": "So, we talked about how to make your UI focusable. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=303"
  },
  {
    "text": "Let's take a closer look at the appearance ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=306"
  },
  {
    "text": "of focused items. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=308"
  },
  {
    "text": "There are two styles you will commonly see ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=310"
  },
  {
    "text": "throughout the system. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=312"
  },
  {
    "text": "First, there is the Halo Effect, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=314"
  },
  {
    "text": "similar to the focus ring on macOS. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=316"
  },
  {
    "text": "In fact, this is the default effect on Mac Catalyst. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=318"
  },
  {
    "text": "On iPadOS, you can use this effect ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=322"
  },
  {
    "text": "by assigning a UIFocusHaloEffect to the focusEffect property. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=325"
  },
  {
    "text": "If initialized with no arguments, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=329"
  },
  {
    "text": "the system will infer the shape of the halo. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=331"
  },
  {
    "text": "You can also customize the shape to better match the content. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=334"
  },
  {
    "text": "For example, if an image has rounded corners, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=338"
  },
  {
    "text": "the halo should match its appearance ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=342"
  },
  {
    "text": "by also having rounded corners.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=344"
  },
  {
    "text": "UIFocusHaloEffect has a number of initializers ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=348"
  },
  {
    "text": "for different shapes, including one for rounded rects. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=352"
  },
  {
    "text": "Use these initializers to make sure the halo's shape ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=356"
  },
  {
    "text": "creates an outline around your view's content. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=359"
  },
  {
    "text": "The Halo Effect also gives you control over its position ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=362"
  },
  {
    "text": "in the view hierarchy. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=365"
  },
  {
    "text": "Here the halo is rendering above the badge on the image, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=367"
  },
  {
    "text": "but it would look better if the halo was ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=371"
  },
  {
    "text": "between the image and the badge. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=373"
  },
  {
    "text": "By specifying the image view as the referenceView, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=375"
  },
  {
    "text": "UIKit will render the halo on top of the image ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=379"
  },
  {
    "text": "and below the badge. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=382"
  },
  {
    "text": "The reference view defines the relative order ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=385"
  },
  {
    "text": "of the halo in the view hierarchy. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=387"
  },
  {
    "text": "You can also specify a container view, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=391"
  },
  {
    "text": "which defines the superview of the halo effect. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=393"
  },
  {
    "text": "This is useful if the direct superview ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=396"
  },
  {
    "text": "of the focused item is clipping its content.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=398"
  },
  {
    "text": "Both of these are optional, and you should only provide them ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=405"
  },
  {
    "text": "if the inferred appearance isn't what you expect.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=408"
  },
  {
    "text": "Cells in collection and table views should ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=413"
  },
  {
    "text": "show a halo around them only when they have ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=415"
  },
  {
    "text": "fully-opaque content, like an image. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=417"
  },
  {
    "text": "In all other cases, when a cell becomes focused, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=420"
  },
  {
    "text": "it should look highlighted. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=423"
  },
  {
    "text": "This means the background should turn into the tint color ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=425"
  },
  {
    "text": "of your app, and the foreground color ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=428"
  },
  {
    "text": "for text and icons should be adjusted for good contrast. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=430"
  },
  {
    "text": "This highlight appearance is not available as a UIFocusEffect. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=434"
  },
  {
    "text": "Instead, you will get this appearance ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=438"
  },
  {
    "text": "automatically when using the background ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=440"
  },
  {
    "text": "and content configurations introduced in iOS 14. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=442"
  },
  {
    "text": "To learn more about these, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=446"
  },
  {
    "text": "take a look at \"Modern cell configuration.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=447"
  },
  {
    "text": "If you're not using background and content configurations, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=450"
  },
  {
    "text": "the sample app shows you how to get the correct color ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=453"
  },
  {
    "text": "in all cases. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=456"
  },
  {
    "text": "Make sure to check that out.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=457"
  },
  {
    "text": "Now, if you want to apply a custom appearance, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=460"
  },
  {
    "text": "first set the focusEffect property to nil. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=463"
  },
  {
    "text": "This turns off any system styling. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=465"
  },
  {
    "text": "Next override ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=468"
  },
  {
    "text": "didUpdateFocus (in: context withAnimationCoordinator :) ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=470"
  },
  {
    "text": "on your focus item. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=473"
  },
  {
    "text": "If the next focused item is self, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=476"
  },
  {
    "text": "apply styling to indicate focus. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=478"
  },
  {
    "text": "If the previously-focused item is self, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=481"
  },
  {
    "text": "restore the nonfocused appearance. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=483"
  },
  {
    "text": "You should only make changes in didUpdateFocus(in: context) ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=487"
  },
  {
    "text": "when the next or previously focused item ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=490"
  },
  {
    "text": "is relevant to this environment. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=493"
  },
  {
    "text": "This is because all ancestor environments ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=496"
  },
  {
    "text": "of the previously focused item, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=499"
  },
  {
    "text": "as well as the next focused item, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=501"
  },
  {
    "text": "receive a call to didUpdateFocus(in: context). ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=502"
  },
  {
    "text": "So every superview and view controller will get this call. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=506"
  },
  {
    "text": "This allows for very flexible implementations, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=510"
  },
  {
    "text": "where a parent can react to focus changes of a child. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=513"
  },
  {
    "text": "Now let's take a closer look at a feature specific ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=517"
  },
  {
    "text": "to sidebars and similar context-changing UI. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=520"
  },
  {
    "text": "Selection and focus are two different concepts. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=524"
  },
  {
    "text": "However, in a sidebar, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=527"
  },
  {
    "text": "when I move focus, the selection follows.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=529"
  },
  {
    "text": "Likewise, if I select a new cell by tapping on it, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=536"
  },
  {
    "text": "focus also moves to this newly-selected cell.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=540"
  },
  {
    "text": "This is called \"selection follows focus.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=545"
  },
  {
    "text": "Set this property on any table or collection view ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=549"
  },
  {
    "text": "to the behavior you want for most of the cells. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=552"
  },
  {
    "text": "If you want to change the behavior for individual cells, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=555"
  },
  {
    "text": "implement selectionFollowsFocus ForItemAtIndexPath ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=559"
  },
  {
    "text": "in your delegate. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=562"
  },
  {
    "text": "Turning off selectionFollowsFocus ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=564"
  },
  {
    "text": "is useful when selecting a cell causes a disruptive action ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=566"
  },
  {
    "text": "to occur, such as pushing a new view controller ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=570"
  },
  {
    "text": "in the same column or presenting an alert.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=572"
  },
  {
    "text": "For example, in Photos, selecting \"new album\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=577"
  },
  {
    "text": "shows an alert asking for the album's name.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=580"
  },
  {
    "text": "When using the delegate, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=584"
  },
  {
    "text": "the value of the property still matters. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=586"
  },
  {
    "text": "Set selectionFollowsFocus to the overall intent ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=588"
  },
  {
    "text": "of the collection view and then use the delegate ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=592"
  },
  {
    "text": "to express special behavior for individual cells. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=594"
  },
  {
    "text": "The system will take both values into account ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=598"
  },
  {
    "text": "when choosing the right behavior.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=601"
  },
  {
    "text": "Now, let's take a look at focus groups, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=604"
  },
  {
    "text": "a new feature for keyboard navigation ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=607"
  },
  {
    "text": "to express structure in your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=609"
  },
  {
    "text": "UIKit automatically infers focus groups from the hierarchy, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=611"
  },
  {
    "text": "but you can also declare them explicitly to customize ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=615"
  },
  {
    "text": "how the tab key moves focus through your app.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=618"
  },
  {
    "text": "tvOS only uses directional focus. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=622"
  },
  {
    "text": "You can reach every single element simply by swiping ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=625"
  },
  {
    "text": "on the Siri Remote or using the arrow keys on a keyboard. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=628"
  },
  {
    "text": "iPadOS and Mac Catalyst, on the other hand, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=633"
  },
  {
    "text": "have two different methods of navigating with the keyboard: ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=636"
  },
  {
    "text": "The arrow keys and the tab key. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=639"
  },
  {
    "text": "Unlike tvOS, the arrow keys only move focus ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=642"
  },
  {
    "text": "within a defined area of your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=646"
  },
  {
    "text": "These areas are called focus groups. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=649"
  },
  {
    "text": "For example, I can navigate the list ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=652"
  },
  {
    "text": "of reminders using the up and down arrow keys.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=654"
  },
  {
    "text": "To navigate the lists, I can press the tab key ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=663"
  },
  {
    "text": "to focus on the search field ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=666"
  },
  {
    "text": "and then press tab again to move to the lists. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=668"
  },
  {
    "text": "If I press tab one more time, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=671"
  },
  {
    "text": "focus loops back to the reminders.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=674"
  },
  {
    "text": "The reminders, the search field, and the lists ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=678"
  },
  {
    "text": "are each a focus group, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=681"
  },
  {
    "text": "and the tab key moves focus between them.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=683"
  },
  {
    "text": "When focus moves to a group, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=688"
  },
  {
    "text": "it chooses an item inside of that group to focus on. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=690"
  },
  {
    "text": "That item is called the group's primary item.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=693"
  },
  {
    "text": "A group's primary item can change. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=699"
  },
  {
    "text": "For example, here I focus on the second reminder. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=702"
  },
  {
    "text": "The focus system remembers this ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=706"
  },
  {
    "text": "when I switch away from this group, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=708"
  },
  {
    "text": "and when I come back to the reminders, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=710"
  },
  {
    "text": "focus moves to the second item again ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=713"
  },
  {
    "text": "as this item is now the group's primary item. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=715"
  },
  {
    "text": "The tab key connects the primary items of each group ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=719"
  },
  {
    "text": "and moves focus between them. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=723"
  },
  {
    "text": "This is called the tab loop.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=724"
  },
  {
    "text": "Some environments define their own focus groups ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=728"
  },
  {
    "text": "by default. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=730"
  },
  {
    "text": "These include scroll views like collection and table view, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=732"
  },
  {
    "text": "as well as text input classes, like text fields and text views. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=735"
  },
  {
    "text": "If an environment does not define its own group, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=739"
  },
  {
    "text": "it inherits the group of the parent environment, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=742"
  },
  {
    "text": "commonly its superview or view controller. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=744"
  },
  {
    "text": "For example, by default, every cell automatically belongs ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=747"
  },
  {
    "text": "to the group of its collection view. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=751"
  },
  {
    "text": "By being in the same group, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=753"
  },
  {
    "text": "you can navigate between cells with the arrow keys. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=754"
  },
  {
    "text": "To define a focus group yourself, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=758"
  },
  {
    "text": "assign a focus group identifier to any view or view controller. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=760"
  },
  {
    "text": "When two environments share the same identifier, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=764"
  },
  {
    "text": "either explicitly or by inheritance, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=767"
  },
  {
    "text": "they are part of the same group. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=769"
  },
  {
    "text": "To customize the primary item of a group, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=772"
  },
  {
    "text": "assign a focus group priority to that item. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=775"
  },
  {
    "text": "This defines how important an item is within the group. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=778"
  },
  {
    "text": "The visible item with the highest priority ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=782"
  },
  {
    "text": "is the group's primary item. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=785"
  },
  {
    "text": "By default, the system assigns one ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=788"
  },
  {
    "text": "of the predefined priorities: Ignored, the default priority; ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=790"
  },
  {
    "text": "previously focused; prioritized, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=795"
  },
  {
    "text": "indicating an item is more important than others, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=799"
  },
  {
    "text": "like a selected cell; and currently focused, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=802"
  },
  {
    "text": "which is the highest priority possible. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=805"
  },
  {
    "text": "It's important to understand ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=808"
  },
  {
    "text": "that you can never lower the priority ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=810"
  },
  {
    "text": "of an item below its system-provided priority. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=812"
  },
  {
    "text": "Instead, you should raise the priority ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=815"
  },
  {
    "text": "of a different item.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=817"
  },
  {
    "text": "For example, if you assign a priority higher ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=820"
  },
  {
    "text": "than .previouslyFocused to a cell, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=822"
  },
  {
    "text": "that cell will become more important ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=824"
  },
  {
    "text": "than the last-focused item of that group. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=826"
  },
  {
    "text": "So even if this customized cell and the previously focused cell ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=829"
  },
  {
    "text": "are both visible, the customized cell would become ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=833"
  },
  {
    "text": "the primary item because it has a higher priority. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=836"
  },
  {
    "text": "So, now you know how to group your items together. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=840"
  },
  {
    "text": "Next, let's focus on how these groups are sorted. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=844"
  },
  {
    "text": "Here, we see Reminders again. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=847"
  },
  {
    "text": "As mentioned before, each table and collection view, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=850"
  },
  {
    "text": "as well as each text field, define its own group.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=853"
  },
  {
    "text": "As seen before, when pressing the tab key continuously, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=857"
  },
  {
    "text": "focus goes from the search field to the lists in the sidebar, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=861"
  },
  {
    "text": "and then to the reminders on the right.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=864"
  },
  {
    "text": "This is what UIKit does by default. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=869"
  },
  {
    "text": "However, if you built this kind of container view yourself, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=871"
  },
  {
    "text": "focus would move from the search field straight to the reminders ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=874"
  },
  {
    "text": "because all the groups are sorted in reading order, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=877"
  },
  {
    "text": "leading to trailing, top to bottom. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=881"
  },
  {
    "text": "The focus system does not know that the sidebar ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=884"
  },
  {
    "text": "is a distinct column.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=887"
  },
  {
    "text": "To ensure the search field and lists are sorted ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=890"
  },
  {
    "text": "in one continuous block, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=892"
  },
  {
    "text": "you can put them in a common parent group. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=894"
  },
  {
    "text": "This is done by defining a focus group identifier ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=896"
  },
  {
    "text": "on the sidebar's container view. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=899"
  },
  {
    "text": "Even though this new group does not contain any focusable items ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=902"
  },
  {
    "text": "directly, the tab loop will move from the search field group ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=906"
  },
  {
    "text": "to the lists group before moving on to the reminders list.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=909"
  },
  {
    "text": "Many standard UIKit presentations already ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=914"
  },
  {
    "text": "provide these intermediate groups. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=917"
  },
  {
    "text": "For custom container views, declare your own ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=920"
  },
  {
    "text": "focusGroupIdentifier on common ancestors. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=922"
  },
  {
    "text": "Focus groups are an easy way ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=925"
  },
  {
    "text": "to define the visual structure of your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=927"
  },
  {
    "text": "You don't have to define a fixed order for your tab loop. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=930"
  },
  {
    "text": "Instead, the system uses focus groups ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=933"
  },
  {
    "text": "to derive a tab loop order that takes into account ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=935"
  },
  {
    "text": "reading direction, layout, and visibility ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=938"
  },
  {
    "text": "to provide a consistent experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=941"
  },
  {
    "text": "When customizing focus groups in your app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=944"
  },
  {
    "text": "UIFocusDebugger is your friend. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=946"
  },
  {
    "text": "If you call checkFocusGroupTree (for environment:) ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=948"
  },
  {
    "text": "it'll print the focus group structure, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=951"
  },
  {
    "text": "starting at the passed-in environment. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=953"
  },
  {
    "text": "You can even pass in the focus system itself ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=956"
  },
  {
    "text": "to see all current groups.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=958"
  },
  {
    "text": "Now, this textual structure is helpful, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=962"
  },
  {
    "text": "but there's one more debugging tool. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=964"
  },
  {
    "text": "Remember the screenshot I showed you ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=967"
  },
  {
    "text": "with the focus groups and Reminders? ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=968"
  },
  {
    "text": "You can actually get this live in your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=970"
  },
  {
    "text": "When enabled, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=973"
  },
  {
    "text": "the focus loop debugger visualizes the tab loop order ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=974"
  },
  {
    "text": "in your app when you press and hold the option key.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=977"
  },
  {
    "text": "And when pressing option and control, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=981"
  },
  {
    "text": "you get a visualization of the focus groups. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=983"
  },
  {
    "text": "In this mode, the primary item of a group ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=986"
  },
  {
    "text": "is indicated by a dotted line.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=988"
  },
  {
    "text": "To enable it, go to your scheme settings ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=992"
  },
  {
    "text": "in Xcode, select \"run,\" and then \"arguments.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=995"
  },
  {
    "text": "Then add the launch argument -UIFocusLoopDebuggerEnabled YES, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=997"
  },
  {
    "text": "and don't forget to put the dash in front of it. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1002"
  },
  {
    "text": "Now, whenever you run your app from Xcode, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1005"
  },
  {
    "text": "this debug overlay is available right in your app. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1007"
  },
  {
    "text": "This covers the basics of focus on iPadOS and Mac Catalyst. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1010"
  },
  {
    "text": "There's one more topic to cover for keyboard navigation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1014"
  },
  {
    "text": "and that's the responder chain.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1017"
  },
  {
    "text": "Since both the responder chain and the focus system are dealing ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1021"
  },
  {
    "text": "with keyboard input, UIKit synchronizes these systems ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1024"
  },
  {
    "text": "as much as possible to make sure the focused item is always ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1028"
  },
  {
    "text": "inside the first responder or is the first responder itself.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1031"
  },
  {
    "text": "Let's look at a simplified view hierarchy with a text field ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1036"
  },
  {
    "text": "and a collection view cell. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1039"
  },
  {
    "text": "Currently, the text field is focused, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1041"
  },
  {
    "text": "indicated by the solid ring, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1043"
  },
  {
    "text": "and it is also the first responder, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1045"
  },
  {
    "text": "indicated by the dashed ring. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1047"
  },
  {
    "text": "When focus moves to this collection view cell, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1049"
  },
  {
    "text": "UIKit also tries to move the first responder ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1052"
  },
  {
    "text": "to this cell. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1055"
  },
  {
    "text": "If this cell returns false from canBecomeFirstResponder, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1057"
  },
  {
    "text": "the system iterates up the responder chain ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1060"
  },
  {
    "text": "to find a responder that returns true. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1063"
  },
  {
    "text": "In this case, that responder is the cell's view controller.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1066"
  },
  {
    "text": "Note that the inverse is also true. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1071"
  },
  {
    "text": "When the first responder changes, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1074"
  },
  {
    "text": "the focus system will try to find a new focusable item ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1075"
  },
  {
    "text": "inside of that responder. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1078"
  },
  {
    "text": "With this relationship between the first responder ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1081"
  },
  {
    "text": "and the focused item, key events will always be delivered ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1084"
  },
  {
    "text": "to the focused item and move up the responder chain from there. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1087"
  },
  {
    "text": "This allows for some interesting new behavior. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1091"
  },
  {
    "text": "For example, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1094"
  },
  {
    "text": "if a cell responds to a key command and becomes focused, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1095"
  },
  {
    "text": "the key command is delivered to that cell. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1099"
  },
  {
    "text": "For ways to use this, take a look at our sample app.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1102"
  },
  {
    "text": "When updating your app for iPadOS 15, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1106"
  },
  {
    "text": "be conscious about where you call becomeFirstResponder. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1108"
  },
  {
    "text": "Since the responder chain and focus are synchronized, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1112"
  },
  {
    "text": "changing the first responder will force focus to update. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1114"
  },
  {
    "text": "This might be very disruptive to your users. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1118"
  },
  {
    "text": "It is typically best to avoid calling becomeFirstResponder, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1121"
  },
  {
    "text": "especially in response to a focus update.",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1124"
  },
  {
    "text": "The focus system provides a consistent experience ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1127"
  },
  {
    "text": "across all apps. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1130"
  },
  {
    "text": "To do this, it needs priority for certain key commands. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1131"
  },
  {
    "text": "If your app is using a key command like tab ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1135"
  },
  {
    "text": "or arrow down, that key command will ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1137"
  },
  {
    "text": "no longer work when compiling with the iOS 15 SDK. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1139"
  },
  {
    "text": "If this key command is used ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1143"
  },
  {
    "text": "to build your own custom keyboard navigation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1145"
  },
  {
    "text": "you can leave it untouched. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1147"
  },
  {
    "text": "It'll work on previous versions, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1148"
  },
  {
    "text": "and on iPadOS 15, the focus system will take over. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1149"
  },
  {
    "text": "Otherwise, remap this key command. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1153"
  },
  {
    "text": "If you really want to continue using this key command, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1156"
  },
  {
    "text": "make sure it doesn't break keyboard navigation, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1160"
  },
  {
    "text": "and then set wantsPriorityOverSystemBehavior ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1162"
  },
  {
    "text": "to true. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1164"
  },
  {
    "text": "If you want to learn more ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1166"
  },
  {
    "text": "about improvements to keyboard shortcuts, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1167"
  },
  {
    "text": "check out \"Take your iPad apps to the next level.\" ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1169"
  },
  {
    "text": "If you handle presses manually ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1173"
  },
  {
    "text": "by implementing pressesBegan, pressesChanged, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1175"
  },
  {
    "text": "pressesEnded, and pressesCancelled, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1178"
  },
  {
    "text": "make sure to implement all of these methods ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1180"
  },
  {
    "text": "and call super consistently for presses ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1183"
  },
  {
    "text": "that you don't handle. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1185"
  },
  {
    "text": "Keyboard navigation in iPadOS 15 and Mac Catalyst ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1187"
  },
  {
    "text": "is a powerful tool for your users. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1190"
  },
  {
    "text": "Make collection and table views focusable ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1193"
  },
  {
    "text": "to provide a great user experience. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1196"
  },
  {
    "text": "Update your key commands so they don't collide ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1198"
  },
  {
    "text": "with keyboard navigation. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1200"
  },
  {
    "text": "Also, check out the sample app, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1202"
  },
  {
    "text": "which illustrates a couple more features, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1204"
  },
  {
    "text": "such as building a great search experience, ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1205"
  },
  {
    "text": "custom selections, focus guides, and much more. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1208"
  },
  {
    "text": "I can't wait to see what you're building ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1211"
  },
  {
    "text": "with keyboard navigation on iPadOS 15. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1213"
  },
  {
    "text": "Thank you for watching. ",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1216"
  },
  {
    "text": "[percussive music]",
    "link": "https://developer.apple.com/videos/play/wwdc2021/10260/?time=1217"
  }
]