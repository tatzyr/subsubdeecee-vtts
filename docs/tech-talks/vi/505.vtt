WEBVTT

00:00:01.000 --> 00:00:11.000
Shloka Kini: Bối cảnh xác thực là một dịch vụ web trình bày giao diện người dùng xác thực và giao tiếp với máy chủ nhà cung cấp danh tính của bạn để xác thực thông tin đăng nhập của khách hàng.

00:00:11.000 --> 00:00:22.000
Đây là một trong nhiều bước bạn sẽ cần thực hiện để có được tính năng Đăng nhập một lần cho nhà cung cấp TV của mình trên các thiết bị iOS và tvOS như một phần của chương trình phân phối Apple TV.

00:00:22.000 --> 00:00:30.000
Bối cảnh xác thực là một dịch vụ web được lưu trữ trên máy chủ của bạn được tải xuống thiết bị Apple và được thực thi trong thời gian chạy.

00:00:30.000 --> 00:00:38.000
Khi ngữ cảnh xác thực chuyển phản hồi xác thực đến khung VideoSubscriberAccount, nó sẽ được lưu vào chuỗi khóa thiết bị.

00:00:38.000 --> 00:00:45.000
Trên các thiết bị iOS, phản hồi xác thực có thể được đồng bộ hóa với các thiết bị iOS khác thông qua Chuỗi khóa iCloud.

00:00:45.000 --> 00:00:53.000
Và trên Apple TV, phản hồi xác thực sẽ không rời khỏi thiết bị vì tvOS không hỗ trợ Chuỗi khóa iCloud.

00:00:53.000 --> 00:01:00.000
Mục đích của bối cảnh xác thực là cung cấp xác thực cấp hệ điều hành trên các ứng dụng được hỗ trợ.

00:01:00.000 --> 00:01:07.000
Bước đầu tiên của quy trình này là nhắc nhở một người nhập thông tin đăng nhập của họ bằng cách trình bày cho họ giao diện người dùng để xác thực.

00:01:07.000 --> 00:01:12.000
Để chỉ định giao diện người dùng cho mục nhập thông tin xác thực này, hãy sử dụng authenticationTemplate.

00:01:12.000 --> 00:01:17.000
Đây là một tài liệu XML tương tự như các ví dụ chúng tôi cung cấp trong tài liệu.

00:01:17.000 --> 00:01:26.000
Khi bạn cung cấp cho chúng tôi XML này, chúng tôi lấy nó và định dạng nó để trông giống như một phần của giao diện người dùng hệ thống Apple, tùy thuộc vào nền tảng mà người đó đang sử dụng.

00:01:26.000 --> 00:01:35.000
Ví dụ, mẫu tên người dùng-mật khẩu mặc định ở đây, có thể được áp dụng cho cả thiết bị iOS và tvOS.

00:01:35.000 --> 00:01:39.000
AutoAuthenticationTemplate không yêu cầu khách hàng nhập thông tin đăng nhập.

00:01:39.000 --> 00:01:49.000
Thay vào đó, nó thông báo cho khách hàng tài khoản nào họ sẽ được tự động xác thực và cung cấp cho họ tùy chọn đăng nhập thủ công vào một tài khoản khác.

00:01:49.000 --> 00:01:55.000
Mẫu này cũng có thể áp dụng cho cả thiết bị iOS và tvOS.

00:01:55.000 --> 00:02:03.000
Nếu bạn không thể trực tiếp lấy thông tin đăng nhập từ khách hàng, chúng tôi cung cấp các mẫu thay thế để xác thực trong những trường hợp đặc biệt.

00:02:03.000 --> 00:02:07.000
Mẫu xác thực mã trên màn hình chỉ áp dụng cho tvOS.

00:02:07.000 --> 00:02:16.000
Nó hiển thị mã trên màn hình để một người nhập vào trình duyệt web trên một thiết bị riêng biệt, chẳng hạn như điện thoại, máy tính bảng hoặc máy tính của họ.

00:02:16.000 --> 00:02:20.000
WebAuthenticationTemplate chỉ áp dụng cho các thiết bị iOS.

00:02:20.000 --> 00:02:25.000
Nó khởi chạy chế độ xem web, như thế này, sử dụng URL được chỉ định.

00:02:25.000 --> 00:02:33.000
Để giao tiếp giữa ngữ cảnh xác thực và chế độ xem web được khởi chạy, bạn sử dụng lớp VideoSubscriberAccount.

00:02:33.000 --> 00:02:40.000
Để bắt đầu, bạn sẽ tạo một ngữ cảnh xác thực với JavaScript và xác định giao diện người dùng xác thực với các mẫu XML.

00:02:40.000 --> 00:02:43.000
Lưu trữ tệp JavaScript này trên máy chủ của bạn.

00:02:43.000 --> 00:02:49.000
Hãy nhớ chỉ viết một ngữ cảnh xác thực, bởi vì cùng một ngữ cảnh có thể được sử dụng cho cả hai thiết bị.

00:02:49.000 --> 00:02:56.000
Cuối cùng, sau khi viết ngữ cảnh và XML của bạn, hãy gửi cho chúng tôi dữ liệu giới thiệu của nhà cung cấp TV.

00:02:56.000 --> 00:03:17.000
Dữ liệu này bao gồm tên được hiển thị trong giao diện người dùng của chúng tôi cho nhà cung cấp TV; số nhận dạng cho nhà cung cấp TV, sẽ được sử dụng trong hệ thống của chúng tôi để xác định nhà cung cấp TV duy nhất trong số những người khác; và URL xác thực, URL chúng tôi cần ping trên máy chủ nhà cung cấp TV để truy cập và tải

00:03:17.000 --> 00:03:22.000
Gửi cho chúng tôi tác phẩm nghệ thuật để hiển thị cho thương hiệu của nhà cung cấp TV trong giao diện người dùng App Store.

00:03:22.000 --> 00:03:26.000
Để biết thêm chi tiết về thông số kỹ thuật tác phẩm nghệ thuật, hãy xem tài liệu của chúng tôi.

00:03:26.000 --> 00:03:27.000
Gửi cho chúng tôi một danh sách kênh được hỗ trợ.

00:03:27.000 --> 00:03:30.000
Đây là một phần tùy chọn của dữ liệu giới thiệu.

00:03:30.000 --> 00:03:34.000
Tại đây, một kênh tham khảo các ứng dụng do nhà cung cấp TV hỗ trợ.

00:03:34.000 --> 00:03:41.000
Trong chương trình phân phối Apple TV, một ứng dụng sẽ được cài đặt tự động sau luồng xác thực; đó là ứng dụng chính.

00:03:41.000 --> 00:03:51.000
Nếu bạn có bất kỳ ứng dụng bổ sung nào sử dụng thông tin đăng nhập của nhà cung cấp TV, hãy sử dụng danh sách này để hiển thị các ứng dụng do nhà cung cấp TV khác hỗ trợ cho khách hàng.

00:03:51.000 --> 00:04:00.000
Để bắt đầu phát triển ngữ cảnh xác thực, hãy xử lý các cuộc gọi lại cho các yêu cầu được thực hiện bởi khung VideoSubscriberAccount đối với ngữ cảnh xác thực.

00:04:00.000 --> 00:04:03.000
Đầu tiên là onLaunch.

00:04:03.000 --> 00:04:09.000
Điều này cho thấy điều gì sẽ xảy ra sau khi nhà cung cấp TV được chọn từ danh sách Tài khoản VideoSubscriber.

00:04:09.000 --> 00:04:14.000
Sau khi chọn một nhà cung cấp TV, một màn hình đang chờ xử lý xuất hiện cho đến lần gọi lại tiếp theo.

00:04:14.000 --> 00:04:17.000
onShowUserInterface.

00:04:17.000 --> 00:04:24.000
Sau khi khởi chạy, sau đó bạn phải xử lý cuộc gọi lại để hiển thị mẫu xác thực cho mục nhập thông tin xác thực.

00:04:24.000 --> 00:04:27.000
Tiếp theo là onRequest.

00:04:27.000 --> 00:04:33.000
Sau khi thông tin đăng nhập được nhập, bạn lấy những thông tin đăng nhập đó và gửi chúng trực tiếp đến máy chủ nhà cung cấp danh tính của bạn.

00:04:33.000 --> 00:04:35.000
Những thông tin đăng nhập này không được lưu trữ trên thiết bị.

00:04:35.000 --> 00:04:45.000
Phản hồi xác thực được gửi lại từ máy chủ đến ngữ cảnh xác thực đến khung VideoSubscriberAccount để thiết lập xác thực cấp hệ thống.

00:04:45.000 --> 00:04:51.000
Các yêu cầu xác thực cấp ứng dụng sẽ chỉ được gửi để xử lý nếu xác thực cấp hệ thống này tốt.

00:04:51.000 --> 00:05:01.000
Để gỡ lỗi ứng dụng của bạn, hãy bật Chế độ Nhà phát triển trên các thiết bị iOS và tvOS của bạn để thêm và kiểm tra nhà cung cấp TV của bạn trước khi mã hoạt động.

00:05:01.000 --> 00:05:05.000
Để gỡ lỗi cụ thể ngữ cảnh xác thực của bạn, hãy sử dụng Trình kiểm tra web Safari.

00:05:05.000 --> 00:05:12.000
Đảm bảo bật Trình kiểm tra web trên thiết bị để thiết bị macOS của bạn có thể gỡ lỗi JavaScript.

00:05:12.000 --> 00:05:23.000
Tóm lại, ngữ cảnh xác thực là một dịch vụ web dựa trên JavaScript tạo điều kiện giao tiếp giữa máy chủ nhà cung cấp danh tính cho nhà cung cấp TV và khung Tài khoản VideoSubscriber.

00:05:23.000 --> 23:59:59.000
Cảm ơn bạn.

