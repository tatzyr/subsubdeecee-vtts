WEBVTT

00:00:03.000 --> 00:00:13.000
Bắt đầu với tvOS 11.2, Apple TV 4K có thể tự động chuyển đổi chế độ hiển thị video để phù hợp với tốc độ khung hình gốc và dải động của nội dung video.

00:00:13.000 --> 00:00:25.000
Phần Video và Âm thanh của ứng dụng Cài đặt cho phép cài đặt tốc độ khung hình phù hợp và hành vi dải động một cách độc lập và cho phép xem nội dung với tốc độ khung hình và dải động ban đầu.

00:00:25.000 --> 00:00:28.000
Theo mặc định, các tùy chọn này bị vô hiệu hóa.

00:00:28.000 --> 00:00:38.000
Khi được bật và nội dung video được phát lại trong một ứng dụng tương thích, tvOS sẽ tự động chuyển cài đặt hiển thị video để phù hợp với cài đặt của nội dung.

00:00:38.000 --> 00:00:51.000
Ví dụ, nếu nội dung ở 24 khung hình mỗi giây và dải động tiêu chuẩn, thiết bị sẽ chuyển từ chế độ hệ thống sang 24 khung hình mỗi giây, chế độ dải động tiêu chuẩn.

00:00:51.000 --> 00:00:58.000
Khi phiên phát lại phương tiện kết thúc, thiết bị sẽ chuyển trở lại chế độ hệ thống.

00:00:58.000 --> 00:01:10.000
Bước đầu tiên trong việc hỗ trợ khớp tốc độ khung hình cho nội dung của bạn là đảm bảo rằng danh sách phát chính HLS của bạn được chú thích đầy đủ với tốc độ khung hình gốc của các biến thể bằng cách sử dụng thuộc tính FRAME-RATE.

00:01:10.000 --> 00:01:16.000
Nếu danh sách phát không bao gồm thuộc tính FRAME-RATE, việc chuyển đổi chế độ tốc độ khung hình sẽ không được hỗ trợ cho tài sản đó.

00:01:16.000 --> 00:01:27.000
Hơn nữa, chỉ những danh sách phát khai báo tốc độ khung hình duy nhất cho tất cả các biến thể hoặc chỉ có tốc độ khung hình là bội số nguyên của tốc độ khung hình nhỏ nhất mới được hỗ trợ.

00:01:27.000 --> 00:01:33.000
Ví dụ, 29,97 và 59,94.

00:01:33.000 --> 00:01:49.000
Kết hợp chế độ dải động thường không yêu cầu bất kỳ thay đổi nào đối với danh sách phát của bạn, vì nội dung được giả định là SDR trừ khi thuộc tính VIDEO-RANGE chỉ định khác, vì tất cả nội dung không phải SDR phải bao gồm thuộc tính VIDEO-RANGE.

00:01:49.000 --> 00:01:59.000
Các ứng dụng sử dụng AVPlayerViewController sẽ tự động hỗ trợ khớp chế độ, trừ khi thuộc tính appliesPreferred DisplayCriteriaAutomatically được thay đổi thành false.

00:01:59.000 --> 00:02:09.000
Khi nội dung được phát lại ở chế độ toàn màn hình bằng AVPlayerViewController, tvOS sẽ tự động chuyển sang chế độ hiển thị thích hợp cho nội dung đó.

00:02:09.000 --> 00:02:18.000
Sau đó, khi AVPlayerViewController rời khỏi chế độ toàn màn hình hoặc bị loại bỏ, tvOS sẽ chuyển trở lại chế độ hiển thị hệ thống của nó.

00:02:18.000 --> 00:02:26.000
Đối với các ứng dụng phát lại nội dung toàn màn hình bằng AVPlayerViewController hoặc TVMLKit, không cần thêm công việc nào.

00:02:26.000 --> 00:02:56.000
Tuy nhiên, đối với các tình huống khác mà video của bạn có thể không phải lúc nào cũng được phát lại ở chế độ toàn màn hình, nếu bạn đang phát nhiều video cùng một lúc, thường xuyên chuyển đổi giữa các video ngắn khác nhau hoặc bạn không sử dụng AVPlayerViewController để phát lại video của mình, bạn có thể cần chỉ định trực tiếp AVDisplayMan

00:02:56.000 --> 00:03:12.000
Nếu bạn đang sử dụng AVPlayerViewController và muốn chọn không tham gia chuyển đổi chế độ hoàn toàn hoặc cần quản lý chế độ hiển thị theo cách thủ công, hãy bắt đầu bằng cách đặt thuộc tính appliesPreferredDisplay CriteriaAutomatically của AVPlayerViewController thành false.

00:03:12.000 --> 00:03:17.000
Điều này sẽ vô hiệu hóa hành vi kết hợp AVKit tự động.

00:03:17.000 --> 00:03:29.000
Sau đó, để kích hoạt tvOS chuyển đổi chế độ để khớp với một phần nội dung cụ thể, hãy truy xuất đối tượng AVDisplayCriteria được bán bởi thuộc tính preferredDisplayCriteria của AVAsset.

00:03:29.000 --> 00:03:38.000
Gán đối tượng AVDisplayCriteria cho thuộc tính preferredDisplayCriteria của AVDisplayManager được bán bởi khóa UIWindow.

00:03:38.000 --> 00:03:48.000
Việc chuyển đổi chế độ sẽ xảy ra khi cài đặt thuộc tính này, giả sử rằng kết hợp đã được bật trong cài đặt và thiết bị đính kèm hỗ trợ chế độ ưa thích.

00:03:48.000 --> 00:03:58.000
Bạn nên thực hiện công tắc này trước khi gán AVPlayerItem cho đối tượng AVPlayer để AVPlayer tự cấu hình dựa trên chế độ hiển thị được nhắm mục tiêu.

00:03:58.000 --> 00:04:05.000
Để chuyển trở lại chế độ mặc định của hệ thống, chỉ cần đặt thuộc tính preferredDisplayCriteria thành nil.

00:04:05.000 --> 00:04:15.000
Để biết khi nào công tắc chế độ bắt đầu và kết thúc, bạn có thể quan sát khóa-giá trị thuộc tính displayModeSwitchInProgress của đối tượng AVDisplayManager.

00:04:15.000 --> 00:04:25.000
Để giúp bạn xác định cách tốt nhất để sử dụng tính năng mới này trong ứng dụng phương tiện của mình, đây là một số hướng dẫn cần ghi nhớ: Chỉ chuyển đổi chế độ thường xuyên khi cần thiết.

00:04:25.000 --> 00:04:35.000
Tất cả các TV phản ứng với chế độ chuyển đổi hơi khác một chút, nhưng nhìn chung nó sẽ khiến màn hình nhấp nháy hoặc tạm thời tắt và có thể mất vài giây để hoàn thành.

00:04:35.000 --> 00:04:40.000
Điều này có thể gây rối nếu nó xảy ra thường xuyên hơn mức cần thiết.

00:04:40.000 --> 00:04:44.000
Thông thường, chuyển đổi chế độ chỉ thích hợp để phát lại toàn màn hình.

00:04:44.000 --> 00:04:56.000
Phù hợp với tốc độ khung hình và dải động cho nội dung phát trong nền, dưới dạng hình thu nhỏ hoặc quảng cáo xen kẽ như một phần của trò chơi, có thể khá gây rối và nói chung là không cần thiết.

00:04:56.000 --> 00:05:07.000
Giao diện người dùng chính của ứng dụng của bạn, ngoài trải nghiệm xem video, nên được chạy ở tốc độ khung hình của hệ thống để giao diện người dùng và hoạt ảnh mượt mà và trôi chảy.

00:05:07.000 --> 00:05:17.000
Khi tivi ở chế độ tốc độ khung hình thấp hơn, những hình ảnh động và chuyển động đó cũng sẽ hiển thị ở tốc độ khung hình đó và kết quả là có thể xuất hiện kém mượt mà hơn.

00:05:17.000 --> 00:05:25.000
Cũng có một số trường hợp để thiết bị ở chế độ hệ thống sẽ mang lại trải nghiệm người dùng được cải thiện.

00:05:25.000 --> 00:05:45.000
Nếu ứng dụng của bạn phát các clip ngắn hơn, hiển thị nhiều ô video cùng một lúc hoặc thường xuyên chuyển đổi giữa các nội dung có đặc điểm khác nhau, bạn nên tránh chuyển đổi chế độ hoàn toàn để đảm bảo trải nghiệm xem không bị gián đoạn một cách không cần thiết.

00:05:45.000 --> 00:05:53.000
tvOS 11.2 cho phép tốc độ khung hình nội dung video và kết hợp dải động trên Apple TV 4K.

00:05:53.000 --> 00:06:05.000
AVPlayerViewController có thể tự động quản lý hành vi này, nhưng một số ứng dụng sẽ muốn kiểm soát nhiều hơn bằng cách sử dụng AVDisplayManager và AVDisplayCriteria.

00:06:05.000 --> 23:59:59.000
Vui lòng truy cập developer.apple.com để biết thêm thông tin.

