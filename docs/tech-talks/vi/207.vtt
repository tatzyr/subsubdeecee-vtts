WEBVTT

00:00:02.000 --> 00:00:05.000
Betsy Langowski: Vào năm 2017, iPhone X đã được phát hành.

00:00:05.000 --> 00:00:12.000
Liên kết với iOS 11 SDK cho phép ứng dụng của bạn tận dụng màn hình mới tuyệt đẹp.

00:00:12.000 --> 00:00:19.000
Năm nay, chúng tôi sẽ giới thiệu iPhone XS, iPhone XS Max và iPhone XR.

00:00:19.000 --> 00:00:32.000
Trong khi iPhone XS đã được thiết kế lại hoàn toàn từ đầu, kích thước màn hình giống như iPhone X, vì vậy video này sẽ tập trung vào iPhone XS Max và iPhone XR với độ phân giải hoàn toàn mới của chúng.

00:00:32.000 --> 00:00:39.000
Nếu ứng dụng của bạn chủ yếu sử dụng khung UIKit và bạn đã điều chỉnh ứng dụng của mình cho iPhone X, bạn sẽ ở trong tình trạng tuyệt vời.

00:00:39.000 --> 00:00:45.000
Tất cả những gì bạn cần làm là liên kết với iOS 12 để tận dụng tối đa những chiếc điện thoại mới tuyệt vời này.

00:00:45.000 --> 00:00:56.000
Nếu bạn cần bồi dưỡng về cách cập nhật ứng dụng của mình cho iPhone X, và bây giờ là iPhone XS Max và iPhone XR, hãy xem video, "Xây dựng ứng dụng cho iPhone X."

00:00:56.000 --> 00:01:08.000
Video này hướng dẫn bạn cách đảm bảo máy ảnh TrueDepth không che khuất giao diện người dùng của bạn, đảm bảo các yếu tố giao diện người dùng của bạn được đặt cách xa chỉ báo Home và các điều chỉnh phổ biến khác mà bạn có thể cần thực hiện.

00:01:08.000 --> 00:01:21.000
Mặc dù hầu hết các công việc nặng nhọc được thực hiện cho bạn bởi UIKit, bạn vẫn có thể cần tối ưu hóa ứng dụng của mình và video này cung cấp hướng dẫn tuyệt vời cho iPhone XS Max và iPhone XR, cũng như iPhone X.

00:01:21.000 --> 00:01:29.000
Hãy nói về một vài điều mà chúng tôi đã làm tốt hơn cho bạn trong năm nay để giúp việc cập nhật ứng dụng của bạn cho iPhone XS Max và iPhone XR trở nên dễ dàng.

00:01:29.000 --> 00:01:35.000
Nếu bạn đã xem "Xây dựng ứng dụng cho iPhone X", bạn sẽ nhớ tầm quan trọng của việc thử nghiệm ở chế độ ngang.

00:01:35.000 --> 00:01:39.000
Một trong những nơi quan trọng là trong chế độ xem bộ sưu tập.

00:01:39.000 --> 00:01:48.000
Tôi đã xây dựng ứng dụng mẫu thực sự đơn giản này, nó chỉ là một bộ điều khiển chế độ xem bộ sưu tập, được nhúng trong bộ điều khiển điều hướng, được nhúng trong bộ điều khiển thanh tab.

00:01:48.000 --> 00:01:52.000
Có sự bù đắp để tạo khoảng trống cho các ô, nhưng nếu không thì đây chỉ là sử dụng các mặc định.

00:01:52.000 --> 00:01:55.000
Thoạt nhìn, theo chân dung, nó trông rất đẹp.

00:01:55.000 --> 00:02:01.000
Nhưng trong phong cảnh, ứng dụng này có một vấn đề: các ô ở phía bên trái nằm phía sau camera TrueDepth.

00:02:01.000 --> 00:02:09.000
Để giải quyết vấn đề này, tham chiếu chèn phần của chế độ xem bộ sưu tập cần được đặt thành khu vực an toàn, thay vì nội dung mặc định.

00:02:09.000 --> 00:02:14.000
Điều này có thể được thực hiện bằng mã và khi iPhone X được phát hành lần đầu tiên, đó là cách duy nhất để làm điều đó.

00:02:14.000 --> 00:02:20.000
Nhưng vì ứng dụng này được xây dựng bằng bảng phân cảnh, trong Xcode gần đây hơn, chúng ta có thể thực hiện thay đổi này trực tiếp trong Trình tạo giao diện.

00:02:20.000 --> 00:02:29.000
Với chế độ xem bộ sưu tập được chọn trong bảng phân cảnh, chúng ta có thể chọn Trình kiểm tra kích thước và thay đổi giá trị Inset From thành khu vực an toàn.

00:02:29.000 --> 00:02:37.000
Bây giờ khi tôi xây dựng và chạy ứng dụng của mình, chế độ xem bộ sưu tập của tôi tránh được camera TrueDepth ở chế độ ngang, không cần thay đổi mã.

00:02:37.000 --> 00:02:40.000
Bố cục tự động là hệ thống bố cục Cocoa và Cocoa Touch.

00:02:40.000 --> 00:02:50.000
Nếu ứng dụng của bạn sử dụng bố cục tự động, bạn sẽ thấy rằng hầu hết công việc tối ưu hóa cho các kích thước màn hình mới, như trên iPhone XS Max và iPhone XR, đều được thực hiện cho bạn.

00:02:50.000 --> 00:03:00.000
Nếu bạn không tận dụng những lợi ích tuyệt vời mà bạn nhận được từ bố cục tự động, bây giờ chắc chắn là lúc để cập nhật, bởi vì năm nay chúng tôi đã cải thiện đáng kể hiệu suất của nó.

00:03:00.000 --> 00:03:09.000
Dưới đây là một số ví dụ về hiệu suất bố trí tự động của iOS 11 màu xám so với hiệu suất bố cục tự động của iOS 12 màu xanh lam.

00:03:09.000 --> 00:03:14.000
Hãy xem cây di chuyển mất ít thời gian hơn bao nhiêu trong iOS 12 so với iOS 11.

00:03:14.000 --> 00:03:17.000
Sử dụng bố cục tự động trong ứng dụng của bạn nhanh hơn rất nhiều.

00:03:17.000 --> 00:03:26.000
Nếu bạn muốn xem hậu trường về cách chúng tôi đã làm điều đó, hãy xem video WWDC 2018, "Bố cục tự động hiệu suất cao".

00:03:26.000 --> 00:03:34.000
Một thay đổi cụ thể cho iPhone XS Max và iPhone XR là hành vi của UISplitViewController trong cảnh quan.

00:03:34.000 --> 00:03:38.000
Nó rất giống cách nó hoạt động trong Mail ở chế độ dọc trên iPad.

00:03:38.000 --> 00:03:44.000
Hãy xem ứng dụng thử nghiệm rất đơn giản này mà tôi đã chạy trong trình mô phỏng iPhone XS Max.

00:03:44.000 --> 00:03:49.000
Chế độ xem chính của tôi với bốn ô xuất hiện chỉ bằng một nút bấm và bị loại bỏ tương tự.

00:03:49.000 --> 00:03:55.000
Ứng dụng của tôi có hành vi này tự động trên phần cứng mới vì tôi đã đặt displayModeButtonItem.

00:03:55.000 --> 00:03:59.000
Hành vi này cũng sẽ được thiết lập nếu bạn sử dụng presentsWithGesture.

00:03:59.000 --> 00:04:01.000
Chúng ta hãy xem cái này trông như thế nào trong mã.

00:04:01.000 --> 00:04:12.000
Trong App Delegate của tôi, tôi đã nhận được displayModeButtonItem của UISplitViewController và đặt nó làm mục nút thanh bên trái trong thanh điều hướng để khách hàng của tôi nhấn vào.

00:04:12.000 --> 00:04:17.000
Vì vậy, bây giờ tôi đã chọn tham gia vào hành vi trên iPhone XS Max và iPhone XR.

00:04:17.000 --> 00:04:21.000
Tôi cũng đang đặt presentsWithGesture thành sự thật.

00:04:21.000 --> 00:04:25.000
Điều này giúp khách hàng của tôi có thể truy cập chế độ xem chính bằng một cú vuốt.

00:04:25.000 --> 00:04:28.000
Đây là tùy chọn và nó có thể được đặt thành sai nếu cần cho ứng dụng của bạn.

00:04:28.000 --> 00:04:29.000
Một điều cần lưu ý.

00:04:29.000 --> 00:04:35.000
Nếu bạn đã dựa vào việc đặt Chế độ hiển thị ưa thích thành tự động, thì đây bây giờ là hành vi tự động.

00:04:35.000 --> 00:04:46.000
Nếu bạn đã thực hiện một số tùy chỉnh và bạn muốn chọn không tham gia hành vi này, chỉ cần tránh sử dụng displayModeButtonItem hoàn toàn và đặt presentsWithGesture thành false.

00:04:46.000 --> 00:04:49.000
Bạn cũng có thể đặt preferredDisplayMode thành allVisible.

00:04:49.000 --> 00:04:50.000
Được rồi.

00:04:50.000 --> 00:04:54.000
Hãy tiếp tục nói về một số cạm bẫy phổ biến.

00:04:54.000 --> 00:05:00.000
Một số ứng dụng có thể có hình nền được đặt thành kích thước cụ thể hoặc một số nội dung nhất định được ghim vào một vị trí trên màn hình.

00:05:00.000 --> 00:05:05.000
Điều này phổ biến nhất trong các trò chơi, nhưng ứng dụng của bạn có thể sử dụng một kỹ thuật như thế này vì nhiều lý do.

00:05:05.000 --> 00:05:14.000
Nếu ứng dụng của bạn đã đặt hình ảnh được chia tỷ lệ, khi bạn chạy nó trên iPhone XS Max hoặc iPhone XR, bạn có thể nhận thấy nội dung của mình được chia tỷ lệ không chính xác.

00:05:14.000 --> 00:05:26.000
Không giống như các ứng dụng sử dụng khung UIKit tiêu chuẩn, trong khi những chiếc điện thoại này vẫn còn mới, bạn có thể cần thực hiện một chút vỏ bọc đặc biệt và thông báo cho ứng dụng của bạn - hoặc khuôn khổ mà ứng dụng của bạn đang sử dụng - về màn hình mới.

00:05:26.000 --> 00:05:35.000
Kích thước màn hình cho cả iPhone XR và iPhone XS Max rộng 414 điểm x cao 896 điểm.

00:05:35.000 --> 00:05:44.000
Khi bạn đang xây dựng tài sản của mình, hãy nhớ rằng iPhone XR là thiết bị 2x và iPhone XS Max là thiết bị 3x.

00:05:44.000 --> 00:05:52.000
Vì vậy, tính bằng pixel, độ phân giải của iPhone XR là 828 x 1.792 pixel.

00:05:52.000 --> 00:06:01.000
Độ phân giải của iPhone XS Max là 1,242 x 2,688 pixel.

00:06:01.000 --> 00:06:02.000
Thận trọng!

00:06:02.000 --> 00:06:07.000
Bạn chỉ nên mã hóa kích thước màn hình cứng nếu khuôn khổ của bạn hoàn toàn yêu cầu nó.

00:06:07.000 --> 00:06:14.000
Mặc dù điều này có thể làm cho trò chơi hoặc ứng dụng tương tự của bạn hoạt động ngay lập tức, bạn nên tránh sử dụng các phương pháp này trừ khi bạn thực sự cần.

00:06:14.000 --> 00:06:19.000
Vui lòng để UIKit thực hiện công việc cho bạn và thay vào đó hãy sử dụng bố cục tự động.

00:06:19.000 --> 00:06:28.000
Mặc dù có thể rất hấp dẫn khi buộc ứng dụng của bạn hoạt động theo những cách cụ thể trên các mô hình phần cứng khác nhau, bạn nên tránh tạo các trường hợp đặc biệt cho mỗi phần cứng.

00:06:28.000 --> 00:06:33.000
Điều này sẽ mất thời gian để phát triển các tính năng mới và nó phần lớn là công việc dư thừa.

00:06:33.000 --> 00:06:39.000
Ngoài ra, khi mã của bạn đang chạy trên một kiểu điện thoại mà nó không nhận ra, các sự cố bất ngờ có thể xảy ra.

00:06:39.000 --> 00:06:43.000
Điều này có thể làm tổn thương khách hàng của bạn nếu bạn không thể cập nhật ứng dụng của mình ngay lập tức.

00:06:43.000 --> 00:06:52.000
Nếu bạn đã tạo một chiếc ốp lưng đặc biệt cho ứng dụng iOS của mình để chạy trên iPhone X, bây giờ bạn phải làm lại tất cả công việc khó khăn của mình cho iPhone XS Max và iPhone XR.

00:06:52.000 --> 00:07:00.000
Ngay cả khi bạn cần đặt kích thước trong ứng dụng của mình để đáp ứng nhu cầu đồ họa, đừng tìm kiếm mô hình thiết bị và hành vi cổng đằng sau kiểm tra chuỗi đó.

00:07:00.000 --> 00:07:04.000
Bạn không bao giờ nên viết mã có nội dung như, "Đây có phải là iPhone X không? Làm Một.

00:07:04.000 --> 00:07:06.000
Còn nữa không? Làm B."

00:07:06.000 --> 00:07:15.000
Đây là một cơ hội tuyệt vời để đảm bảo rằng bạn đã áp dụng các cài đặt khu vực an toàn phổ biến trong toàn bộ ứng dụng của mình và tiết kiệm cho bản thân trong tương lai của bạn rất nhiều thời gian và công sức.

00:07:15.000 --> 00:07:22.000
Bây giờ cũng là thời điểm tuyệt vời để thực sự siêng năng về cách bạn phân nhánh mã của mình khi bạn đang tìm kiếm tính khả dụng của tính năng.

00:07:22.000 --> 00:07:34.000
Cũng giống như những chiếc iPhone khác mà bạn đã hỗ trợ, chẳng hạn như iPhone SE và tất cả iPad, iPhone XR không hỗ trợ 3D Touch và camera kép, vì vậy điều quan trọng là bạn không dựa vào những hành vi đó.

00:07:34.000 --> 00:07:36.000
Hãy lấy 3D Touch làm ví dụ.

00:07:36.000 --> 00:07:49.000
Ứng dụng Home là một ví dụ tuyệt vời về ứng dụng sử dụng 3D Touch trên các thiết bị được hỗ trợ nhưng cung cấp bộ tính năng đầy đủ trên các thiết bị không hỗ trợ 3D Touch hoặc cho những người dùng có thể đã tắt nó.

00:07:49.000 --> 00:07:52.000
Kiểm tra xem một thiết bị có sử dụng 3D Touch hay không rất đơn giản.

00:07:52.000 --> 00:07:55.000
Hãy xem một số mã mẫu.

00:07:55.000 --> 00:08:01.000
Đầu tiên, hãy kiểm tra khi khởi chạy xem thiết bị có hỗ trợ tính năng này hay không, như được hiển thị ở đây.

00:08:01.000 --> 00:08:06.000
Tuy nhiên, hãy nhớ rằng người dùng có thể tắt 3D Touch trong khi ứng dụng của bạn đang chạy.

00:08:06.000 --> 00:08:13.000
Do đó, bạn cũng nên thực hiện kiểm tra này như một phần của việc triển khai phương thức đại diện traitCollectionDidChange.

00:08:13.000 --> 00:08:25.000
Trong cả hai trường hợp, hãy phân nhánh mã của bạn để sử dụng một giải pháp thay thế như UILongPressGestureRecognizer cho các thiết bị không hỗ trợ 3D Touch, để bộ tính năng đầy đủ được thể hiện cho tất cả các thiết bị.

00:08:25.000 --> 00:08:33.000
Khi nghi ngờ, hãy đảm bảo mã của bạn có thể xử lý số không và đủ mạnh để thất bại một cách duyên dáng khi nhận lại thứ gì đó bất ngờ.

00:08:33.000 --> 00:08:44.000
Đối với hầu hết các ứng dụng, bạn sẽ không làm việc nhiều trong năm nay để hỗ trợ iPhone XS, iPhone XS Max và iPhone XR, đặc biệt nếu bạn đã được tối ưu hóa cho iPhone X.

00:08:44.000 --> 00:08:52.000
Nếu bạn cần bất kỳ sự hỗ trợ nào, có rất nhiều video có sẵn từ các video iPhone X và các phiên WWDC 2018 năm nay.

00:08:52.000 --> 23:59:59.000
Kiểm tra nội dung liên quan và bạn có thể tìm thêm trên developer.apple.com.

