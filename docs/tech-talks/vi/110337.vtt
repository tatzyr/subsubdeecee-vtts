WEBVTT

00:00:00.000 --> 00:00:04.000
Xin chào, tôi là Ben Bodner từ nhóm Công nghệ Hiển thị và Màu sắc tại Apple.

00:00:04.000 --> 00:00:12.000
Trong video này, tôi sẽ giải thích các khả năng, trường hợp sử dụng và API của Chế độ tham chiếu mới trên iPad Pro.

00:00:12.000 --> 00:00:16.000
Để giúp bạn hiểu Chế độ tham chiếu, trước tiên tôi nên mô tả màn hình tham chiếu là gì.

00:00:16.000 --> 00:00:22.000
Nhiều màn hình cố tình thao tác màu sắc, độ tương phản và độ sắc nét của hình ảnh.

00:00:22.000 --> 00:00:30.000
Ví dụ, TV thường có các chế độ khác nhau mà mỗi chế độ nhắm đến một số vẻ ngoài thẩm mỹ độc đáo và các thiết bị di động thường thích ứng với ánh sáng xung quanh.

00:00:30.000 --> 00:00:41.000
Mặc dù các loại tính năng này có thể được mong muốn trong hầu hết các tình huống, nhưng chúng có thể là vấn đề đối với những người sáng tạo nội dung, những người thường muốn biết chính xác cách hiển thị của họ hiển thị hình ảnh.

00:00:41.000 --> 00:00:48.000
Vì lý do đó, tham chiếu hiển thị màu hiển thị chính xác theo thông số kỹ thuật cho định dạng phương tiện.

00:00:48.000 --> 00:00:53.000
Điều đó có nghĩa là nếu bạn có các màn hình tham chiếu khác nhau, tất cả chúng sẽ hiển thị cùng một nội dung một cách nhất quán.

00:00:53.000 --> 00:01:04.000
Tính nhất quán này mang lại cho người sáng tạo nội dung khả năng sử dụng nhiều màn hình với sự tự tin rằng tác phẩm của họ sẽ trông giống nhau trên tất cả chúng, giả sử chúng được xem trong môi trường ánh sáng thích hợp cho định dạng phương tiện của chúng.

00:01:04.000 --> 00:01:10.000
Bây giờ chúng ta đã hiểu về màn hình tham chiếu, hãy đi vào chi tiết về Chế độ tham chiếu trên iPad.

00:01:10.000 --> 00:01:14.000
Đầu tiên, tôi sẽ giải thích khi nào và làm thế nào để sử dụng Chế độ Tham chiếu.

00:01:14.000 --> 00:01:20.000
Tiếp theo, tôi sẽ đề cập đến các khả năng cụ thể của Chế độ tham chiếu bao gồm các định dạng phương tiện nào được hỗ trợ.

00:01:20.000 --> 00:01:25.000
Và cuối cùng, tôi sẽ đưa ra tóm tắt các API được liên kết với Chế độ tham chiếu.

00:01:25.000 --> 00:01:31.000
Vậy, khi nào thì thích hợp để sử dụng Chế độ tham chiếu và làm thế nào để chúng ta kích hoạt nó?

00:01:31.000 --> 00:01:36.000
Chế độ tham chiếu cho phép hoặc nâng cao nhiều quy trình tạo nội dung khác nhau.

00:01:36.000 --> 00:01:42.000
Nó bổ sung hỗ trợ cho các tác vụ quan trọng về màu sắc yêu cầu hiển thị tham chiếu, điều mà trước đây không thể thực hiện được trên các thiết bị di động.

00:01:42.000 --> 00:01:47.000
Điều này bao gồm phân loại màu sắc, cùng với việc xem xét và phê duyệt nội dung được phân loại.

00:01:47.000 --> 00:01:56.000
Nó cũng mang lại độ chính xác màu sắc cho các ứng dụng chỉnh sửa và tổng hợp video trên thiết bị di động, cải thiện trải nghiệm cho những người dùng thường không có quyền truy cập vào màn hình tham chiếu.

00:01:56.000 --> 00:02:05.000
Cuối cùng, Chế độ tham chiếu hỗ trợ cả kết xuất màu dựa trên Metal và AVFoundation, vì vậy các ứng dụng phục vụ các quy trình làm việc này có thể sử dụng một trong hai.

00:02:05.000 --> 00:02:12.000
Chế độ tham chiếu tương tự như các cài đặt trước hiển thị tham chiếu đã có sẵn trên một số hệ thống macOS nhưng có sự khác biệt quan trọng.

00:02:12.000 --> 00:02:19.000
Trên macOS, nhiều chế độ đặt trước có sẵn mà mỗi chế độ cung cấp kết xuất màu tham chiếu cho các định dạng khác nhau.

00:02:19.000 --> 00:02:25.000
Trên iPad, Chế độ tham chiếu chỉ là một cài đặt được bật hoặc tắt.

00:02:25.000 --> 00:02:30.000
Điều đó có nghĩa là bạn có thể nhận được kết xuất màu tham chiếu cho nhiều định dạng mà không cần thay đổi cài đặt.

00:02:30.000 --> 00:02:39.000
Chế độ này chỉ có thể được truy cập thông qua cài đặt iPad bởi người dùng và không thể được bật hoặc tắt theo chương trình bởi một ứng dụng.

00:02:39.000 --> 00:02:44.000
Chế độ tham chiếu được hỗ trợ trên iPad Pro thế hệ thứ năm 12.9 inch.

00:02:44.000 --> 00:02:54.000
Nó có thể được sử dụng với iPad như một thiết bị độc lập, nhưng nó cũng mang lại khả năng mới cho Sidecar, một tính năng cho phép iPad được sử dụng làm màn hình phụ cho thiết bị macOS.

00:02:54.000 --> 00:02:57.000
Trước đây, Sidecar không hỗ trợ EDR.

00:02:57.000 --> 00:03:07.000
Nhưng bây giờ, nếu Chế độ tham chiếu được bật trên iPad được sử dụng làm màn hình Sidecar, nó sẽ hỗ trợ EDR ngoài việc cho phép hiển thị màu tham chiếu cho các định dạng được hỗ trợ.

00:03:07.000 --> 00:03:15.000
Chức năng mới này cũng yêu cầu Apple silicon Mac với macOS Ventura được sử dụng làm máy chủ cho màn hình Sidecar.

00:03:15.000 --> 00:03:20.000
Bật Chế độ Tham chiếu thao tác với một số mục khác trong menu Cài đặt.

00:03:20.000 --> 00:03:25.000
Để đạt được kết xuất màu sắc nhất quán, thanh trượt độ sáng bị khóa và các tính năng hiển thị động bị tắt.

00:03:25.000 --> 00:03:31.000
Điều này bao gồm vô hiệu hóa và khóa True Tone và Night Shift, cùng với tính năng Auto-Brightness.

00:03:31.000 --> 00:03:42.000
Bây giờ tôi đã giải thích khi nào và làm thế nào để bật Chế độ tham chiếu, chúng ta hãy xem xét kỹ hơn ý nghĩa của việc chạy màu tham chiếu, cùng với các khả năng cụ thể của Chế độ tham chiếu.

00:03:42.000 --> 00:03:49.000
Giống như các cài đặt trước macOS mà tôi đã đề cập trước đó, Chế độ tham chiếu sử dụng quản lý màu sắc để hỗ trợ một số định dạng phương tiện khác nhau.

00:03:49.000 --> 00:03:54.000
Điều này đảm bảo rằng màu sắc được hiển thị chính xác dựa trên đặc điểm kỹ thuật cho từng định dạng.

00:03:54.000 --> 00:04:01.000
Tất nhiên, để xác định màu sắc nên được hiển thị như thế nào, phương tiện cần được gắn thẻ để cho biết đó là định dạng nào.

00:04:01.000 --> 00:04:08.000
Để quản lý màu tham chiếu hợp lệ, màn hình chỉ nên được xem trong môi trường tham chiếu được chỉ định bởi tiêu chuẩn định dạng.

00:04:08.000 --> 00:04:16.000
Định dạng video được hỗ trợ bởi Chế độ tham chiếu yêu cầu môi trường mờ, trong khi đồ họa nên được xem trong môi trường trong nhà sáng sủa.

00:04:16.000 --> 00:04:20.000
Vậy Chế độ tham chiếu sử dụng loại quản lý màu nào?

00:04:20.000 --> 00:04:22.000
Tất cả các định dạng màu được quản lý theo thông số kỹ thuật tương tự.

00:04:22.000 --> 00:04:30.000
Điều này bao gồm điểm trắng D65 và độ sáng cực đại 100 nits cho phương tiện SDR hoặc 1000 nits cho phương tiện HDR.

00:04:30.000 --> 00:04:36.000
Đối với các định dạng HDR, ánh xạ tông màu bị vô hiệu hóa nên màn hình sẽ theo dõi chính xác chức năng truyền của định dạng.

00:04:36.000 --> 00:04:44.000
Và màu sắc sẽ được hiển thị chính xác miễn là chúng không vượt quá 1000 nits và nằm trong gam màu P3, đó là gam màu gốc của iPad.

00:04:44.000 --> 00:04:48.000
Các màu ngoài gam màu hoặc sáng hơn 1000 nits sẽ được cắt bớt mà không cần ánh xạ tông màu.

00:04:48.000 --> 00:04:53.000
Kết quả của việc cắt xén đó có thể thay đổi dựa trên định dạng.

00:04:53.000 --> 00:05:01.000
Nói về các định dạng, đây là danh sách những định dạng được hỗ trợ bởi Chế độ tham chiếu, cùng với cài đặt trước hiển thị tham chiếu macOS tương ứng cho mỗi định dạng.

00:05:01.000 --> 00:05:08.000
Trên iPad, Chế độ tham chiếu sẽ xác định cách quản lý màu phù hợp dựa trên việc gắn thẻ màu, vì vậy không cần phải chuyển đổi giữa các cài đặt trước.

00:05:08.000 --> 00:05:16.000
Một ví dụ về gắn thẻ là các điểm mã ITU H.273 có trong bảng này, mà bạn có thể biết là thẻ màu NCLC từ QuickTime.

00:05:16.000 --> 00:05:20.000
Nhưng có những hình thức gắn thẻ khác cũng có thể được sử dụng.

00:05:20.000 --> 00:05:23.000
Nếu ứng dụng của bạn sử dụng định dạng không có trong danh sách này, đừng lo lắng.

00:05:23.000 --> 00:05:30.000
Chế độ tham chiếu màu vẫn quản lý các định dạng không được hỗ trợ; chúng sẽ chỉ được hiển thị theo cách tương tự như chế độ hiển thị mặc định.

00:05:30.000 --> 00:05:34.000
Bạn có thể nhận thấy rằng một số hàng này bao gồm nhiều định dạng.

00:05:34.000 --> 00:05:40.000
Đó là bởi vì các định dạng được liệt kê trong cùng một hàng sẽ dẫn đến kết xuất giống nhau trên màn hình tham chiếu.

00:05:40.000 --> 00:05:54.000
Ví dụ, HDR10 và BT.2100 PQ đều sử dụng các điểm cơ bản màu BT 2020, chức năng truyền PQ và ma trận YCC BT 2020 như được mô tả bởi các điểm mã 9-16-9.

00:05:54.000 --> 00:06:00.000
Nhưng HDR10 cũng bao gồm siêu dữ liệu HDR có thể được sử dụng để thông báo ánh xạ tông màu.

00:06:00.000 --> 00:06:06.000
Trong chế độ hiển thị mặc định của iPad, điều này có thể dẫn đến các phiên bản khác nhau của cùng một nội dung tùy thuộc vào định dạng.

00:06:06.000 --> 00:06:14.000
Nhưng vì Chế độ tham chiếu không phải là bản đồ giai điệu, bất kỳ siêu dữ liệu HDR nào cũng bị bỏ qua và cả hai định dạng đều được hiển thị giống hệt nhau.

00:06:14.000 --> 00:06:20.000
Nói chung, màn hình tham chiếu được hiệu chỉnh bằng thiết bị đo quang học để đảm bảo độ chính xác của màu sắc.

00:06:20.000 --> 00:06:30.000
Giống như các cài đặt trước của macOS, Chế độ tham chiếu bao gồm tính năng hiệu chuẩn được tinh chỉnh cho phép hiệu chỉnh màu sắc và độ sáng của điểm trắng tại một điểm duy nhất.

00:06:30.000 --> 00:06:42.000
Việc điều chỉnh màu sắc này nhằm tính đến sự lão hóa màn hình và sự khác biệt giữa các thiết bị đo lường để điểm trắng và độ sáng cực đại của iPad của bạn sẽ khớp với các màn hình khác đã được hiệu chỉnh với cùng một thiết bị.

00:06:42.000 --> 00:06:46.000
Điều đó kết thúc các chi tiết cụ thể về khả năng của Chế độ tham chiếu trong kết xuất màu.

00:06:46.000 --> 00:06:51.000
Tiếp theo, hãy thảo luận về các API UIScreen được liên kết với Chế độ tham chiếu.

00:06:51.000 --> 00:06:56.000
Nhưng trước khi làm như vậy, tôi nên nhanh chóng tóm tắt lại EDR là gì.

00:06:56.000 --> 00:07:01.000
EDR là viết tắt của dải động mở rộng và là công nghệ HDR của Apple.

00:07:01.000 --> 00:07:05.000
Nó bao gồm cả công nghệ kết xuất và biểu diễn pixel.

00:07:05.000 --> 00:07:09.000
Điểm ảnh EDR có thể đại diện cho cả nội dung SDR và HDR.

00:07:09.000 --> 00:07:16.000
Một thành phần quan trọng của EDR là khoảng không, đó là độ sáng đỉnh HDR chia cho độ sáng cực đại SDR.

00:07:16.000 --> 00:07:26.000
Trong Chế độ tham chiếu, đỉnh HDR luôn là 1000 nits và đỉnh SDR luôn là 100 nits, có nghĩa là khoảng không EDR luôn gấp 10 lần.

00:07:26.000 --> 00:07:32.000
EDR đảm bảo rằng các điểm ảnh SDR, được biểu diễn với các giá trị từ 0 đến 1, luôn được hiển thị.

00:07:32.000 --> 00:07:41.000
Bất kỳ giá trị nào giữa một và khoảng không EDR sẽ được hiển thị đúng cách mà không cần ánh xạ tông màu, trong khi các giá trị sáng hơn khoảng không EDR sẽ bị cắt bớt.

00:07:41.000 --> 00:07:50.000
Tuy nhiên, có thể có những trường hợp bạn quyết định rằng khoảng không đủ cao để biện minh cho việc hiển thị nội dung của bạn dưới dạng EDR và thay vào đó muốn triển khai đường dẫn SDR.

00:07:50.000 --> 00:07:56.000
Cũng có thể có những lúc bạn thích tận dụng khoảng không EDR có sẵn bằng cách áp dụng ánh xạ tông màu của riêng bạn.

00:07:56.000 --> 00:08:04.000
Trong cả hai trường hợp, UIScreen đều có các thuộc tính truy vấn và thông báo mới mà bạn có thể sử dụng để đưa ra quyết định kết xuất trong ứng dụng của mình.

00:08:04.000 --> 00:08:13.000
Cụ thể hơn, bạn có thể sử dụng UIScreen để đăng ký thông báo về những thay đổi trong trạng thái Chế độ Tham chiếu và sau đó truy vấn các thay đổi trong trạng thái đó.

00:08:13.000 --> 00:08:18.000
Bạn cũng có thể sử dụng UIScreen để truy vấn các thuộc tính khoảng trống EDR hiện tại và tiềm năng của thiết bị.

00:08:18.000 --> 00:08:21.000
Tôi sẽ nói nhiều hơn về điều đó một lát sau.

00:08:21.000 --> 00:08:30.000
Đối với những thay đổi trong trạng thái chế độ hiển thị, hãy đăng ký UIScreen.referenceDisplayMode StatusDidChangeNotification.

00:08:30.000 --> 00:08:39.000
Đối với mục đích truy vấn, bạn có thể sử dụng thông báo này để có được trạng thái mới và khoảng trống EDR tiềm năng mới, cả hai đều có thể thông báo các quyết định kết xuất trong ứng dụng của bạn.

00:08:39.000 --> 00:08:50.000
Ví dụ: bạn có thể muốn ứng dụng của mình áp dụng ánh xạ âm thanh của riêng nó dựa trên khoảng trống EDR khi Chế độ tham chiếu bị tắt và không áp dụng bất kỳ ánh xạ âm nào nếu Chế độ tham chiếu được bật.

00:08:50.000 --> 00:08:59.000
Khi bạn nhận được thông báo về việc thay đổi trạng thái chế độ hiển thị, bạn có thể sử dụng thuộc tính trạng thái chế độ hiển thị tham chiếu của UIScreen để nhận trạng thái hiện tại.

00:08:59.000 --> 00:09:02.000
Đây sẽ là một trong bốn loại được liệt kê.

00:09:02.000 --> 00:09:07.000
Nếu StatusEnabled được trả về, thì Chế độ tham chiếu được bật và hiển thị như mong đợi.

00:09:07.000 --> 00:09:16.000
Nếu StatusLimited được trả về, thì Chế độ tham chiếu được bật nhưng tạm thời không thể hiển thị phản hồi tham chiếu do khoảng không EDR bị giới hạn dưới 10 lần.

00:09:16.000 --> 00:09:23.000
Nếu trạng thái này xảy ra, thông báo giao diện người dùng cũng sẽ thông báo cho người dùng của bạn rằng kết xuất tham chiếu bị xâm phạm.

00:09:23.000 --> 00:09:30.000
Nếu StatusNotEnabled được trả về, thì Chế độ tham chiếu được hỗ trợ trên thiết bị này, nhưng nó chưa được người dùng bật.

00:09:30.000 --> 00:09:37.000
Và cuối cùng, nếu StatusNotSupported được trả về, thì Chế độ tham chiếu không được hỗ trợ trên thiết bị này.

00:09:37.000 --> 00:09:43.000
Tiếp theo, chúng ta hãy xem một số mã Swift để xem cách bạn có thể tận dụng các thông báo UIScreen.

00:09:43.000 --> 00:09:48.000
Ở đây, chúng ta sẽ bắt đầu bằng cách lấy một đối tượng thông báo mặc định từ Trung tâm thông báo.

00:09:48.000 --> 00:09:52.000
Sau đó, chúng tôi sẽ thêm một người quan sát thông báo vào đối tượng thông báo mặc định của bạn.

00:09:52.000 --> 00:10:02.000
Trong ví dụ này, bộ chọn screenChangedEvent xác định tin nhắn mà người nhận gửi cho người quan sát để cảnh báo người quan sát rằng thông báo đã được đăng.

00:10:02.000 --> 00:10:11.000
Tên của thông báo để đăng ký giao hàng cho người quan sát là UIScreen.referenceDisplayMode StatusDidChangeNotification.

00:10:11.000 --> 00:10:17.000
Bây giờ bất cứ khi nào trạng thái thay đổi, chức năng screenChangedEvent sẽ được gọi.

00:10:17.000 --> 00:10:24.000
Trong ví dụ triển khai screenChangedEvent này, trước tiên chúng ta sẽ nhận được UIScreen từ cảnh cửa sổ.

00:10:24.000 --> 00:10:29.000
Sau đó, chúng ta có thể lấy thuộc tính referenceDisplayModeStatus mới từ UIScreen.

00:10:29.000 --> 00:10:35.000
Bạn cũng có thể nhận được giá trị khoảng trống EDR tiềm năng mới và sử dụng nó trong các đường dẫn kết xuất ứng dụng của bạn.

00:10:35.000 --> 00:10:42.000
Điều đó bao gồm các thông báo thay đổi trạng thái Chế độ Tham chiếu, vì vậy hãy chuyển sang nói về khoảng không EDR.

00:10:42.000 --> 00:10:46.000
Trước đó, tôi đã đề cập đến hai loại khoảng trống EDR: hiện tại và tiềm năng.

00:10:46.000 --> 00:10:51.000
Các thuộc tính này có liên quan đến bất kỳ nhà phát triển nào làm việc với EDR và không dành riêng cho Chế độ tham chiếu.

00:10:51.000 --> 00:10:55.000
Khoảng không tiềm năng trả về khoảng không tối đa có thể cho màn hình của bạn.

00:10:55.000 --> 00:11:03.000
Ví dụ: bạn có thể quyết định sử dụng đường dẫn kết xuất SDR trong ứng dụng của mình nếu khoảng không tiềm năng không vượt quá 1.0 hoặc một số ngưỡng khác.

00:11:03.000 --> 00:11:08.000
Khoảng không hiện tại rất năng động và có thể ít hơn khoảng không tiềm năng vì nhiều lý do.

00:11:08.000 --> 00:11:14.000
Bạn có thể chọn áp dụng ánh xạ âm thanh trong ứng dụng của mình để nội dung của bạn không vượt quá khoảng không hiện tại, điều này sẽ khiến nó bị cắt.

00:11:14.000 --> 00:11:17.000
Hãy xem xét một ví dụ đơn giản.

00:11:17.000 --> 00:11:22.000
Như trong ví dụ trước, chúng ta sẽ bắt đầu bằng cách lấy UIScreen từ windowScene.

00:11:22.000 --> 00:11:26.000
Từ đó, chúng tôi sẽ có được tài sản có trụ sở tiềm năng của EDR.

00:11:26.000 --> 00:11:34.000
Sau đó, chúng ta có thể so sánh giá trị khoảng không EDR tiềm năng với ngưỡng và quyết định có nên triển khai đường dẫn kết xuất SDR hay đường dẫn xử lý hình ảnh hay không.

00:11:34.000 --> 00:11:39.000
Đây là một ví dụ về cách sử dụng thuộc tính khoảng không EDR hiện tại của UIScreen.

00:11:39.000 --> 00:11:47.000
Trong một cuộc gọi rút thăm, chúng ta có thể lấy lại UIScreen từ windowScene và sau đó lấy thuộc tính UIScreen currentEDRHeadroom.

00:11:47.000 --> 00:11:53.000
Bạn có thể sử dụng giá trị này để xác định bản đồ âm thích hợp sẽ tránh cắt và áp dụng nó trong ứng dụng của bạn.

00:11:53.000 --> 00:11:59.000
Bây giờ tôi đã đề cập đến UIScreen APIs và xem xét một số đoạn mã, chúng tôi đã đến cuối video này.

00:11:59.000 --> 00:12:05.000
Tóm lại, chúng tôi đã học cách thức và thời điểm bật Chế độ tham chiếu trên iPad.

00:12:05.000 --> 00:12:12.000
Chúng tôi đã thảo luận về kết xuất màu tham chiếu và các khả năng cụ thể của Chế độ tham chiếu, bao gồm cả định dạng phương tiện mà nó hỗ trợ.

00:12:12.000 --> 00:12:18.000
Và cuối cùng, chúng tôi đã tìm hiểu về thông báo Chế độ Tham chiếu UIScreen và các thuộc tính mới để truy vấn khoảng trống EDR.

00:12:18.000 --> 00:12:28.000
Nếu bạn muốn tìm hiểu thêm về EDR và công nghệ màu sắc trên nền tảng Apple, đây là danh sách các video về các chủ đề liên quan từ một vài WWDC gần đây.

00:12:28.000 --> 00:12:37.000
Video "Khám phá EDR trên iOS" từ năm nay đặc biệt phù hợp nếu bạn đang làm việc với EDR trên iPad, có hoặc không có Chế độ tham chiếu.

00:12:37.000 --> 00:12:40.000
Và điều đó đưa chúng ta đến cuối cuộc nói chuyện của chúng ta.

00:12:40.000 --> 00:12:44.000
Tôi hy vọng rằng bạn sẽ tận dụng Chế độ Tham chiếu và các API của nó trong ứng dụng của bạn.

00:12:44.000 --> 23:59:59.000
Cảm ơn vì đã xem.

