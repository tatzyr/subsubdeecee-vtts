WEBVTT

00:00:00.000 --> 00:00:03.000
こんにちは、ご参加いただきありがとうございます。

00:00:03.000 --> 00:00:12.000
このプレゼンテーションでは、サブスクリプションと消費不可能なアプリ内購入にファミリー共有を実装する方法について説明します。

00:00:12.000 --> 00:00:22.000
私はブライアンで、App Storeの収益化チームの一員であり、App Store Commerceチームの開発者擁護者であるHemantが参加しています。

00:00:22.000 --> 00:00:27.000
今日は、アプリ内購入のファミリー共有の概要を説明します。

00:00:27.000 --> 00:00:33.000
次に、この機能の利点について話し合い、それを最大限に活用するためのヒントをいくつか紹介します。

00:00:33.000 --> 00:00:39.000
最後に、ヘマントはエンジニアリングと実装について議論します。

00:00:39.000 --> 00:00:42.000
では、始めましょう。

00:00:42.000 --> 00:00:52.000
リマインダーとして、ファミリー共有は、顧客がすべてのAppleデバイスでデジタル購入を家族と簡単に共有できる強力なツールです。

00:00:52.000 --> 00:01:07.000
2014年に発売し、それ以来、ファミリー共有はAppleエコシステムの重要な部分となり、これまで以上に多くの顧客とより多くのデバイスにコンテンツとサービスをもたらしました。

00:01:07.000 --> 00:01:14.000
また、ファミリー共有への継続的な投資の一環として、これらの機能をStoreKitに拡張しました。

00:01:14.000 --> 00:01:25.000
そして、それが今日のセッションのすべてであり、自動更新サブスクリプションと非消耗型アプリ内購入のファミリー共有を開始することです。

00:01:25.000 --> 00:01:37.000
ファミリー共有は、サブスクリプションと非消耗品の両方で利用できることに加えて、顧客の家族グループに含まれる最大5人の家族との購入共有を可能にします。

00:01:37.000 --> 00:01:46.000
開発者として、既存のSKUに実装するか、ファミリー共有専用の新しいSKUを作成するかを選択できます。

00:01:46.000 --> 00:01:58.000
App Store Connect内で簡単に実装でき、収益化KPIを改善するのに役立つ合理化された便利なユーザーエクスペリエンスを提供します。

00:01:58.000 --> 00:02:03.000
では、アプリ内購入のファミリー共有は、あなたのビジネスにどのように影響しますか?

00:02:03.000 --> 00:02:17.000
これは、加入者の成長、エンゲージメントの増加、解約の減少の4つの重要な分野で役立ち、これらはすべてより高い顧客生涯価値につながります。

00:02:17.000 --> 00:02:22.000
マイケルを例に挙げて、これらの指標がどのように連携するかを以下に示します。

00:02:22.000 --> 00:02:28.000
ファミリー共有は、あなたの加入者ベースを増やし、あなたの製品にマイケルを引き付ける説得力のある方法です。

00:02:28.000 --> 00:02:41.000
マイケルを購読者として買収したら、彼は残りの家族にサブスクリプションを拡張することができ、最終的にはあなたのサービスとアプリに顧客のタッチポイントの数を乗算します。

00:02:41.000 --> 00:02:59.000
そして、家族全員があなたの製品に従事している今、効果的なエンゲージメントマーケティングと組み合わせた説得力のあるコンテンツの提供は、彼らが戻ってくることができ、あなたの製品やサービスから価値を得る漸進的なユーザーの全体的な効果は、解約の減少です。

00:02:59.000 --> 00:03:06.000
また、顧客は家族と購入を共有できるため、ファミリー共有も気に入っています。

00:03:06.000 --> 00:03:16.000
iOSと一緒に設計されており、デバイスやアプリ間で一貫性のある、シームレスで使いやすいアウトオブボックスエクスペリエンスを提供します。

00:03:16.000 --> 00:03:25.000
プライバシーを念頭に置いて構築されており、各家族が独自の購入資格を受け取るため、パスワード共有の必要性を排除します。

00:03:25.000 --> 00:03:33.000
そして最後に、ファミリー共有は、1つではなく最大6つの資格を提供することで、アプリ内購入に価値を追加します。

00:03:33.000 --> 00:03:44.000
これにより、顧客は購入にアクセスできる人数を拡張し、各家族にパーソナライズされたアプリ体験を提供します。

00:03:44.000 --> 00:03:50.000
では、顧客と開発者がこの機能を最大限に活用する方法について話しましょう。

00:03:50.000 --> 00:03:57.000
アプリ内購入にファミリー共有の使用を開始するには、まずファミリーグループを作成する必要があります。

00:03:57.000 --> 00:04:04.000
世帯の1人の大人は、Apple IDを使用して最大5人の家族を招待することでこれを行うことができます。

00:04:04.000 --> 00:04:11.000
各家族は自分のアカウントを使用しているので、彼らの経験はパーソナライズされ、プライベートなままです。

00:04:11.000 --> 00:04:22.000
そして、各家族は、家族グループが作成されると、共有の対象となるグループのサブスクリプションとコンテンツに即座にアクセスできます。

00:04:22.000 --> 00:04:28.000
顧客が設定アプリ内で共有設定をどのように管理しているかを見てみましょう。

00:04:28.000 --> 00:04:35.000
これは、顧客が現在購読しているすべての製品を表示できるサブスクリプションの管理ページです。

00:04:35.000 --> 00:04:45.000
ページの下部にある「家族と共有」トグルを使用すると、ファミリー共有が有効なSKUを自動的に共有するかどうかを選択できます。

00:04:45.000 --> 00:04:52.000
このトグルはデフォルトでオンになっていますが、お客様はいつでもオプトアウトを選択できます。

00:04:52.000 --> 00:05:02.000
リストされているアプリのいずれかを選択すると、購入を編集し、特定のサブスクリプションでファミリー共有がオンかオフになっているかを選択できます。

00:05:02.000 --> 00:05:07.000
最初の設定は、左側の画像の「家族と共有する」設定に基づいています。

00:05:07.000 --> 00:05:15.000
お客様は、既存のサブスクリプションで利用可能になった場合、ファミリー共有をオプトインするためにここに来ることもできます。

00:05:15.000 --> 00:05:21.000
これらは、家族グループが家族共有サブスクリプションを共有するために必要な手順です。

00:05:21.000 --> 00:05:28.000
ファミリー共有は、家族共有サブスクリプションの新規購入に対して自動的に有効になります。

00:05:28.000 --> 00:05:36.000
既存のサブスクリプションがファミリー共有で利用可能になった場合、元の購入者は設定内で共有を選択する必要があります。

00:05:36.000 --> 00:05:45.000
これは、お客様がサブスクリプション条件の更新を完全に認識できるようにするためです。

00:05:45.000 --> 00:05:56.000
独自のマーケティングチャネルを通じてファミリー共有の可用性についてメッセージを送ることを強くお勧めしますが、App Storeが顧客に直接メッセージを送る2つのユースケースがあります。

00:05:56.000 --> 00:06:17.000
購入者は、既存のサブスクリプションSKUでファミリー共有が利用可能になるとプッシュ通知を受け取り、新しいファミリー共有が有効なSKUを購入したが、以前にサブスクリプションの管理ページ内のファミリーメイントグルとの共有をオフにした顧客にもプッシュ通知が送信されます。

00:06:17.000 --> 00:06:27.000
これらのプッシュ通知は、顧客をその特定のアプリの編集サブスクリプションページにリンクし、家族グループの残りの部分と共有することを選択できます。

00:06:27.000 --> 00:06:32.000
そして、非消費のアプリ内購入のプロセスはわずかに異なります。

00:06:32.000 --> 00:06:41.000
非消耗品のファミリー共有は、iCloudで購入共有が有効になっている限り、新規購入と既存の購入の両方で自動的に有効になります。

00:06:41.000 --> 00:06:47.000
家族は購入を共有しており、アプリは購入履歴から隠されていません。

00:06:47.000 --> 00:07:04.000
家族は自動的に新しい購入のコンテンツにアクセスできますが、既存の購入でファミリー共有が利用可能になると、新しく利用可能になったコンテンツのロックを解除するために、家族メンバーは購入の復元ボタンを選択する必要があります。

00:07:04.000 --> 00:07:14.000
これは、家族との購入の共有トグルを含む画面で、非消耗を家族と共有するためにオンにする必要があります。

00:07:14.000 --> 00:07:22.000
このページは、Apple IDの後にファミリー共有を選択し、設定アプリ内で共有を購入することで見つけることができます。

00:07:22.000 --> 00:07:29.000
ファミリー共有機能をできるだけ見つけやすく魅力的にする方法はいくつかあります。

00:07:29.000 --> 00:07:35.000
App Store Connectを使用すると、すべての顧客に対して簡単にファミリー共有を有効にできます。

00:07:35.000 --> 00:07:48.000
全体的なサービス価値提案の一部として、サブスクリプションを家族と共有する能力を明確に伝えるために、オンボーディングフローに機能を含めることを検討してください。

00:07:48.000 --> 00:07:52.000
ファミリー共有を別のサブスクリプション層として提供することも可能です。

00:07:52.000 --> 00:08:03.000
この購入フローは、利用可能な階層を明確に区別し、画面下部のファミリー共有の概要ページへのリンクが含まれています。

00:08:03.000 --> 00:08:14.000
より高い階層のサービスとしてファミリー共有を提供することを選択した場合は、App Store Connectの個々の階層または階層と上位層をグループ化することを忘れないでください。

00:08:14.000 --> 00:08:25.000
これにより、このアプリ内例のように、アップグレードメッセージングを提供できます。これにより、個々の加入者のプランをファミリー層にアップグレードする価値が強調されます。

00:08:25.000 --> 00:08:37.000
新しい家族が購入を完了した後、左側に示すように、家族がサービスを利用することを奨励することを思い出させる機能をマーケティングすることを検討してください。

00:08:37.000 --> 00:08:45.000
そして右側には、サブスクリプションにアクセスできるようになったことを伝えている家族へのメッセージが表示されます。

00:08:45.000 --> 00:08:54.000
ヘマントは、家族を認識し、シームレスにアクセスのロックを解除する方法を案内し、彼らがすぐにあなたのサービスを楽しむことができるようにします。

00:08:54.000 --> 00:08:57.000
そして、これは夜空からの実例です。

00:08:57.000 --> 00:09:02.000
彼らは既存のSKUですべての顧客にファミリー共有を提供しています。

00:09:02.000 --> 00:09:11.000
左側には、サインアップフロー内でファミリー共有を明確に強調し、追加料金なしで利用できるように宣伝していることがわかります。

00:09:11.000 --> 00:09:23.000
そして、右側には、新しいプランの所有者が特典を利用することを奨励する購入後の加入者オンボーディングカルーセル内の専用ページを機能に与えていることがわかります。

00:09:23.000 --> 00:09:30.000
これは、チームと実施計画を見直す際に留意すべきいくつかの項目の要約です。

00:09:30.000 --> 00:09:56.000
ファミリー共有がアプリ内購入に提供できる増分価値と、この機能を使用して新しい加入者をサービスに持ち込み、新規または既存のSKUでファミリー共有を有効にするかどうかを決定し、製品およびマーケティングチームと協力して、新規加入者を奨励し、ファミリー共有を通じてサービスとのエンゲージメントを高めるのに役立つマーチャンダイジングを作成する方法を検討してください。

00:09:56.000 --> 00:10:02.000
私は今、それをヘマントに引き渡して、エンジニアリングと機能の実装について話し合います。

00:10:02.000 --> 00:10:05.000
ありがとう、ブライアン。みなさん、こんにちは。

00:10:05.000 --> 00:10:08.000
App Store CommerceチームのHemantです。

00:10:08.000 --> 00:10:18.000
私は今日、アプリ内購入にファミリー共有を採用する際に考慮すべきエンジニアリングと実装の詳細をあなたと共有するためにここにいます。

00:10:18.000 --> 00:10:20.000
カバーするセクションが3つあります。

00:10:20.000 --> 00:10:26.000
App Store Connectで製品ごとにファミリー共有を有効にすることから始めます。

00:10:26.000 --> 00:10:34.000
次に、あなたのアプリケーションが購入者の家族にどのようにサービスを受けることができるかについて話し合います。

00:10:34.000 --> 00:10:41.000
そして、Family SharingのStoreKitとApp Storeサーバーの通知で利用可能なものを仕上げます。

00:10:41.000 --> 00:10:44.000
では、ファミリー共有を有効にすることから始めましょう。

00:10:44.000 --> 00:10:52.000
まず、App Store Connectにアクセスし、有効にしたいサブスクリプションまたは非消耗型製品に移動します。

00:10:52.000 --> 00:10:59.000
ファミリー共有というラベルの付いた新しいセクションが表示され、オンにするオプションが表示されます。

00:10:59.000 --> 00:11:02.000
確認ダイアログが表示されます。

00:11:02.000 --> 00:11:12.000
そして、確認を選択すると、あなたの製品は数時間以内に、新規および既存のすべての顧客のために家族で共有可能になります。

00:11:12.000 --> 00:11:20.000
さて、特定の製品に対して一度有効にすると、これを元に戻すことはできないことを強調したいと思います。

00:11:20.000 --> 00:11:27.000
これは、顧客がこの機能に基づいて購入を決定した可能性があるためです。

00:11:27.000 --> 00:11:37.000
App Store Connectで有効にすると、StoreKitは有効にした製品に対して家族で共有可能なプロパティを返すようになりました。

00:11:37.000 --> 00:11:43.000
このプロパティは、StoreKit 2とオリジナルのStoreKitの両方で利用できます。

00:11:43.000 --> 00:11:47.000
ブライアンが先に示したように、あなたはこれを認識するでしょう。

00:11:47.000 --> 00:11:56.000
これは、アプリケーション内でファミリー共有の特定のUIを動的に制御できるようにするために必要なプロパティです。

00:11:56.000 --> 00:12:00.000
そして、これはiOS 14以降から入手できます。

00:12:00.000 --> 00:12:09.000
画面には、アプリケーションがStoreKit製品オブジェクトのプロパティをどのように使用できるかのサンプルコードがあります。

00:12:09.000 --> 00:12:21.000
isFamilyShareableプロパティは、カスタムUIまたはコピーで家族の共有可能な製品を識別して商品化することを可能にするシンプルなブールです。

00:12:21.000 --> 00:12:35.000
このプロパティは、サンドボックスとXcodeテスト環境でも利用でき、家族で共有可能な製品に対して作成したいエクスペリエンスの変更を簡単にテストできます。

00:12:35.000 --> 00:12:42.000
それでは、ファミリー共有が家族のためにどのように機能するかを深く掘り下げてみましょう。

00:12:42.000 --> 00:12:50.000
素晴らしいニュースは、ファミリー共有は、サーバーとアプリケーションが慣れ親しんだのと同じように機能するということです。

00:12:50.000 --> 00:12:59.000
アプリケーションは、サーバー側またはクライアント側に変更を加えることなく、このファミリートランザクションをすでに処理している可能性があります。

00:12:59.000 --> 00:13:06.000
そして、これは、これらの購入が家族全員が自動的に利用できるためです。

00:13:06.000 --> 00:13:14.000
したがって、アプリケーションが起動されると、通常の購入と同様に、StoreKit経由で利用可能なトランザクションが表示されます。

00:13:14.000 --> 00:13:26.000
これにより、各家族が自分のApple IDを使用してサブスクリプションまたは非消耗型製品にアクセスする権利があることを検証できます。

00:13:26.000 --> 00:13:42.000
あなたのアプリが変更なしで家族のために機能することを前提に、あなたのアプリケーションがすべてのシナリオで最適な体験を提供することを保証するいくつかの重要なベストプラクティスを確認しましょう。

00:13:42.000 --> 00:13:52.000
どのバージョンのStoreKitを使用していても、起動時にトランザクションに耳を傾け、アプリの存続期間中もそうし続けることが重要です。

00:13:52.000 --> 00:13:57.000
これにより、アプリがトランザクションを見逃すことはありません。

00:13:57.000 --> 00:14:10.000
これは、購入依頼、PSD2、またはアプリの外で取引が確定する可能性のあるサブスクリプションオファーコードなどの他のシナリオでも重要です。

00:14:10.000 --> 00:14:19.000
顧客に製品を商品にする前に、最初に彼らのステータスを確実に知ることが別のベストプラクティスです。

00:14:19.000 --> 00:14:27.000
これを行うには、StoreKitと直接対話するか、領収書を取得して検証することができます。

00:14:27.000 --> 00:14:39.000
あなたは彼らがあなたが権利を与える必要がある過去の購入を持っているかどうかを判断することができ、これが新しい顧客であるシナリオでは、あなたは彼らに適切に商品化することができます。

00:14:39.000 --> 00:14:51.000
これら2つのベストプラクティスを使用すると、顧客のエスカレーションを減らし、払い戻し、否定的なレビューを最小限に抑え、最終的には顧客体験を向上させることができます。

00:14:51.000 --> 00:15:01.000
このテーマについてより深く掘り下げるには、WWDC Implement Proactive In-App Purchase Restoreのセッションをチェックしてください。

00:15:01.000 --> 00:15:10.000
それでは、新しい購入が家族とそのデバイスにとってどのようなものかを説明しましょう。

00:15:10.000 --> 00:15:16.000
購入者は、通常どおりデバイスで購入を開始します。

00:15:16.000 --> 00:15:23.000
この製品は家族で共有可能であるため、家族ごとに取引が作成されます。

00:15:23.000 --> 00:15:34.000
ベストプラクティスに従っている場合、アプリケーションには、起動時またはStoreKitからリアルタイムでこの新しいトランザクションが表示されます。

00:15:34.000 --> 00:15:40.000
この時点で、他のトランザクションと同様に、サービスを検証し、資格を付与することができます。

00:15:40.000 --> 00:15:46.000
注意すべき点は、家族取引の遅延を実施したことです。

00:15:46.000 --> 00:15:55.000
この遅延により、購入者がファミリー共有を無効にすることを選択した場合、購入者はファミリー共有を無効にすることができます。

00:15:55.000 --> 00:16:00.000
同じイラストを見てみましょうが、既存のサブスクリプション購入の場合です。

00:16:00.000 --> 00:16:08.000
前述のように、既存の購入では、ファミリー共有はデフォルトで有効になっていません。

00:16:08.000 --> 00:16:16.000
購入者は、既存のサブスクリプションごとに[サブスクリプションの管理]ページからファミリー共有を有効にする必要があります。

00:16:16.000 --> 00:16:24.000
有効にすると、各家族のトランザクションはその後すぐに作成されます。

00:16:24.000 --> 00:16:35.000
StoreKitとサーバーAPIで利用可能な所有権タイプのプロパティを使用すると、購入者と家族を区別できます。

00:16:35.000 --> 00:16:58.000
ブライアンが以前に共有したように、アプリケーションが家族のためのカスタムオンボーディング体験をしたい場合、これは使用するプロパティです。または、サブスクリプションを管理できる顧客を特定したい場合は、購入した価値を探します。

00:16:58.000 --> 00:17:08.000
このプロパティは、各トランザクションのオブジェクト内で見つけることができ、アプリの領収書でも入手できます。

00:17:08.000 --> 00:17:12.000
次に、加入者イベントの処理。

00:17:12.000 --> 00:17:32.000
購入者がファミリー共有を完全に無効にした場合や、購入者がサブスクリプションまたは非消耗の払い戻しを受けた場合など、家族からのアクセスを取り消す必要がある場合があるため、注意すべきユニークなシナリオがあります。

00:17:32.000 --> 00:17:41.000
最後に、家族または購入者のどちらかがもはや家族単位の一部ではない場合があります。

00:17:41.000 --> 00:17:53.000
シナリオを説明するために、iOS 14以降のStoreKitとApp Storeサーバーの通知から必要な情報があります。

00:17:53.000 --> 00:17:59.000
このコード例で、このシナリオを確認する方法を見てみましょう。

00:17:59.000 --> 00:18:09.000
トランザクションリスナーからトランザクションの更新を受け取ったら、revocationDateプロパティの存在を確認する必要があります。

00:18:09.000 --> 00:18:16.000
これは、この取引が取り消され、顧客が製品を受け取る権利がなくなったことを示しています。

00:18:16.000 --> 00:18:33.000
ただし、顧客に同じまたは異なる製品を受け取る権利を与える他の取引がある可能性があることに注意することが重要です。そのため、顧客が支払っているものを受け取っていることを確認する必要があります。

00:18:33.000 --> 00:18:42.000
元のStoreKitをまだ使用している場合は、didRevokeEntitlementsForProductIdentifiersというコールバックメソッドを使用する必要があります。

00:18:42.000 --> 00:18:52.000
これは、この顧客に対していくつかの資格が変更された可能性があるという同じシグナルであり、ステータスを確認する必要があります。

00:18:52.000 --> 00:18:57.000
さらに、RevokeというApp Storeサーバーの通知タイプがあります。

00:18:57.000 --> 00:19:06.000
このリアルタイムのサーバー間通知は、資格に変更があった可能性があることを示しています。

00:19:06.000 --> 00:19:12.000
この通知は、バージョン1とバージョン2の両方の通知で利用できます。

00:19:12.000 --> 00:19:30.000
したがって、このコールバックのいずれかを受け取ったら、正しい資格を再確立することが重要です。つまり、これらの顧客は複数の資格を持っていた可能性があるため、取引履歴全体を反復することが重要です。

00:19:30.000 --> 00:19:40.000
したがって、1つが取り消された場合、同じまたは異なる製品に対して顧客に資格を与える別の取引があるかもしれません。

00:19:40.000 --> 00:19:47.000
これを行うことで、そのような場合、サービスの中断がないことを確認することができます。

00:19:47.000 --> 00:19:53.000
それでは、今日のApp Storeサーバーの通知タイプを簡単に確認しましょう。

00:19:53.000 --> 00:20:10.000
ここでは、V2通知のリストがあり、素晴らしいニュースは、サーバー上でそれらの顧客の資格を最新の状態に保つために、あなたが受け取ることを期待する家族の関連するすべてのライフサイクル通知を受け取ることです。

00:20:10.000 --> 00:20:16.000
そして、購入者にのみ関連するものは省略します。

00:20:16.000 --> 00:20:22.000
まだV1通知を使用している場合は、同等のライフサイクルアップデートも取得します。

00:20:22.000 --> 00:20:39.000
また、App Store Connectにサーバーエンドポイントをまだ追加していない場合は、いつでもサンドボックス環境で実験して、この重要なライフサイクルアップデートのサポートを開発することができます。

00:20:39.000 --> 00:20:47.000
最後に、App Store Connectの販売とトレンドのセクションで利用可能なものを取り上げましょう。

00:20:47.000 --> 00:20:54.000
サブスクリプションレポートでは、製品ごとに有料サブスクリプションがいくつあるかなど、質問があるかもしれません。

00:20:54.000 --> 00:21:00.000
または、家族を含めて何人の顧客がアクセスできますか?

00:21:00.000 --> 00:21:06.000
購読レポートで利用可能なのは、購読者列です。

00:21:06.000 --> 00:21:12.000
この列には、サブスクリプションにアクセスできる顧客の数が表示されます。

00:21:12.000 --> 00:21:18.000
これには、主要な購読者と資格のある家族が含まれます。

00:21:18.000 --> 00:21:28.000
このフィールドは、レコードが製品の3つ以上のアクティブなサブスクリプションを表す場合にのみ入力されることに注意してください。

00:21:28.000 --> 00:21:37.000
本日締めくくるために、新規または既存の製品でファミリー共有機能を検討することをお勧めします。

00:21:37.000 --> 00:21:43.000
ファミリー共有の可用性とその価値提案を明確に伝える必要があります。

00:21:43.000 --> 00:21:50.000
ファミリー共有は顧客のプライバシーを提供し、資格情報の共有を減らすのに役立つことを忘れないでください。

00:21:50.000 --> 23:59:59.000
また、サブスクリプションを含むアプリ内購入に関するガイダンスは、Apple DeveloperのWebサイトで見つけることができます。

