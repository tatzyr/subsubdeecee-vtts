WEBVTT

00:00:00.000 --> 00:00:04.000
こんにちは、アップルのディスプレイ・アンド・カラー・テクノロジーチームのベン・ボドナーです。

00:00:04.000 --> 00:00:12.000
このビデオでは、iPad Proの新しいリファレンスモードの機能、ユースケース、APIについて説明します。

00:00:12.000 --> 00:00:16.000
リファレンスモードを理解するために、まずリファレンスディスプレイとは何かを説明する必要があります。

00:00:16.000 --> 00:00:22.000
多くのディスプレイは、画像の色、コントラスト、シャープネスを意図的に操作します。

00:00:22.000 --> 00:00:30.000
たとえば、テレビは通常、それぞれが独自の美的外観をターゲットとする異なるモードを持ち、モバイルデバイスはしばしば周囲の照明に適応します。

00:00:30.000 --> 00:00:41.000
この種の機能は、ほとんどの状況で望ましいかもしれませんが、通常、ディスプレイがどのように画像をレンダリングしているかを正確に知りたいコンテンツクリエイターにとっては問題になる可能性があります。

00:00:41.000 --> 00:00:48.000
そのため、リファレンスディスプレイは、メディアフォーマットの仕様に合わせて正確に色をレンダリングします。

00:00:48.000 --> 00:00:53.000
つまり、異なる参照ディスプレイがある場合、それらはすべて同じコンテンツを一貫してレンダリングします。

00:00:53.000 --> 00:01:04.000
この一貫性により、コンテンツ作成者は、メディア形式に適した照明環境で表示されると仮定して、作品がすべてで同じように見えるという自信を持って複数のディスプレイを使用できます。

00:01:04.000 --> 00:01:10.000
リファレンスディスプレイを理解したので、iPadのリファレンスモードの詳細に入りましょう。

00:01:10.000 --> 00:01:14.000
まず、参照モードを使用するタイミングと方法を説明します。

00:01:14.000 --> 00:01:20.000
次に、どのメディアフォーマットがサポートされているかなど、リファレンスモードの特定の機能について説明します。

00:01:20.000 --> 00:01:25.000
そして最後に、リファレンスモードに関連するAPIの概要をお伝えします。

00:01:25.000 --> 00:01:31.000
では、いつリファレンスモードを使用するのが適切で、どのように有効にしますか?

00:01:31.000 --> 00:01:36.000
リファレンスモードは、さまざまなコンテンツ作成ワークフローを有効または強化します。

00:01:36.000 --> 00:01:42.000
歴史的にモバイルデバイスでは不可能だったリファレンスディスプレイを必要とするカラークリティカルなタスクのサポートを追加します。

00:01:42.000 --> 00:01:47.000
これには、カラーグレーディング、グレーディングされたコンテンツのレビューと承認が含まれます。

00:01:47.000 --> 00:01:56.000
また、モバイルビデオ編集や合成アプリに色精度をもたらし、通常はリファレンスディスプレイにアクセスできないユーザーのエクスペリエンスを向上させます。

00:01:56.000 --> 00:02:05.000
最後に、リファレンスモードはMetalとAVFoundationベースのカラーレンダリングの両方をサポートしているため、これらのワークフローを提供するアプリはどちらかを使用できます。

00:02:05.000 --> 00:02:12.000
リファレンスモードは、一部のmacOSシステムですでに利用可能なリファレンスディスプレイプリセットに似ていますが、重要な違いがあります。

00:02:12.000 --> 00:02:19.000
macOSでは、それぞれが異なるフォーマットの参照カラーレンダリングを提供する複数のプリセットモードが利用可能です。

00:02:19.000 --> 00:02:25.000
iPadでは、リファレンスモードはオンまたはオフになっている設定の1つにすぎません。

00:02:25.000 --> 00:02:30.000
つまり、設定を変更することなく、複数のフォーマットのリファレンスカラーレンダリングを取得できます。

00:02:30.000 --> 00:02:39.000
このモードは、ユーザーがiPadの設定からのみアクセスでき、アプリによってプログラムで有効または無効にすることはできません。

00:02:39.000 --> 00:02:44.000
リファレンスモードは、12.9インチの第5世代iPad Proでサポートされています。

00:02:44.000 --> 00:02:54.000
iPadをスタンドアロンデバイスとして使用できますが、iPadをmacOSデバイスのセカンダリモニターとして使用できる機能であるSidecarにも新しい機能をもたらします。

00:02:54.000 --> 00:02:57.000
以前は、サイドカーはEDRをサポートしていませんでした。

00:02:57.000 --> 00:03:07.000
しかし、現在、サイドカーディスプレイとして使用されるiPadでリファレンスモードが有効になっている場合、サポートされているフォーマットのリファレンスカラーレンダリングを有効にするだけでなく、EDRをサポートします。

00:03:07.000 --> 00:03:15.000
この新機能では、macOS Venturaを搭載したAppleシリコンMacをSidecarディスプレイのホストとして使用する必要があります。

00:03:15.000 --> 00:03:20.000
参照モードを有効にすると、設定メニューの他のいくつかの項目が操作されます。

00:03:20.000 --> 00:03:25.000
一貫したカラーレンダリングを実現するために、明るさスライダーはロックされ、ダイナミックディスプレイ機能はオフになります。

00:03:25.000 --> 00:03:31.000
これには、True ToneとNight Shiftの無効化とロック、自動明るさ機能が含まれます。

00:03:31.000 --> 00:03:42.000
リファレンスモードを有効にするタイミングと方法を説明したので、リファレンスモードの特定の機能とともに、リファレンスカラーを実行することの意味を詳しく見てみましょう。

00:03:42.000 --> 00:03:49.000
先に述べたmacOSプリセットと同様に、リファレンスモードはカラーマネジメントを使用していくつかの異なるメディアフォーマットをサポートします。

00:03:49.000 --> 00:03:54.000
これにより、各フォーマットの仕様に基づいて色が正確にレンダリングされます。

00:03:54.000 --> 00:04:01.000
もちろん、色をどのようにレンダリングするかを決定するには、メディアにタグを付けて、それがどの形式であるかを示す必要があります。

00:04:01.000 --> 00:04:08.000
参照カラー管理を有効にするには、ディスプレイはフォーマット標準で指定された参照環境でのみ表示する必要があります。

00:04:08.000 --> 00:04:16.000
リファレンスモードでサポートされているビデオフォーマットは薄暗い環境が必要ですが、グラフィックは明るい屋内環境で表示する必要があります。

00:04:16.000 --> 00:04:20.000
では、リファレンスモードはどのようなカラーマネジメントを使用していますか?

00:04:20.000 --> 00:04:22.000
色のすべてのフォーマットは、同様の仕様で管理されました。

00:04:22.000 --> 00:04:30.000
これには、D65ホワイトポイントと、SDRメディアの場合は100ニト、HDRメディアの場合は1000ニトのピーク輝度が含まれます。

00:04:30.000 --> 00:04:36.000
HDRフォーマットの場合、トーンマッピングは無効になっているため、ディスプレイはフォーマットの転送機能を正確に追跡します。

00:04:36.000 --> 00:04:44.000
また、色は1000ニトを超えず、iPadのネイティブ色域であるP3色域内にある限り、正しく表示されます。

00:04:44.000 --> 00:04:48.000
色域外または1000ニットよりも明るい色は、トーンマッピングなしでクリップされます。

00:04:48.000 --> 00:04:53.000
そのクリッピングの結果は、フォーマットによって異なる場合があります。

00:04:53.000 --> 00:05:01.000
フォーマットといえば、リファレンスモードでサポートされているもののリストと、それぞれに対応するmacOSリファレンスディスプレイのプリセットがあります。

00:05:01.000 --> 00:05:08.000
iPadでは、リファレンスモードはカラータグ付けに基づいて適切なカラーマネジメントを決定するので、プリセットを切り替える必要はありません。

00:05:08.000 --> 00:05:16.000
タグ付けの1つの例は、この表に含まれるITU H.273コードポイントであり、QuickTimeのNCLCカラータグとして知っているかもしれません。

00:05:16.000 --> 00:05:20.000
しかし、使用できる他の形式のタグ付けもあります。

00:05:20.000 --> 00:05:23.000
アプリがこのリストにないフォーマットを使用している場合は、心配しないでください。

00:05:23.000 --> 00:05:30.000
参照モードは、サポートされていないフォーマットを管理します。デフォルトの表示モードと同様の方法でレンダリングされるだけです。

00:05:30.000 --> 00:05:34.000
これらの行の一部には複数の形式が含まれていることに気付くかもしれません。

00:05:34.000 --> 00:05:40.000
これは、同じ行にリストされているフォーマットが、参照ディスプレイで同じレンダリングになるためです。

00:05:40.000 --> 00:05:54.000
たとえば、HDR10とBT.2100 PQはどちらも、コードポイント9-16-9で説明されているように、BT 2020カラープライマリ、PQ転送機能、およびBT 2020 YCCマトリックスを使用します。

00:05:54.000 --> 00:06:00.000
しかし、HDR10には、トーンマッピングを知らせるために使用できるHDRメタデータも含まれています。

00:06:00.000 --> 00:06:06.000
iPadのデフォルトの表示モードでは、フォーマットに応じて同じコンテンツのレンディションが異なる場合があります。

00:06:06.000 --> 00:06:14.000
しかし、参照モードはトーンマップしないため、HDRメタデータは無視され、両方のフォーマットは同じようにレンダリングされます。

00:06:14.000 --> 00:06:20.000
一般的に言えば、リファレンスディスプレイは、色の精度を確保するために光学測定装置で較正されています。

00:06:20.000 --> 00:06:30.000
macOSのプリセットと同様に、リファレンスモードには、ホワイトポイントの色度と輝度を1つのポイントでキャリブレーションできる微調整されたキャリブレーション機能が含まれています。

00:06:30.000 --> 00:06:42.000
この色調整は、iPadのホワイトポイントとピーク輝度が同じデバイスで較正された他のディスプレイと一致するように、ディスプレイの経年劣化と測定デバイス間の違いを考慮することを目的としています。

00:06:42.000 --> 00:06:46.000
これは、カラーレンダリングにおけるリファレンスモードの機能の詳細をまとめています。

00:06:46.000 --> 00:06:51.000
次に、リファレンスモードに関連するUIScreen APIについて説明します。

00:06:51.000 --> 00:06:56.000
しかし、そうする前に、私はすぐにEDRが何であるかを要約する必要があります。

00:06:56.000 --> 00:07:01.000
EDRは拡張ダイナミックレンジの略で、AppleのHDR技術です。

00:07:01.000 --> 00:07:05.000
レンダリング技術とピクセル表現の両方が含まれています。

00:07:05.000 --> 00:07:09.000
EDRピクセルは、SDRとHDRの両方のコンテンツを表現できます。

00:07:09.000 --> 00:07:16.000
EDRの重要な要素は、HDRピーク輝度をSDRピーク輝度で割ったヘッドルームです。

00:07:16.000 --> 00:07:26.000
リファレンスモードでは、HDRピークは常に1000ニト、SDRピークは常に100ニトです。つまり、EDRヘッドルームは常に10倍です。

00:07:26.000 --> 00:07:32.000
EDRは、ゼロから1までの値で表されるSDRピクセルが常にレンダリングされることを保証します。

00:07:32.000 --> 00:07:41.000
1とEDRヘッドルームの間の値は、トーンマッピングなしで適切にレンダリングされますが、EDRヘッドルームよりも明るい値はクリップされます。

00:07:41.000 --> 00:07:50.000
ただし、ヘッドルームがEDRとしてのコンテンツのレンダリングを正当化するのに十分な高さではないと判断し、代わりにSDRパスを実装したい場合があります。

00:07:50.000 --> 00:07:56.000
また、独自のトーンマッピングを適用することで、利用可能なEDRヘッドルームを利用することを好む場合もあります。

00:07:56.000 --> 00:08:04.000
いずれの場合も、UIScreenには、アプリでレンダリングの決定を行うために使用できる新しいクエリプロパティと通知があります。

00:08:04.000 --> 00:08:13.000
具体的には、UIScreenを使用して、参照モードステータスの変更に関する通知を登録し、そのステータスの変更を照会することができます。

00:08:13.000 --> 00:08:18.000
UIScreenを使用して、デバイスの現在および潜在的なEDRヘッドルームプロパティを照会することもできます。

00:08:18.000 --> 00:08:21.000
それについてはもう少し後で話します。

00:08:21.000 --> 00:08:30.000
表示モードのステータスを変更するには、UIScreen.referenceDisplayMode StatusDidChangeNotificationに登録してください。

00:08:30.000 --> 00:08:39.000
クエリの目的で、この通知を使用して、新しいステータスと新しい潜在的なEDRヘッドルームを取得できます。どちらも、アプリのレンダリングの決定を通知する可能性があります。

00:08:39.000 --> 00:08:50.000
たとえば、リファレンスモードが無効になっている場合は、アプリがEDRヘッドルームに基づいて独自のトーンマッピングを適用し、リファレンスモードが有効になっている場合はトーンマッピングを適用しない場合があります。

00:08:50.000 --> 00:08:59.000
表示モードステータスの変更に関する通知を受け取ったら、UIScreenの参照表示モードステータスプロパティを使用して現在のステータスを取得できます。

00:08:59.000 --> 00:09:02.000
これは4つの列挙型のうちの1つになります。

00:09:02.000 --> 00:09:07.000
StatusEnabledが返された場合、参照モードは有効になり、期待どおりにレンダリングされます。

00:09:07.000 --> 00:09:16.000
StatusLimitedが返された場合、参照モードは有効になりますが、EDRヘッドルームが10回未満に制限されているため、一時的に参照応答をレンダリングできません。

00:09:16.000 --> 00:09:23.000
このステータスが発生すると、UI通知は、参照レンダリングが侵害されたことをユーザーに通知します。

00:09:23.000 --> 00:09:30.000
StatusNotEnabledが返された場合、このデバイスでは参照モードがサポートされていますが、ユーザーによって有効になっていません。

00:09:30.000 --> 00:09:37.000
そして最後に、StatusNotSupportedが返された場合、このデバイスでは参照モードはサポートされません。

00:09:37.000 --> 00:09:43.000
次に、Swiftコードを見て、UIScreen通知を利用する方法を見てみましょう。

00:09:43.000 --> 00:09:48.000
ここでは、NotificationCenterからデフォルトの通知オブジェクトを取得することから始めます。

00:09:48.000 --> 00:09:52.000
次に、デフォルトの通知オブジェクトに通知オブザーバーを追加します。

00:09:52.000 --> 00:10:02.000
この例では、screenChangedEventセレクタは、受信者がオブザーバーに送信するメッセージを決定し、通知が投稿されたことをオブザーバーに警告します。

00:10:02.000 --> 00:10:11.000
オブザーバーへの配信を登録する通知の名前は、UIScreen.referenceDisplayMode StatusDidChangeNotificationです。

00:10:11.000 --> 00:10:17.000
ステータスが変更されるたびに、関数screenChangedEventが呼び出されます。

00:10:17.000 --> 00:10:24.000
このscreenChangedEventの実装例では、まずウィンドウシーンからUIScreenを取得します。

00:10:24.000 --> 00:10:29.000
次に、UIScreenから新しいreferenceDisplayModeStatusプロパティを取得できます。

00:10:29.000 --> 00:10:35.000
また、新しい潜在的なEDRヘッドルーム値を取得し、アプリケーションのレンダリングパスで使用することもできます。

00:10:35.000 --> 00:10:42.000
参照モードのステータス変更通知をカバーしているので、EDRヘッドルームの話に移りましょう。

00:10:42.000 --> 00:10:46.000
先ほど、現在と潜在的な2種類のEDRヘッドルームについて言及しました。

00:10:46.000 --> 00:10:51.000
これらのプロパティは、EDRで作業する開発者に関連しており、参照モードに固有のものではありません。

00:10:51.000 --> 00:10:55.000
潜在的なヘッドルームは、ディスプレイの最大限のヘッドルームを返します。

00:10:55.000 --> 00:11:03.000
たとえば、潜在的なヘッドルームが1.0またはその他のしきい値を超えない場合は、アプリでSDRレンダリングパスを使用することを決定できます。

00:11:03.000 --> 00:11:08.000
現在のヘッドルームはダイナミックであり、さまざまな理由で潜在的なヘッドルームよりも少ない可能性があります。

00:11:08.000 --> 00:11:14.000
コンテンツが現在のヘッドルームを超えないように、アプリにトーンマッピングを適用することを選択できます。

00:11:14.000 --> 00:11:17.000
簡単な例を見てみましょう。 簡単な例を見てみましょう。

00:11:17.000 --> 00:11:22.000
前の例のように、windowSceneからUIScreenを取得することから始めます。

00:11:22.000 --> 00:11:26.000
そこから、潜在的なEDRヘッドルームプロパティを取得します。

00:11:26.000 --> 00:11:34.000
次に、潜在的なEDRヘッドルーム値をしきい値と比較し、SDRレンダリングパスまたは画像処理パスを実装するかどうかを決定できます。

00:11:34.000 --> 00:11:39.000
以下は、UIScreenの現在のEDRヘッドルームプロパティを使用する方法の例です。

00:11:39.000 --> 00:11:47.000
ドローコールでは、windowSceneからUIScreenを再度取得し、UIScreenプロパティcurrentEDRHeadroomを取得できます。

00:11:47.000 --> 00:11:53.000
この値を使用して、クリッピングを回避し、アプリに適用する適切なトーンマップを決定できます。

00:11:53.000 --> 00:11:59.000
UIScreen APIを取り上げ、いくつかのコードスニペットを確認したので、このビデオは終わりに到達しました。

00:11:59.000 --> 00:12:05.000
要約すると、iPadでリファレンスモードを有効にする方法とタイミングを学びました。

00:12:05.000 --> 00:12:12.000
リファレンスカラーレンダリングと、サポートするメディアフォーマットなど、リファレンスモードの特定の機能について議論しました。

00:12:12.000 --> 00:12:18.000
そして最後に、UIScreenリファレンスモードの通知とEDRヘッドルームを照会するための新しいプロパティについて学びました。

00:12:18.000 --> 00:12:28.000
AppleプラットフォームのEDRとカラー技術についてもっと知りたい場合は、過去数台のWWDCの関連トピックに関するビデオのリストを次に示します。

00:12:28.000 --> 00:12:37.000
今年の「iOSでEDRを探索する」ビデオは、リファレンスモードの有無にかかわらず、iPadでEDRで作業している場合に特に重要です。

00:12:37.000 --> 00:12:40.000
そして、それは私たちの話の終わりに私たちをもたらします。

00:12:40.000 --> 00:12:44.000
アプリでリファレンスモードとそのAPIを活用していただければ幸いです。

00:12:44.000 --> 23:59:59.000
見てくれてありがとう。

