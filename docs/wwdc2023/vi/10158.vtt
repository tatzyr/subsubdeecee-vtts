WEBVTT

00:00:00.000 --> 00:00:10.000
♪ ♪

00:00:10.000 --> 00:00:12.000
Jacob: Xin chào, tôi là Jacob.

00:00:12.000 --> 00:00:18.000
Giao diện người dùng mà chúng tôi xây dựng tiếp tục phát triển năng động hơn, với sự thay đổi và chuyển động ở mọi nơi.

00:00:18.000 --> 00:00:19.000
Mọi người thích điều này.

00:00:19.000 --> 00:00:29.000
Nó làm cho một giao diện cảm thấy sống động hơn, giúp dễ dàng hiểu những gì đang xảy ra và nó chỉ mang lại cảm giác thích thú khi tương tác với giao diện người dùng.

00:00:29.000 --> 00:00:33.000
Và có rất nhiều thứ kết hợp với nhau để tạo ra những tương tác năng động này.

00:00:33.000 --> 00:00:37.000
Có những sự chuyển tiếp, nơi chúng ta di chuyển từ cảnh này sang cảnh khác.

00:00:37.000 --> 00:00:41.000
Và có những cử chỉ, nơi chúng ta đang tương tác trực tiếp với thiết bị.

00:00:41.000 --> 00:00:48.000
Và cuối cùng, có những hình ảnh động, trong đó một đối tượng trên màn hình di chuyển, phát triển hoặc thay đổi các thuộc tính hình ảnh.

00:00:48.000 --> 00:00:53.000
Tất cả những thứ này hoạt động cùng nhau và giúp tạo ra một giao diện người dùng tương tác, linh hoạt.

00:00:53.000 --> 00:00:58.000
Hôm nay, chúng ta sẽ đi sâu vào việc xây dựng những hình ảnh động tuyệt vời.

00:00:58.000 --> 00:01:05.000
Sự khác biệt giữa các hình ảnh động có thể tinh tế, nhưng khi một hình ảnh động vừa phải, người dùng của bạn có thể cảm nhận được nó.

00:01:05.000 --> 00:01:11.000
Vì vậy, tôi muốn chia sẻ với bạn cách làm cho hình ảnh động trong ứng dụng của bạn cảm thấy thanh lịch và tự nhiên.

00:01:11.000 --> 00:01:19.000
Và chúng tôi sẽ làm điều đó chỉ tập trung vào một công cụ mạnh mẽ, linh hoạt và thậm chí thú vị: lò xo!

00:01:19.000 --> 00:01:23.000
Chúng ta sẽ bắt đầu bằng cách thảo luận về lý do tại sao lò xo phù hợp với hoạt hình.

00:01:23.000 --> 00:01:27.000
Sau đó, chúng ta sẽ đi sâu vào một số chi tiết về cách hoạt động của lò xo.

00:01:27.000 --> 00:01:31.000
Và cuối cùng, chúng ta sẽ nói về cách sử dụng lò xo trong các ứng dụng của chúng ta.

00:01:31.000 --> 00:01:34.000
Vậy tại sao lò xo lại hữu ích cho hoạt hình?

00:01:34.000 --> 00:01:39.000
Để trả lời điều đó, chúng ta cần lùi lại và thảo luận về những gì tạo nên một hình ảnh động tuyệt vời.

00:01:39.000 --> 00:01:44.000
Hãy xem xét một ngữ cảnh mà chúng ta có một vài hình ảnh động: một chuyển đổi đơn giản.

00:01:44.000 --> 00:01:48.000
Hãy tập trung vào nút chuyển đổi này.

00:01:48.000 --> 00:01:55.000
Chúng tôi sử dụng hoạt ảnh vì nhiều lý do, nhưng một trong những lý do quan trọng nhất là chúng mang lại cho chúng tôi cảm giác liên tục tốt hơn.

00:01:55.000 --> 00:02:03.000
Nếu một đối tượng bắt đầu ở một nơi, và sau đó đột nhiên xuất hiện ở một nơi khác, nó cảm thấy chói tai và đôi khi có thể gây nhầm lẫn.

00:02:03.000 --> 00:02:12.000
Cảm giác tự nhiên hơn nhiều nếu chúng ta thấy vật thể di chuyển từ nơi này sang nơi khác.

00:02:12.000 --> 00:02:14.000
Nhưng nó không chỉ là về vị trí.

00:02:14.000 --> 00:02:19.000
Nếu vận tốc của một vật thể đột nhiên thay đổi, điều đó cũng cảm thấy không tự nhiên.

00:02:19.000 --> 00:02:26.000
Ví dụ ở đây, núm vặn trong nút chuyển đổi đang bắt đầu và kết thúc bằng một bước nhảy về vận tốc, và nó cảm thấy không ổn.

00:02:26.000 --> 00:02:32.000
Vì vậy, một mục tiêu mà chúng tôi có là làm cho hình ảnh động của chúng tôi có vị trí và vận tốc liên tục.

00:02:32.000 --> 00:02:37.000
Hãy xem xét một vài loại hoạt hình và xem chúng hoạt động như thế nào với yêu cầu đó.

00:02:37.000 --> 00:02:48.000
Và trong khi chuyển đổi của chúng tôi là một ví dụ hữu ích về một hình ảnh động hoàn chỉnh, tôi muốn chỉ tập trung vào chuyển động của núm, vì vậy sẽ dễ dàng hơn để xem những gì đang xảy ra chỉ trong một hình ảnh động duy nhất.

00:02:48.000 --> 00:02:51.000
Hãy bắt đầu bằng cách xem xét Ease vào và ra.

00:02:51.000 --> 00:02:59.000
Đây là một loại hoạt hình đường cong Bezier, có nghĩa là chuyển động của nó được xác định bởi sự kết hợp của đường cong và thời lượng.

00:02:59.000 --> 00:03:04.000
Nhìn vào chuyển động của vật thể này, không có cảm giác như có bất kỳ cú nhảy đột ngột nào.

00:03:04.000 --> 00:03:11.000
Để đảm bảo đây là trường hợp, chúng ta cũng có thể kiểm tra biểu đồ chuyển động trong hình ảnh động này.

00:03:11.000 --> 00:03:16.000
Chúng ta sẽ xem xét một số biểu đồ này, vì vậy hãy thảo luận về những gì nó đang hiển thị.

00:03:16.000 --> 00:03:26.000
Trục ngang đại diện cho thời gian, đường dưới cùng hiển thị vị trí ban đầu của hình ảnh động và đường trên cùng hiển thị vị trí mục tiêu.

00:03:26.000 --> 00:03:32.000
Và khi chúng tôi phát hoạt hình lặp đi lặp lại, chúng tôi sẽ liên tục tiến bộ qua đường cong này.

00:03:32.000 --> 00:03:35.000
Bây giờ hãy bắt đầu lại hoạt hình.

00:03:35.000 --> 00:03:42.000
Lưu ý cách đường cong trong biểu đồ không có bất kỳ bước nhảy nào, điều đó có nghĩa là vị trí của nó liên tục.

00:03:42.000 --> 00:03:53.000
Và nếu chúng tôi cập nhật biểu đồ của mình để hiển thị vận tốc, chúng tôi có thể xác nhận rằng vận tốc cũng không có bất kỳ bước nhảy nào - vì vậy vận tốc cũng liên tục.

00:03:53.000 --> 00:04:02.000
Thay vào đó, nếu chúng ta nhìn vào chuyển động của một hình ảnh động tuyến tính, sẽ có một góc nhọn và một bước nhảy về vận tốc khi hoạt hình bắt đầu và kết thúc.

00:04:02.000 --> 00:04:19.000
Hoạt ảnh tuyến tính có thể hữu ích như một công cụ chuyên dụng ở một số nơi, như chỉ báo quay lặp lại, nhưng nếu không, bạn nên thận trọng khi sử dụng chúng, đặc biệt là đối với chuyển động, nơi nó có hành vi phi vật lý này thường cảm thấy lạc lõng.

00:04:19.000 --> 00:04:23.000
Tiếp theo, hãy kiểm tra tính liên tục của hoạt hình mùa xuân.

00:04:23.000 --> 00:04:28.000
Giống như chúng ta muốn, cái này cũng có vị trí và vận tốc liên tục.

00:04:28.000 --> 00:04:38.000
Cho đến nay, dễ dàng vào và ra và hoạt ảnh mùa xuân là những lựa chọn tốt nhất của chúng tôi, nhưng chúng tôi chỉ xem xét các trường hợp hoạt ảnh bắt đầu từ vị trí nghỉ ngơi.

00:04:38.000 --> 00:04:44.000
Hãy kiểm tra xem điều gì sẽ xảy ra nếu chúng ta sử dụng một cử chỉ cùng với một hình ảnh động.

00:04:44.000 --> 00:04:51.000
Hãy mang núm di động của chúng ta sang iPad, nơi chúng ta sẽ kéo nó bằng ngón tay của mình.

00:04:51.000 --> 00:04:55.000
Chúng ta có thể thả nó vào một trong hai vị trí này.

00:04:55.000 --> 00:05:03.000
Nhưng chúng ta cũng có thể kết thúc cử chỉ ở đâu đó ở giữa và ném núm của chúng ta sang một bên.

00:05:03.000 --> 00:05:15.000
Với một hình ảnh động vào và ra dễ dàng, nó hoạt hình đến cùng, nhưng chuyển động của nó dừng lại khi cử chỉ kết thúc.

00:05:15.000 --> 00:05:22.000
Kiểu hoạt hình này chỉ là một đường cong được chỉ định trước, vì vậy không có cách nào để biểu diễn vận tốc ban đầu.

00:05:22.000 --> 00:05:32.000
Điều này thậm chí còn tồi tệ hơn nếu chúng ta cũng cho phép núm của mình được kéo đến bất kỳ vị trí nào trong 2 chiều.

00:05:32.000 --> 00:05:36.000
Hãy thử lại lần nữa, nhưng với một hình ảnh động mùa xuân.

00:05:36.000 --> 00:05:48.000
Một lò xo có thể bắt đầu với bất kỳ vận tốc ban đầu nào, vì vậy chúng ta có cảm giác tự nhiên khi hình ảnh động của chúng ta bắt đầu ngay tại nơi cử chỉ kết thúc.

00:05:48.000 --> 00:05:57.000
Và điều này cũng hoạt động tốt cho việc kéo hai chiều.

00:05:57.000 --> 00:06:05.000
SwiftUI giờ đây sẽ tự động theo dõi vận tốc bất cứ khi nào một cử chỉ thay đổi thuộc tính, vì vậy bạn có thể có được hành vi này mà không cần phải làm thêm bất kỳ công việc nào.

00:06:05.000 --> 00:06:15.000
Vì vậy, lò xo là loại hoạt ảnh duy nhất duy trì tính liên tục cho cả trường hợp tĩnh và trường hợp có vận tốc ban đầu.

00:06:15.000 --> 00:06:20.000
Lợi ích tiếp theo của lò xo mà chúng ta có thể kiểm tra là hình dạng chuyển động của chúng.

00:06:20.000 --> 00:06:28.000
Khi bạn nghe thấy chuyển động của một lò xo, bạn có thể đang nghĩ về một cái gì đó như thế này.

00:06:28.000 --> 00:06:32.000
Nhưng một hình ảnh động mùa xuân không chỉ có nghĩa là một hình ảnh động nảy.

00:06:32.000 --> 00:06:39.000
Đúng là lò xo có thể nảy, và đó có thể là một công cụ tuyệt vời, nhưng đó không phải là lý do chính khiến chúng tôi sử dụng lò xo.

00:06:39.000 --> 00:06:46.000
Sau này, chúng ta sẽ xem xét khi nào có ý nghĩa khi sử dụng lò xo có độ nảy, nhưng lò xo không có độ nảy cũng rất tuyệt!

00:06:46.000 --> 00:06:51.000
Những loại lò xo không bồng bềnh này được sử dụng trong hoạt ảnh trên khắp iOS.

00:06:51.000 --> 00:06:56.000
Vì vậy, nếu nó không chỉ là về sự nảy, thì chuyển động của lò xo có gì tốt?

00:06:56.000 --> 00:07:02.000
Hãy xem lại hoạt hình mùa xuân đơn giản của chúng ta và chú ý đến cách hoạt hình kết thúc.

00:07:02.000 --> 00:07:05.000
Nó rất chậm và dần dần được nghỉ ngơi.

00:07:05.000 --> 00:07:09.000
Không có điểm nào khi đối tượng được hoàn thành đột ngột.

00:07:09.000 --> 00:07:15.000
Điều này cảm thấy giống như những gì chúng ta mong đợi để xem liệu đây có phải là một vật thể đang di chuyển và dừng lại hay không.

00:07:15.000 --> 00:07:19.000
Và có một lý do khiến phiên bản này cảm thấy tự nhiên hơn đối với chúng tôi.

00:07:19.000 --> 00:07:29.000
Hoạt hình mùa xuân dựa trên hành vi của một vật thể gắn liền với lò xo trong thế giới vật chất, vì vậy mắt chúng ta cảm thấy tự nhiên và đáng tin cậy hơn khi chúng ta nhìn thấy nó di chuyển.

00:07:29.000 --> 00:07:36.000
Bây giờ bạn có thể đã nghe nói rằng các thuộc tính khác nhau hoạt hình với lò xo có thể kết thúc vào những thời điểm khác nhau, đó là sự thật.

00:07:36.000 --> 00:07:40.000
Nếu bạn đã quen với hoạt ảnh đường cong thời gian, điều này có thể cảm thấy kỳ lạ.

00:07:40.000 --> 00:07:43.000
Chúng ta không muốn tất cả các hình ảnh động bắt đầu và dừng cùng một lúc sao?

00:07:43.000 --> 00:07:45.000
Câu trả lời là không!

00:07:45.000 --> 00:07:50.000
Chúng tôi muốn hình ảnh động của mình giống như chuyển động của các vật thể trong thế giới vật chất mà chúng ta đã quen.

00:07:50.000 --> 00:07:59.000
Và nói chung, những thứ này bắt đầu và dừng lại vào thời điểm riêng của chúng khi chúng bị chậm lại do ma sát, vì vậy những thời điểm này thường không thẳng hàng hoàn hảo.

00:07:59.000 --> 00:08:05.000
Trên thực tế, đôi khi rất hữu ích khi đi xa hơn nữa đối với hoạt ảnh đa tài sản.

00:08:05.000 --> 00:08:09.000
Đây là hình ảnh động của một ứng dụng đang khởi chạy trên iOS.

00:08:09.000 --> 00:08:26.000
Thoạt nhìn, nó có vẻ giống như chỉ là một hình ảnh động thống nhất duy nhất, nhưng nếu chúng ta làm chậm hoạt hình, bạn có thể thấy các lò xo khác nhau, thời gian bắt đầu khác nhau và thời gian kết thúc khác nhau kết hợp với nhau như thế nào để tạo thành một hình ảnh động đáng kinh ngạc và cảm giác tự nhiên.

00:08:26.000 --> 00:08:35.000
Vì vậy, bây giờ chúng ta đã biết tại sao lò xo là một công cụ tuyệt vời cho hoạt ảnh, hãy kiểm tra lò xo kỹ hơn để hiểu cách chúng hoạt động và cách sử dụng chúng tốt nhất.

00:08:35.000 --> 00:08:41.000
Khi chúng ta sử dụng hình ảnh động lò xo, chúng ta đang mô hình hóa nó với chuyển động của một vật thể được gắn vào lò xo.

00:08:41.000 --> 00:08:56.000
Nếu chúng ta quay trở lại vật lý, chuyển động này được xác định bởi 3 tính chất: khối lượng của vật thể, độ cứng của lò xo và độ giảm xóc của hệ thống, đây là thước đo mức độ ma sát được áp dụng cho vật thể bởi môi trường xung quanh.

00:08:56.000 --> 00:09:09.000
Sau đó, chúng tôi sử dụng vị trí ban đầu của hình ảnh động làm vị trí ban đầu của đối tượng và vị trí mục tiêu của hình ảnh động để xác định vị trí nghỉ của lò xo, nơi đối tượng sẽ bị kéo về phía.

00:09:09.000 --> 00:09:14.000
Sau đó chúng ta có thể giải phóng đối tượng để bắt đầu hoạt ảnh.

00:09:14.000 --> 00:09:24.000
Các thuộc tính chúng tôi sử dụng để xác định hệ thống lò xo xác định loại chuyển động xảy ra và việc thay đổi chúng sẽ thay đổi hoạt ảnh kết quả.

00:09:24.000 --> 00:09:33.000
Vì vậy, khi tạo hoạt ảnh lò xo, bạn có thể sử dụng các thuộc tính tương tự về khối lượng, độ cứng và giảm xóc để định cấu hình loại lò xo nào sẽ sử dụng.

00:09:33.000 --> 00:09:40.000
Nhưng trong khi đây là một cách tự nhiên để mô hình hóa một hệ thống vật lý, chúng không trực quan lắm để xác định hoạt hình mùa xuân.

00:09:40.000 --> 00:09:48.000
Không có một vật thể thực có khối lượng hoặc lò xo có độ cứng ở đây, và việc tạo ra các giá trị này để thay đổi đường cong không dễ thực hiện.

00:09:48.000 --> 00:09:54.000
Vì vậy, chúng tôi đã tinh chỉnh một cách mới để cấu hình lò xo dễ hiểu và dễ làm việc hơn.

00:09:54.000 --> 00:09:59.000
Nó chỉ sử dụng 2 thông số: thời lượng và độ nảy.

00:09:59.000 --> 00:10:03.000
Những thứ này làm những gì bạn mong đợi, tăng thời lượng làm cho hoạt ảnh mất nhiều thời gian hơn.

00:10:03.000 --> 00:10:07.000
Và tăng độ nảy làm tăng độ nảy cho hình ảnh động.

00:10:07.000 --> 00:10:13.000
Và chúng tôi đang áp dụng những điều này trên toàn cầu thông qua các nỗ lực thiết kế và kỹ thuật của Apple.

00:10:13.000 --> 00:10:18.000
Vì vậy, tất cả các khuôn khổ của chúng tôi hỗ trợ lò xo sẽ sử dụng chúng.

00:10:18.000 --> 00:10:22.000
Khi bạn chơi với các thông số lò xo này, bạn có thể thấy các loại hình dạng khác nhau trong các đường cong.

00:10:22.000 --> 00:10:29.000
Khi độ nảy lớn hơn 0, chúng ta sẽ nhận được một lò xo nảy vượt quá mục tiêu của nó.

00:10:29.000 --> 00:10:36.000
Khi độ nảy bằng 0, chúng ta có được đường cong trơn tru này với một cái đuôi dài dần dần đi về phía mục tiêu của nó.

00:10:36.000 --> 00:10:38.000
Và cũng có một loại lò xo khác.

00:10:38.000 --> 00:10:50.000
Cái này không phổ biến lắm, nhưng với giá trị nảy âm, bạn có thể có được một lò xo cũng có đuôi dài dần dần tiếp cận mục tiêu của nó, nhưng điều đó phẳng hơn một chút so với những gì bạn nhận được với độ nảy bằng 0.

00:10:50.000 --> 00:10:55.000
Trong vật lý của lò xo, chúng được gọi là lò xo bị giảm xóc, giảm xóc nghiêm trọng và lò xo bị giảm xóc.

00:10:55.000 --> 00:11:00.000
Nhưng tôi thích nghĩ về chúng như bồng bềnh, mịn màng và dẹt.

00:11:00.000 --> 00:11:17.000
Và như bạn có thể nhận thấy, các giá trị nảy này là phần trăm, vì vậy lò xo nảy có giá trị nảy lên đến 100% và lò xo dẹt có giá trị nảy từ 0 đến -100% Bây giờ tôi muốn đào sâu hơn một chút về các lò xo này.

00:11:17.000 --> 00:11:23.000
Lò xo đôi khi có vẻ hơi đáng sợ, và chuyển động của chúng có vẻ khó hiểu.

00:11:23.000 --> 00:11:28.000
Nhưng nếu chúng ta chia nhỏ những gì đang xảy ra, nó thực sự chỉ là một vài điều đơn giản kết hợp với nhau.

00:11:28.000 --> 00:11:37.000
Đối với tôi, có thể hiểu toán học đằng sau những đường cong này giúp làm cho lò xo cảm thấy dễ tiếp cận hơn, vì vậy tôi cũng muốn chia sẻ điều đó với bạn.

00:11:37.000 --> 00:11:41.000
Nhưng nếu toán học chỉ khiến đầu bạn quay cuồng, đừng lo lắng, nó hoàn toàn là tùy chọn.

00:11:41.000 --> 00:11:45.000
Chúng tôi thực hiện tất cả các phép toán này cho bạn.

00:11:45.000 --> 00:11:47.000
Vậy hãy bắt đầu với một đường cong bồng bềnh.

00:11:47.000 --> 00:11:55.000
Bạn có thể nhận thấy rằng sự vượt quá của lò xo này dao động như một loại sóng sin hoặc sóng cosin phức tạp hơn.

00:11:55.000 --> 00:12:07.000
Và nếu chúng ta đưa độ nảy của lò xo này lên đến giá trị tối đa 100%, bạn có thể thấy rằng bây giờ nó chính xác là hành vi của sóng cosin, chỉ dao động qua lại.

00:12:07.000 --> 00:12:18.000
Cách giải thích vật lý của điều này là nó là một lò xo không có ma sát tác động lên nó, vì vậy nó dao động mãi mãi mà không chậm lại và không bao giờ thực sự đạt đến vị trí mục tiêu của nó.

00:12:18.000 --> 00:12:26.000
Như bạn mong đợi, phép toán cho điều này khá đơn giản: nó chỉ là một đường cong cosin và thời gian được chia cho thời lượng.

00:12:26.000 --> 00:12:32.000
Vì vậy, đối với giá trị trả lại này, thời lượng tương ứng chính xác với chu kỳ của đường cong.

00:12:32.000 --> 00:12:40.000
Khi chúng ta giảm độ nảy, điều đó tương đương về mặt vật lý với việc thêm ma sát hoặc giảm xóc cho lò xo, điều này làm chậm nó khi nó đi.

00:12:40.000 --> 00:12:43.000
Và chúng ta vẫn có những dao động đó.

00:12:43.000 --> 00:12:51.000
Trên thực tế, đường cong cosin từ trước vẫn còn đó, điều này rõ ràng hơn nếu chúng ta vẽ nó được phủ lên trên.

00:12:51.000 --> 00:12:57.000
Đây là phương trình giống như trước đây, chỉ với các hằng số khác nhau và dịch chuyển theo chiều ngang một chút.

00:12:57.000 --> 00:13:03.000
Vì vậy, điều này giải thích sự thay thế trong đường cong, nhưng rõ ràng chúng ta cũng cần một cái gì đó khác.

00:13:03.000 --> 00:13:09.000
Trong đường cong ban đầu, kích thước của các dao động ngày càng nhỏ hơn, hoặc phân rã, theo thời gian.

00:13:09.000 --> 00:13:11.000
Và đó là mảnh còn thiếu.

00:13:11.000 --> 00:13:15.000
Đường cong bổ sung này là một đường cong phân rã theo cấp số nhân.

00:13:15.000 --> 00:13:22.000
Và đó là phần cuối cùng trong chuyển động của chúng tôi, phần mang lại cho chúng tôi cảm giác dần dần được nghỉ ngơi.

00:13:22.000 --> 00:13:30.000
Vì vậy, những gì có vẻ như là một đường cong phức tạp chỉ là sản phẩm của hai thành phần này, được gọi là cosin giảm xóc hoặc sóng sin.

00:13:30.000 --> 00:13:41.000
Điều đó khá thỏa mãn, nhưng nếu bạn nhìn kỹ vào biểu đồ, có một điều có vẻ hơi lạ: tại sao đường cong cosin của chúng ta bây giờ lại giảm giá này ngay từ đầu?

00:13:41.000 --> 00:13:45.000
Điều này liên quan đến điều mà chúng ta đã thảo luận trước đó: bảo toàn vận tốc.

00:13:45.000 --> 00:13:51.000
Hãy nhớ rằng đối với trường hợp cơ bản này, chúng ta cần duy trì vận tốc bằng 0 ngay từ đầu.

00:13:51.000 --> 00:13:58.000
Vì vậy vận tốc của tích của hai đường cong thành phần của chúng ta phải bằng phẳng khoảng 0.

00:13:58.000 --> 00:14:02.000
Nhưng lưu ý rằng đường cong phân rã của chúng ta bắt đầu với độ dốc hướng lên trên.

00:14:02.000 --> 00:14:08.000
Nếu chúng ta bắt đầu đường cong cosin phẳng, thì vận tốc ban đầu của chúng ta cũng sẽ hướng lên trên.

00:14:08.000 --> 00:14:16.000
Vì vậy, đường cong cosin của chúng ta phải bắt đầu hướng xuống dưới để triệt phá với sự phân rã và cho chúng ta sự khởi đầu bằng phẳng.

00:14:16.000 --> 00:14:27.000
Và đây là cách lò xo có thể khớp với bất kỳ vận tốc ban đầu nào bằng cách sử dụng các dịch chuyển và thang đo khác nhau trong đường cong cosin của chúng ta để cho chúng ta sự khởi đầu phù hợp.

00:14:27.000 --> 00:14:36.000
Vận tốc ban đầu này có thể đến từ vận tốc của một cử chỉ khi nó kết thúc và chuyển sang một hình ảnh động, như chúng ta đã thảo luận trước đó.

00:14:36.000 --> 00:14:39.000
Và có một nơi khác mà vận tốc ban đầu này có thể đến từ đó.

00:14:39.000 --> 00:14:42.000
Hãy kiểm tra nó trên iPad.

00:14:42.000 --> 00:14:48.000
Ở đây, chúng ta có thể nhấn để di chuyển núm của mình và hiển thị hình ảnh mờ hơn của núm ở vị trí mục tiêu của nó.

00:14:48.000 --> 00:14:53.000
Chúng tôi cũng sẽ sử dụng lò xo chậm hơn để dễ dàng theo dõi những gì đang xảy ra hơn.

00:14:53.000 --> 00:15:00.000
Đôi khi, trong khi một hình ảnh động chưa kết thúc, một hình ảnh động mới bắt đầu thay đổi thành một giá trị mục tiêu mới.

00:15:00.000 --> 00:15:18.000
Khi điều đó xảy ra, một hình ảnh động lò xo sử dụng vận tốc mà nó có khi nó được nhắm mục tiêu lại làm vận tốc ban đầu hướng tới điểm đến mới của nó và việc bảo tồn vận tốc tương tự này làm cho những loại gián đoạn này cảm thấy trơn tru và tự nhiên.

00:15:18.000 --> 00:15:22.000
Vì vậy, đó là cách bảo quản vận tốc và lò xo nảy hoạt động.

00:15:22.000 --> 00:15:38.000
Bây giờ nếu chúng ta giảm độ nảy của mình, các dao động ngày càng xa nhau hơn, cho đến khi độ nảy đến 0, các dao động hoàn toàn biến mất và chúng ta chỉ có một đường thẳng đi xuống và đi được nhân với sự phân rã của chúng ta.

00:15:38.000 --> 00:15:41.000
Vì vậy, những phương trình này thậm chí còn đơn giản hơn.

00:15:41.000 --> 00:15:51.000
Chúng ta chỉ cần phương trình cơ bản của một đường thẳng, và sau đó chúng ta nhân nó với cùng một hàm mũ, cho chúng ta đường cong kết quả của chúng ta.

00:15:51.000 --> 00:16:00.000
Các đường cong dẹt, là các lò xo có độ nảy âm, hoạt động rất giống nhau, nhưng sử dụng hai hàm mũ được thêm vào với nhau thay vì một đường thẳng.

00:16:00.000 --> 00:16:12.000
Loại lò xo này ít phổ biến hơn, nhưng thực tế là nó được biểu thị bằng phân rã theo cấp số nhân khiến nó hữu ích cho việc mô hình hóa vận tốc phân rã, giống như những gì xảy ra trong chế độ xem cuộn.

00:16:12.000 --> 00:16:19.000
Một điều bạn có thể thắc mắc khi sử dụng lò xo cho hoạt hình là: Mất bao lâu cho đến khi hoạt hình lò xo thực sự kết thúc?

00:16:19.000 --> 00:16:22.000
Như chúng ta đã thấy, câu hỏi đó hơi tinh tế.

00:16:22.000 --> 00:16:29.000
Sự phân rã theo cấp số nhân của lò xo có nghĩa là về mặt kỹ thuật, nó tiếp tục di chuyển mãi mãi, chỉ với chuyển động ngày càng nhỏ hơn.

00:16:29.000 --> 00:16:39.000
Tất nhiên, chúng tôi không muốn hoạt ảnh mùa xuân của mình tiếp tục mãi mãi, vì vậy chúng tôi cần chọn thời điểm để xóa nó, khi nó không còn đóng góp bất kỳ thay đổi đáng chú ý nào cho giao diện người dùng.

00:16:39.000 --> 00:16:45.000
Khoảng thời gian đó cho đến khi một hình ảnh động mùa xuân được hoàn thành đủ để loại bỏ được gọi là thời gian giải quyết.

00:16:45.000 --> 00:16:51.000
Thời lượng thanh toán này khác với tham số thời lượng để định cấu hình lò xo.

00:16:51.000 --> 00:17:07.000
Thời gian giải quyết phụ thuộc vào nhiều yếu tố khác nhau, vì vậy có thể hơi khó đoán, nhưng tham số thời lượng là thời lượng nhận thức được chọn để có thể dự đoán được và không di chuyển xung quanh, ngay cả khi các thông số khác của mùa xuân thay đổi.

00:17:07.000 --> 00:17:13.000
Do tính chất không thể đoán trước của nó, bạn không nên đợi thời gian giải quyết cho những thay đổi mà người dùng phải đối mặt.

00:17:13.000 --> 00:17:24.000
Nếu bạn muốn thực hiện thay đổi giao diện người dùng khi mùa xuân gần như đã hoàn thành, bạn có thể sử dụng hỗ trợ trình xử lý hoàn thành mới trong SwiftUI, sử dụng thời lượng nhận thức thay vì thời lượng thanh lý.

00:17:24.000 --> 00:17:29.000
Bây giờ chúng ta đã biết tất cả về cách hoạt động của lò xo, hãy thảo luận về việc sử dụng chúng trong mã của chúng ta.

00:17:29.000 --> 00:17:40.000
Bởi vì lò xo là một công cụ tuyệt vời cho hoạt ảnh, bây giờ chúng tôi sử dụng chúng làm hoạt ảnh mặc định trong SwiftUI, vì vậy tất cả những gì bạn cần làm là gọi với Hoạt hình để bắt đầu với lò xo.

00:17:40.000 --> 00:17:45.000
Chúng tôi cũng đã giúp việc sử dụng lò xo cho hoạt ảnh một cách rõ ràng trở nên dễ dàng hơn.

00:17:45.000 --> 00:17:51.000
Chúng tôi đã xây dựng một vài cài đặt trước lò xo dựa trên các giá trị lò xo được sử dụng trong iOS.

00:17:51.000 --> 00:17:58.000
Nếu bạn không chắc chắn nên sử dụng thông số lò xo nào, đây là một cách tuyệt vời để có được thứ gì đó cảm thấy tốt.

00:17:58.000 --> 00:18:03.000
Bạn có thể sử dụng những thứ này trong mã bằng cách trực tiếp sử dụng cài đặt trước khi bạn cần một hình ảnh động.

00:18:03.000 --> 00:18:13.000
Nhưng một phần quan trọng của việc sử dụng hoạt ảnh mùa xuân là điều chỉnh nó theo ngữ cảnh chính xác mà bạn cần, vì vậy các cài đặt trước này cũng có thể được sử dụng làm điểm khởi đầu có thể điều chỉnh được.

00:18:13.000 --> 00:18:25.000
Bạn có thể đặt trước và chỉ định rằng thời lượng của nó sẽ khác nhau, Hoặc cho nó nhiều hơn hoặc ít hơn một chút độ nảy bằng cách chỉ định một lượng tương đối của độ nảy bổ sung để thêm.

00:18:25.000 --> 00:18:30.000
Những cài đặt trước này là một cách tuyệt vời để bắt đầu giới thiệu lò xo vào ứng dụng của bạn.

00:18:30.000 --> 00:18:37.000
Nhưng nếu bạn muốn đi xa hơn, bạn cũng có thể tạo ra một lò xo hoàn toàn tùy chỉnh với hình ảnh động .spring.

00:18:37.000 --> 00:18:42.000
Điều này cho phép bạn xác định đầy đủ thời lượng và độ nảy của mùa xuân.

00:18:42.000 --> 00:18:48.000
Và những giá trị trả lại này có phạm vi từ -1.0 đến 1.0.

00:18:48.000 --> 00:18:56.000
Bạn cũng có thể sử dụng các thông số tương tự này để tạo hoạt ảnh mùa xuân trong UIKit và Core Animation.

00:18:56.000 --> 00:19:00.000
Có một công cụ lò xo mới khác mà bạn có thể sử dụng nếu bạn muốn tiến xa hơn nữa.

00:19:00.000 --> 00:19:07.000
Chúng tôi đã thêm một loại mô hình Spring vào SwiftUI cho phép bạn tạo biểu diễn của một lò xo, bao gồm các tham số của nó.

00:19:07.000 --> 00:19:12.000
Điều này cho phép bạn chuyển đổi các tham số theo chương trình giữa các cách khác nhau để chỉ định chúng.

00:19:12.000 --> 00:19:22.000
Bạn cũng có thể tạo một mô hình lò xo với một tập hợp các thông số, như khối lượng, độ cứng và giảm xóc, sau đó sử dụng nó như một hình ảnh động lò xo trực tiếp.

00:19:22.000 --> 00:19:32.000
Nhưng nếu bạn thực sự muốn tự mình thực hiện chuyển đổi, đây là ba phương trình để chuyển đổi từ giá trị độ nảy và thời lượng sang khối lượng, độ cứng và giảm xóc.

00:19:32.000 --> 00:19:38.000
Ngoài việc chuyển đổi các thông số, bạn có thể sử dụng các mô hình lò xo để xây dựng các hành vi lò xo nâng cao của riêng mình.

00:19:38.000 --> 00:19:44.000
Bạn có thể gọi các phương thức vào mùa xuân để có được phép toán đánh giá mùa xuân được xây dựng cho chính mình.

00:19:44.000 --> 00:19:49.000
Ví dụ, bạn có thể gọi giá trị để lấy vị trí của lò xo.

00:19:49.000 --> 00:19:56.000
Bạn chỉ cần vượt qua một mục tiêu, đó là những gì mùa xuân đang hướng tới và thời gian bạn muốn đánh giá nó.

00:19:56.000 --> 00:20:04.000
Bạn cũng có thể sử dụng các đầu vào tương tự trên phương pháp vận tốc để đánh giá vận tốc của lò xo theo thời gian.

00:20:04.000 --> 00:20:13.000
Điều này cho phép bạn dễ dàng sử dụng lò xo trong mã của riêng mình, điều này có thể hữu ích cho việc mô phỏng hoặc để lấy các giá trị cho biểu đồ, giống như các giá trị trong phiên này.

00:20:13.000 --> 00:20:17.000
Bạn thậm chí có thể sử dụng cái này để xây dựng các hình ảnh động tùy chỉnh của riêng mình.

00:20:17.000 --> 00:20:25.000
Chỉ cần gọi vào mô hình lò xo và bạn có thể sửa đổi đầu vào hoặc đầu ra để áp dụng tùy chỉnh cho hoạt ảnh lò xo.

00:20:25.000 --> 00:20:32.000
Kiểm tra Khám phá hoạt hình SwiftUI để tìm hiểu chi tiết về việc tạo hoạt ảnh tùy chỉnh.

00:20:32.000 --> 00:20:37.000
Một điều cuối cùng tôi muốn thảo luận là cách chọn các thông số để sử dụng cho lò xo của bạn.

00:20:37.000 --> 00:20:46.000
Để chọn một giá trị phù hợp với hoạt hình của bạn, tốt nhất bạn nên bắt đầu bằng cách tìm một giá trị thời lượng mang lại nhịp độ mà bạn thích.

00:20:46.000 --> 00:20:55.000
Khi bạn đã quyết định điều đó, bạn có thể bắt đầu điều chỉnh mức độ nảy để chọn loại nhân vật và cảm giác bạn muốn hình ảnh động này có.

00:20:55.000 --> 00:20:59.000
Bạn sẽ thấy rằng các giá trị trả lại khác nhau cảm thấy khác nhau về chất lượng.

00:20:59.000 --> 00:21:03.000
Một cú nảy 0 cảm thấy như một sự thay đổi mượt mà, dần dần.

00:21:03.000 --> 00:21:11.000
Một cú nảy nhỏ, khoảng 15%, chưa cảm thấy bồng bềnh lắm, nhưng cái đuôi dài cảm thấy nhanh hơn một chút.

00:21:11.000 --> 00:21:17.000
Và đối với các giá trị trả lại lớn hơn như 30%, bạn bắt đầu cảm thấy một số bounciness đáng chú ý.

00:21:17.000 --> 00:21:22.000
Nếu bạn đi xa hơn nữa, bạn có thể nhận được một lượng bounciness khá lớn.

00:21:22.000 --> 00:21:30.000
Nhưng bạn nên thận trọng khi sử dụng các giá trị cao hơn khoảng 0.4, vì chúng có thể cảm thấy quá phóng đại đối với một phần tử giao diện người dùng.

00:21:30.000 --> 00:21:33.000
Vậy bạn thực sự nên sử dụng giá trị thoát nào?

00:21:33.000 --> 00:21:40.000
Khi bạn không chắc chắn, hãy sử dụng lò xo có độ nảy 0, đó cũng là những gì bạn nhận được nếu bạn không chỉ định độ nảy.

00:21:40.000 --> 00:21:45.000
Điều này mang lại cho bạn một lò xo đa năng tuyệt vời linh hoạt nhất.

00:21:45.000 --> 00:21:51.000
Sau đó, nếu bạn muốn hình ảnh động của mình cảm thấy vui tươi hơn một chút, bạn có thể bắt đầu thêm một số điểm nảy.

00:21:51.000 --> 00:21:59.000
Bounce cũng có thể có ý nghĩa khi bạn muốn một hình ảnh động cảm thấy vật lý hơn, giống như nếu nó sẽ được sử dụng ở cuối cử chỉ.

00:21:59.000 --> 00:22:02.000
Và một điều bạn nên ghi nhớ là tính nhất quán.

00:22:02.000 --> 00:22:04.000
Hãy suy nghĩ về loại nhân vật mà ứng dụng của bạn có.

00:22:04.000 --> 00:22:07.000
Nó nghiêm túc hay vui tươi?

00:22:07.000 --> 00:22:10.000
Nó nên cảm thấy thư giãn hay nhịp độ nhanh?

00:22:10.000 --> 00:22:16.000
Điều đó có thể giúp bạn chọn các giá trị mùa xuân phù hợp với cảm giác của giao diện người dùng xung quanh chúng.

00:22:16.000 --> 00:22:20.000
Vì vậy, đó là một chuyến tham quan nhanh về việc sử dụng lò xo cho hoạt hình.

00:22:20.000 --> 00:22:24.000
Hãy nhớ rằng một lò xo không cần phải nảy lên để tạo ra một hình ảnh động tuyệt vời.

00:22:24.000 --> 00:22:33.000
Ngoài ra còn có một bộ cài đặt trước lò xo mới là điểm khởi đầu tuyệt vời, nhưng bạn có thể sử dụng thời lượng và độ nảy để tùy chỉnh khi bạn cần đi xa hơn.

00:22:33.000 --> 00:22:44.000
Và quan trọng nhất, sau khi nhìn thấy tất cả những ưu điểm độc đáo mà lò xo có, tôi hy vọng bạn hào hứng sử dụng hình ảnh động lò xo để làm cho ứng dụng của bạn cảm thấy trôi chảy và niềm vui khi sử dụng.

00:22:44.000 --> 00:22:45.000
Cảm ơn bạn.

00:22:45.000 --> 23:59:59.000
♪ ♪

