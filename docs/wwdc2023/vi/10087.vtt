WEBVTT

00:00:00.000 --> 00:00:03.000
♪ Hip-hop nhạc cụ êm dịu ♪

00:00:03.000 --> 00:00:10.000
♪

00:00:10.000 --> 00:00:14.000
Willem Mattelaer: Xin chào, tên tôi là Willem, và tôi là một kỹ sư làm việc trong các hoạt động nhóm.

00:00:14.000 --> 00:00:19.000
Tôi sẽ được Mia tham gia để nói về cách bạn có thể xây dựng các ứng dụng SharePlay không gian tuyệt vời.

00:00:19.000 --> 00:00:26.000
SharePlay luôn có mặt với những người khác và làm điều gì đó cùng nhau, dù ở gần hay xa nhau.

00:00:26.000 --> 00:00:30.000
Trên nền tảng này, chúng ta có thể tăng cảm giác hiện diện khi ở trong FaceTime.

00:00:30.000 --> 00:00:38.000
Trong FaceTime trên nền tảng này, tất cả các Nhân vật Không gian sẽ chiếm một không gian vật lý trong phòng của bạn thay vì bị giới hạn trong một cửa sổ duy nhất.

00:00:38.000 --> 00:00:42.000
Điều này làm tăng cảm giác được ở bên nhau với những người khác.

00:00:42.000 --> 00:00:45.000
Trên hết, chúng tôi giới thiệu bối cảnh được chia sẻ.

00:00:45.000 --> 00:00:50.000
Bối cảnh được chia sẻ có nghĩa là mọi người sẽ thấy mọi người khác ở cùng một vị trí tương đối.

00:00:50.000 --> 00:00:53.000
Để minh họa điều này, hãy xem xét hai quan điểm khác nhau.

00:00:53.000 --> 00:00:59.000
Phía bên trái hiển thị góc nhìn của Connor, và phía bên phải hiển thị góc nhìn của Mia.

00:00:59.000 --> 00:01:05.000
Nếu Connor chỉ vào Persona của Mia, Mia sẽ thấy Persona của Connor chỉ vào cô ấy.

00:01:05.000 --> 00:01:13.000
Chúng tôi mở rộng điều này cho các trải nghiệm được chia sẻ, bao gồm SharePlay, nơi hệ thống sẽ đặt cửa sổ ở cùng một vị trí tương đối cho mọi người.

00:01:13.000 --> 00:01:16.000
Nó sử dụng các mẫu cho việc này.

00:01:16.000 --> 00:01:21.000
Các mẫu được sử dụng để xác định cách người tham gia và một ứng dụng được chia sẻ sẽ được sắp xếp tương đối với nhau.

00:01:21.000 --> 00:01:24.000
Điều này sẽ dẫn đến sự nhất quán về không gian.

00:01:24.000 --> 00:01:29.000
Các ứng dụng không cần phải tự xử lý sự dịch chuyển và có thể dựa vào hệ thống cho việc này.

00:01:29.000 --> 00:01:33.000
Một điều mà các ứng dụng nên lo lắng là có tính nhất quán trực quan.

00:01:33.000 --> 00:01:38.000
Tính nhất quán trực quan có nghĩa là mọi người đều nhìn thấy cùng một nội dung bên trong ứng dụng.

00:01:38.000 --> 00:01:41.000
Hãy tưởng tượng bạn đang đứng trước bảng trắng với những người khác.

00:01:41.000 --> 00:01:43.000
Mọi người sẽ có cùng một cái nhìn về bảng trắng.

00:01:43.000 --> 00:01:48.000
Và bất cứ khi nào ai đó chỉ vào thứ gì đó, những người khác có thể thấy những gì họ đang chỉ vào.

00:01:48.000 --> 00:01:53.000
Chúng tôi muốn tái tạo điều này trong trải nghiệm không gian với SharePlay.

00:01:53.000 --> 00:01:58.000
Đưa nó trở lại ví dụ trước đây của chúng tôi, ở đây ứng dụng không có tính nhất quán trực quan.

00:01:58.000 --> 00:02:04.000
Nếu Connor chỉ vào hình vuông trong ứng dụng, Mia sẽ thấy Persona của Connor chỉ vào vòng tròn.

00:02:04.000 --> 00:02:07.000
Điều này phá vỡ ảo tưởng được ở bên nhau.

00:02:07.000 --> 00:02:13.000
Tuy nhiên, nếu ứng dụng có tính nhất quán về hình ảnh, Mia sẽ thấy rõ rằng Connor đang chỉ vào hình vuông.

00:02:13.000 --> 00:02:19.000
Trách nhiệm của ứng dụng là giữ cho nội dung và vị trí của nó đồng bộ cho tất cả những người tham gia.

00:02:19.000 --> 00:02:25.000
Bằng cách này, có cảm giác như mọi người đang xem cùng một ứng dụng như thể họ thực sự ở bên nhau.

00:02:25.000 --> 00:02:30.000
Trong phiên "Thiết kế trải nghiệm SharePlay không gian", chúng tôi đi vào chi tiết hơn rất nhiều về các khái niệm này.

00:02:30.000 --> 00:02:34.000
Tôi đặc biệt khuyến khích bạn xem phiên đó để tìm hiểu thêm.

00:02:34.000 --> 00:02:50.000
Bây giờ chúng ta đã xem xét một số khái niệm mới được giới thiệu với FaceTime trên nền tảng này, hãy đi sâu vào những gì một ứng dụng có cửa sổ nên xem xét khi áp dụng SharePlay và những bước bổ sung mà ứng dụng SharePlay iOS hiện tại nên thực hiện để nâng cao trải nghiệm của họ khi được sử dụng trong môi trường không gian.

00:02:50.000 --> 00:02:56.000
Sau đó, Mia sẽ chỉ cho bạn các API mới để tạo ra trải nghiệm SharePlay nhập vai đáng kinh ngạc.

00:02:56.000 --> 00:03:03.000
Để hỗ trợ SharePlay trong các ứng dụng có cửa sổ, chúng tôi đã thêm điều phối viên hệ thống mới cho các phiên nhóm.

00:03:03.000 --> 00:03:13.000
Điều phối viên hệ thống chịu trách nhiệm về hai điều: nhận trạng thái hệ thống cho phiên SharePlay đang hoạt động và cho phép bạn cung cấp các cấu hình bổ sung trong SharePlay.

00:03:13.000 --> 00:03:21.000
Tôi sẽ đề cập đến hai trong số này có liên quan đến cả ứng dụng có cửa sổ và ứng dụng nhập vai: cờ isSpatial và tùy chọn mẫu.

00:03:21.000 --> 00:03:28.000
Biết liệu một người tham gia có không gian hay không là điều quan trọng khi xác định mức độ nhất quán thị giác cần thiết.

00:03:28.000 --> 00:03:31.000
Ví dụ, ở đây chúng ta có góc nhìn thứ nhất của Connor.

00:03:31.000 --> 00:03:37.000
Anh ấy đang trong một cuộc gọi với Mia màu đỏ, nhìn vào một tài liệu mà tôi đã chia sẻ với SharePlay.

00:03:37.000 --> 00:03:43.000
Quan điểm của Mia về kịch bản này ở bên phải, nơi cô ấy nhìn thấy Connor trong màu xanh lam.

00:03:43.000 --> 00:03:46.000
Khi Connor cuộn, chúng tôi muốn đồng bộ hóa vị trí cuộn.

00:03:46.000 --> 00:03:51.000
Bằng cách đó, Mia sẽ thấy Connor cuộn và chúng tôi vẫn có sự nhất quán trực quan.

00:03:51.000 --> 00:03:56.000
Chúng tôi thực sự làm điều này khi xoay trong tài liệu Freeform khi ở SharePlay.

00:03:56.000 --> 00:04:01.000
Nhưng nếu bạn không phải là không gian, bạn không có bối cảnh của người khác tương tác với tài liệu.

00:04:01.000 --> 00:04:09.000
Vì vậy, nếu Connor cuộn, chúng ta không nên đồng bộ hóa điều đó và Mia sẽ tiếp tục xem tài liệu ở cùng một vị trí.

00:04:09.000 --> 00:04:18.000
Để quan sát xem người tham gia địa phương có không gian hay không và điều chỉnh những gì bạn đang đồng bộ hóa giữa những người tham gia, trước tiên bạn cần nhờ điều phối viên hệ thống cho phiên nhóm.

00:04:18.000 --> 00:04:24.000
Bạn có thể biết liệu người tham gia địa phương có không gian hay không bằng cách kiểm tra xem isSpatial có đúng ở trạng thái người tham gia địa phương hay không.

00:04:24.000 --> 00:04:33.000
Để quan sát trạng thái, bạn có thể sử dụng thuộc tính localParticipantState, trả về một chuỗi không đồng bộ sẽ lặp lại thông qua các bản cập nhật của trạng thái người tham gia cục bộ.

00:04:33.000 --> 00:04:38.000
Điều phối viên hệ thống cũng cung cấp các ứng dụng một cách để cung cấp tùy chọn mẫu.

00:04:38.000 --> 00:04:46.000
Các mẫu được sử dụng để xác định cách tất cả những người tham gia được đặt bởi hệ thống so với ứng dụng để thiết lập tính nhất quán không gian.

00:04:46.000 --> 00:04:48.000
Chúng tôi hỗ trợ ba mẫu khác nhau.

00:04:48.000 --> 00:04:53.000
Side-by-Side, chúng tôi sẽ đặt tất cả những người tham gia vào một vòng cung hướng về phía ứng dụng được chia sẻ.

00:04:53.000 --> 00:04:59.000
Đây là mẫu mặc định sẽ được áp dụng khi ứng dụng đang sử dụng cảnh cửa sổ thông thường.

00:04:59.000 --> 00:05:05.000
Trong mẫu Đàm thoại, tất cả những người tham gia được đặt trong một nửa vòng tròn, với ứng dụng được đặt trước nửa vòng tròn đó.

00:05:05.000 --> 00:05:09.000
Điều này rất tốt cho những trải nghiệm mà trọng tâm không phải là nội dung trong ứng dụng.

00:05:09.000 --> 00:05:13.000
Ví dụ, khi phát nhạc trong SharePlay.

00:05:13.000 --> 00:05:15.000
Cuối cùng, chúng tôi có mẫu Surround.

00:05:15.000 --> 00:05:20.000
Điều này đặt những người tham gia vào một vòng tròn và ứng dụng được đặt ở giữa vòng tròn.

00:05:20.000 --> 00:05:24.000
Mẫu này chỉ khả dụng khi ứng dụng đang sử dụng một cảnh thể tích.

00:05:24.000 --> 00:05:29.000
Khoảng cách giữa những người tham gia và ứng dụng dựa trên kích thước của ứng dụng.

00:05:29.000 --> 00:05:32.000
Nếu ứng dụng lớn hơn, nó sẽ được đặt xa mọi người hơn.

00:05:32.000 --> 00:05:36.000
Và nếu ứng dụng nhỏ hơn, nó sẽ được đặt gần hơn.

00:05:36.000 --> 00:05:40.000
Ứng dụng SharePlay có thể cung cấp tùy chọn mẫu thông qua điều phối viên hệ thống.

00:05:40.000 --> 00:05:44.000
FaceTime sẽ cố gắng áp dụng mẫu này trong khi phiên nhóm đang hoạt động.

00:05:44.000 --> 00:05:47.000
Có ba tùy chọn có sẵn cho các ứng dụng SharePlay.

00:05:47.000 --> 00:05:54.000
.None, sẽ tuân theo hành vi mặc định của hệ thống, nơi nó sẽ ở Side-by-Side cho các ứng dụng dọc và Surround cho các ứng dụng thể tích.

00:05:54.000 --> 00:05:57.000
Đây là tùy chọn mặc định sẽ được sử dụng.

00:05:57.000 --> 00:06:03.000
Ngoài ra còn có .sideBySide sẽ cố gắng áp dụng mẫu Side-by-Side, bất kể đó là loại ứng dụng nào.

00:06:03.000 --> 00:06:08.000
Và cuối cùng, có .conversational, sẽ cố gắng áp dụng mẫu tương ứng.

00:06:08.000 --> 00:06:16.000
Để định cấu hình tùy chọn mẫu, bạn chỉ cần đặt nó trên cấu hình của điều phối viên hệ thống trước khi gọi tham gia phiên nhóm.

00:06:16.000 --> 00:06:21.000
Các mẫu được sử dụng để đặt ứng dụng và người tham gia ở vị trí tối ưu cho trải nghiệm.

00:06:21.000 --> 00:06:26.000
Nhưng điều gì sẽ xảy ra nếu ứng dụng của bạn có nhiều cảnh cửa sổ và hiện có nhiều hơn một cảnh ở phía trước?

00:06:26.000 --> 00:06:29.000
Trong ví dụ này, chúng tôi có một ứng dụng với ba cảnh.

00:06:29.000 --> 00:06:32.000
Nhìn bên trái là chế độ xem duyệt.

00:06:32.000 --> 00:06:36.000
Cảnh nhỏ ở giữa cung cấp một cách dễ dàng để điều hướng qua nội dung.

00:06:36.000 --> 00:06:41.000
Và cảnh cuối cùng cung cấp thông tin chi tiết về một phần nội dung.

00:06:41.000 --> 00:06:47.000
Tất cả những cảnh này có thể được mở cùng một lúc, vì vậy bạn có thể dễ dàng điều hướng nội dung trong khi đọc về nó.

00:06:47.000 --> 00:06:51.000
Khi ở SharePlay, chúng tôi muốn cảnh chi tiết là cảnh được chia sẻ.

00:06:51.000 --> 00:06:54.000
Nhưng nếu tất cả chúng đều mở, cảnh sai có thể được sử dụng trong mẫu.

00:06:54.000 --> 00:06:57.000
Để giải quyết điều đó, chúng tôi đã thêm liên kết cảnh.

00:06:57.000 --> 00:07:03.000
Đây là một cách để hệ thống biết cảnh nào của ứng dụng đang tổ chức hoạt động SharePlay.

00:07:03.000 --> 00:07:06.000
Có hai lý do chúng ta cần biết điều này.

00:07:06.000 --> 00:07:12.000
Đầu tiên, nó cho phép menu Chia sẻ phía trên cửa sổ hiển thị cho người đó cảnh nào được chia sẻ.

00:07:12.000 --> 00:07:22.000
Đây là một chỉ báo hữu ích khi có nhiều cửa sổ đang mở và sẽ giúp ngăn chặn các tình huống xấu hổ có thể xảy ra khi ai đó vô tình tương tác với một cửa sổ dùng chung mà không nhận ra điều đó.

00:07:22.000 --> 00:07:28.000
Tuy nhiên, quan trọng hơn, nó xác định cảnh cửa sổ nào sẽ được sử dụng với mẫu.

00:07:28.000 --> 00:07:32.000
Nếu ứng dụng của bạn là một ứng dụng một cảnh, bạn không cần phải lo lắng về điều này.

00:07:32.000 --> 00:07:38.000
Vì chỉ có một cảnh có thể xảy ra, chúng tôi sẽ tự động liên kết cảnh đó với phiên nhóm.

00:07:38.000 --> 00:07:43.000
Tuy nhiên, các ứng dụng đa cảnh sẽ cần xem xét điều này khi áp dụng SharePlay.

00:07:43.000 --> 00:07:48.000
Nếu không được thông qua, một cảnh mở ngẫu nhiên sẽ được chọn và nó có thể không đúng.

00:07:48.000 --> 00:07:52.000
Hãy xem xét cách bạn có thể áp dụng hiệp hội cảnh.

00:07:52.000 --> 00:07:57.000
Chúng ta sẽ bắt đầu bằng cách xem xét điều gì sẽ xảy ra với người đã bắt đầu hoạt động SharePlay.

00:07:57.000 --> 00:08:04.000
Khi hoạt động nhóm được kích hoạt, chúng ta sẽ xem qua từng cảnh và kiểm tra xem cảnh nào có thể xử lý việc này.

00:08:04.000 --> 00:08:10.000
Chúng tôi làm điều đó bằng cách đánh giá các điều kiện kích hoạt cảnh dựa trên số nhận dạng hoạt động của hoạt động nhóm.

00:08:10.000 --> 00:08:16.000
Điều kiện kích hoạt cảnh bao gồm hai kiểm tra, có thể và thích.

00:08:16.000 --> 00:08:24.000
Có thể chỉ ra rằng cảnh có khả năng xử lý nó, trong khi thích sẽ giúp hướng nó đến một cảnh phù hợp lý tưởng hơn với nó.

00:08:24.000 --> 00:08:31.000
Vì vậy, chúng tôi sẽ bắt đầu bằng cách kiểm tra cảnh bên trái để xem liệu nó có thể hoặc muốn xử lý mã định danh hoạt động hay không.

00:08:31.000 --> 00:08:33.000
Nó có thể nhưng không thích.

00:08:33.000 --> 00:08:36.000
Tiếp theo, chúng ta sẽ kiểm tra cảnh giữa, điều này không thể.

00:08:36.000 --> 00:08:40.000
Cuối cùng, chúng ta sẽ kiểm tra cảnh cuối cùng, cả hai đều có thể và thích.

00:08:40.000 --> 00:08:47.000
Vì cảnh cuối cùng có thể và là cảnh ưa thích, chúng tôi sẽ liên kết nó với phiên nhóm.

00:08:47.000 --> 00:08:51.000
Nếu không có cảnh nào có thể xử lý mã định danh, chúng tôi sẽ khởi chạy một cảnh cửa sổ mới.

00:08:51.000 --> 00:08:56.000
Điều này thật tuyệt nếu trải nghiệm SharePlay của bạn yêu cầu cảnh riêng để hoạt động.

00:08:56.000 --> 00:09:02.000
Nếu nhiều cảnh có thể xử lý và không cảnh nào thích, thì một trong những cảnh đó sẽ được chọn ngẫu nhiên.

00:09:02.000 --> 00:09:09.000
Đối với những người tham gia không kích hoạt hoạt động nhóm và đang nhận nó, logic tương tự sẽ thực thi nếu ứng dụng đang chạy.

00:09:09.000 --> 00:09:14.000
Nếu ứng dụng của bạn không chạy, nó sẽ được khởi chạy và cảnh đầu tiên sẽ được liên kết.

00:09:14.000 --> 00:09:22.000
Để chỉ định các điều kiện kích hoạt cảnh cho một ứng dụng sử dụng vòng đời ứng dụng SwiftUI, bạn có thể sử dụng handlesExternalEvents.

00:09:22.000 --> 00:09:29.000
Chỉ cần bao gồm mã định danh hoạt động của hoạt động nhóm trong bộ chuỗi ưu tiên hoặc cho phép.

00:09:29.000 --> 00:09:36.000
Nếu ứng dụng của bạn sử dụng vòng đời ứng dụng UIKit, bạn có thể đặt các điều kiện kích hoạt trên cảnh giao diện người dùng bằng cách chỉ định các vị ngữ.

00:09:36.000 --> 00:09:42.000
Để tìm hiểu thêm về các điều kiện kích hoạt cảnh, hãy xem phiên này từ năm 2019.

00:09:42.000 --> 00:09:44.000
Hãy xem xét thêm một ví dụ nữa.

00:09:44.000 --> 00:09:49.000
Trong trường hợp này, đó là một ứng dụng dựa trên tài liệu trong đó mỗi cảnh đại diện cho một tài liệu khác nhau.

00:09:49.000 --> 00:09:53.000
Bây giờ chúng tôi muốn sử dụng SharePlay để cộng tác trên tài liệu đầu tiên.

00:09:53.000 --> 00:09:59.000
Chúng tôi sẽ sử dụng lại mã định danh hoạt động nhóm để đánh giá từng điều kiện kích hoạt của cảnh.

00:09:59.000 --> 00:10:07.000
Thật không may, không có gì khác biệt về những cảnh này, vì vậy tất cả chúng đều kết hợp và cảnh sai được liên kết.

00:10:07.000 --> 00:10:11.000
Trong trường hợp này, chúng tôi muốn thay đổi mã định danh được sử dụng để khớp các cảnh.

00:10:11.000 --> 00:10:15.000
Để thực hiện điều này, chúng tôi đã thêm hành vi liên kết cảnh.

00:10:15.000 --> 00:10:21.000
Điều này cho phép một ứng dụng cung cấp một mã định danh sẽ được sử dụng để tìm đúng cảnh.

00:10:21.000 --> 00:10:27.000
Quay trở lại ví dụ của chúng tôi, chúng tôi có thể sử dụng một mã định danh duy nhất của mỗi tài liệu mà tất cả những người tham gia đều đồng ý.

00:10:27.000 --> 00:10:30.000
Sau đó chúng tôi sẽ sử dụng mã định danh đó để tìm đúng cảnh.

00:10:30.000 --> 00:10:40.000
Nếu chúng ta đánh giá các cảnh ngay bây giờ, chúng ta có thể dễ dàng định cấu hình các điều kiện kích hoạt cảnh để chỉ cảnh đầu tiên được khớp và chúng ta sẽ kết thúc với sự liên kết cảnh phù hợp.

00:10:40.000 --> 00:10:47.000
Bạn có thể chỉ định mã định danh sẽ được sử dụng bằng cách đặt hành vi liên kết cảnh trên siêu dữ liệu của hoạt động nhóm của bạn.

00:10:47.000 --> 00:10:52.000
Hãy nhớ rằng cùng một mã định danh sẽ được sử dụng cho tất cả những người tham gia khác tham gia phiên SharePlay.

00:10:52.000 --> 00:10:56.000
Vì vậy, bạn muốn sử dụng thứ gì đó mà mọi người sẽ đồng ý.

00:10:56.000 --> 00:11:00.000
Chúng tôi hỗ trợ ba loại hành vi liên kết cảnh.

00:11:00.000 --> 00:11:07.000
Mặc định là hành vi mà chúng tôi đã xem xét đầu tiên, trong đó mã định danh được sử dụng để liên kết cảnh sẽ là mã định danh hoạt động nhóm.

00:11:07.000 --> 00:11:13.000
Như tên đã chỉ ra, đây là một hành vi mặc định nếu bạn không chỉ định rõ ràng.

00:11:13.000 --> 00:11:16.000
Hành vi nội dung cho phép bạn chỉ định một mã định danh tùy chỉnh.

00:11:16.000 --> 00:11:23.000
Điều này có nghĩa là cho các ứng dụng mà mỗi cảnh sẽ hiển thị nội dung khác nhau và hoạt động nhóm được gắn với nội dung đó.

00:11:23.000 --> 00:11:26.000
Cuối cùng, chúng tôi đưa ra hành vi không có.

00:11:26.000 --> 00:11:29.000
Hành vi không có sẽ vô hiệu hóa sự liên kết cảnh.

00:11:29.000 --> 00:11:35.000
Điều này có nghĩa là sẽ không có cảnh nào được liên kết, vì vậy người đó sẽ không nhìn thấy biểu ngữ được chia sẻ phía trên bất kỳ cảnh nào trong ứng dụng của bạn.

00:11:35.000 --> 00:11:38.000
Nó cũng có nghĩa là tính nhất quán không gian bị phá vỡ.

00:11:38.000 --> 00:11:51.000
Điều này chỉ nên được sử dụng trong các trường hợp cụ thể, chẳng hạn như các ứng dụng nhập vai không cần cảnh bổ sung hoặc trong trường hợp nội dung được hiển thị trong cảnh khác nhau đối với mỗi người tham gia phiên SharePlay.

00:11:51.000 --> 00:11:56.000
Đôi khi bạn có thể cần biết một phiên họp nhóm được liên kết với cảnh nào.

00:11:56.000 --> 00:12:01.000
Điều này có thể xảy ra nếu nhiều cảnh có khả năng được chọn để liên kết cảnh.

00:12:01.000 --> 00:12:07.000
Để có được thông tin này, chúng tôi đã hiển thị một thuộc tính mới trong phiên nhóm được gọi là sceneSessionIdentifier.

00:12:07.000 --> 00:12:13.000
Thuộc tính này sẽ bao gồm mã định danh của phiên cảnh được liên kết với phiên nhóm.

00:12:13.000 --> 00:12:21.000
Liên kết cảnh là rất quan trọng để xây dựng trải nghiệm SharePlay tuyệt vời, vì vậy hãy chắc chắn áp dụng nó nếu bạn có một ứng dụng hỗ trợ nhiều cảnh.

00:12:21.000 --> 00:12:25.000
Cuối cùng, hãy nói về SharePlay từ menu Chia sẻ.

00:12:25.000 --> 00:12:28.000
Khi ở trong FaceTime, mỗi cửa sổ đều có một biểu ngữ chia sẻ phía trên nó.

00:12:28.000 --> 00:12:33.000
Như chúng ta vừa thấy, nó sẽ cho biết cảnh nào được chia sẻ khi ở SharePlay.

00:12:33.000 --> 00:12:35.000
Nhưng nó cũng hữu ích khi không có trong SharePlay.

00:12:35.000 --> 00:12:41.000
Khi một cảnh không được chia sẻ, nó sẽ chỉ ra những cách khác nhau mà cảnh đó có thể được chia sẻ.

00:12:41.000 --> 00:12:43.000
Một lựa chọn là chỉ cần chia sẻ cửa sổ.

00:12:43.000 --> 00:12:47.000
Mọi người khác sẽ thấy nguồn cấp dữ liệu video không tương tác của cửa sổ.

00:12:47.000 --> 00:12:49.000
Điều này hoạt động ngay lập tức cho tất cả các ứng dụng.

00:12:49.000 --> 00:12:53.000
Tuy nhiên, một ứng dụng SharePlay có thể đưa điều này đi xa hơn.

00:12:53.000 --> 00:13:00.000
Bằng cách hiển thị một hoạt động nhóm có liên quan đến nội dung hiện tại của cửa sổ, nó sẽ xuất hiện trong menu đó.

00:13:00.000 --> 00:13:09.000
Đây là một cách tuyệt vời để cải thiện khả năng khám phá hoạt động SharePlay của bạn và cũng có thể loại bỏ nhu cầu có nút SharePlay chuyên dụng trong giao diện người dùng ứng dụng của bạn.

00:13:09.000 --> 00:13:15.000
Cách một ứng dụng hiển thị hoạt động nhóm được thực hiện giống như cách bắt đầu SharePlay qua AirDrop.

00:13:15.000 --> 00:13:20.000
Trong iOS 17, bạn có thể bắt đầu SharePlay thông qua AirDrop bằng cách mở ứng dụng SharePlay.

00:13:20.000 --> 00:13:33.000
Để tìm nạp hoạt động nhóm, hệ thống đi qua chuỗi phản hồi giao diện người dùng của cảnh đang được hiển thị và cố gắng tìm hoạt động nhóm được chỉ định trong cấu hình mục hoạt động của một trong những người phản hồi.

00:13:33.000 --> 00:13:44.000
Bằng cách đó, bạn chỉ có thể đặt hoạt động nhóm trên cấu hình các mục hoạt động của bộ điều khiển chế độ xem đang hiển thị nội dung SharePlayable và nó sẽ được chọn tự động.

00:13:44.000 --> 00:13:49.000
Để định cấu hình cấu hình Mục Hoạt động, bạn bắt đầu bằng cách tạo hoạt động có thể được kích hoạt.

00:13:49.000 --> 00:13:54.000
Tiếp theo, bạn sẽ tạo một nhà cung cấp mặt hàng và đăng ký hoạt động nhóm trên đó.

00:13:54.000 --> 00:13:59.000
Sau đó, bạn khởi tạo UIActivityItemsConfiguration với nhà cung cấp mặt hàng.

00:13:59.000 --> 00:14:07.000
Cuối cùng, bạn sẽ cần đảm bảo rằng cấu hình hiển thị siêu dữ liệu phù hợp, vì đó là những gì sẽ được trình bày trong menu Chia sẻ.

00:14:07.000 --> 00:14:16.000
Để làm điều đó, bạn có thể sử dụng metadataProvider trên UIActivityItemsConfiguration và cung cấp một đối tượng LPLinkMetadata cho khóa LinkPresentationMetadata.

00:14:16.000 --> 00:14:20.000
Nhà cung cấp tiêu đề và hình ảnh sẽ được sử dụng trong menu Chia sẻ.

00:14:20.000 --> 00:14:27.000
Tất cả những điều này cũng sẽ hoạt động nếu bạn sử dụng lớp của riêng mình phù hợp với UIActivityItemsConfigurationReading.

00:14:27.000 --> 00:14:33.000
Tôi vừa đề cập đến những gì bạn sẽ cần cân nhắc khi xây dựng trải nghiệm SharePlay có cửa sổ cho nền tảng này.

00:14:33.000 --> 00:14:37.000
Mia, bạn có thể hướng dẫn chúng tôi cách xây dựng trải nghiệm được chia sẻ cho các ứng dụng nhập vai không?

00:14:37.000 --> 00:14:38.000
Mia Ren: Không vấn đề gì, Willem.

00:14:38.000 --> 00:14:42.000
Bây giờ hãy kiểm tra cách SharePlay hoạt động cho các ứng dụng nhập vai.

00:14:42.000 --> 00:14:47.000
Trên nền tảng này, chúng ta có thể dễ dàng tạo ra những trải nghiệm nhập vai bằng cách sử dụng Immersive Space.

00:14:47.000 --> 00:14:55.000
Immersive Space là một cảnh đặc biệt cho phép một ứng dụng làm cho nội dung của nó vượt ra ngoài ranh giới với các phong cách đắm chìm khác nhau.

00:14:55.000 --> 00:15:04.000
Khi ứng dụng mở ra một Không gian Nhập vai, hệ thống sẽ nền tảng cho tất cả các ứng dụng khác và mọi người có thể hoàn toàn tập trung vào thế giới không giới hạn của ứng dụng này.

00:15:04.000 --> 00:15:10.000
Bạn có thể xem phiên này để tìm hiểu thêm về Không gian nhập vai và Phong cách đắm chìm.

00:15:10.000 --> 00:15:14.000
Trong FaceTime, bạn có thể khởi chạy Immersive Space bất cứ lúc nào.

00:15:14.000 --> 00:15:22.000
Khi bạn ở trong một không gian nhập vai riêng tư, bạn đang ở trong thế giới riêng tư của mình và bạn phá vỡ bối cảnh chung với những người khác.

00:15:22.000 --> 00:15:26.000
Bởi vì điều này, hệ thống sẽ che giấu những người khác cho bạn.

00:15:26.000 --> 00:15:32.000
Và họ sẽ xem bạn là ảnh liên lạc của bạn, điều này cho thấy bạn không ở bên họ ngay bây giờ.

00:15:32.000 --> 00:15:35.000
Mọi người vẫn có thể giao tiếp bằng âm thanh.

00:15:35.000 --> 00:15:38.000
Nhưng thôi nào, chúng tôi không muốn ở một mình trong FaceTime.

00:15:38.000 --> 00:15:41.000
Hãy chia sẻ những khoảnh khắc kỳ diệu trong thế giới nhập vai.

00:15:41.000 --> 00:15:47.000
Tôi có nhiều ý tưởng tuyệt vời về những trải nghiệm nhập vai mà tôi rất muốn chia sẻ với bạn tôi.

00:15:47.000 --> 00:15:55.000
Ví dụ, nó có thể là một hoạt động nhóm như thế này, đi chơi ngoài không gian và cùng nhau khám phá hành tinh xinh đẹp của chúng ta.

00:15:55.000 --> 00:16:03.000
Để thực hiện điều này, ứng dụng được chia sẻ của chúng tôi cần định cấu hình một không gian nhập vai nhóm có thể được chia sẻ với mọi người.

00:16:03.000 --> 00:16:09.000
Trong cấu hình của điều phối viên hệ thống, bạn có thể tìm thấy cờ supportsGroupImmersiveSpace.

00:16:09.000 --> 00:16:19.000
Bằng cách kích hoạt nó, ứng dụng cho hệ thống biết rằng Immersive Space trong ứng dụng này có nghĩa là được chia sẻ và muốn hỗ trợ các hoạt động nhóm nhập vai.

00:16:19.000 --> 00:16:27.000
Khi mọi người tham gia một phiên nhóm có bật cờ này, không gian nhập vai của họ sẽ trở thành không gian nhập vai nhóm.

00:16:27.000 --> 00:16:37.000
Hệ thống sẽ di chuyển nguồn gốc không gian đến một vị trí được chia sẻ được xác định bởi mẫu để thiết lập một hệ tọa độ được chia sẻ cho sự nhất quán về không gian.

00:16:37.000 --> 00:16:42.000
Mọi người trong không gian nhập vai của nhóm sẽ xem nhau như Personas.

00:16:42.000 --> 00:16:53.000
Bây giờ chúng ta đã có một không gian nhập vai nhóm với một hệ tọa độ được chia sẻ và mọi người trong đó, chúng ta có thể đặt các đối tượng ở cùng một vị trí trong đó để có được sự nhất quán về không gian.

00:16:53.000 --> 00:17:03.000
Trong ví dụ hoạt động khám phá toàn cầu, chúng ta có thể đặt một quả địa cầu ở trung tâm phía trên nguồn gốc và đảm bảo rằng chúng ta áp dụng cùng một độ lệch so với nguồn gốc cho mọi người.

00:17:03.000 --> 00:17:07.000
Mọi người sau đó sẽ nhìn thấy quả địa cầu ở cùng một vị trí.

00:17:07.000 --> 00:17:10.000
Tiếp theo, chúng ta sẽ tìm ra cách duy trì tính nhất quán của hình ảnh.

00:17:10.000 --> 00:17:19.000
Ví dụ, nếu chúng ta muốn xoay địa cầu, chúng ta sẽ cần đảm bảo rằng hướng của nó được đồng bộ hóa giữa mọi người.

00:17:19.000 --> 00:17:27.000
Để tìm hiểu thêm về cách sử dụng GroupSession và GroupSessionMessenger để đồng bộ hóa trạng thái, hãy xem phiên SharePlay này.

00:17:27.000 --> 00:17:33.000
Chúng tôi cũng có thể thêm một số yếu tố giao diện người dùng liên quan đến mỗi người trong một không gian nhập vai nhóm.

00:17:33.000 --> 00:17:38.000
Ví dụ, chúng tôi có thể cung cấp cho mọi người tham gia một menu điều khiển riêng tư như thế này.

00:17:38.000 --> 00:17:40.000
Nó ở ngay trước mặt họ.

00:17:40.000 --> 00:17:43.000
Họ có thể sử dụng nó để thao tác quả địa cầu được chia sẻ một cách dễ dàng.

00:17:43.000 --> 00:17:50.000
Để đặt điều khiển này đúng cách, chúng ta phải biết người dùng cục bộ đang ở đâu trong không gian nhập vai của nhóm.

00:17:50.000 --> 00:17:56.000
Chúng ta có thể sử dụng phương pháp systemExperienceDisplacement trong GeometryReader3D.

00:17:56.000 --> 00:18:02.000
Phương pháp này cho bạn biết cách hệ thống đã đặt nguồn gốc không gian cách xa người dùng cục bộ.

00:18:02.000 --> 00:18:08.000
Nó trả về một cấu trúc Pose3D, có cả tịnh tiến và xoay.

00:18:08.000 --> 00:18:14.000
Để có được vị trí của người dùng cục bộ liên quan đến nguồn gốc không gian, chúng ta có thể đảo ngược tư thế này.

00:18:14.000 --> 00:18:21.000
Sau đó, chúng ta có thể sử dụng nó để bù đắp và xoay điều khiển, vì vậy nó sẽ xuất hiện liên quan đến người dùng cục bộ.

00:18:21.000 --> 00:18:27.000
Một điều cần lưu ý là dịch chuyển không cập nhật nếu người dùng di chuyển.

00:18:27.000 --> 00:18:32.000
Nó chỉ cung cấp sự dịch chuyển của không gian khi nó được đặt ban đầu.

00:18:32.000 --> 00:18:39.000
Điều này cung cấp một cách dễ dàng để đặt nội dung liên quan đến người đó mà không cần phải theo dõi đầy đủ vị trí của họ.

00:18:39.000 --> 00:18:48.000
Mẫu vòm rất phù hợp cho hoạt động khám phá toàn cầu, nơi ứng dụng chỉ có một không gian nhập vai nhóm với nội dung được chia sẻ ở trung tâm.

00:18:48.000 --> 00:18:54.000
Nhưng điều gì sẽ xảy ra nếu hoạt động nhóm của bạn có cả cửa sổ chung và không gian nhập vai nhóm?

00:18:54.000 --> 00:19:03.000
Ví dụ, tôi muốn xây dựng một hoạt động nhóm để nghiên cứu hệ mặt trời như thế này, nơi mọi người có thể bắt đầu bằng cách đọc về một hành tinh trên một cửa sổ chung.

00:19:03.000 --> 00:19:09.000
Và họ có thể nhấn một nút để xem xét kỹ hơn mô hình hành tinh trong một không gian nhập vai nhóm.

00:19:09.000 --> 00:19:13.000
Tôi muốn mọi người luôn ở bên cạnh nhau trong cả hai trường hợp.

00:19:13.000 --> 00:19:16.000
Hãy kiểm tra xem chúng ta có thể làm gì với mẫu.

00:19:16.000 --> 00:19:25.000
Theo mặc định, khi ứng dụng của bạn chỉ có không gian nhập vai nhóm, mẫu Surround sẽ được áp dụng và nguồn gốc không gian sẽ được đặt ở trung tâm.

00:19:25.000 --> 00:19:31.000
Bố cục tương tự được áp dụng khi ứng dụng của bạn cũng có một cảnh thể tích được chia sẻ.

00:19:31.000 --> 00:19:40.000
Nhưng nếu ứng dụng của bạn có cửa sổ dọc được chia sẻ, mẫu Side-by-Side sẽ được chọn theo mặc định và nguồn gốc không gian nằm ngay bên dưới cửa sổ được chia sẻ.

00:19:40.000 --> 00:19:46.000
Nhưng hãy nhớ rằng, bạn luôn có thể thay đổi tùy chọn mẫu thành tùy chọn phù hợp nhất với hoạt động nhóm của bạn.

00:19:46.000 --> 00:19:55.000
Bạn có thể chọn mẫu .conversational hoặc mẫu .sideBySide, mà tôi nghĩ sẽ là một mẫu tuyệt vời cho hoạt động khám phá năng lượng mặt trời của chúng tôi.

00:19:55.000 --> 00:20:02.000
Như chúng ta đã biết trước đây, khoảng cách trong mẫu được điều chỉnh động dựa trên kích thước của cửa sổ được chia sẻ.

00:20:02.000 --> 00:20:08.000
Bạn có thể tự hỏi làm thế nào chúng tôi có thể đảm bảo rằng khoảng cách là tốt khi chỉ có một không gian nhập vai nhóm.

00:20:08.000 --> 00:20:14.000
Để giải quyết vấn đề này, chúng tôi có một núm hữu ích để tinh chỉnh các mẫu được gọi là phạm vi nội dung.

00:20:14.000 --> 00:20:21.000
Đó là một công cụ sửa đổi tùy chọn mẫu, hoạt động cho cả hoạt động nhóm nhập vai và dựa trên cửa sổ.

00:20:21.000 --> 00:20:28.000
Các ứng dụng có thể đặt giá trị này làm khoảng cách từ trung tâm của nội dung đến cạnh xa nhất của nó tính theo điểm.

00:20:28.000 --> 00:20:37.000
Khi phạm vi nội dung được thiết lập, mẫu đang hoạt động sẽ tính đến giá trị này để đặt mọi người liên quan đến ứng dụng.

00:20:37.000 --> 00:20:45.000
Được rồi, hãy áp dụng những gì chúng ta đã học về mẫu và định cấu hình phiên nhóm cho hoạt động khám phá năng lượng mặt trời mà chúng ta đã trình bày trước đây.

00:20:45.000 --> 00:20:53.000
Đầu tiên, chúng ta nên bật supportGroupImmersiveSpace để mọi người có thể xem đối tượng cùng nhau trong khi nhập vai.

00:20:53.000 --> 00:21:06.000
Tiếp theo, hãy đặt tùy chọn mẫu thành .sideBySide và cũng thêm công cụ sửa đổi cho contentExtent để mọi người luôn có thể ở cạnh nhau và có khoảng cách lớn với nội dung được chia sẻ.

00:21:06.000 --> 00:21:10.000
Tuyệt. Hãy xem hoạt động nhóm này sẽ như thế nào với mọi người.

00:21:10.000 --> 00:21:17.000
Ở đây, tôi đang ở với bạn tôi Connor, và chúng tôi đang duyệt qua các hành tinh trên một cửa sổ chung cạnh nhau.

00:21:17.000 --> 00:21:23.000
Sau đó, tôi nhấn một nút, cho phép tôi đi vào một không gian nhập vai nhóm để khám phá Sao Thổ.

00:21:23.000 --> 00:21:32.000
Mặc dù tôi ngạc nhiên bởi người mẫu này đẹp như thế nào, tôi cũng thấy Connor không còn ở bên tôi nữa, và tất cả những gì tôi thấy là ảnh liên lạc của anh ấy.

00:21:32.000 --> 00:21:35.000
Nhưng thực ra, Connor bị bỏ lại phía sau, vẫn đang quan sát cửa sổ.

00:21:35.000 --> 00:21:40.000
Anh ấy cần tự nhấn nút để vào không gian nhập vai của nhóm.

00:21:40.000 --> 00:21:46.000
Như chúng ta đã biết trước đây, khi mọi người không ở trong không gian nhập vai nhóm cùng nhau, họ sẽ không có bối cảnh chung.

00:21:46.000 --> 00:21:51.000
Vì vậy, hệ thống sẽ ẩn các tính cách không gian và hiển thị ảnh liên hệ.

00:21:51.000 --> 00:21:58.000
Nếu chúng ta vẫn có thể nhìn thấy Persona của nhau, Connor có thể cảm thấy thực sự bối rối khi tôi trông ngạc nhiên về điều gì đó mà anh ấy không nhìn thấy.

00:21:58.000 --> 00:22:04.000
Tình huống tương tự có thể xảy ra nếu không gian nhập vai của nhóm chúng tôi được trình bày theo các phong cách đắm chìm khác nhau.

00:22:04.000 --> 00:22:11.000
Ví dụ, tôi đang nhìn xung quanh trong một môi trường hoàn toàn nhập vai, nhưng Connor vẫn đi qua.

00:22:11.000 --> 00:22:17.000
Nhưng sẽ thật tuyệt nếu Connor có thể tự động theo tôi vào cùng một không gian nhập vai của nhóm.

00:22:17.000 --> 00:22:22.000
Và khi anh ấy không ở với tôi ở đó, anh ấy có thể biết tôi đang ở đâu và tham gia cùng tôi một cách dễ dàng.

00:22:22.000 --> 00:22:32.000
Để giảm thiểu các liên hệ phân chia trong hoạt động nhóm nhập vai của bạn, chúng tôi có một công cụ tuyệt vời mà bạn có thể sử dụng trong điều phối viên hệ thống được gọi là groupImmersionStyle.

00:22:32.000 --> 00:22:45.000
Nó cung cấp một chuỗi không đồng bộ của phong cách ngâm tùy chọn, cho ứng dụng của bạn biết một phong cách ngâm cụ thể của không gian nhập vai nhóm mà người khác tham gia hoặc không khi họ rời khỏi không gian nhập vai nhóm.

00:22:45.000 --> 00:22:55.000
Ví dụ, khi tôi mở một không gian nhập vai nhóm, ứng dụng của Connor sẽ nhận được phong cách ngâm của nó và ứng dụng của anh ấy có thể mở một không gian nhập vai nhóm với phong cách phù hợp.

00:22:55.000 --> 00:23:00.000
Sau đó, chúng ta sẽ ở bên nhau trong không gian nhập vai của nhóm và đã chia sẻ bối cảnh một lần nữa.

00:23:00.000 --> 00:23:08.000
Tương tự như vậy, khi Connor nhấn nút và rời khỏi không gian nhập vai của nhóm, ứng dụng của tôi sẽ nhận được không và có thể loại bỏ không gian nhập vai.

00:23:08.000 --> 00:23:14.000
Giờ đây với sự trợ giúp của phong cách hòa nhập nhóm, mọi người luôn có thể ở bên nhau.

00:23:14.000 --> 00:23:21.000
Đôi khi bạn có thể muốn tạm thời bước ra khỏi trải nghiệm nhập vai vì điều gì đó khẩn cấp.

00:23:21.000 --> 00:23:24.000
Bạn có thể làm điều đó chỉ với một lần nhấn vào Digital Crown.

00:23:24.000 --> 00:23:30.000
Trong trường hợp này, hệ thống sẽ không làm phiền người khác và thay đổi phong cách hòa nhập nhóm của họ.

00:23:30.000 --> 00:23:40.000
Khi bạn bước ra ngoài, bạn sẽ thấy một thông báo biểu ngữ SharePlay, cho bạn biết phần còn lại của nhóm ở đâu và cũng cung cấp cho bạn một nút để tham gia trở lại không gian nhập vai của nhóm một cách dễ dàng.

00:23:40.000 --> 00:23:48.000
Khi bạn nhấn vào nút Tham gia, một kiểu ngâm nhóm sẽ được gửi đến ứng dụng của bạn để thiết lập không gian nhập vai nhóm.

00:23:48.000 --> 00:23:50.000
Được rồi, chúng ta đã thấy rất nhiều trong phiên này.

00:23:50.000 --> 00:23:52.000
Hãy tóm tắt lại!

00:23:52.000 --> 00:24:05.000
Chúng tôi đã tìm hiểu về bối cảnh được chia sẻ và cách sử dụng điều phối viên hệ thống và liên kết cảnh để quản lý tính nhất quán về không gian và hình ảnh trong cả ứng dụng chia sẻ có cửa sổ và nhập vai.

00:24:05.000 --> 00:24:10.000
Chúng tôi đã giới thiệu các tùy chọn mẫu cho ứng dụng của bạn để đặt mọi người đúng cách.

00:24:10.000 --> 00:24:16.000
Và cuối cùng, chúng tôi cũng đã chỉ cho bạn một cách mới để bắt đầu SharePlay bằng cách sử dụng menu Chia sẻ.

00:24:16.000 --> 00:24:18.000
Cảm ơn vì đã điều chỉnh.

00:24:18.000 --> 00:24:22.000
Chúng tôi nóng lòng muốn xem bạn sẽ xây dựng những trải nghiệm đáng kinh ngạc nào với SharePlay.

00:24:22.000 --> 23:59:59.000
♪

