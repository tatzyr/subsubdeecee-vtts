WEBVTT

00:00:00.000 --> 00:00:03.000
♪ Hip-hop nhạc cụ êm dịu ♪

00:00:03.000 --> 00:00:10.000
♪

00:00:10.000 --> 00:00:14.000
Raffael Hannemann: Xin chào, và chào mừng đến với Go Beyond the Window với SwiftUI.

00:00:14.000 --> 00:00:20.000
Tôi là Raffa, và tôi là một kỹ sư tại Apple, và sau đó tôi được đồng nghiệp Mark tham gia.

00:00:20.000 --> 00:00:33.000
Hôm nay, chúng tôi sẽ cho bạn thấy việc tận dụng toàn bộ sức mạnh của xrOS dễ dàng như thế nào để tạo ra những trải nghiệm thực sự nhập vai với các công cụ và khuôn khổ mà bạn đã biết.

00:00:33.000 --> 00:00:39.000
Bạn có thể đã quen thuộc với thực tế tăng cường từ việc phát triển các ứng dụng AR cho iOS.

00:00:39.000 --> 00:00:52.000
Trong vài năm qua, chúng tôi đã giới thiệu và mở rộng một số công cụ và khuôn khổ, bao gồm ARKit và RealityKit, để tạo ra các ứng dụng AR phong phú cho iPhone và iPad.

00:00:52.000 --> 00:01:05.000
Những ứng dụng này cho phép bạn làm mờ ranh giới giữa thế giới thực và trí tưởng tượng của mình bằng cách tăng cường môi trường xung quanh người dùng với giao diện người dùng tương tác và các đối tượng ảo.

00:01:05.000 --> 00:01:15.000
Năm nay, với sự ra mắt của xrOS, chúng tôi đang đưa AR lên một tầm cao mới, bắt đầu với những trải nghiệm nhập vai.

00:01:15.000 --> 00:01:24.000
Trong những trải nghiệm này, ứng dụng của bạn hiển thị giao diện người dùng, bao gồm các cửa sổ và nội dung ba chiều ở bất kỳ đâu xung quanh bạn.

00:01:24.000 --> 00:01:29.000
Môi trường xung quanh vẫn có thể nhìn thấy được và trên thực tế, thậm chí trở thành một phần của trải nghiệm.

00:01:29.000 --> 00:01:39.000
Bạn có thể neo các yếu tố của ứng dụng của mình vào các bề mặt và tăng cường và làm phong phú thêm thế giới thực với các đối tượng và hiệu ứng ảo.

00:01:39.000 --> 00:01:46.000
Và sau đó là những trải nghiệm hoàn toàn nhập vai, tiến thêm một bước nữa và bao phủ toàn bộ không gian của bạn.

00:01:46.000 --> 00:01:49.000
Ứng dụng của bạn kiểm soát hoàn toàn những gì bạn thấy.

00:01:49.000 --> 00:01:53.000
Hãy suy nghĩ về tất cả các khả năng mà điều này sẽ mở ra.

00:01:53.000 --> 00:02:01.000
Và điều tuyệt vời nhất, tất cả những điều này đều có thể thực hiện được với các công cụ, khuôn khổ và mẫu mà bạn đã quen thuộc.

00:02:01.000 --> 00:02:06.000
Và cốt lõi của điều này là Không gian nhập vai của SwiftUI.

00:02:06.000 --> 00:02:08.000
Hãy bắt đầu nào.

00:02:08.000 --> 00:02:14.000
Trong các phiên khác, bạn đã học được rằng năm nay, chúng tôi sẽ thêm chiều thứ ba vào SwiftUI.

00:02:14.000 --> 00:02:27.000
Bạn có thể trình bày các cửa sổ và khối lượng trên xrOS và hiển thị các yếu tố giao diện người dùng ba chiều với các mẫu khai báo dễ sử dụng của SwiftUI.

00:02:27.000 --> 00:02:33.000
Cả cửa sổ và khối lượng đều cho phép bạn hiển thị nội dung trong giới hạn của chúng.

00:02:33.000 --> 00:02:43.000
Vậy điều gì sẽ xảy ra nếu bạn muốn tận dụng tối đa không gian vô hạn mà xrOS cung cấp và tạo ra một trải nghiệm thực sự nhập vai?

00:02:43.000 --> 00:02:51.000
Bạn có thể muốn đặt các vật dụng của mình vượt ra ngoài giới hạn của cửa sổ xung quanh đầu và ở ngay giữa nó.

00:02:51.000 --> 00:02:55.000
Và đây là những gì chúng tôi đã thiết kế Space cho.

00:02:55.000 --> 00:03:04.000
Bên cạnh các cửa sổ và khối lượng, không gian là một loại vùng chứa để trình bày giao diện người dùng của bạn trên xrOS.

00:03:04.000 --> 00:03:10.000
Trong phiên này, chúng tôi sẽ tập trung vào Không gian và cách bạn có thể sử dụng chúng để tạo ra những trải nghiệm nhập vai.

00:03:10.000 --> 00:03:16.000
Trước tiên hãy bắt đầu với Space và học cách hiển thị nội dung của bạn.

00:03:16.000 --> 00:03:26.000
Mark sau đó sẽ chỉ cho bạn cách bạn quản lý Không gian của mình, phóng trực tiếp vào Không gian và giải thích tất cả các tùy chỉnh mà Không gian cho phép.

00:03:26.000 --> 00:03:30.000
Vì vậy, hãy bắt đầu và kiểm tra một số mã.

00:03:30.000 --> 00:03:33.000
Tôi thực sự hào hứng với việc khám phá không gian.

00:03:33.000 --> 00:03:44.000
Để tiếp tục ứng dụng Thế giới mà chúng tôi đang làm việc trong các phiên khác, chúng tôi sẽ mở rộng ứng dụng từng bước với một không gian cho phép chúng tôi khám phá hệ mặt trời của mình.

00:03:44.000 --> 00:03:49.000
Không gian là một loại cảnh mới trong SwiftUI được gọi là Không gian nhập vai.

00:03:49.000 --> 00:03:58.000
Như bạn sẽ làm với các loại cảnh khác, bạn xác định một Không gian Nhập vai trong ứng dụng của mình và sau đó có thể mở và loại bỏ nó bất cứ lúc nào.

00:03:58.000 --> 00:04:09.000
Bạn có thể làm cho toàn bộ ứng dụng của mình chỉ bao gồm một Không gian duy nhất, nhưng bạn cũng có thể mở rộng ứng dụng hiện có của mình bằng cách thêm một hoặc nhiều Không gian bên cạnh cửa sổ và khối lượng của bạn.

00:04:09.000 --> 00:04:12.000
Ứng dụng của bạn có thể mở một Không gian tại thời điểm đó.

00:04:12.000 --> 00:04:17.000
Trước khi mở một Không gian khác, trước tiên bạn bỏ qua không gian hiện tại.

00:04:17.000 --> 00:04:24.000
Và một lần nữa, tương tự như các loại cảnh khác, bạn đặt hệ thống phân cấp chế độ xem của mình trong phần thân của cảnh.

00:04:24.000 --> 00:04:32.000
Bằng cách đặt Hệ Mặt trời của chúng ta vào ImmersiveSpace, nó sẽ được hiển thị mà không có bất kỳ ranh giới cắt nào.

00:04:32.000 --> 00:04:36.000
Hãy dành một chút thời gian và chỉ ra điều này dễ dàng như thế nào.

00:04:36.000 --> 00:04:44.000
Chỉ với ba dòng này, chúng tôi đã đưa chế độ xem hệ mặt trời của mình vào một trải nghiệm phong phú, nhập vai.

00:04:44.000 --> 00:04:46.000
Hãy đi sâu vào chi tiết.

00:04:46.000 --> 00:04:54.000
Mở một Không gian cho phép một vài hành vi đặc biệt làm cho cảnh này nổi bật so với các loại cảnh khác.

00:04:54.000 --> 00:05:04.000
Khi nhiều ứng dụng đang chạy cạnh nhau, tất cả chúng đều được hiển thị cùng nhau trong cùng một không gian, đó là lý do tại sao chúng tôi gọi đây là không gian được chia sẻ.

00:05:04.000 --> 00:05:11.000
Khi ứng dụng của bạn hiển thị cảnh Không gian nhập vai, ứng dụng của bạn sẽ vào cái mà chúng tôi gọi là Không gian đầy đủ.

00:05:11.000 --> 00:05:15.000
Ứng dụng của bạn sau đó sẽ là ứng dụng duy nhất hiển thị cho người dùng.

00:05:15.000 --> 00:05:22.000
Tất cả các ứng dụng khác sẽ biến mất để nhường chỗ cho nội dung của bạn xuất hiện mà không bị phân tâm.

00:05:22.000 --> 00:05:27.000
Sau đó, một khi bạn bỏ qua không gian của mình, các ứng dụng khác sẽ xuất hiện trở lại.

00:05:27.000 --> 00:05:33.000
Vì Không gian nhập vai là một cảnh, nó ngầm định nghĩa hệ tọa độ của chính nó.

00:05:33.000 --> 00:05:40.000
Vì vậy, mọi thứ bạn đặt trong một Không gian đều được định vị tương đối với nguồn gốc của chính không gian.

00:05:40.000 --> 00:05:48.000
Và nguồn gốc của một Không gian nằm dưới người dùng, gần chân người dùng khi Không gian được mở lần đầu tiên.

00:05:48.000 --> 00:05:50.000
Vậy bây giờ bạn đã biết những điều cơ bản.

00:05:50.000 --> 00:05:54.000
Hãy tiếp tục và nói về cách bạn hiển thị nội dung của Không gian của mình.

00:05:54.000 --> 00:06:01.000
ImmersiveSpace là một loại cảnh, vì vậy bạn đặt hệ thống phân cấp chế độ xem của mình ngay trong đó.

00:06:01.000 --> 00:06:11.000
ImmersiveSpace có thể thực hiện bất kỳ chế độ xem giao diện người dùng Swift nào và trong khi nó không có bất kỳ giới hạn cắt nào, một Space vẫn trình bày nội dung của nó trong giới hạn bố cục của nó.

00:06:11.000 --> 00:06:18.000
Bất cứ thứ gì bạn đặt trong Không gian đều sử dụng cùng một hệ thống bố cục mà bạn đã quen thuộc.

00:06:18.000 --> 00:06:25.000
Nhưng vì nguồn gốc của Không gian của bạn nằm gần chân người dùng, có lẽ bạn không chỉ muốn đặt nội dung của mình xuống đó.

00:06:25.000 --> 00:06:29.000
Hãy nói về RealityView.

00:06:29.000 --> 00:06:41.000
Nếu bạn muốn tận dụng tối đa SwiftUI, ARKit và RealityKit, chúng tôi khuyến khích bạn sử dụng ImmersiveSpace cùng với các tính năng mạnh mẽ của RealityView mới.

00:06:41.000 --> 00:06:53.000
ImmersiveSpace và RealityView đi đôi với nhau và được thiết kế đặc biệt cùng nhau để cung cấp tất cả các tính năng bạn cần để xây dựng trải nghiệm nhập vai tuyệt vời.

00:06:53.000 --> 00:07:05.000
Ví dụ, RealityView đi kèm với hỗ trợ tích hợp để tải tài sản không đồng bộ, như được hiển thị ở đây, để tải và hiển thị trường sao.

00:07:05.000 --> 00:07:11.000
Nhưng bên cạnh việc tải không đồng bộ, việc đưa RealityView vào cảnh Không gian Nhập vai cho phép nhiều hơn thế.

00:07:11.000 --> 00:07:16.000
Đặt các yếu tố trong RealityView của bạn trên các neo ARKit.

00:07:16.000 --> 00:07:26.000
Và vì ứng dụng của bạn có quyền truy cập vào dữ liệu tay và tư thế đầu, trong khi Không gian đang mở, bạn có thể sử dụng dữ liệu đó để định vị các thực thể của mình trong Chế độ xem thực tế.

00:07:26.000 --> 00:07:29.000
Mark sẽ cho bạn xem thứ gì đó thú vị sau.

00:07:29.000 --> 00:07:32.000
Một lưu ý về tọa độ Không gian.

00:07:32.000 --> 00:07:36.000
RealityView sử dụng RealityKit để hiển thị nội dung của nó.

00:07:36.000 --> 00:07:45.000
Vì vậy, khi định vị các thực thể trong Chế độ xem thực tế, hãy nhớ rằng hướng không gian tọa độ khác với trong hệ thống bố cục của SwiftUI.

00:07:45.000 --> 00:07:52.000
Trong SwiftUI, trục y hướng xuống dưới và trục z hướng về phía bạn.

00:07:52.000 --> 00:08:04.000
Điều này áp dụng cho các cửa sổ, khối lượng và Không gian nhập vai, trong khi trong RealityKit, trục y hướng lên trên.

00:08:04.000 --> 00:08:07.000
Có rất nhiều điều để đề cập về RealityView.

00:08:07.000 --> 00:08:14.000
Đảm bảo rằng bạn thêm "Xây dựng trải nghiệm không gian với RealityKit" vào danh sách theo dõi của mình để biết tất cả các chi tiết.

00:08:14.000 --> 00:08:17.000
Bây giờ hãy viết một số mã.

00:08:17.000 --> 00:08:25.000
Chúng ta sẽ sử dụng WorldApp, hoặc ít nhất là một phiên bản đơn giản của nó, và thêm một hệ mặt trời nhập vai vào nó từng bước một.

00:08:25.000 --> 00:08:28.000
Chúng tôi bắt đầu bằng cách xác định một ImmersiveSpace.

00:08:28.000 --> 00:08:34.000
Tương tự như WindowGroup, bạn có thể gán một mã định danh, một loại giá trị hoặc cả hai.

00:08:34.000 --> 00:08:38.000
Trong trường hợp này, chúng tôi chỉ định mã định danh năng lượng mặt trời.

00:08:38.000 --> 00:08:42.000
Chúng tôi sẽ sử dụng mã định danh này sau để mở Space.

00:08:42.000 --> 00:08:47.000
Sau đó chúng tôi đặt chế độ xem Hệ Mặt trời vào Không gian.

00:08:47.000 --> 00:08:56.000
Chúng ta cũng hãy xác định một cửa sổ tiêu chuẩn đơn giản cho ứng dụng của chúng ta, mà chúng ta muốn hiển thị khi ứng dụng khởi chạy với một điều khiển để xem hệ mặt trời của chúng ta.

00:08:56.000 --> 00:09:00.000
Điều này tương tự như những gì ứng dụng Thế giới làm.

00:09:00.000 --> 00:09:10.000
Vì vậy, chúng tôi xác định một cửa sổ khởi chạy mới bằng cách sử dụng WindowGroup và chúng tôi thêm một số thông tin cùng với một điều khiển cho phép chúng tôi mở Không gian của mình.

00:09:10.000 --> 00:09:13.000
Điều khiển đó chỉ là một cái nút.

00:09:13.000 --> 00:09:18.000
Khi nhấp vào nó, chúng tôi muốn thay đổi tiêu đề của nó và mở Space của chúng tôi.

00:09:18.000 --> 00:09:25.000
Để kiểm soát các cửa sổ, SwiftUI cung cấp các hành động môi trường openWindow và dismissWindow.

00:09:25.000 --> 00:09:33.000
Và đối với Immersive Space, chúng tôi đang thêm openImmersiveSpace mới và loại bỏ các hành động ImmersiveSpace.

00:09:33.000 --> 00:09:40.000
Chúng tôi có được hai hành động từ môi trường.

00:09:40.000 --> 00:09:46.000
Sau đó chúng ta có thể sử dụng những hành động này khi nút được gọi.

00:09:46.000 --> 00:09:51.000
Khi mở Space, chúng tôi chuyển mã định danh mà chúng tôi đã xác định trước đó.

00:09:51.000 --> 00:09:59.000
Vì chỉ có một Space có thể được mở tại một thời điểm, hành động dismissImmersiveSpace không cần bất kỳ tranh luận nào.

00:09:59.000 --> 00:10:03.000
Hệ thống làm sinh động Không gian của bạn vào và ra với một khoảng thời gian nhất định.

00:10:03.000 --> 00:10:11.000
Những hành động môi trường này không đồng bộ để bạn có thể phản ứng với việc hoàn thành hoạt ảnh.

00:10:11.000 --> 00:10:20.000
Mở một Immersive Space có thể thất bại và openImmersiveSpace sẽ cho bạn biết kết quả của nó liệu cuộc gọi thất bại hay thành công.

00:10:20.000 --> 00:10:25.000
Đảm bảo xử lý lỗi thích hợp.

00:10:25.000 --> 00:10:32.000
Quay trở lại ứng dụng của chúng tôi mà chúng tôi đã xác định ngay từ đầu, bây giờ chúng tôi có thể thêm LaunchWindow của mình ngay tại đây.

00:10:32.000 --> 00:10:35.000
Chú ý thứ tự của hai cảnh của chúng tôi.

00:10:35.000 --> 00:10:43.000
LaunchWindow là cảnh đầu tiên trong danh sách các cảnh của chúng tôi, vì vậy SwiftUI sẽ hiển thị cửa sổ khởi chạy khi ứng dụng khởi động.

00:10:43.000 --> 00:10:49.000
Không gian nhập vai sẽ không hiển thị khi ra mắt, nhưng sẽ chỉ hiển thị khi người dùng nhấp vào nút của chúng tôi.

00:10:49.000 --> 00:10:53.000
Hãy chạy cái này trên trình giả lập.

00:10:53.000 --> 00:10:56.000
Khi ứng dụng của chúng tôi khởi chạy, chúng tôi sẽ thấy cửa sổ khởi chạy.

00:10:56.000 --> 00:11:07.000
Và sau đó chỉ với một cú nhấp chuột vào nút của chúng tôi, hệ mặt trời xuất hiện ngay trong phòng khách của chúng tôi.

00:11:07.000 --> 00:11:15.000
Vì vậy, bây giờ chúng tôi đã xác định một ứng dụng đa cảnh bao gồm một cửa sổ tiêu chuẩn và một Không gian hiển thị hệ mặt trời của chúng tôi.

00:11:15.000 --> 00:11:18.000
Bạn đã thấy các mô hình được sử dụng trong ứng dụng Thế giới.

00:11:18.000 --> 00:11:25.000
Khi xây dựng ứng dụng nhập vai của mình, bạn chắc chắn sẽ muốn hiển thị một số nội dung 3D với nhiều chi tiết trong Không gian của mình.

00:11:25.000 --> 00:11:33.000
Hãy nhớ rằng có thể mất một thời gian để tài sản của bạn được tải đầy đủ và sẵn sàng được hiển thị bởi ứng dụng của bạn.

00:11:33.000 --> 00:11:45.000
Để có trải nghiệm người dùng tốt nhất, hãy đảm bảo tận dụng các API Model3D và RealityView mới, tải tài sản 3D của bạn không đồng bộ.

00:11:45.000 --> 00:11:52.000
Trong mã này ở đây, chúng tôi hiển thị một văn bản trong khi mô hình vẫn đang tải và một lỗi trong trường hợp có sự cố xảy ra.

00:11:52.000 --> 00:12:00.000
Và bây giờ, Mark sẽ cho bạn biết cách quản lý Không gian của bạn và thậm chí tốt hơn, cách phóng vào Không gian.

00:12:00.000 --> 00:12:01.000
Mark Ma: Cảm Ơn, Raffa.

00:12:01.000 --> 00:12:09.000
Như chúng tôi vừa chứng minh, thật dễ dàng để tích hợp Immersive Spaces vào ứng dụng World của chúng tôi chỉ với một vài dòng mã.

00:12:09.000 --> 00:12:22.000
Chuyển đổi ứng dụng của bạn thành một trải nghiệm nhập vai cũng liên quan đến việc quản lý Không gian của bạn cùng với hệ thống với các giai đoạn cảnh, phối hợp hội tụ giữa Không gian của bạn và các cảnh khác và trình bày nó với các phong cách khác nhau.

00:12:22.000 --> 00:12:28.000
Tương tự như các loại cảnh SwiftUI khác, Immersive Space hỗ trợ các giai đoạn cảnh tương tự được xử lý bởi hệ thống.

00:12:28.000 --> 00:12:32.000
Điều này cũng có nghĩa là Không gian của bạn luôn ở trong một trong những giai đoạn cảnh của SwiftUI.

00:12:32.000 --> 00:12:35.000
Bằng cách mở Space, nó di chuyển nó đến giai đoạn hoạt động.

00:12:35.000 --> 00:12:39.000
Và tại bất kỳ thời điểm nào, nó có thể thay đổi nó thành giai đoạn không hoạt động.

00:12:39.000 --> 00:12:48.000
Ví dụ: nếu chúng ta bước ra khỏi ranh giới do hệ thống xác định hoặc cảnh báo hệ thống hiển thị, Không gian và cửa sổ của bạn sẽ bị ẩn tạm thời, di chuyển chúng sang giai đoạn không hoạt động.

00:12:48.000 --> 00:12:56.000
Khi người dùng nhập lại trải nghiệm, Không gian và cửa sổ của bạn sẽ được hiển thị, cập nhật giai đoạn cảnh của họ để hoạt động trở lại.

00:12:56.000 --> 00:13:01.000
Đối với ứng dụng World của chúng tôi, chúng tôi có thể thêm một vài dòng mã nhanh để xử lý giai đoạn cảnh không hoạt động.

00:13:01.000 --> 00:13:07.000
Hãy giảm quy mô hình Trái đất của chúng ta xuống một nửa kích thước để giúp chỉ ra rằng trạng thái của Không gian đã thay đổi.

00:13:07.000 --> 00:13:11.000
Hãy đảm bảo rằng chúng tôi xử lý giai đoạn hoạt động để khôi phục nội dung.

00:13:11.000 --> 00:13:16.000
Và hãy nhớ rằng, Không gian có thể bị loại bỏ bất cứ lúc nào bằng cách sử dụng các phương tiện phần cứng hoặc phần mềm.

00:13:16.000 --> 00:13:19.000
Vì vậy, hãy kiểm tra điều này trong Trình mô phỏng.

00:13:19.000 --> 00:13:24.000
Chúng tôi sẽ mở Space của mình và chứng minh cách ứng dụng của chúng tôi xử lý giai đoạn không hoạt động.

00:13:24.000 --> 00:13:30.000
Ví dụ, điều này có thể được kích hoạt khi một cảnh báo xuất hiện.

00:13:30.000 --> 00:13:35.000
Khi cảnh báo bật lên, lưu ý rằng nội dung Không gian đã thay đổi theo tỷ lệ do mã mẫu trước đây của chúng tôi.

00:13:35.000 --> 00:13:41.000
Và khi chúng tôi loại bỏ cảnh báo, Space đã thu nhỏ lại, phản ứng với giai đoạn hiện đang hoạt động.

00:13:41.000 --> 00:13:48.000
SwiftUI giúp việc xử lý và tạo hoạt ảnh cho các quá trình chuyển đổi này thực sự dễ dàng và thuận tiện.

00:13:48.000 --> 00:13:53.000
Một cách tuyệt vời khác để quản lý Không gian của bạn là tích hợp nội dung từ các cửa sổ khác với Không gian của bạn.

00:13:53.000 --> 00:14:07.000
Ví dụ, nếu bạn muốn định vị lại mô hình trái đất bên cạnh cửa sổ chính, chúng ta sẽ cần biết vị trí của cửa sổ trong hệ tọa độ Không gian Nhập vai của chúng ta, nhưng cả hai đối tượng đều xác định hệ tọa độ của riêng chúng.

00:14:07.000 --> 00:14:15.000
Vì vậy, để giúp giải quyết vấn đề này, SwiftUI cung cấp một Không gian tọa độ mới có tên là Không gian nhập vai.

00:14:15.000 --> 00:14:18.000
Và điều đó đại diện cho một hệ tọa độ của một Không gian Nhập vai.

00:14:18.000 --> 00:14:24.000
Để truy cập hệ tọa độ này, chúng tôi gói gọn cửa sổ bên trong trình đọc hình học vào ngữ cảnh 3D.

00:14:24.000 --> 00:14:34.000
Sau đó, bằng cách sử dụng API hiện có nhận một không gian tọa độ, như biến đổi và truyền vào loại Không gian nhập vai, chúng ta có thể lấy proxy.transform trong hệ tọa độ mới.

00:14:34.000 --> 00:14:37.000
Sử dụng biến đổi này, chúng tôi sẽ cập nhật vị trí của Trái đất khi chạm.

00:14:37.000 --> 00:14:40.000
Hãy chạy cái này trên trình giả lập.

00:14:40.000 --> 00:14:44.000
Chúng tôi sẽ mở lại Không gian của mình để chúng tôi có thể nhìn thấy trái đất và cửa sổ chính.

00:14:44.000 --> 00:14:49.000
Chúng tôi đã dịch chuyển cửa sổ một chút và chúng tôi muốn định vị lại trái đất ngay trước mặt nó.

00:14:49.000 --> 00:14:53.000
Bây giờ khi trái đất được khai thác, nó sẽ được định vị ở nơi chúng ta mong đợi.

00:14:53.000 --> 00:15:01.000
Và với chuyển đổi tọa độ, thật dễ dàng để định vị nội dung của chúng tôi chính xác ở nơi chúng tôi muốn và di chuyển nội dung giữa Không gian và cửa sổ.

00:15:01.000 --> 00:15:13.000
Những lần khác để sử dụng chuyển đổi tọa độ sẽ bao gồm Không gian nhập vai trong SharePlay, nơi chúng tôi có thể quản lý vị trí nội dung của mình không chỉ trên Không gian nhập vai riêng tư mà còn cả Không gian nhập vai nhóm.

00:15:13.000 --> 00:15:24.000
Nếu ứng dụng của bạn hỗ trợ SharePlay và nhóm Immersive Spaces, khi những người tham gia khác tham gia, hệ thống có thể di chuyển nguồn gốc của không gian đến một vị trí được chia sẻ được xác định bởi các mẫu không gian.

00:15:24.000 --> 00:15:31.000
Để biết thêm thông tin, vui lòng xem phiên, "Xây dựng trải nghiệm SharePlay không gian."

00:15:31.000 --> 00:15:40.000
Ứng dụng World của chúng tôi hiện xử lý các giai đoạn cảnh và có thể kết hợp nội dung từ các cửa sổ khác, nhưng chúng tôi vẫn chưa sử dụng đầy đủ các khả năng mà Space cung cấp.

00:15:40.000 --> 00:15:44.000
Chúng ta sẽ khám phá các phong cách đắm chìm bên cạnh để chúng trở nên tuyệt vời hơn.

00:15:44.000 --> 00:15:50.000
Các phong cách đắm chìm cung cấp các bài thuyết trình khác nhau về cách nội dung không gian của bạn có thể chiếm lĩnh môi trường xung quanh bạn.

00:15:50.000 --> 00:15:58.000
Bạn có thể trình bày nội dung của mình cùng với phong cách hỗn hợp, phong cách tiến bộ trực tuyến trước mặt bạn hoặc phong cách đầy đủ bao quanh bạn theo mọi hướng.

00:15:58.000 --> 00:16:02.000
Hãy cập nhật ứng dụng của chúng tôi để tận dụng tất cả các phong cách này.

00:16:02.000 --> 00:16:06.000
Hãy mở lại ứng dụng của chúng tôi một lần nữa và quay trở lại nơi chúng tôi đã xác định một Không gian Nhập vai.

00:16:06.000 --> 00:16:12.000
Ngay bây giờ, không gian trình bày hệ mặt trời theo phong cách ngâm hỗn hợp, đây là kiểu mặc định.

00:16:12.000 --> 00:16:16.000
Thật dễ dàng để thay đổi phong cách và cũng có nó năng động.

00:16:16.000 --> 00:16:23.000
Đầu tiên, hãy thêm một biến trạng thái mới thuộc loại ImmersionStyle và gán một giá trị mặc định mà chúng tôi muốn Space bắt đầu.

00:16:23.000 --> 00:16:26.000
Hãy giữ phong cách hỗn hợp ở đây.

00:16:26.000 --> 00:16:32.000
Sau đó, chúng tôi sử dụng công cụ sửa đổi cảnh immersionStyle và xác định danh sách các kiểu mà chúng tôi muốn Space của mình hỗ trợ.

00:16:32.000 --> 00:16:38.000
Để có một tham chiếu đến kiểu hiện tại, chúng tôi chuyển biến trạng thái của mình dưới dạng ràng buộc.

00:16:38.000 --> 00:16:46.000
Nếu chúng ta chuyển ràng buộc đến hệ mặt trời của mình, chúng ta cũng có thể đọc kiểu hiện tại và kiểm soát nó để chuyển sang bất kỳ kiểu bản đồ nào.

00:16:46.000 --> 00:16:54.000
Trong mẫu này, chúng ta sẽ chuyển đổi bằng cử chỉ phóng đại để khi chúng ta mở rộng quy mô hệ mặt trời, chúng ta sẽ chuyển sang một phong cách khác.

00:16:54.000 --> 00:17:01.000
Cho đến nay, chúng tôi đã chạy ứng dụng Thế giới của mình trên trình giả lập để cho bạn thấy việc mang một Không gian Nhập vai vào đó dễ dàng như thế nào.

00:17:01.000 --> 00:17:07.000
Nhưng để có được cảm giác thực sự tuyệt vời về cách những phong cách này hoạt động với môi trường xung quanh chúng ta, hãy chạy trải nghiệm của chúng ta trên một thiết bị.

00:17:07.000 --> 00:17:14.000
Và sau đó, chúng tôi sẽ cho bạn thấy nhiều tùy chỉnh hơn nữa để thực sự nâng cao trải nghiệm trên thiết bị của bạn.

00:17:14.000 --> 00:17:19.000
Bạn mở Space theo kiểu mặc định, kết quả là kiểu ngâm hỗn hợp.

00:17:19.000 --> 00:17:25.000
Phong cách này thật tuyệt, nhưng bạn có thể muốn đắm chìm hơn một chút trong nội dung và có thể nhìn thấy một số ngôi sao.

00:17:25.000 --> 00:17:27.000
Vì vậy, bạn có thể thực hiện cử chỉ phóng đại.

00:17:27.000 --> 00:17:32.000
Và khi nội dung phát triển lớn hơn, cuối cùng Space chuyển sang phong cách tiến bộ.

00:17:32.000 --> 00:17:37.000
Phong cách này là cầu nối giữa trải nghiệm vượt qua và trải nghiệm hoàn toàn nhập vai.

00:17:37.000 --> 00:17:43.000
Nó cho phép bạn xem nội dung Không gian Nhập vai trong cổng thông tin trước mặt bạn, cùng với môi trường xung quanh bạn.

00:17:43.000 --> 00:17:48.000
Phong cách này cảm thấy khá đắm chìm, nhưng cũng cho phép bạn nhận thức được những gì xung quanh bạn.

00:17:48.000 --> 00:17:55.000
Điều này cũng có nghĩa là bạn có thể trò chuyện với những người gần đó, biết nơi ngồi thoải mái và thậm chí tương tác với môi trường xung quanh.

00:17:55.000 --> 00:18:01.000
Và một khi bạn cảm thấy thoải mái, bằng cách xoay Digital Crown, bạn sẽ tăng sự đắm chìm của phong cách.

00:18:01.000 --> 00:18:03.000
Điều đó không thực sự tuyệt sao?

00:18:03.000 --> 00:18:06.000
Bây giờ bạn đang trôi nổi như một phi hành gia trong thiên hà.

00:18:06.000 --> 00:18:11.000
Và nếu bạn muốn nhìn thấy nhiều hơn môi trường xung quanh mình một lần nữa, chỉ cần xoay Digital Crown trở lại để giảm sự đắm chìm.

00:18:11.000 --> 00:18:18.000
Điều này cho phép bạn nhanh chóng và dễ dàng kiểm soát mức độ nhập vai của nội dung trong phong cách tiến bộ.

00:18:18.000 --> 00:18:21.000
Nhưng có lẽ bạn thích đắm chìm hoàn toàn mọi lúc.

00:18:21.000 --> 00:18:27.000
Điều này thật tuyệt vời cho những trải nghiệm xung quanh bạn hoặc ngay lập tức đưa bạn đến một thế giới hoàn toàn khác.

00:18:27.000 --> 00:18:32.000
Cho đến nay, bạn đã học được việc chuyển đổi sang các phong cách khác nhau dựa trên cử chỉ dễ dàng như thế nào.

00:18:32.000 --> 00:18:41.000
Đắm chìm hoàn toàn cũng không khác gì, và bạn sẽ trải nghiệm điều đó khi bạn mở rộng quy mô Trái đất một lần nữa để cập nhật ràng buộc phong cách.

00:18:41.000 --> 00:18:46.000
Chú ý việc chuyển đổi giữa các phong cách khác nhau dễ dàng và dường như thế nào.

00:18:46.000 --> 00:18:48.000
Bây giờ Không gian đã trở nên hoàn toàn nhập vai.

00:18:48.000 --> 00:18:53.000
Và với SwiftUI, chỉ mất một vài dòng mã.

00:18:53.000 --> 00:19:05.000
Và bằng cách nhấn Digital Crown, bạn có thể quay lại passthrough bất cứ khi nào bạn sẵn sàng rời khỏi trải nghiệm.

00:19:05.000 --> 00:19:11.000
Chúng tôi vừa trình bày những cách khác nhau để quản lý Không gian của bạn bằng cách phản ứng với sự thay đổi giai đoạn cảnh và kiểm soát phong cách.

00:19:11.000 --> 00:19:17.000
Bây giờ hãy thêm một số cải tiến cuối cùng để đưa Không gian của chúng ta lên một tầm cao mới.

00:19:17.000 --> 00:19:24.000
Khả năng tính toán không gian trên thiết bị cho phép Không gian của bạn dễ dàng được nâng cao để làm cho nó cảm thấy thú vị hơn.

00:19:24.000 --> 00:19:33.000
Vì vậy, chúng ta hãy xem xét một vài lựa chọn, như phóng trực tiếp vào Không gian, thêm hiệu ứng cho môi trường xung quanh và kim ảo.

00:19:33.000 --> 00:19:37.000
Cho đến nay, ứng dụng của chúng tôi cho phép chúng tôi mở một Không gian chỉ bằng một cú nhấp chuột.

00:19:37.000 --> 00:19:44.000
Nhưng điều gì sẽ xảy ra nếu bạn muốn khởi chạy trải nghiệm nhập vai ngay khi ứng dụng của bạn khởi động, chẳng hạn như nếu bạn có một trò chơi nhập vai hoàn toàn?

00:19:44.000 --> 00:19:50.000
Để khởi chạy trực tiếp vào Không gian Nhập vai, bạn sẽ cần định cấu hình bản kê khai cảnh cho ứng dụng của mình.

00:19:50.000 --> 00:19:55.000
Chỉ cần đặt vai trò ứng dụng ImmersiveSpace và phong cách ngâm mình.

00:19:55.000 --> 00:19:59.000
Đính kèm nội dung Không gian của bạn như bình thường và nó sẽ mở ngay lập tức.

00:19:59.000 --> 00:20:05.000
Bạn cũng có thể yêu cầu ứng dụng của mình quay lại cửa sổ nếu người dùng chọn loại bỏ Không gian.

00:20:05.000 --> 00:20:12.000
Tiếp theo, các tùy chọn hiệu ứng xung quanh cho phép tôi làm mờ đường chuyền để nội dung Không gian được lấy nét nhiều hơn.

00:20:12.000 --> 00:20:17.000
Chúng tôi muốn môi trường xung quanh bị mờ đi khi Không gian chuyển sang phong cách tiến bộ.

00:20:17.000 --> 00:20:26.000
Chúng tôi đặt công cụ sửa đổi Hiệu ứng xung quanh ưa thích là tối, vì vậy khi hệ mặt trời xuất hiện, môi trường xung quanh chúng ta sẽ tự động bị mờ đi.

00:20:26.000 --> 00:20:34.000
Công cụ sửa đổi UpperLimbVisibility cho phép chúng ta giấu tay khi ở trong một Không gian hoàn toàn nhập vai vì không có đường chuyền nào khả dụng.

00:20:34.000 --> 00:20:39.000
Đối với trải nghiệm thế giới của chúng tôi, chúng tôi sẽ chỉ đơn giản đặt sở thích của mình là sai khi chúng tôi mở Không gian của mình.

00:20:39.000 --> 00:20:44.000
Và cứ như vậy, chúng ta có thể thay đổi tùy chọn UpperLimbVisibility.

00:20:44.000 --> 00:20:53.000
Giấu bàn tay của bạn trong khi ở phong cách xuất hiện đầy đủ có nghĩa là chúng tôi có thể hiển thị bàn tay ảo thay thế và chúng tôi sẽ hiển thị một số găng tay không gian trong ứng dụng Thế giới của chúng tôi.

00:20:53.000 --> 00:20:57.000
Hãy bắt đầu bằng cách tạo một chế độ xem mới gọi là SpaceGloves.

00:20:57.000 --> 00:21:03.000
Tiếp theo, chúng tôi sẽ thêm Chế độ xem thực tế để chúng tôi có thể hiển thị găng tay trong Không gian của mình.

00:21:03.000 --> 00:21:08.000
Sau đó, chúng tôi sẽ tạo một thực thể gốc trong RealityView của mình để thêm các thực thể vào để chúng cũng có thể được hiển thị.

00:21:08.000 --> 00:21:14.000
Sau đó, chúng tôi sẽ tải một tài sản vào một thực thể và thêm nó như một con của gốc của chúng tôi.

00:21:14.000 --> 00:21:24.000
Để đặt chính xác các thực thể, chúng tôi sẽ cần sử dụng ARKit và API theo dõi tay của nó, và chúng tôi cũng sẽ cần khởi động hệ thống theo dõi tay.

00:21:24.000 --> 00:21:29.000
Bước tiếp theo của chúng tôi là đảm bảo tài sản được neo chính xác vào tay chúng tôi.

00:21:29.000 --> 00:21:32.000
Chúng ta sẽ cần kiểm tra các bản cập nhật neo theo dõi bằng tay.

00:21:32.000 --> 00:21:37.000
Và tiếp theo, kiểm tra tính chirality của bàn tay.

00:21:37.000 --> 00:21:43.000
Sau đó, chúng tôi sẽ đảm bảo rằng sự biến đổi của tài sản tay giống như các mỏ neo.

00:21:43.000 --> 00:21:49.000
Trong ví dụ này, chúng tôi cũng đảm bảo rằng tài sản của chúng tôi có cùng tên chung như ARKit cung cấp.

00:21:49.000 --> 00:21:57.000
Bằng cách này, chúng ta có thể lập bản đồ tên khớp bộ xương neo một cách chính xác và thực thể găng tay sẽ tự động được neo cho chúng ta.

00:21:57.000 --> 00:22:03.000
Vì vậy, hãy quay lại nơi Không gian của chúng ta được xác định và đảm bảo bao gồm chế độ xem SpaceGloves.

00:22:03.000 --> 00:22:05.000
Đó là tất cả những gì chúng ta cần cho bàn tay ảo.

00:22:05.000 --> 00:22:12.000
Để biết thêm tùy chỉnh ARKit và chi tiết chuyên sâu, hãy xem "Tiến hóa ứng dụng ARKit của bạn để có trải nghiệm không gian."

00:22:12.000 --> 00:22:17.000
Bây giờ hãy thử những tùy chỉnh này trên thiết bị.

00:22:17.000 --> 00:22:23.000
Trải nghiệm Thế giới bắt đầu lại và Không gian sẽ mở cửa trở lại theo phong cách đắm chìm mặc định.

00:22:23.000 --> 00:22:29.000
Bằng cách sử dụng cử chỉ phóng đại trên trái đất, ứng dụng sẽ chuyển sang phong cách tiến bộ.

00:22:29.000 --> 00:22:34.000
Khi Space mở ra, mã sẽ sửa đổi môi trường xung quanh thành tối.

00:22:34.000 --> 00:22:41.000
Bạn khiến bản thân cảm thấy đắm chìm hơn bằng cách sử dụng API Hiệu ứng Xung quanh để làm mờ đường chuyền.

00:22:41.000 --> 00:22:45.000
Nó rất dễ áp dụng và đó là một cách tuyệt vời để tập trung vào trải nghiệm.

00:22:45.000 --> 00:22:51.000
Điều này khá nhập vai ngay bây giờ, nhưng bạn có thể tiến thêm một bước nữa với tùy chỉnh tiếp theo của chúng tôi.

00:22:51.000 --> 00:23:03.000
Như mã trước đây của chúng tôi đã chứng minh, khi bạn chuyển sang ngâm hoàn toàn, bàn tay của bạn sẽ biến mất và găng tay không gian ảo sẽ xuất hiện ở nơi bàn tay của bạn nhờ theo dõi bàn tay.

00:23:03.000 --> 00:23:15.000
Bằng cách sử dụng RealityView với ARKit và cho phép theo dõi bằng tay, bạn có thể phóng vào không gian như một phi hành gia ảo và cảm giác thực sự tuyệt vời.

00:23:15.000 --> 00:23:24.000
Chỉ với một vài cải tiến và tùy chỉnh, chúng tôi đã có thể biến ứng dụng Thế giới của mình thành một trải nghiệm hoàn toàn nhập vai đưa chúng tôi vượt ra ngoài Không gian chia sẻ.

00:23:24.000 --> 00:23:35.000
Và bây giờ tùy thuộc vào bạn để sử dụng API Không gian Nhập vai mới để tạo trải nghiệm dễ dàng, thể hiện chúng với các phong cách khác nhau và sáng tạo với các tùy chỉnh có thể có.

00:23:35.000 --> 00:23:44.000
Đó là một API mạnh mẽ và dễ sử dụng cung cấp cho bạn tất cả các công cụ cần thiết để biến đổi môi trường xung quanh và tạo ra những trải nghiệm mới và nhập vai.

00:23:44.000 --> 00:23:46.000
Cảm ơn bạn đã tham gia cùng chúng tôi.

00:23:46.000 --> 23:59:59.000
♪

