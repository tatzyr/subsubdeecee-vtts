WEBVTT

00:00:00.000 --> 00:00:10.000
♪ ♪

00:00:10.000 --> 00:00:11.000
Richard: Xin chào, tôi là Richard.

00:00:11.000 --> 00:00:19.000
Hôm nay, tôi rất vui được nói chuyện với bạn về một số tính năng mới thú vị trong Biểu đồ Swift: Biểu đồ hình tròn, lựa chọn và cuộn.

00:00:19.000 --> 00:00:21.000
Hãy bắt đầu với biểu đồ hình tròn.

00:00:21.000 --> 00:00:29.000
Swift Charts cung cấp các khối xây dựng có thể kết hợp và tùy chỉnh để bạn tạo tất cả các loại trực quan hóa dữ liệu.

00:00:29.000 --> 00:00:33.000
Ngày nay, điểm mới của gia đình Swift Charts là những biểu đồ hình tròn ngon, đẹp mắt.

00:00:33.000 --> 00:00:39.000
Biểu đồ hình tròn cho thấy tổng giá trị được tạo thành như thế nào bởi các danh mục khác nhau, thông qua các hình dạng đơn giản, quen thuộc.

00:00:39.000 --> 00:00:46.000
Ví dụ, đây là biểu đồ trực quan hóa dữ liệu bán bánh kếp cho xe bán đồ ăn của bạn bè tôi.

00:00:46.000 --> 00:00:53.000
Biểu đồ hình tròn không có trục và chúng rất phù hợp cho các cài đặt thông thường, nơi độ chính xác không quan trọng.

00:00:53.000 --> 00:01:01.000
Với sự hiểu biết rộng rãi về cách nêm tạo nên một vòng tròn đầy đủ, chúng trực quan để hình dung các mối quan hệ một phần với toàn bộ.

00:01:01.000 --> 00:01:06.000
Một lý do quan trọng khiến mọi người thích biểu đồ hình tròn là vì hình dạng tròn, dễ tiếp cận của chúng.

00:01:06.000 --> 00:01:13.000
Bạn có thể tạo biểu đồ hình tròn bằng cách sử dụng cú pháp thành phần dựa trên dấu mà bạn đã quen thuộc.

00:01:13.000 --> 00:01:17.000
Giới thiệu một loại nhãn hiệu mới, SectorMark.

00:01:17.000 --> 00:01:20.000
Một SectorMark đại diện cho một lát trong chiếc bánh.

00:01:20.000 --> 00:01:23.000
Nó được đặt trong không gian cực.

00:01:23.000 --> 00:01:27.000
Không phải cực này, mà là hệ tọa độ cực.

00:01:27.000 --> 00:01:32.000
Kích thước của một lĩnh vực tỷ lệ thuận với giá trị mà nó đại diện.

00:01:32.000 --> 00:01:35.000
Dọc theo bán kính, bạn có thể tùy chỉnh giao diện của một khu vực.

00:01:35.000 --> 00:01:41.000
Nếu tôi tăng bán kính bên trong, biểu đồ hình tròn sẽ trở thành biểu đồ bánh rán.

00:01:41.000 --> 00:01:45.000
Với SectorMark, bạn có thể dễ dàng xây dựng tất cả các loại biểu đồ hình tròn và biểu đồ bánh rán.

00:01:45.000 --> 00:01:48.000
Để tôi chỉ cho bạn một ví dụ.

00:01:48.000 --> 00:01:58.000
Hoạt động kinh doanh xe tải thực phẩm bánh kếp quốc tế của bạn bè chúng tôi đã chứng kiến sự tăng trưởng lớn, hồi sinh trong doanh số bán hàng ngày của họ trong suốt năm qua, bán sáu kiểu bánh kếp.

00:01:58.000 --> 00:02:05.000
Mùa hè này, tôi đã thực hiện một thử thách khác để giúp họ cải thiện ứng dụng bán hàng của mình.

00:02:05.000 --> 00:02:09.000
Tôi bắt đầu với một biểu đồ hình dung các kiểu bánh kếp bán chạy nhất.

00:02:09.000 --> 00:02:13.000
Đối với điều đó, ứng dụng hiện có một biểu đồ thanh xếp chồng đơn giản.

00:02:13.000 --> 00:02:19.000
Nó có một BarMark, với doanh số bán hàng được xếp chồng lên nhau dọc theo kích thước X.

00:02:19.000 --> 00:02:26.000
Vì đó là dữ liệu phân loại, danh mục được phản ánh dưới dạng kiểu tiền cảnh của mỗi thanh xếp chồng lên nhau.

00:02:26.000 --> 00:02:35.000
Biểu đồ này hoàn thành công việc, nhưng hãy biến nó thành biểu đồ hình tròn để tận dụng không gian có sẵn trên màn hình và làm cho dữ liệu nổi bật.

00:02:35.000 --> 00:02:45.000
Tất cả những gì tôi cần làm là chuyển BarMark và đối số x cho SectorMark và góc.

00:02:45.000 --> 00:02:48.000
Thật đơn giản!

00:02:48.000 --> 00:02:53.000
Với SectorMark, tôi sử dụng góc để thể hiện số lượng bán hàng.

00:02:53.000 --> 00:02:58.000
Các giá trị góc bạn cung cấp cho biểu đồ hình tròn được tự động chuẩn hóa thành một vòng tròn đầy đủ.

00:02:58.000 --> 00:03:03.000
Tôi cũng có thể áp dụng một số tùy chỉnh phong cách.

00:03:03.000 --> 00:03:08.000
angularInset có thể được đặt trên một khu vực để tạo khoảng cách giữa các khu vực.

00:03:08.000 --> 00:03:17.000
Ở đây, tôi đặt phần chèn góc cho các khu vực thành 1,5 điểm, vì vậy khoảng cách giữa hai khu vực là gấp đôi phần bên trong, rộng 3 điểm.

00:03:17.000 --> 00:03:22.000
Tôi cũng đặt bán kính góc mang lại cho tôi một lớp vỏ bánh tròn độc đáo.

00:03:22.000 --> 00:03:27.000
Điều đó trông thật tuyệt vời chỉ với một vài dòng mã.

00:03:27.000 --> 00:03:33.000
Để thử một diện mạo khác, hãy biến biểu đồ này thành biểu đồ bánh rán.

00:03:33.000 --> 00:03:37.000
Tôi đặt bán kính bên trong là một tỷ lệ của bán kính đầy đủ của chiếc bánh.

00:03:37.000 --> 00:03:43.000
Đối với tôi, tỷ lệ vàng trông gần như vừa phải, nhưng bạn có thể muốn một độ dày khác cho chiếc bánh rán của mình.

00:03:43.000 --> 00:03:49.000
Trong tất cả các loại bánh kếp đã bán, chúng tôi có một người chiến thắng rõ ràng, cachapa, hiện đang được hiển thị phía trên biểu đồ.

00:03:49.000 --> 00:03:55.000
Nhưng vì biểu đồ bánh rán rỗng ở trung tâm, tôi muốn di chuyển văn bản đến trung tâm của biểu đồ.

00:03:55.000 --> 00:03:58.000
Tôi đặt văn bản vào một biểu đồ Bối cảnh.

00:03:58.000 --> 00:04:05.000
Tôi sử dụng một số phép tính vị trí để đảm bảo văn bản được căn giữa trong lỗ bánh rán.

00:04:05.000 --> 00:04:09.000
Bây giờ đó là một biểu đồ bánh rán trông tiện lợi.

00:04:09.000 --> 00:04:12.000
Vậy đó là biểu đồ hình tròn và biểu đồ bánh rán.

00:04:12.000 --> 00:04:19.000
Chúng là một cách tuyệt vời để tạo ấn tượng với dữ liệu của bạn và chúng hoàn toàn tuyệt đẹp trên màn hình lớn.

00:04:19.000 --> 00:04:24.000
Tiếp theo, tôi muốn đi sâu vào một số tính năng tương tác của biểu đồ, bắt đầu với lựa chọn.

00:04:24.000 --> 00:04:30.000
Bằng cách cho phép tính tương tác trong biểu đồ của bạn, bạn đang dần dần tiết lộ các chi tiết bổ sung.

00:04:30.000 --> 00:04:38.000
Tính tương tác khuyến khích mọi người khám phá dữ liệu một cách tự nhiên bằng cách sử dụng các hình thức đầu vào khác nhau, chẳng hạn như cảm ứng.

00:04:38.000 --> 00:04:46.000
Lựa chọn là một cách trực tiếp để bạn giao tiếp với biểu đồ và các biểu đồ do Apple thiết kế, giống như biểu đồ nhịp tim, là những ví dụ hoàn hảo về điều đó.

00:04:46.000 --> 00:04:52.000
Bằng cách chọn một điểm dọc theo một trục, biểu đồ sẽ tiết lộ thông tin bổ sung.

00:04:52.000 --> 00:04:57.000
Hãy đưa ý tưởng này lên ứng dụng bán bánh kếp.

00:04:57.000 --> 00:05:03.000
Một biểu đồ trong ứng dụng trực quan hóa doanh số trung bình của mỗi ngày trong tuần ở hai thành phố.

00:05:03.000 --> 00:05:14.000
Tôi sẽ cho phép lựa chọn giá trị trên biểu đồ này để hiển thị các con số bán hàng chi tiết thông qua cửa sổ bật lên hiển thị số lượng bánh kếp được bán vào ngày đã chọn.

00:05:14.000 --> 00:05:18.000
Đây là cách biểu đồ được xác định. Mỗi thành phố có một chuỗi dữ liệu.

00:05:18.000 --> 00:05:23.000
Mỗi yếu tố trong sê-ri có một ngày trong tuần và số lượng bán hàng.

00:05:23.000 --> 00:05:26.000
Các dòng sau đó được tạo kiểu theo tên thành phố.

00:05:26.000 --> 00:05:34.000
Bạn có thể đã quen thuộc với công cụ sửa đổi chartOverlay, cho phép bạn phủ lên chế độ xem SwiftUI để ghi lại các cử chỉ.

00:05:34.000 --> 00:05:39.000
Nhưng trong iOS 17, tôi có thể sử dụng công cụ sửa đổi chartXSelection mới.

00:05:39.000 --> 00:05:47.000
Nó xử lý tất cả các nhận dạng cử chỉ cho tôi và lưu trữ giá trị đã chọn vào một ràng buộc.

00:05:47.000 --> 00:05:56.000
Công cụ sửa đổi lựa chọn cung cấp cho tôi giá trị ngày thô dọc theo trục X, vì vậy tôi xác định một thuộc tính được tính toán để khớp nó với một điểm dữ liệu trong biểu đồ đường của mình.

00:05:56.000 --> 00:06:03.000
Hãy mở rộng biểu đồ để hiển thị cửa sổ bật lên khi một giá trị được chọn.

00:06:03.000 --> 00:06:09.000
Khi một giá trị được chọn, tôi thêm một dấu quy tắc dọc làm chỉ báo lựa chọn.

00:06:09.000 --> 00:06:16.000
Tôi đặt chỉ số Z của nó thấp hơn giá trị 0 mặc định để đảm bảo dấu quy tắc ở phía sau dấu dòng.

00:06:16.000 --> 00:06:20.000
Bây giờ hãy tạo một cửa sổ bật lên trên đầu chỉ báo lựa chọn.

00:06:20.000 --> 00:06:25.000
Tôi có thể làm điều này dưới dạng chú thích bằng cách sử dụng chế độ xem SwiftUI tùy chỉnh.

00:06:25.000 --> 00:06:32.000
Chú thích thường được định vị trong biểu đồ, nhưng trong trường hợp này, cửa sổ bật lên vượt ra ngoài giới hạn của biểu đồ.

00:06:32.000 --> 00:06:37.000
Đây là nơi tôi cần một giải pháp tràn cho các chú thích.

00:06:37.000 --> 00:06:44.000
Trên trục X, tôi làm cho nó phù hợp với biểu đồ sao cho cửa sổ bật lên không bao giờ di chuyển qua giới hạn ngang của biểu đồ.

00:06:44.000 --> 00:06:53.000
Trên trục Y, tôi vô hiệu hóa độ phân giải tràn để chú thích có thể ở ngay phía trên biểu đồ.

00:06:53.000 --> 00:06:59.000
Với một ràng buộc lựa chọn và một dấu quy tắc với chú thích, bây giờ tôi có một biểu đồ đường tương tác.

00:06:59.000 --> 00:07:07.000
Biểu đồ Swift cũng hỗ trợ lựa chọn trên macOS, trong đó cử chỉ di chuột là mặc định cho lựa chọn giá trị.

00:07:07.000 --> 00:07:14.000
Bên cạnh lựa chọn giá trị đơn lẻ, một biến thể của công cụ sửa đổi lựa chọn biểu đồ này cho phép bạn chọn một phạm vi.

00:07:14.000 --> 00:07:21.000
Trên iOS, mặc định là cử chỉ chạm hai ngón tay và trên macOS, đó là cử chỉ kéo.

00:07:21.000 --> 00:07:32.000
Swift Charts cũng cho phép bạn cung cấp một cử chỉ tùy chỉnh để lựa chọn, với ChartProxy giúp bạn chọn một giá trị dựa trên các vị trí cử chỉ.

00:07:32.000 --> 00:07:39.000
Ngoài các biểu đồ trong tọa độ X và Y, việc lựa chọn giá trị biểu đồ hoạt động liền mạch với biểu đồ hình tròn và biểu đồ bánh rán.

00:07:39.000 --> 00:07:43.000
Khai thác và làm nổi bật các lĩnh vực rất thú vị.

00:07:43.000 --> 00:07:47.000
Vì vậy, lựa chọn là tất cả về việc tiết lộ thông tin bổ sung trong biểu đồ của bạn.

00:07:47.000 --> 00:07:51.000
Một phần quan trọng khác của tính tương tác là điều hướng dữ liệu.

00:07:51.000 --> 00:07:54.000
Hãy nói về việc cuộn.

00:07:54.000 --> 00:08:00.000
Tôi muốn tạo một biểu đồ trực quan hóa doanh số bán bánh kếp hàng ngày trong cả năm.

00:08:00.000 --> 00:08:06.000
Lắp tất cả 365 ngày trên màn hình sẽ không thực tế, vì vậy nó phải có thể cuộn được.

00:08:06.000 --> 00:08:10.000
Để cho phép cuộn, tôi chỉ cần gọi công cụ sửa đổi chartScrollableAxes.

00:08:10.000 --> 00:08:17.000
Với chartXVisibleDomain, tôi đặt một khoảng thời gian hiển thị là 30 ngày.

00:08:17.000 --> 00:08:26.000
Để có thể hiển thị tổng doanh số bán bánh kếp trong miền hiển thị hiện tại, tôi sử dụng chartScrollPosition để lưu trữ ngày hiện tại thành một ràng buộc.

00:08:26.000 --> 00:08:31.000
Bây giờ tôi chỉ có thể lấy ngón tay của mình và cuộn.

00:08:31.000 --> 00:08:38.000
Tôi không chỉ có thể cuộn cốt truyện, nội dung trục cuộn với nó và nó mịn như bơ.

00:08:38.000 --> 00:08:41.000
Cuộn có thể được tùy chỉnh theo một vài cách khác nhau.

00:08:41.000 --> 00:08:45.000
Ví dụ, tôi muốn cuộn để luôn chụp vào một đơn vị ngày.

00:08:45.000 --> 00:08:49.000
Điều này đưa chúng ta đến các hành vi cuộn.

00:08:49.000 --> 00:08:58.000
ScrollTargetBehavior là một bổ sung mới cho SwiftUI và Swift Charts cho phép bạn căn chỉnh nội dung chế độ xem cuộn với các giá trị.

00:08:58.000 --> 00:09:04.000
Đối với hành vi chụp nhanh mà tôi muốn, tôi đặt nó để phù hợp với giờ đầu tiên của một ngày.

00:09:04.000 --> 00:09:10.000
majorAlignment tùy chỉnh nó thêm một bước nữa bằng cách xác định hành vi vuốt.

00:09:10.000 --> 00:09:19.000
Ở đây, tôi đặt nó vào ngày đầu tiên của tháng, để khi tôi lướt qua biểu đồ bằng cách vuốt, tôi sẽ luôn truy cập vào ngày đầu tiên của mỗi tháng.

00:09:19.000 --> 00:09:25.000
Các biểu đồ có thể cuộn được xây dựng dựa trên một số cải tiến mới nhất đối với chế độ xem cuộn trong SwiftUI.

00:09:25.000 --> 00:09:29.000
Để biết thêm thông tin, hãy chắc chắn kiểm tra Beyond Scroll Views.

00:09:29.000 --> 00:09:34.000
Biểu đồ Swift cung cấp cho bạn vô số khả năng trực quan hóa dữ liệu.

00:09:34.000 --> 00:09:43.000
Ngoài các biểu đồ trong và tọa độ X và Y, các biểu đồ hình tròn hiện là một phần của họ API để tạo các biểu đồ do Apple thiết kế.

00:09:43.000 --> 00:09:46.000
Biểu đồ hình tròn là những hình ảnh trực quan đơn giản nhưng mạnh mẽ.

00:09:46.000 --> 00:09:50.000
Chúng hoạt động tốt nhất khi đại diện cho các mối quan hệ dữ liệu một phần toàn bộ.

00:09:50.000 --> 00:10:00.000
Các tính năng tương tác như lựa chọn và cuộn cho phép một chiều hướng hoàn toàn mới trong trực quan hóa dữ liệu của bạn, đặt người dùng của bạn ở ghế lái khi họ khám phá dữ liệu.

00:10:00.000 --> 00:10:04.000
Thưởng thức các biểu đồ bánh nướng và bánh rán.

00:10:04.000 --> 23:59:59.000
♪ ♪

