WEBVTT

00:00:00.000 --> 00:00:10.000
♪ ♪

00:00:10.000 --> 00:00:12.000
Bến du thuyền: Xin chào và chào mừng đến với WWDC.

00:00:12.000 --> 00:00:16.000
Tên tôi là Marina, và sau đó, tôi sẽ được tham gia bởi đồng nghiệp Matt của tôi.

00:00:16.000 --> 00:00:22.000
Chúng tôi đến từ nhóm bản địa hóa tại Apple, và hôm nay, chúng tôi rất vui được giới thiệu cho bạn Danh mục Chuỗi.

00:00:22.000 --> 00:00:26.000
Tại Apple, chúng tôi tin tưởng mạnh mẽ vào khả năng tiếp cận và tính toàn diện.

00:00:26.000 --> 00:00:32.000
Bản địa hóa ứng dụng của bạn là một cách để đảm bảo nội dung của bạn tiếp cận nhiều người hơn trên khắp thế giới.

00:00:32.000 --> 00:00:43.000
Trên thực tế, ngày nay chúng tôi vận chuyển hệ điều hành của mình bằng hơn 40 ngôn ngữ và liên tục mở rộng con số này để mọi người có thể sử dụng sản phẩm của chúng tôi bằng ngôn ngữ mẹ đẻ của họ.

00:00:43.000 --> 00:00:57.000
Nhóm của chúng tôi cam kết cung cấp các công cụ trong Xcode để bản địa hóa dễ dàng nhất có thể và hôm nay chúng tôi rất vui mừng được giới thiệu những cải tiến và quy trình làm việc mới để quản lý nội dung được bản địa hóa trong dự án của bạn.

00:00:57.000 --> 00:01:04.000
Trước đây, nếu bạn muốn bản địa hóa ứng dụng của mình, bạn phải duy trì các chuỗi và tệp stringsdict.

00:01:04.000 --> 00:01:11.000
Điều này yêu cầu bạn phải giữ tất cả các chuỗi đồng bộ hóa với mã của mình theo cách thủ công và đôi khi, bạn có thể bỏ lỡ việc bản địa hóa nội dung.

00:01:11.000 --> 00:01:15.000
Điều này có thể dẫn đến các chuỗi không được bản địa hóa cho người dùng của bạn.

00:01:15.000 --> 00:01:23.000
Các dự án của chúng tôi đã dựa vào quy trình này trong nhiều năm, nhưng trong Xcode 15, chúng tôi đang giới thiệu Danh mục Chuỗi.

00:01:23.000 --> 00:01:29.000
Theo thời gian, định dạng mới này sẽ thay thế cả chuỗi và tệp stringsdict trong Xcode.

00:01:29.000 --> 00:01:38.000
Danh mục chuỗi giúp bạn dễ dàng quản lý tất cả các chuỗi của mình ở một nơi và tự tin rằng nội dung của bạn được bản địa hóa hoàn toàn trước khi vận chuyển.

00:01:38.000 --> 00:01:41.000
Hãy xem nó hoạt động như thế nào.

00:01:41.000 --> 00:01:46.000
Ở đây trong mã, tôi đang sử dụng các điều khiển SwiftUI để xây dựng lượt xem của mình và điền nội dung.

00:01:46.000 --> 00:01:50.000
Và đây là một Danh mục Chuỗi.

00:01:50.000 --> 00:01:55.000
Tất cả các chuỗi mà chúng tôi vừa thấy trong mã Swift của tôi đã được Xcode tự động trích xuất.

00:01:55.000 --> 00:01:58.000
Tôi không cần phải tự thêm chúng.

00:01:58.000 --> 00:02:05.000
Tôi muốn đảm bảo rằng bạn bè của tôi ở Brazil sẽ có thể sử dụng ứng dụng này, vì vậy tôi đã dịch nó sang tiếng Bồ Đào Nha.

00:02:05.000 --> 00:02:10.000
Tôi có khung cảnh này, trong đó tôi trưng bày những chú chim gần đây đã đến thăm sân sau này.

00:02:10.000 --> 00:02:20.000
Ở đây, tôi muốn đảm bảo rằng chúng tôi sẽ hiển thị số lượng chim thực tế đã đến thăm sân sau, vì vậy hãy để tôi thêm một biến để đại diện cho con số này.

00:02:20.000 --> 00:02:23.000
Và đây là bản xem trước.

00:02:23.000 --> 00:02:25.000
Bây giờ chúng ta có thể thấy số lượng chim.

00:02:25.000 --> 00:02:34.000
Tôi sẽ xây dựng dự án và quay lại danh mục.

00:02:34.000 --> 00:02:37.000
Điều đó thật dễ dàng. Đây là chuỗi mới.

00:02:37.000 --> 00:02:41.000
Và chúng ta có thể thấy rằng tiến độ dịch thuật của tôi đã giảm xuống.

00:02:41.000 --> 00:02:47.000
Danh mục chuỗi cũng đi kèm với khả năng chỉnh sửa mạnh mẽ cho phép các hoạt động phức tạp được thực hiện dễ dàng.

00:02:47.000 --> 00:02:58.000
Ví dụ, chuỗi này có từ nhấn, nhưng đây là một ứng dụng đa nền tảng, vì vậy đối với các thiết bị Mac, tôi muốn đảm bảo rằng chúng tôi sử dụng đúng từ.

00:02:58.000 --> 00:03:05.000
Vì vậy, hãy để tôi quay lại chuỗi tiếng Anh của mình, tìm chuỗi "chạm để tìm hiểu thêm".

00:03:05.000 --> 00:03:07.000
Đây rồi.

00:03:07.000 --> 00:03:09.000
Tôi sẽ nhấp chuột phải vào nó.

00:03:09.000 --> 00:03:14.000
Chọn thay đổi theo thiết bị. Chọn Mac.

00:03:14.000 --> 00:03:25.000
Và điều chỉnh văn bản một cách chính xác.

00:03:25.000 --> 00:03:26.000
Và thế là xong.

00:03:26.000 --> 00:03:35.000
Bây giờ nếu tôi quay lại chế độ xem của mình và thay đổi điểm đến chạy của mình thành Mac...

00:03:35.000 --> 00:03:39.000
Chúng ta có thể sử dụng các bản xem trước để kiểm tra công việc của tôi.

00:03:39.000 --> 00:03:41.000
Điều đó thật dễ dàng.

00:03:41.000 --> 00:03:44.000
Có rất nhiều thứ bạn có thể làm với String Catalogs.

00:03:44.000 --> 00:03:48.000
Chúng ta hãy xem xét kỹ hơn cách mọi thứ hoạt động.

00:03:48.000 --> 00:03:59.000
Chúng ta sẽ bắt đầu với những nơi mà các chuỗi có thể được trích xuất, khám phá trình chỉnh sửa gốc của Xcode để tương tác với Danh mục chuỗi và xem lại quy trình xuất bản địa hóa.

00:03:59.000 --> 00:04:07.000
Sau đó, chúng ta sẽ xem xét cách Danh mục Chuỗi được xây dựng và cách bạn có thể áp dụng chúng trong các dự án hiện có của mình.

00:04:07.000 --> 00:04:13.000
Để bắt đầu, tôi sẽ giao nó cho Matt để thảo luận về các chuỗi có thể định vị và chúng đến từ đâu.

00:04:13.000 --> 00:04:14.000
Matt: Cảm ơn Marina!

00:04:14.000 --> 00:04:26.000
Chuỗi có thể bản địa hóa chỉ đơn giản là một chuỗi văn bản sẽ được trình bày cho người dùng trong thời gian chạy và do đó cần được dịch sang tất cả các ngôn ngữ mà ứng dụng của bạn hỗ trợ.

00:04:26.000 --> 00:04:36.000
Các chuỗi có thể bản địa hóa có bốn thành phần: Khóa là một mã định danh duy nhất cho chuỗi, thường tương đương với chính chuỗi đó.

00:04:36.000 --> 00:04:41.000
Đây là những gì sẽ được sử dụng trong thời gian chạy để tra cứu giá trị thích hợp để hiển thị.

00:04:41.000 --> 00:04:51.000
Giá trị mặc định có thể được chỉ định rõ ràng nếu muốn, nhưng nếu không sẽ quay trở lại khóa trong bản địa hóa mặc định.

00:04:51.000 --> 00:05:00.000
Xcode 14.3 đã giới thiệu khả năng thay đổi bản địa hóa mặc định của dự án của bạn bằng Trình chỉnh sửa dự án.

00:05:00.000 --> 00:05:05.000
Điều này rất hữu ích nếu các chuỗi trong mã nguồn của bạn không bằng tiếng Anh.

00:05:05.000 --> 00:05:14.000
Tiếp theo, nhận xét chuỗi cung cấp một cách để cung cấp ngữ cảnh trình dịch về vị trí và cách chuỗi đang được sử dụng trong giao diện người dùng.

00:05:14.000 --> 00:05:21.000
Chúng tôi khuyên bạn nên thêm nhận xét vào chuỗi để giúp giải quyết sự mơ hồ cho người dịch.

00:05:21.000 --> 00:05:31.000
Cuối cùng, mỗi chuỗi có thể định vị thuộc về một bảng chuỗi, tương ứng với một hoặc nhiều tệp trong đó các bản dịch sẽ được lưu trữ.

00:05:31.000 --> 00:05:41.000
Theo mặc định, các chuỗi từ mã được đặt trong bảng "Có thể định vị", nhưng điều đó có thể được tùy chỉnh nếu bạn muốn sắp xếp các chuỗi của mình theo cách khác.

00:05:41.000 --> 00:05:44.000
Chúng ta hãy xem xét kỹ hơn các Bảng Chuỗi.

00:05:44.000 --> 00:05:58.000
Đối với một ứng dụng hiện có sử dụng các tệp .strings, một bảng chuỗi duy nhất thực sự chứa các tệp .strings và có thể là .stringsdict trong thư mục lproj của mỗi ngôn ngữ được hỗ trợ.

00:05:58.000 --> 00:06:03.000
Tất cả các tệp được hiển thị ở đây tạo thành bảng chuỗi "Có thể định vị".

00:06:03.000 --> 00:06:11.000
Mặt khác, Danh mục Chuỗi chứa toàn bộ bảng chuỗi trong một tệp duy nhất.

00:06:11.000 --> 00:06:19.000
Điều này bao gồm tất cả các bản dịch và siêu dữ liệu bổ sung cho mỗi chuỗi có thể định vị trong bảng đó.

00:06:19.000 --> 00:06:27.000
Nếu bạn muốn sắp xếp các chuỗi của mình thành nhiều bảng chuỗi, bạn có thể tạo nhiều Danh mục chuỗi.

00:06:27.000 --> 00:06:37.000
Mỗi Danh mục chứa các khóa chuỗi thuộc bảng đó, cùng với các bản dịch của chúng bằng mọi ngôn ngữ mà ứng dụng của bạn hỗ trợ.

00:06:37.000 --> 00:06:45.000
Mặc dù các khóa luôn là duy nhất trong bảng chứa của chúng, nhưng không có yêu cầu các khóa phải là duy nhất trên các bảng.

00:06:45.000 --> 00:06:56.000
Ví dụ, "Chào mừng đến với WWDC!" Chuỗi có mặt trong cả hai tệp ở đây, vì nó có thể được hiển thị trong các ngữ cảnh khác nhau trong ứng dụng.

00:06:56.000 --> 00:07:08.000
Như Marina đã đề cập trước đó, Xcode 15 sẽ tự động điền vào Danh mục chuỗi của bạn và nỗ lực hết sức để giữ chúng đồng bộ với các chuỗi có thể định vị được tìm thấy trong dự án của bạn.

00:07:08.000 --> 00:07:13.000
Nhưng Xcode tìm thấy những chuỗi có thể định vị này ở đâu?

00:07:13.000 --> 00:07:18.000
Chà, có rất nhiều nơi mà các chuỗi có thể định vị có thể tồn tại.

00:07:18.000 --> 00:07:27.000
Xcode có thể tìm thấy các chuỗi trong mã nguồn, các tệp xây dựng giao diện và thậm chí cả danh sách thông tin để đưa vào Danh mục chuỗi của bạn.

00:07:27.000 --> 00:07:32.000
Nếu bạn đã bản địa hóa ứng dụng của mình trong một thời gian, nhiều ứng dụng trong số này sẽ cảm thấy quen thuộc.

00:07:32.000 --> 00:07:36.000
Chúng ta hãy xem xét kỹ hơn một vài trong số chúng.

00:07:36.000 --> 00:07:38.000
Chúng ta sẽ bắt đầu với SwiftUI.

00:07:38.000 --> 00:07:49.000
SwiftUI làm cho bản địa hóa liền mạch bởi vì bất cứ khi nào bạn chỉ định một chuỗi theo nghĩa đen trong chế độ xem, chuỗi đó sẽ tự động được coi là có thể định vị được.

00:07:49.000 --> 00:08:01.000
Tất cả các chuỗi này được coi là có thể định vị và sẽ được trích xuất vào Danh mục Chuỗi có tên Localizable.xcstrings nếu nó tồn tại.

00:08:01.000 --> 00:08:07.000
Điều này hoạt động cho bất kỳ tham số nào chấp nhận một loại LocalizedStringKey.

00:08:07.000 --> 00:08:16.000
Chuỗi SwiftUI có thể sử dụng chế độ xem văn bản để chỉ định nhận xét, tên bảng tùy chỉnh hoặc gói để tra cứu chuỗi.

00:08:16.000 --> 00:08:23.000
Bạn cũng có thể xác định các chế độ xem tùy chỉnh của riêng mình chấp nhận các chuỗi được coi là có thể định vị cho khách hàng.

00:08:23.000 --> 00:08:28.000
Lưu ý rằng chúng tôi đang sử dụng LocalizedStringResource làm loại Chuỗi ở đây.

00:08:28.000 --> 00:08:38.000
Khi Xcode thấy một chuỗi ký tự được sử dụng để khởi tạo LocalizedStringResource tại trang web cuộc gọi, nó sẽ biết rằng chuỗi đó có thể định vị được.

00:08:38.000 --> 00:08:46.000
LocalizedStringResource là loại được đề xuất để biểu diễn và truyền xung quanh các chuỗi có thể định vị.

00:08:46.000 --> 00:08:58.000
Nó không chỉ hỗ trợ khởi tạo bằng cách sử dụng chuỗi theo nghĩa đen, mà còn có thể được cung cấp với nhận xét, tên bảng hoặc thậm chí là giá trị mặc định khác với khóa chuỗi.

00:08:58.000 --> 00:09:03.000
Bây giờ chúng ta hãy chuyển sự chú ý của chúng ta sang mã Swift nói chung hơn.

00:09:03.000 --> 00:09:08.000
Ở đây tôi có một số mã mô hình bao gồm các chuỗi sẽ được trình bày sau.

00:09:08.000 --> 00:09:18.000
Tôi đang sử dụng bản địa hóa: trình khởi tạo trên Chuỗi và AttributedString để chỉ định các chuỗi mà tôi biết sẽ được hiển thị cho người dùng trong thời gian chạy.

00:09:18.000 --> 00:09:25.000
Bạn cũng có thể sử dụng LocalizedStringResource trực tiếp ở bất kỳ đâu bạn đã nhập Foundation.

00:09:25.000 --> 00:09:33.000
Danh mục chuỗi sử dụng công nghệ mạnh mẽ trong trình biên dịch Swift để trích xuất các chuỗi Swift có thể định vị.

00:09:33.000 --> 00:09:39.000
Vì lý do này, hãy đảm bảo bật cài đặt xây dựng Sử dụng Trình biên dịch để Trích xuất Chuỗi Swift.

00:09:39.000 --> 00:09:44.000
Nhưng String Catalogs có thể trích xuất các chuỗi không chỉ từ mã Swift.

00:09:44.000 --> 00:09:49.000
Đây là một ví dụ về một số mã Objective-C sử dụng NSLocalizedString.

00:09:49.000 --> 00:10:03.000
Bất kỳ chuỗi ký tự nào được nhúng trong macro NSLocalizedString đều tự động được coi là có thể định vị được và thậm chí bạn có thể xác định các macro tương tự của riêng mình cũng có thể được phát hiện.

00:10:03.000 --> 00:10:10.000
Các khái niệm tương tự cũng có thể được sử dụng trong mã C bằng cách sử dụng CFCopyLocalizedString.

00:10:10.000 --> 00:10:20.000
Để chỉ định bất kỳ macro chuỗi được bản địa hóa tùy chỉnh nào trong C hoặc Objective-C, hãy sử dụng cài đặt xây dựng Tên Macro Chuỗi được bản địa hóa.

00:10:20.000 --> 00:10:27.000
Bây giờ chúng ta đã thấy cách thức hoạt động của mã nguồn, hãy khám phá các chuỗi có thể định vị trong Trình tạo giao diện.

00:10:27.000 --> 00:10:32.000
Các chuỗi được chỉ định trong Trình tạo giao diện được tự động coi là có thể định vị được.

00:10:32.000 --> 00:10:42.000
Sử dụng trình kiểm tra, bạn cũng có thể chỉ định nhận xét cho các chuỗi này để cung cấp cho người dịch ngữ cảnh về nơi nó sẽ xuất hiện.

00:10:42.000 --> 00:10:51.000
Khi một Danh mục Chuỗi được ghép nối với Bảng phân cảnh hoặc xib, tất cả các chuỗi có thể định vị từ trình tạo giao diện sẽ có mặt trong Danh mục.

00:10:51.000 --> 00:10:58.000
Cũng giống như mã nguồn, Xcode cập nhật Danh mục mỗi khi dự án được xây dựng.

00:10:58.000 --> 00:11:02.000
Quá trình này hoạt động tương tự đối với các tệp danh sách thông tin.

00:11:02.000 --> 00:11:11.000
Đối với điều này, chỉ cần thêm tệp InfoPlist.xcstrings vào dự án của bạn và thêm nó vào mục tiêu mong muốn.

00:11:11.000 --> 00:11:21.000
Mỗi khi bạn xây dựng, Xcode sẽ thêm một bộ khóa plist thông tin có thể định vị đã biết vào Danh mục và nhiều khóa khác có thể được thêm thủ công nếu cần.

00:11:21.000 --> 00:11:28.000
Cuối cùng, Xcode bao gồm một số cải tiến lớn trong năm nay đối với cách các cụm từ Phím tắt Ứng dụng được bản địa hóa.

00:11:28.000 --> 00:11:35.000
Để tìm hiểu thêm, hãy chắc chắn xem bài nói chuyện năm nay, "Hãy làm nổi bật ứng dụng của bạn với các phím tắt ứng dụng."

00:11:35.000 --> 00:11:45.000
Bây giờ chúng ta đã tham quan các địa điểm khác nhau Xcode có thể tìm thấy các chuỗi có thể định vị được, hãy nói thêm một chút về cách các chuỗi này tìm đường đến Danh mục Chuỗi.

00:11:45.000 --> 00:11:52.000
Mỗi khi bạn xây dựng, Xcode sẽ khám phá các chuỗi có thể định vị trong sơ đồ và nền tảng hiện tại.

00:11:52.000 --> 00:12:02.000
Các chuỗi từ mã nguồn đóng vai trò là nguồn sự thật cho các chuỗi có thể định vị, trong khi các chuỗi nguồn trong Danh mục chuỗi được giữ đồng bộ.

00:12:02.000 --> 00:12:07.000
Khi các chuỗi mới được phát hiện trong mã, Xcode sẽ thêm chúng vào Danh mục Chuỗi của bạn.

00:12:07.000 --> 00:12:12.000
Tại thời điểm này, chuỗi đã sẵn sàng để được dịch.

00:12:12.000 --> 00:12:18.000
Như chúng ta đã thảo luận trước đó, các chuỗi có thể định vị có thể có giá trị nguồn mặc định được chỉ định trong mã.

00:12:18.000 --> 00:12:24.000
Trong trường hợp đó, Danh mục sẽ được cập nhật với bất kỳ giá trị mới nào từ mã.

00:12:24.000 --> 00:12:29.000
Xcode cũng có thể khám phá khi bạn đã xóa một chuỗi khỏi mã.

00:12:29.000 --> 00:12:34.000
Nếu chuỗi chưa được dịch, Xcode sẽ xóa nó cho bạn.

00:12:34.000 --> 00:12:44.000
Tuy nhiên, nếu bạn đã cung cấp bản dịch cho một chuỗi và sau đó xóa nó, thay vào đó Xcode sẽ để nó yên và đánh dấu nó là Cũ.

00:12:44.000 --> 00:12:48.000
Điều này chỉ ra rằng chuỗi không còn có thể được tìm thấy trong mã.

00:12:48.000 --> 00:12:55.000
Bạn có thể xóa chuỗi và bản dịch của nó nếu bạn có thể xác nhận rằng nó không còn cần thiết nữa.

00:12:55.000 --> 00:13:03.000
Ngoài ra, bạn có thể sử dụng trình kiểm tra để nói với Xcode rằng bạn muốn quản lý chuỗi cụ thể đó theo cách thủ công.

00:13:03.000 --> 00:13:11.000
Các chuỗi được quản lý thủ công sẽ không bao giờ được cập nhật hoặc xóa bởi Xcode khi đồng bộ hóa các bản địa hóa sau khi xây dựng.

00:13:11.000 --> 00:13:19.000
Điều này có thể hữu ích cho các chuỗi có khóa được xây dựng động trong mã hoặc có thể bắt nguồn từ cơ sở dữ liệu.

00:13:19.000 --> 00:13:30.000
Bây giờ chúng ta đã trích xuất tất cả các chuỗi của mình thành Danh mục Chuỗi, chúng ta hãy xem xét kỹ hơn cách Trình chỉnh sửa Danh mục Chuỗi giúp dễ dàng quản lý các bản dịch.

00:13:30.000 --> 00:13:39.000
Danh mục chuỗi đi kèm với hỗ trợ hạng nhất để theo dõi trạng thái và tiến trình dịch khi bạn bản địa hóa ứng dụng của mình.

00:13:39.000 --> 00:13:45.000
Chúng ta đã nói về cách Xcode sẽ hiển thị các chuỗi là Cũ khi chúng không còn được tìm thấy trong mã.

00:13:45.000 --> 00:13:49.000
Nhưng có ba trạng thái bản địa hóa khác mà bạn nên biết.

00:13:49.000 --> 00:13:55.000
"Mới" chỉ ra rằng một chuỗi chưa được dịch sang ngôn ngữ đã chọn.

00:13:55.000 --> 00:13:58.000
Bạn sẽ thấy điều này sau khi thêm một chuỗi mới vào mã.

00:13:58.000 --> 00:14:07.000
"Đánh giá nhu cầu" chỉ ra rằng chuỗi yêu cầu sự chú ý của người bản địa hóa vì giá trị có thể cần được thay đổi.

00:14:07.000 --> 00:14:13.000
Nếu bạn muốn sử dụng giá trị hiện tại, chỉ cần chọn "Đánh dấu là Đã đánh giá" từ trình đơn ngữ cảnh.

00:14:13.000 --> 00:14:18.000
Bạn cũng có thể sử dụng menu này để đánh dấu một chuỗi để trình bản địa hóa xem xét.

00:14:18.000 --> 00:14:23.000
Điều này có thể hữu ích nếu bạn nhận được báo cáo lỗi về bản dịch bị lỗi.

00:14:23.000 --> 00:14:29.000
Cuối cùng, các chuỗi đã được dịch sang ngôn ngữ đã chọn sẽ hiển thị dấu kiểm màu xanh lá cây.

00:14:29.000 --> 00:14:33.000
Điều này chỉ ra rằng không cần thêm hành động nào nữa.

00:14:33.000 --> 00:14:39.000
Là một nhà phát triển, một thách thức nội địa hóa phổ biến khác là số nhiều.

00:14:39.000 --> 00:14:47.000
Ví dụ, đây là chuỗi Marina trước đây đã được thêm vào Backyard Birds, hiển thị số lượng khách truy cập gần đây.

00:14:47.000 --> 00:14:55.000
Trong tiếng Anh, chúng ta sẽ cần thay đổi ngữ pháp của chuỗi tùy thuộc vào việc số đó là một hay một số số khác.

00:14:55.000 --> 00:15:01.000
Tuy nhiên, trong một ngôn ngữ như tiếng Ukraina, có thể có nhiều trường hợp hơn để xem xét.

00:15:01.000 --> 00:15:08.000
Để giải quyết vấn đề này, chúng ta cần một cách để thay đổi chuỗi dựa trên giá trị của số được truyền.

00:15:08.000 --> 00:15:15.000
Trước đây, việc giải quyết vấn đề này cho một số lượng lớn ngôn ngữ sẽ yêu cầu một tệp stringsdict.

00:15:15.000 --> 00:15:25.000
Định dạng plist này có thể khó sử dụng một cách chính xác và tạo ra một rào cản khá cao cho một nhiệm vụ đơn giản, như số nhiều một chuỗi.

00:15:25.000 --> 00:15:32.000
Bây giờ Trình chỉnh sửa danh mục chuỗi bao gồm hỗ trợ tích hợp cho quy trình làm việc biến đổi chuỗi.

00:15:32.000 --> 00:15:39.000
Bằng cách tiết lộ trình đơn ngữ cảnh trên một chuỗi, tôi được trình bày với các tùy chọn để thay đổi chuỗi.

00:15:39.000 --> 00:15:46.000
Và khi tôi thay đổi chuỗi trong bản địa hóa mặc định, các bản dịch cũng sẽ tự động thay đổi.

00:15:46.000 --> 00:15:53.000
Đây là một ví dụ phức tạp hơn về một chuỗi cần sử dụng biến thể số nhiều với hai biến.

00:15:53.000 --> 00:15:57.000
Trong thời gian chạy, chúng ta có thể kết thúc với một vài kịch bản khác nhau.

00:15:57.000 --> 00:16:10.000
Chúng ta có thể có một con chim duy nhất ở một sân sau, nhiều con chim ở một sân sau duy nhất, nhiều con chim ở nhiều sân sau hoặc một con chim duy nhất mặc dù có nhiều sân sau.

00:16:10.000 --> 00:16:18.000
Trong mỗi trường hợp, chuỗi xung quanh các con số cần được dịch hơi khác một chút để duy trì sự phù hợp về ngữ pháp.

00:16:18.000 --> 00:16:22.000
Trình chỉnh sửa Danh mục Chuỗi cũng giúp bạn dễ dàng thực hiện việc này.

00:16:22.000 --> 00:16:25.000
Đây là nơi mà sự thay thế xuất hiện.

00:16:25.000 --> 00:16:30.000
Ở đây, chúng tôi đã thay đổi cả hai đối số trong chuỗi theo số nhiều.

00:16:30.000 --> 00:16:37.000
Mỗi sự thay thế, có tiền tố là dấu @, lưu trữ một từ điển các trường hợp số nhiều và giá trị của chúng.

00:16:37.000 --> 00:16:48.000
Ví dụ này bao gồm thay thế "chim" để định dạng số lượng chim và thay thế "yard" để định dạng số lượng sân sau.

00:16:48.000 --> 00:16:59.000
Trong thời gian chạy, chuỗi cấp cao nhất được hiển thị ở đây sẽ được sử dụng, thay thế trong trường hợp số nhiều thích hợp từ mỗi thay thế được tham chiếu.

00:16:59.000 --> 00:17:10.000
Vì vậy, trong ví dụ này, bất kỳ chuỗi nào trong số này đều có thể được tạo ra, tạo ra sự hoán vị hiệu quả của các trường hợp số nhiều có thể có cho mỗi lần thay thế.

00:17:10.000 --> 00:17:18.000
Sự thay thế thường tương ứng với các đối số được truyền vào chuỗi, thường sử dụng phép nội suy chuỗi.

00:17:18.000 --> 00:17:29.000
Trong trình kiểm tra, Xcode hiển thị thông tin về vị trí của đối số để sử dụng cho số, cũng như chỉ định định dạng kiểu C của loại được truyền.

00:17:29.000 --> 00:17:38.000
Sự thay thế yard được hiển thị ở đây tương ứng với đối số hai vì nó là phép nội suy chuỗi thứ hai được sử dụng trong mã nguồn.

00:17:38.000 --> 00:17:48.000
Giá trị của backyards.count sau đó sẽ được sử dụng để xác định xem cuối cùng chúng ta có sử dụng trường hợp này hay trường hợp khác trong sự thay thế này hay không.

00:17:48.000 --> 00:17:57.000
Bằng cách này, String Catalogs cung cấp một giao diện người dùng đơn giản cho các chuỗi khác nhau, trong khi vẫn hỗ trợ các trường hợp sử dụng nâng cao như thế này.

00:17:57.000 --> 00:18:02.000
Bây giờ hãy quay lại Marina để đưa những kỹ thuật này vào hoạt động.

00:18:02.000 --> 00:18:03.000
Marina: Cảm ơn, Matt.

00:18:03.000 --> 00:18:09.000
Quay trở lại ứng dụng Backyard Birds, Trình chỉnh sửa danh mục chuỗi giúp tôi dễ dàng tìm thấy các chuỗi mà tôi đang tìm kiếm.

00:18:09.000 --> 00:18:20.000
Tôi có thể lọc để tìm tất cả các chuỗi chứa từ "học" hoặc sắp xếp theo trạng thái để xem các trạng thái quan trọng nhất ở trên cùng.

00:18:20.000 --> 00:18:26.000
Như Matt đã chỉ ra, có thể có một số chuỗi không có trong mã nhưng sẽ được hiển thị trong ứng dụng.

00:18:26.000 --> 00:18:33.000
Ví dụ, tôi biết rằng ứng dụng của tôi có thể hiển thị một loại chim đặc biệt đến từ đám mây cho người đăng ký ứng dụng.

00:18:33.000 --> 00:18:46.000
Trong trường hợp này, tôi có thể sử dụng nút dấu cộng ở đây để xác định một chuỗi thủ công, cung cấp cho nó một phím... và một nhận xét.

00:18:46.000 --> 00:18:52.000
Hãy nhớ rằng các chuỗi được quản lý thủ công sẽ không được cập nhật hoặc xóa bởi Xcode.

00:18:52.000 --> 00:19:01.000
Nếu bạn muốn Xcode bắt đầu trích xuất chuỗi của mình từ mã, hãy mở rộng trình kiểm tra...

00:19:01.000 --> 00:19:05.000
Và đặt chuỗi được quản lý tự động.

00:19:05.000 --> 00:19:09.000
Xcode cũng giúp dễ dàng theo dõi tiến trình bản địa hóa của tôi.

00:19:09.000 --> 00:19:15.000
Bên cạnh mỗi chuỗi, bạn có thể thấy một huy hiệu đại diện cho trạng thái dịch.

00:19:15.000 --> 00:19:24.000
Khi một chuỗi vừa được thêm vào từ mã hoặc thủ công, như chúng tôi vừa làm, bạn sẽ thấy nó được đánh dấu là "MỚI", có nghĩa là nó chưa được dịch.

00:19:24.000 --> 00:19:29.000
Bất cứ khi nào chuỗi nguồn thay đổi, các bản dịch sẽ được đánh dấu để xem xét.

00:19:29.000 --> 00:19:36.000
Trước đó, tôi đã thay đổi chuỗi này bằng tiếng Anh, vì vậy các bản dịch hiện có đã được đánh dấu để xem xét.

00:19:36.000 --> 00:19:44.000
Nếu chuỗi này ổn, tôi có thể nhấp chuột phải vào chuỗi và chọn "đánh dấu là đã đánh giá".

00:19:44.000 --> 00:19:55.000
Vì tôi nói tiếng Bồ Đào Nha, tôi biết rằng tôi cần cập nhật bản dịch này.

00:19:55.000 --> 00:20:02.000
Với sự thay đổi này, chúng ta có thể thấy ở đây trên thanh bên rằng tỷ lệ bản địa hóa của chúng ta đã tăng lên.

00:20:02.000 --> 00:20:09.000
Khi một ngôn ngữ được bản địa hóa hoàn toàn, bạn sẽ thấy một dấu kiểm màu xanh lá cây ở đây trong thanh bên.

00:20:09.000 --> 00:20:19.000
Đây là lần đầu tiên bạn có thể theo dõi tiến trình bản địa hóa của mình trong Xcode và tự tin rằng ứng dụng của bạn đã được bản địa hóa hoàn toàn trước khi gửi nó đến App Store.

00:20:19.000 --> 00:20:23.000
Tôi cũng muốn chuẩn bị ứng dụng này được bản địa hóa bằng tiếng Ukraina.

00:20:23.000 --> 00:20:37.000
Tôi có thể làm điều này ngay từ Trình chỉnh sửa danh mục chuỗi bằng cách nhấn nút dấu cộng và chọn một ngôn ngữ mới từ danh sách này.

00:20:37.000 --> 00:20:43.000
Và đây là danh mục tiếng Ukraina của tôi chưa có bản dịch nào.

00:20:43.000 --> 00:20:48.000
Đây là chuỗi chúng tôi đã thêm trước đó, và có vẻ như nó cần được thay đổi theo số nhiều.

00:20:48.000 --> 00:20:52.000
Vì điều đó, chúng ta hãy quay lại với tiếng Anh.

00:20:52.000 --> 00:20:57.000
Tôi sẽ nhấp chuột phải vào chuỗi này và chọn " thay đổi theo số nhiều."

00:20:57.000 --> 00:21:06.000
Đối với tiếng Anh, tôi biết rằng tôi cần phân biệt giữa số nhiều và số ít, vì vậy hãy khắc phục điều đó.

00:21:06.000 --> 00:21:10.000
Trong tiếng Bồ Đào Nha, các trường hợp số nhiều giống như tiếng Anh.

00:21:10.000 --> 00:21:17.000
Tuy nhiên, nếu chúng ta nhìn vào tiếng Ukraina, bạn có thể thấy rằng một tập hợp các trường hợp số nhiều khác đã được thêm vào cho tôi.

00:21:17.000 --> 00:21:23.000
Người phiên dịch tiếng Ukraina của tôi sẽ biết chính xác phải làm gì với điều này.

00:21:23.000 --> 00:21:30.000
Theo quan điểm của tôi, tôi muốn thêm một nhãn khác cho biết số lượng chim có trong mỗi sân sau của tôi.

00:21:30.000 --> 00:21:35.000
Vậy hãy để tôi thêm nó...

00:21:35.000 --> 00:21:39.000
Xây dựng...

00:21:39.000 --> 00:21:43.000
Và quay lại Danh mục của tôi.

00:21:43.000 --> 00:21:45.000
Và nó ở đây trong Danh mục của tôi.

00:21:45.000 --> 00:21:50.000
Tôi cũng muốn thay đổi chuỗi theo số nhiều, nhưng nó chứa nhiều đối số.

00:21:50.000 --> 00:21:58.000
Lần này, khi tôi nhấp chuột phải vào chuỗi và chọn thay đổi theo số nhiều, tôi có thể chọn đối số nào tôi muốn thay đổi.

00:21:58.000 --> 00:22:06.000
Hãy thay đổi theo cả hai.

00:22:06.000 --> 00:22:12.000
Tiếp theo, tôi sẽ thiết lập các thay thế của mình để chúng có thể được số nhiều hóa trong thời gian chạy.

00:22:12.000 --> 00:22:16.000
Hãy chuyển ra những từ cần đồng ý với lập luận.

00:22:16.000 --> 00:22:29.000
Vì vậy, "chim" vào sự thay thế "chim" và "sân sau" thành sự thay thế "sân".

00:22:29.000 --> 00:22:38.000
Để dễ đọc, tôi muốn đổi tên các thay thế của mình để tôi biết các biến tương ứng với những đối số nào.

00:22:38.000 --> 00:22:40.000
Điều đó dễ hiểu hơn.

00:22:40.000 --> 00:22:47.000
Bây giờ Matt sẽ chỉ cho chúng tôi cách chúng tôi có thể xuất các chuỗi của mình để gửi chúng đi dịch sang tiếng Ukraina.

00:22:47.000 --> 00:22:48.000
Matt: Cảm ơn, Marina.

00:22:48.000 --> 00:23:02.000
Như bạn đã thấy, Xcode giúp dễ dàng cung cấp và chỉnh sửa bản dịch trực tiếp trong Danh mục Chuỗi, nhưng đôi khi, bạn sẽ cần làm việc với các dịch giả để bản địa hóa các chuỗi trong ứng dụng của mình bên ngoài Xcode.

00:23:02.000 --> 00:23:07.000
Đối với kịch bản này, Xcode cung cấp tùy chọn Bản địa hóa Xuất khẩu.

00:23:07.000 --> 00:23:15.000
Điều này tạo ra một Danh mục Bản địa hóa cho mỗi ngôn ngữ, có thể được gửi đi để dịch.

00:23:15.000 --> 00:23:26.000
Danh mục bản địa hóa, lần đầu tiên được giới thiệu trong Xcode 10, là một định dạng gói chứa tất cả nội dung có thể bản địa hóa trong một dự án hoặc không gian làm việc.

00:23:26.000 --> 00:23:34.000
Hiện tại, chúng tôi sẽ tập trung vào tệp XLIFF bên trong, chứa tất cả các chuỗi có thể định vị và bản dịch của chúng.

00:23:34.000 --> 00:23:42.000
XLIFF là một định dạng tiêu chuẩn công nghiệp để lưu trữ và vận chuyển các bản địa hóa.

00:23:42.000 --> 00:23:53.000
Nếu bạn hoặc các công cụ bạn duy trì làm việc trực tiếp với các tệp XLIFF, bạn sẽ muốn biết một số thay đổi về cách các chuỗi đa dạng được thể hiện cho các dự án sử dụng Danh mục chuỗi.

00:23:53.000 --> 00:24:00.000
Đây là một ví dụ biểu diễn XLIFF của chuỗi số nhiều ban đầu được xác định trong tệp .stringsdict.

00:24:00.000 --> 00:24:07.000
Các số nhận dạng đơn vị chuyển đổi được hiển thị ở đây hoạt động như các đường dẫn vào định dạng plist stringsdict.

00:24:07.000 --> 00:24:14.000
Khi các chuỗi khác nhau thay vào đó bắt nguồn từ Danh mục Chuỗi, thay vào đó chúng sẽ trông như thế này.

00:24:14.000 --> 00:24:23.000
Chúng chứa khóa chuỗi, một chuỗi phân cách và cuối cùng, một chuỗi cấu hình được phân tách bằng dấu chấm.

00:24:23.000 --> 00:24:36.000
Chuỗi cấu hình này có thể là một chỉ định số nhiều đơn giản, một chỉ định thiết bị, một chuỗi nhiều điều kiện hoặc một đường dẫn đến một trường hợp số nhiều bên trong một sự thay thế.

00:24:36.000 --> 00:24:47.000
Công cụ tự động hóa không chỉ dễ dàng đọc các phím này mà còn thiết kế chúng để con người dễ đọc và hiểu trong nháy mắt.

00:24:47.000 --> 00:24:57.000
Các công cụ dịch thuật cũng có thể thay đổi một chuỗi mà trước đây không thay đổi bằng cách thay thế các đơn vị dịch trong XLIFF bằng cấu trúc biến thể mong muốn.

00:24:57.000 --> 00:25:02.000
Ví dụ, đây là một chuỗi hiện không thay đổi chút nào.

00:25:02.000 --> 00:25:08.000
Nhưng bằng tiếng Bồ Đào Nha, tôi muốn cung cấp một chuỗi ngắn hơn trên Apple Watch một cách cụ thể.

00:25:08.000 --> 00:25:23.000
Bằng cách thay thế đơn vị đó bằng device.applewatch và device.các biến thể khác trong XLIFF, chúng ta có thể ảnh hưởng đến cấu trúc biến thể sẽ có mặt cho ngôn ngữ này trong lần nhập tiếp theo.

00:25:23.000 --> 00:25:34.000
Để đảm bảo rằng XLIFF mặc định sử dụng định dạng Danh mục Chuỗi khi xuất bản địa hóa, hãy đảm bảo đặt Danh mục Chuỗi Ưu tiên Bản địa hóa thành Có.

00:25:34.000 --> 00:25:41.000
Khi bạn nhận được Danh mục bản địa hóa đã dịch từ một dịch giả, bạn có thể nhập lại vào dự án.

00:25:41.000 --> 00:25:51.000
Đối với các chuỗi đến từ Danh mục chuỗi, các bản dịch được chỉ định trong các tệp đã nhập sẽ được tự động thêm vào Danh mục chuỗi thích hợp.

00:25:51.000 --> 00:25:54.000
Hãy thử cái này ở Backyard Birds.

00:25:54.000 --> 00:26:05.000
Marina: Vì tôi nói tiếng Bồ Đào Nha, tôi đã lo việc dịch ứng dụng của mình sang tiếng Bồ Đào Nha, nhưng tôi cần gửi danh mục bản địa hóa tiếng Ukraina của mình cho một dịch giả để cung cấp nội dung bản địa hóa.

00:26:05.000 --> 00:26:15.000
Tôi sẽ bắt đầu bằng cách nhấp vào đây trong Menu Sản phẩm, chọn Xuất bản địa hóa và chọn ngôn ngữ tôi muốn xuất.

00:26:15.000 --> 00:26:18.000
Trong trường hợp này, chỉ có tiếng Ukraina.

00:26:18.000 --> 00:26:24.000
Bây giờ tôi có thể nhấp vào Xuất.

00:26:24.000 --> 00:26:29.000
Khi họ gửi lại cho tôi bản dịch, tôi có thể nhập chúng vào ứng dụng của mình.

00:26:29.000 --> 00:26:31.000
Ồ, họ đây rồi.

00:26:31.000 --> 00:26:52.000
Bây giờ với các bản dịch đã sẵn sàng, tôi sẽ quay lại ứng dụng của mình, nhấp vào menu Sản phẩm, lần này, chọn Nhập bản địa hóa và chọn danh mục bản địa hóa tiếng Ukraina của tôi.

00:26:52.000 --> 00:26:58.000
Được rồi, hãy xem mọi thứ trông như thế nào.

00:26:58.000 --> 00:27:06.000
Hoàn hảo, các bản dịch tiếng Ukraina của tôi đã sẵn sàng và bây giờ tôi đã có ứng dụng của mình được bản địa hóa hoàn toàn bằng cả hai ngôn ngữ.

00:27:06.000 --> 00:27:08.000
Hãy xem nó trông như thế nào trong tiếng Bồ Đào Nha.

00:27:08.000 --> 00:27:13.000
Tôi sẽ nhấp vào bộ chọn sơ đồ và chọn Chỉnh sửa sơ đồ.

00:27:13.000 --> 00:27:21.000
Trong các tùy chọn, tôi có thể thay đổi ngôn ngữ ứng dụng từ hệ thống sang tiếng Bồ Đào Nha.

00:27:21.000 --> 00:27:37.000
Và tôi sẽ chạy ứng dụng.

00:27:37.000 --> 00:27:48.000
Tuyệt, đây là một số dây mà chúng tôi đã làm việc cùng.

00:27:48.000 --> 00:27:52.000
Bây giờ chúng ta đã dịch xong, hãy tiếp quản nó, Matt.

00:27:52.000 --> 00:27:59.000
Matt: Bây giờ nội dung ứng dụng của chúng tôi đã được dịch đầy đủ, hãy thảo luận ngắn gọn về những gì xảy ra trong quá trình xây dựng.

00:27:59.000 --> 00:28:05.000
Danh mục chuỗi được thiết kế đặc biệt để tương tác trong một dự án Xcode.

00:28:05.000 --> 00:28:11.000
Vì các tệp JSON dưới mui xe, chúng cũng có thể dễ dàng phân biệt trong kiểm soát nguồn.

00:28:11.000 --> 00:28:17.000
Sau đó, tại thời điểm xây dựng, các tệp này biên dịch thành các tệp .strings và .stringsdict.

00:28:17.000 --> 00:28:31.000
Bởi vì các định dạng tệp này đã được hỗ trợ trong hệ điều hành của chúng tôi trong nhiều năm nay, tôi rất vui khi nói rằng bạn có thể bắt đầu sử dụng Danh mục Chuỗi ngay lập tức mà không cần phải cập nhật mục tiêu triển khai tối thiểu của mình.

00:28:31.000 --> 00:28:37.000
Cũng cần lưu ý rằng các chuỗi nguồn được trích xuất từ mã không được bao gồm trong bản dựng cuối cùng.

00:28:37.000 --> 00:28:43.000
Điều này sẽ tiết kiệm dung lượng đĩa mà không ảnh hưởng đến các chuỗi được hiển thị trong thời gian chạy.

00:28:43.000 --> 00:28:51.000
Bây giờ chúng ta đã thấy tất cả những lợi ích này trong hành động, Marina sẽ chỉ cho bạn cách bắt đầu với String Catalogs trong các dự án hiện tại của bạn.

00:28:51.000 --> 00:28:57.000
Marina: Xcode giúp bạn dễ dàng di chuyển các dự án hiện có của mình để sử dụng Danh mục Chuỗi.

00:28:57.000 --> 00:28:59.000
Và bạn có thể làm điều này theo tốc độ của riêng bạn.

00:28:59.000 --> 00:29:04.000
Bất cứ khi nào bạn sẵn sàng, bạn có thể chọn chuỗi tệp và mục tiêu nào để di chuyển.

00:29:04.000 --> 00:29:09.000
Đây là một ứng dụng hiện có mà chúng tôi đã bản địa hóa vào năm ngoái, FoodTruck.

00:29:09.000 --> 00:29:13.000
Bạn có thể thấy ở đây rằng nó có một chuỗi và tệp stringsdict.

00:29:13.000 --> 00:29:21.000
Danh mục chuỗi có thể cùng tồn tại với các định dạng kế thừa, vì vậy tôi có thể chọn di chuyển bảng Localizable bất cứ khi nào tôi sẵn sàng.

00:29:21.000 --> 00:29:22.000
Hãy làm điều này ngay bây giờ.

00:29:22.000 --> 00:29:28.000
Tôi sẽ nhấp chuột phải vào tệp và chọn "Di chuyển vào Danh mục Chuỗi".

00:29:28.000 --> 00:29:35.000
Xcode bao gồm một Trợ lý Di chuyển tích hợp liệt kê tất cả các tệp có thể di chuyển trong dự án của tôi.

00:29:35.000 --> 00:29:41.000
Ở đây tôi có thể thấy bảng Localizable là một phần của mục tiêu FoodTruck.

00:29:41.000 --> 00:29:46.000
Tôi sẽ tiếp tục và di chuyển cái này ngay bây giờ.

00:29:46.000 --> 00:29:51.000
Tuyệt vời! Sau khi di chuyển, Xcode sẽ xây dựng dự án của tôi để trích xuất các chuỗi.

00:29:51.000 --> 00:29:55.000
Hãy xem Danh mục trông như thế nào sau khi xây dựng.

00:29:55.000 --> 00:30:03.000
Ở đây chúng ta có thể thấy rằng tất cả các chuỗi từ tệp chuỗi của tôi và thậm chí cả số nhiều từ tệp stringsdict đã được di chuyển.

00:30:03.000 --> 00:30:11.000
Tất cả các bản dịch tiếng Ả Rập của tôi đều được áp dụng, nhưng chúng ta có thể thấy ở đây rằng tiến độ dịch thuật không phải là 100% đối với tiếng Pháp.

00:30:11.000 --> 00:30:16.000
Danh mục chuỗi đã giúp tôi tìm các chuỗi chưa được bản địa hóa trong dự án của mình.

00:30:16.000 --> 00:30:22.000
FoodTruck cũng có một gói nhanh chóng, FoodTruckKit, vẫn chưa được bản địa hóa.

00:30:22.000 --> 00:30:29.000
Bắt đầu bản địa hóa một gói hoặc dự án mới cực kỳ dễ dàng với String Catalogs.

00:30:29.000 --> 00:30:40.000
Tôi sẽ bắt đầu bằng cách thêm bản địa hóa mặc định vào bản kê khai gói và đảm bảo rằng tôi đang sử dụng Swift Tools phiên bản 5.9.

00:30:40.000 --> 00:30:51.000
Sau đó, tôi sẽ thêm một Danh mục Chuỗi mới vào gói với tên bảng mặc định "Có thể định vị".

00:30:51.000 --> 00:30:56.000
Sau khi xây dựng dự án của mình, tôi có thể thấy tất cả các chuỗi từ khắp gói hàng của mình.

00:30:56.000 --> 00:31:02.000
Thật dễ dàng để bắt đầu bản địa hóa một dự án hoặc gói mới.

00:31:02.000 --> 00:31:11.000
Danh mục chuỗi là nền tảng mới của bản địa hóa trong Xcode và đơn giản hóa quá trình quản lý các bản dịch trong dự án của bạn.

00:31:11.000 --> 00:31:14.000
Chúng tôi hy vọng bạn sẽ bắt đầu ngay hôm nay bằng cách di chuyển các chuỗi hiện có của mình.

00:31:14.000 --> 00:31:21.000
Và nếu bạn chưa bao giờ bản địa hóa một ứng dụng trước đây, chúng tôi hy vọng bạn sẽ được truyền cảm hứng bởi việc bắt đầu dễ dàng như thế nào.

00:31:21.000 --> 00:31:23.000
Obrigada pela companhia hoje.

00:31:23.000 --> 00:31:26.000
Cảm ơn vì đã tham gia cùng chúng tôi, và vui vẻ ngắm chim.

00:31:26.000 --> 23:59:59.000
♪ ♪

