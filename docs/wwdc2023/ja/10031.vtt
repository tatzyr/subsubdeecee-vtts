WEBVTT

00:00:00.000 --> 00:00:10.000
♪ ♪

00:00:10.000 --> 00:00:11.000
ニーナ:こんにちは。

00:00:11.000 --> 00:00:15.000
私の名前はニーナ・パリポヴィッチで、watchOSのソフトウェアエンジニアです。

00:00:15.000 --> 00:00:23.000
このコード付きセッションでは、watchOS 9 SDKで構築された既存のアプリを取り、watchOS 10用に更新します。

00:00:23.000 --> 00:00:33.000
システム全体の再設計とともに、アプリを美しく見せるために使用できる新しいデザインパラダイムとSwiftUI APIについて説明します。

00:00:33.000 --> 00:00:38.000
サンプルプロジェクトは、このセッションに関連付けられたリソースリストにリンクされています。

00:00:38.000 --> 00:00:45.000
watchOS 10を一緒に構築する準備が整うように、今すぐダウンロードを開始することをお勧めします。

00:00:45.000 --> 00:00:49.000
飛び込む前に、既存のプロジェクトを見てみましょう。

00:00:49.000 --> 00:00:59.000
私たちが更新するアプリはBackyard Birdsで、美しい裏庭の庭とその好奇心旺盛な訪問者を作成して管理できるアプリです。

00:00:59.000 --> 00:01:02.000
今日のアプリには、裏庭のリストがあります。

00:01:02.000 --> 00:01:08.000
各裏庭には、その活動と状態を示す詳細なビューがあります。

00:01:08.000 --> 00:01:12.000
食べ物や水が不足している場合は、補充することができます。

00:01:12.000 --> 00:01:17.000
また、各裏庭ですべての鳥の訪問者を見ることができます。

00:01:17.000 --> 00:01:22.000
watchOS 10は、ウォッチアプリにエキサイティングで新鮮な新しい外観をもたらします。

00:01:22.000 --> 00:01:33.000
まだ確認していない場合は、「Meet watchOS 10」と「Design and build apps for watchOS 10」をチェックして、このセッションで適用する設計原則に関する詳細情報を入手してください。

00:01:33.000 --> 00:01:40.000
では、Xcodeを開いて、アプリのアップデートを始めましょう。

00:01:40.000 --> 00:01:45.000
これは、watchOS 9用に構築され、実行されている現在のBackyard Birdsアプリです。

00:01:45.000 --> 00:01:51.000
裏庭の詳細に移行する裏庭のリストが表示されます。

00:01:51.000 --> 00:01:56.000
まず、watchOS10 SDKに対して構築しましょう。

00:01:56.000 --> 00:01:58.000
そのアプリはすでに見栄えがいいです。

00:01:58.000 --> 00:02:11.000
スクロールすると遷移する大きなタイトルや、ナビゲーションバーの下のコンテンツをぼかにする新しい素材など、新しいシステム機能が見られます。

00:02:11.000 --> 00:02:21.000
裏庭をタップするとセルがアニメーション化し、左上にあるシステム全体のツールバーボタンのスタイリングを自動的に採用しました。

00:02:21.000 --> 00:02:31.000
スクロールしてリフィルをタップすると、新しいぼやけた背景素材のモーダルが表示されます。

00:02:31.000 --> 00:02:37.000
Backyard Birdsを使用する人々は、自分の裏庭で何が起こっているかを最も気にかけています。

00:02:37.000 --> 00:02:45.000
現在、アプリを起動すると、最初に行うことは、リストの裏庭をタップして、詳細ビューで何が起こっているかを確認することです。

00:02:45.000 --> 00:02:53.000
watchOS 10では、NavigationSplitViewでアプリの構造を変更することで、物事を簡単にすることができます。

00:02:53.000 --> 00:03:03.000
これにより、人々は裏庭の詳細ビューに直接起動し、友人の庭を訪れたいときにリストにポップアップすることができます。

00:03:03.000 --> 00:03:12.000
詳細ビューはアプリの最も重要な部分であるため、NavigationSplitViewを実装することで強調することができます。

00:03:12.000 --> 00:03:17.000
NavigationSplitViewは、この強力なソースリストと詳細の関係がある場合に最適です。

00:03:17.000 --> 00:03:28.000
これにより、ソースリストから別のヤードに簡単に切り替えることができながら、直接起動することで詳細に集中できます。

00:03:28.000 --> 00:03:34.000
私たちはすでにiOSとiPadOSのBackyard Birdsにそれを使用しています。

00:03:34.000 --> 00:03:39.000
NavigationSplitViewは私たちのアプリにぴったりのようです。

00:03:39.000 --> 00:03:45.000
ContentViewでは、NavigationStackをNavigationSplitViewに交換します。

00:03:45.000 --> 00:03:53.000
次に、navigationDestinationの内容をNavigationSplitViewの詳細に移動します。

00:03:53.000 --> 00:04:03.000
最後に、NavigationSplitViewによって提示される詳細ビューを推進する、watchOS 10で利用可能な新しいリスト選択APIを採用します。

00:04:03.000 --> 00:04:10.000
まず、NavigationStackをNavigationSplitViewに交換しましょう。

00:04:10.000 --> 00:04:15.000
裏庭リストは、NavigationSplitViewのルートにあるままにしておくことができます。

00:04:15.000 --> 00:04:24.000
navigationDestination修飾子を削除して、BackyardViewを詳細ビュービルダーに移動しましょう。

00:04:24.000 --> 00:04:38.000
selectedBackyardはオプションなので、必ず開封してフォールバックビューを提供しましょう。

00:04:38.000 --> 00:04:42.000
最後に、選択バインディングを取るリスト初期化子を使用しましょう。

00:04:42.000 --> 00:04:57.000
リストの選択パラメータの値を指定すると、選択バインディングは、NavigationSplitView内に表示する詳細ビューを駆動します。

00:04:57.000 --> 00:04:58.000
いいね。

00:04:58.000 --> 00:05:02.000
選択したヤードの詳細ビューがデフォルトで表示されます。

00:05:02.000 --> 00:05:07.000
詳細に直接起動するので、navigationTitleを削除できます。

00:05:07.000 --> 00:05:14.000
ソースリストボタンを使用して、戻って裏庭の残りの部分を見ることができます。

00:05:14.000 --> 00:05:20.000
そして、詳細ビューに戻ると、美しいフルスクリーンアニメーションが得られます。

00:05:20.000 --> 00:05:25.000
現在、裏庭のビューはスクロール可能なコンテンツの長いリストです。

00:05:25.000 --> 00:05:39.000
私たちのリストはすでに、今日のビュー、生息地ビュー、訪問者ビューなど、異なる機能セットを持つ3つの異なるセクションに分かれています。

00:05:39.000 --> 00:05:47.000
代わりにTabViewを使用し、各セクションのタブを作成することで、アプリの視覚的な明瞭さを向上させることができます。

00:05:47.000 --> 00:05:55.000
TabViewは、コンテンツをフルスクリーンビューに分割する方法を提供し、各タブには明確で明確な目的があります。

00:05:55.000 --> 00:06:00.000
ビューをすばやくスクロールするために、デジタルクラウンの機能を維持したい。

00:06:00.000 --> 00:06:05.000
新しい垂直ページスタイルにより、TabViewでこれを行うことができます。

00:06:05.000 --> 00:06:11.000
人々はタブ間をすばやく移動したり、1つのタブ内でスクロールしたりできます。

00:06:11.000 --> 00:06:18.000
Xcodeに戻り、詳細ビューを更新してTabViewを使用しましょう。

00:06:18.000 --> 00:06:26.000
BackyardViewでは、各セクションを独自のビューに移動し、リストをTabViewに置き換えましょう。

00:06:26.000 --> 00:06:34.000
TabViewの各ページは画面のフルサイズを占めるため、セクションや仕切りは必要ありません。

00:06:34.000 --> 00:06:51.000
セクションヘッダーをナビゲーションタイトルとして追加し直しましょう。

00:06:51.000 --> 00:06:58.000
最後に、tabViewStyle修飾子を使用して、verticalPageを指定しましょう。

00:06:58.000 --> 00:07:00.000
もうすぐ着きます。

00:07:00.000 --> 00:07:05.000
ページ分割すると、ビューが各タブに定着します。

00:07:05.000 --> 00:07:15.000
人々がすべての訪問者をすばやく表示しやすくするために、VisitorViewをリストにまとめることができます。

00:07:15.000 --> 00:07:21.000
これで、TabViewは子リストビューに1つのタブを指定します。

00:07:21.000 --> 00:07:27.000
リストが画面の高さを超えると、ビューはスクロール可能になります。

00:07:27.000 --> 00:07:35.000
垂直タブビュー内にスクロール可能なコンテンツがある場合は、可能な限り最後のタブに配置してください。

00:07:35.000 --> 00:07:45.000
また、人々が食料と水位を簡単に区別できるように、生息地ビューを2つの別々のタブに分割します。

00:07:45.000 --> 00:07:51.000
このために、私はTabViewによりよく収まる独自のゲージを作成しました。

00:07:51.000 --> 00:08:08.000
TabViewでは、食品のインスタンスと水のインスタンスを作成することで、HabitatViewを新しいGaugeViewに置き換えましょう。

00:08:08.000 --> 00:08:10.000
それは素晴らしく見えます。

00:08:10.000 --> 00:08:14.000
今、私たちがする必要があるのは、補充機能を追加することだけです。

00:08:14.000 --> 00:08:18.000
このために、私はツールバーを使うつもりです。

00:08:18.000 --> 00:08:26.000
ツールバーは、すべての画面サイズで一貫した、まったく新しい配置オプションを備えたwatchOS 10で上昇しました。

00:08:26.000 --> 00:08:30.000
新しいボトムバーの配置は、コントロールを置くのに最適な場所です。

00:08:30.000 --> 00:08:38.000
下のバーに詰め替えボタンを追加して、この配置オプションを利用します。

00:08:38.000 --> 00:08:48.000
新しいHabitatGaugeViewに戻って、ツールバーを追加し、ToolbarGroupを使用してボトムバーの配置を指定します。

00:08:48.000 --> 00:09:00.000
スペーサーを使用して、ツールバーの後隅にボタンを追加します。

00:09:00.000 --> 00:09:06.000
私たちは今、より多くのスペースを持っており、ハビタットの要約に焦点を当てる方が簡単です。

00:09:06.000 --> 00:09:11.000
人々がタブビューをナビゲートする際に、より多くのことをしてオリエンテーションをしたいと思います。

00:09:11.000 --> 00:09:17.000
さらに、裏庭の食料と水が少ない場合は、これに注意を喚起したいと思います。

00:09:17.000 --> 00:09:21.000
背景グラデーションを適用することで、これを達成できます。

00:09:21.000 --> 00:09:30.000
各タブのタイトルは役に立ちますが、色は目を見やすさを高め、詳細ビュー内の場所を強化する素晴らしい方法です。

00:09:30.000 --> 00:09:36.000
また、食べ物や水が不足している場合は、裏庭の状態を強調するためにも使用できます。

00:09:36.000 --> 00:09:43.000
システムグラデーションは、前景要素とのコントラストを維持しながら、これを中継する良い方法です。

00:09:43.000 --> 00:09:49.000
これを達成するために、色のグラデーションを持つコンテナの背景修飾子を使用しましょう。

00:09:49.000 --> 00:09:53.000
まず、元の背景を削除しましょう。

00:09:53.000 --> 00:10:01.000
現在の食料と水位に基づいて背景色を決定する機能をBackyardViewに追加できます。

00:10:01.000 --> 00:10:07.000
レベルが低い場合、背景は赤になり、補充の時間であることを示しています。

00:10:07.000 --> 00:10:11.000
また、いくつかの有用な計算変数を追加します。

00:10:11.000 --> 00:10:18.000
これで、この計算されたプロパティをcontainerBackground修飾子に渡すことができます。

00:10:18.000 --> 00:10:24.000
修飾子は、色のグラデーションとContainerBackgroundPlacementを渡すShapeStyleを取ります。

00:10:24.000 --> 00:10:33.000
ここでは、TabView用を指定します。

00:10:33.000 --> 00:10:37.000
背景が変わったらゲージの色も変えたいです。

00:10:37.000 --> 00:10:43.000
同じ計算された色変数を渡しましょう。

00:10:43.000 --> 00:10:55.000
アプリのアクセントカラーを使用して、TabView内の他のビューにcontainerBackground修飾子を適用しましょう。

00:10:55.000 --> 00:11:01.000
スクロールすると、グラデーションが前景の要素とうまく対照的であることがわかります。

00:11:01.000 --> 00:11:08.000
また、ツールバーのボタンをタップすると、背景のグラデーションがどのように変化するかを確認できます。

00:11:08.000 --> 00:11:14.000
最後の仕上げとして、重要な情報を強調するために資料を活用したいと思います。

00:11:14.000 --> 00:11:20.000
資料はプラットフォーム間で入手でき、watchOS10でアプリを見るのは初めてです。

00:11:20.000 --> 00:11:27.000
それらは、視覚的な華やかさを加えながら、前景と背景の要素を区別する良い方法です。

00:11:27.000 --> 00:11:32.000
最後に、彼らは画面上の情報を表面化または強化することができます。

00:11:32.000 --> 00:11:36.000
アプリには、素材と活気を使用できる場所がいくつかあります。

00:11:36.000 --> 00:11:39.000
見てみましょう。 

00:11:39.000 --> 00:11:46.000
まず、裏庭のタイトルから影の背景を置き換えて、代わりに素材の背景を使いたいです。

00:11:46.000 --> 00:12:00.000
セルの背景はカラフルで、素材を追加すると、タイトルを明確にするのに役立ちます。

00:12:00.000 --> 00:12:07.000
人々は、各裏庭の鳥の訪問者の数を本当に気にしており、要約ビューで見ることができます。

00:12:07.000 --> 00:12:14.000
人々が裏庭の詳細ビューに入ることなくそれを見ることができるように、リストビューでそれを表面化するのは素晴らしいことです。

00:12:14.000 --> 00:12:20.000
別のオーバーレイとして追加し、番号に材料の背景を提供します。

00:12:20.000 --> 00:12:27.000
watchOSアプリは暗い背景を使用する傾向があるため、素材のデフォルトは暗いバリアントになります。

00:12:27.000 --> 00:12:36.000
裏庭は軽くてカラフルなので、これらをライトバリアントに切り替えます。

00:12:36.000 --> 00:12:42.000
そして、私たちのBackyard BirdsアプリはwatchOS 10用に更新されました。

00:12:42.000 --> 00:12:46.000
私たちが今行ったすべての大きな変更を見直しましょう。

00:12:46.000 --> 00:12:50.000
NavigationSplitViewをリストに追加しました。

00:12:50.000 --> 00:12:56.000
次に、リストを垂直タブビューに置き換えました。

00:12:56.000 --> 00:13:03.000
各裏庭のツールバーに機能を追加し、いくつかの美しいグラデーションを追加しました。

00:13:03.000 --> 00:13:08.000
最後に、私たちは有用な情報を表面化するために材料を使用しました。

00:13:08.000 --> 00:13:10.000
私と一緒にコーディングしてくれてありがとう。

00:13:10.000 --> 00:13:16.000
今年はApple Watchにとって大きな年であり、より多くのセッションを探索することをお勧めします。

00:13:16.000 --> 00:13:23.000
Backyard Birdsをさらに進めるには、「Apple Watchでスマートスタックのウィジェットを構築する」に進んでください。

00:13:23.000 --> 23:59:59.000
あなたのアプリがwatchOS 10で輝くように、あなたが行うアップデートを見るのが待ちきれません。

