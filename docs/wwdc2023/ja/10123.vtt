WEBVTT

00:00:00.000 -> 00:00:10.000
♪ ♪

00:00:10.000 -> 00:00:18.000
Aiswariya:こんにちは、ようこそ。私の名前はAiswariyaで、あなたのゲームをMacに持ち込むことについてあなたと話すことにとても興奮しています。

00:00:18.000 -> 00:00:24.000
このセッションは、ハイエンドゲームをMacに持ち込む方法についての3部構成のシリーズの最初のものです。

00:00:24.000 -> 00:00:34.000
2回目と3回目のセッションでは、私の同僚はシェーダーをコンパイルするためのツールとテクニック、およびMetalでネイティブにレンダリングする際のベストプラクティスに焦点を当てます。

00:00:34.000 -> 00:00:48.000
Apple Silicon Macの高度なグラフィックス、素晴らしいパフォーマンス、没入型オーディオ、素晴らしいディスプレイ、機能豊富なソフトウェアで、素晴らしいゲーム体験を提供するために必要なものがすべて揃っています。

00:00:48.000 -> 00:00:55.000
Macがこれまで以上に人気があり、何百万人もの新しいプレイヤーにゲームをもたらすのにこれほど良い時期はありません。

00:00:55.000 -> 00:00:59.000
WindowsゲームをMacに移植することがこれまで以上に速くなりました。

00:00:59.000 -> 00:01:15.000
今年、新しいゲームポーティングツールキットは、既存の変更されていないWindowsゲームを実行するためのエミュレーション環境を提供し、Macで実行しているときにゲームのグラフィックス機能の使用状況とパフォーマンスの可能性をすばやく理解するために使用できます。

00:01:15.000 -> 00:01:21.000
あなたのゲームがどのように見え、聞こえ、再生されるかを理解するのに何ヶ月もかかりません。

00:01:21.000 -> 00:01:24.000
あなたはすぐにあなたのゲームの可能性を見ます。

00:01:24.000 -> 00:01:55.000
Windowsゲームをまったく新しいプラットフォームに移植するには、通常、ソースコードの再コンパイル、HLSLから何千ものカスタムシェーダーの変換、グラフィックスサブシステムの再実装、オーディオ、入力、ディスプレイ、HDRレンダリングの使用を変換するなど、最初のシーンがネイティブに実行される前に、最初のシーンが実行される前に、多くのステップが必要です。

00:01:55.000 -> 00:02:03.000
ゲームポーティングツールキットの助けを借りて、プラットフォーム上で実行されているゲームの最初のシーンをはるかに早く見ることができます。

00:02:03.000 -> 00:02:14.000
ゲームポーティングツールキットには、既存のすべてのHLSL GPUシェーダーをメタルに自動的に変換するために使用できる新しいメタルシェーダーコンバーターが含まれています。

00:02:14.000 -> 00:02:22.000
メタルシェーダーコンバーターを使用すると、シェーダーとグラフィックスをMacに持ち込む時間もはるかに少なくなります。

00:02:22.000 -> 00:02:29.000
より早く出荷でき、MacとApple Siliconのユニークな機能を利用する時間が増えます。

00:02:29.000 -> 00:02:38.000
ゲームがすぐに実行されるのを見ると、クロスプラットフォームエンジンを使用してほとんどの移植を処理するときにも役立ちます。

00:02:38.000 -> 00:02:47.000
Windowsゲームがクロスプラットフォームエンジンで追加したプラットフォーム固有のコードやプラグインを移植する前に、ゲームの可能性を見ることができます。

00:02:47.000 -> 00:03:01.000
ゲームをMacに移植することは、ゲームの評価から始まり、シェーダーをコンパイルし、Metalでレンダリングし、ゲームの入力、オーディオ、ディスプレイ、HDRレンダリングの使用を変換します。

00:03:01.000 -> 00:03:06.000
最初のステップは、ゲームポーティングツールキットを使用してゲームを評価することです。

00:03:06.000 -> 00:03:24.000
ゲームポーティングツールキットの環境は、ゲームのIntel命令と、キーボード、マウス、コントローラー入力用のWindows APIの使用を翻訳します。オーディオ再生用。ネットワークとファイルシステムの使用用。そしてもちろん、グラフィックス用。

00:03:24.000 -> 00:03:35.000
GPU駆動のパイプラインやSIMD操作などの最新のグラフィックス機能や、テッセレーションやジオメトリシェーダーなどの古い機能はすべて翻訳されています。

00:03:35.000 -> 00:03:37.000
これを実際に見てください。

00:03:37.000 -> 00:03:46.000
Blooberのような開発者がGame Porting Toolkitを使用して、Windows DirectX 12ビルドの「The Medium」を調べる方法は次のとおりです。

00:03:46.000 -> 00:03:51.000
「The Medium」は、Blooberによって開発され、公開された最近のゲームです。

00:03:51.000 -> 00:03:57.000
彼らのネイティブのApple Silicon and Metalのリリースは、素晴らしく、美しく、超楽しいゲームです。

00:03:57.000 -> 00:04:04.000
また、少し怖くて、プレイヤーに非常に没入感のあるグラフィックとオーディオ体験を提供します。

00:04:04.000 -> 00:04:13.000
ツールキットをインストールした後、「The Medium」のWindowsビルドをMacにコピーし、ターミナルから起動します。

00:04:13.000 -> 00:04:21.000
Game Porting Toolkitの翻訳環境で起動すると、ロギングとデバッグ情報がターミナルに表示されます。

00:04:21.000 -> 00:04:29.000
ゲームを起動すると、このロギングには対処すべき潜在的な問題が含まれている可能性がありますが、Blooberの開発者にとって物事はここで明確に見えます。

00:04:29.000 -> 00:04:37.000
ゲームポーティングツールキットのドキュメントを見て、ゲームのロギングで何が見つかるかの詳細を確認してください。

00:04:37.000 -> 00:04:45.000
ここで開発者は、すべてのグラフィックス機能が有効になっている状態でゲームがうまく動作しており、期待どおりに動作していることがわかります。

00:04:45.000 -> 00:05:01.000
彼らは、透明性、反射、ジオメトリシェーダー、テッセレーション、照明に対するユニークで不機嫌なグローバル照明アプローチなどの機能がすべてメタル3に変換され、鮮明でピクセルパーフェクトに見えることに気付くでしょう。

00:05:01.000 -> 00:05:05.000
次のステップは、ベースラインのパフォーマンスの感覚を得るために少し遊ぶことです。

00:05:05.000 -> 00:05:18.000
Windowsゲームを実行して観察するベースラインパフォーマンスには、ゲームポーティングツールキットのすべてのオーバーヘッドと、APIと命令セットの翻訳が含まれていることは注目に値します。

00:05:18.000 -> 00:05:27.000
Blooberの場合、Windowsバージョンはもちろん、MetalFXアップスケーリングのようなパフォーマンス向上機能を使用していません。

00:05:27.000 -> 00:05:36.000
非ネイティブゲームがこれらの翻訳層を通過すると、そのパフォーマンスと電力効率が影響を受ける可能性があります。

00:05:36.000 -> 00:05:53.000
ゲームをネイティブにMacに持ち込むと、パフォーマンスが向上し、MetalFXなどの機能やAppleの内蔵ディスプレイの拡張ダイナミックレンジ機能など、Apple SiliconおよびMacハードウェアの多くの高度な機能を利用することができます。

00:05:53.000 -> 00:06:05.000
ゲームを評価するための素晴らしいワークフローは、メタルパフォーマンスHUDを有効にしてプレイし、より深い外観を保証する可能性のある特定のスポットを探すことです。

00:06:05.000 -> 00:06:13.000
開発者は、HUDが時折ドロップされたフレームとはるかに低い平均フレームレートを示している場所を見つけました。

00:06:13.000 -> 00:06:17.000
その後、インストゥルメントを使用してメタルシステムトレースをキャプチャすることができます。

00:06:17.000 -> 00:06:21.000
これは、パフォーマンスの問題を調査するのに最適な方法です。

00:06:21.000 -> 00:06:27.000
Game Porting Toolkitで実行しているときに、Metal Performance HUDが強化されました。

00:06:27.000 -> 00:06:31.000
HUDの標準部分はまだ一番上にあります。

00:06:31.000 -> 00:06:43.000
レンダリングされるGPUと解像度、瞬間的なフレームレート、現在から現在までの間隔、および使用されているGPU時間の近似値に関する情報が表示されます。

00:06:43.000 -> 00:06:53.000
これらの統計の高値と低値を強調し、メモリ使用量を示し、最後の数秒のデータのグラフを提供します。

00:06:53.000 -> 00:07:15.000
以下に、HUDは、命令セットの翻訳と、どのDirect3D APIバージョンが使用されているか、使用されているレンダリングエンコーダの数、実行されているコマンドバッファとディスパッチの数、ジオメトリシェーダーやテッセレーションシェーダーなどの各タイプの機能の数について、各フレームでより詳細な詳細を示しています。

00:07:15.000 -> 00:07:20.000
さらに、リソースのコピーとクリアがキャプチャされます。

00:07:20.000 -> 00:07:26.000
ここでは、Instrumentsでトレースファイルを開き、フレームドロップが表示される場所をすばやく見つけます。

00:07:26.000 -> 00:07:36.000
ここでは、GPUのタイムラインに大きなギャップがあり、使用率がほとんどなく、作業がまったく予定されていないフレームがいくつかあった領域です。

00:07:36.000 -> 00:07:46.000
これを勉強した後、命令翻訳のオーバーヘッドやAPI翻訳によって引き起こされる違いによって引き起こされる可能性が非常に高いようです。

00:07:46.000 -> 00:07:51.000
これらは、ゲームをMacにネイティブに持ち込むと消える種類の問題です。

00:07:51.000 -> 00:07:56.000
あなたのゲームのパフォーマンスが向上し、より効率的に実行されることを確信できます。

00:07:56.000 -> 00:08:06.000
さらに、Metalでレンダリングするためのベストプラクティスを使用し、MetalFXアップスケーリングを採用することで、ゲームのパフォーマンスをさらに向上させます。

00:08:06.000 -> 00:08:18.000
これは、翻訳されたバージョンと並んで実行されている「The Medium」のネイティブバージョンで、Metal 3とApple Siliconをより最適に使用して、このシーンのフレームレートを劇的に改善します。

00:08:18.000 -> 00:08:25.000
ゲームポーティングツールキットの使用を開始するには、developer.apple.comにアクセスしてください。

00:08:25.000 -> 00:08:33.000
ゲームの評価を開始できるように、ツールキットの構築と設定の手順を含むパッケージがあります。

00:08:33.000 -> 00:08:42.000
ゲームポーティングツールキットに関するフィードバック、質問、提案を提供し、フィードバックアシスタントを使用してゲームをMacに持ち込むことができます。

00:08:42.000 -> 00:08:52.000
既存のWindowsゲームを実行してグラフィック機能とパフォーマンスを評価したので、その知識を活用してシェーダーパイプラインを移植してください。

00:08:52.000 -> 00:09:02.000
メタルシェーダーコンバーターツールを使用して、ジオメトリ、テッセレーション、メッシュ、レイトレーシングステージなど、ゲームの高度なシェーディングパイプラインをすべて変換できます。

00:09:02.000 -> 00:09:15.000
シェーダーをコンパイルすることは、それ自体が深いトピックなので、準備ができたら、このシリーズの2番目のトーク「シェーダーをコンパイルする」を見てください。メタルを使ったレンダリングを見てみましょう。 

00:09:15.000 -> 00:09:33.000
Metal 3は、MetalFX、高速リソースロード、オフラインコンパイル、メッシュシェーダー、レイトレーシングなど、すべての高度なグラフィックスとコンピューティング機能を提供し、最新のハイエンドゲームで使用され、グラフィックスコードの変換が非常に簡単になります。

00:09:33.000 -> 00:09:42.000
シリーズの3番目のセッション「Render with Metal」は、レンダラーをMetalに移植し、Apple Siliconから優れたパフォーマンスを得る方法についてです。

00:09:42.000 -> 00:09:47.000
Game Porting Toolkitを通じて、ゲームの基本的な入力機能を評価しました。

00:09:47.000 -> 00:09:55.000
今、それをネイティブに移植し、ランブルやハプティックスなどの高度な機能を活用する時が来ました。

00:09:55.000 -> 00:10:14.000
Windowsゲームは、すでにクロスプラットフォームのゲームエンジンで構築されており、一般的な入力プラグインを使用しているか、XInputやGameInputなどの低レベルのWindows APIを直接使用しているか、ゲーム周辺機器用のカスタムSDKをバンドルしている可能性があります。

00:10:14.000 -> 00:10:29.000
Appleプラットフォームでは、ゲームコントローラーフレームワークは、ゲームパッド、キーボード、マウス、レーシングホイール、アーケードスティックなど、さまざまな周辺機器にわたるゲーム入力のスレッドセーフで低レイテンシのサポートをゲームに提供します。

00:10:29.000 -> 00:10:37.000
また、触覚やモーションなど、ゲームコントローラーの追加機能にもアクセスできます。

00:10:37.000 -> 00:10:54.000
Appleプラットフォームは、アプリごとの入力再マッピングのシステムレベルのユーザー設定サポート、スクリーンショットの自動サポート、ビデオ録画のキャプチャ、および任意のゲームのコントローラーからのゲームプレイの15秒のハイライトを提供します。

00:10:54.000 -> 00:10:58.000
ゲームの入力ロジックを簡単に移植できます。

00:10:58.000 -> 00:11:10.000
詳細を学ぶ準備ができたら、これらの2つの以前の講演「仮想および物理的なゲームコントローラーをタップ」と「ゲームコントローラーの進歩」は、詳細とサンプルコードを見つけるのに最適な場所です。

00:11:10.000 -> 00:11:14.000
オーディオは、魅惑的なゲーム体験のもう一つの重要な部分です。

00:11:14.000 -> 00:11:21.000
既存のゲームのオーディオワークフローと機能をMacにネイティブに持ち込むのはとても簡単です。

00:11:21.000 -> 00:11:29.000
Appleデバイスには最先端の内蔵スピーカーがあり、大音量のファンがそれらをかき消すことができないため、プレーヤーは大声ではっきりと聞くことができます。

00:11:29.000 -> 00:11:40.000
また、低レイテンシの空間オーディオをサポートするAppleデバイスと互換性のある優れた有線および無線オーディオ周辺機器もたくさんあります。

00:11:40.000 -> 00:11:48.000
既存のゲームは、すでにWwise、Unity、FMODなどのクロスプラットフォームのオーディオミドルウェアソリューションを使用している可能性があります。

00:11:48.000 -> 00:11:55.000
これらのミドルウェア製品は、一般的にシステムオーディオAPIとフレームワークを抽象化します。

00:11:55.000 -> 00:12:04.000
Windowsでは、DirectSound、XAudio2、WASAPIなどの低レベルのAPIよりもミドルウェアレイヤーを使用している可能性があります。

00:12:04.000 -> 00:12:08.000
これらの同じミドルウェア製品は、Appleのプラットフォームに存在します。

00:12:08.000 -> 00:12:18.000
これらは、Spatial Mixer Audio Unit、PHASE、AVAudioEngineなど、高レベルおよび低レベルのAppleオーディオフレームワークの豊富なセットを利用しています。

00:12:18.000 -> 00:12:25.000
素晴らしいニュース：これらのミドルウェア製品はすべて、ネイティブのApple Silicon SDKで十分にサポートされていることがわかります。

00:12:25.000 -> 00:12:28.000
あなたがする必要があることはほとんど、または何もありません。

00:12:28.000 -> 00:12:37.000
しかし、ミドルウェアを使用していない場合は、もちろん、ミドルウェアと同じように、プラットフォームが提供するオーディオフレームワークとAPIを直接使用できます。

00:12:37.000 -> 00:12:53.000
特に、このレベルで優れた空間オーディオを実現するには、PHASEドキュメントと、AUSpatialMixerを使用して12チャンネルの7.1.4 PCMデータから空間オーディオを作成することを示すサンプルコードを確認してください。

00:12:53.000 -> 00:13:06.000
CoreAudio、AudioUnits、PHASEに関するこれらの以前の講演は、ゲームがオーディオミドルウェアに基づいていない場合、低レベルのシステムフレームワークの使用について学ぶのに最適なセッションです。

00:13:06.000 -> 00:13:13.000
Appleのディスプレイは、プレイヤーに見事で没入感のあるゲーム体験を提供する上で不可欠な部分です。

00:13:13.000 -> 00:13:23.000
ゲームポーティングツールキットを使用すると、翻訳された環境の基本的な標準ダイナミックレンジとフレームペーシングAPI上で実行されているゲームのレンダリングコードを見ることができます。

00:13:23.000 -> 00:13:35.000
Windowsでは、ゲームがカラーマネジメントとトーンマッピングAPIを使用して、AdvancedColorInfo色空間APIなどのハイダイナミックレンジを実現している可能性があります。

00:13:35.000 -> 00:13:44.000
また、IDXGISwapChainで利用可能なタイミングとフィードバックを使用して、SDRとHDRコンテンツのペースを調整している可能性があります。

00:13:44.000 -> 00:13:51.000
CAMetalLayerの拡張ダイナミックレンジサポートにより、さらに高度なディスプレイ機能にアクセスできます。

00:13:51.000 -> 00:14:02.000
浮動小数点または10ビットの整数範囲、またはHDR10またはPQ10シェーダーに基づいているかどうかにかかわらず、HDRとトーンマッピングロジックを簡単に移動できます。

00:14:02.000 -> 00:14:10.000
CAMetalDisplayLink APIは、ゲームの入力と表示の待ち時間を最小にするためのきめ細かい制御を提供します。

00:14:10.000 -> 00:14:14.000
メタルレンダリングにEDRサポートを追加することについてのこれらの講演をチェックしてください。

00:14:14.000 -> 00:14:24.000
「iOSでEDRを探索する」は、macOSとiOSの間で一貫しているピクセルフォーマットとMetal APIを要約した素晴らしい講演です。

00:14:24.000 -> 00:14:36.000
「EDRでHDRレンダリングを探索する」プレゼンテーションは、EDR APIと機能を最大限に活用する方法を理解するための素晴らしい基盤を提供します。

00:14:36.000 -> 00:14:43.000
Apple Silicon Macプラットフォームには、ゲームをMacに持ち込むために必要なすべてのソフトウェアとハードウェア機能があります。

00:14:43.000 -> 00:14:49.000
Game Porting ToolkitとMetal Shader Converterを使用すると、ゲームをMacに持ち込むのがこれまで以上に簡単になります。

00:14:49.000 -> 00:14:58.000
パート2の「シェーダーのコンパイル」とパート3の「Render with Metal」を必ず続けてください。Macであなたのゲームをプレイするのが待ちきれません。

00:14:58.000 -> 23:59:59.000
♪ ♪

