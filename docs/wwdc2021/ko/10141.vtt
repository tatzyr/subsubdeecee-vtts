WEBVTT

00:00:00.000 --> 00:00:05.000
♪ 베이스 음악 연주 ♪

00:00:05.000 --> 00:00:10.000
♪

00:00:10.000 --> 00:00:13.000
Naiwei Zheng: 안녕하세요. WWDC에 오신 것을 환영합니다.

00:00:13.000 --> 00:00:15.000
제 이름은 정 나이웨이입니다.

00:00:15.000 --> 00:00:18.000
저는 애플의 HLS 스트리밍 팀에서 왔어요.

00:00:18.000 --> 00:00:27.000
오늘 저는 콘텐츠 스티어링이라는 HLS의 새로운 기능과 글로벌 스트리밍 가용성을 개선할 수 있는 방법에 대해 이야기할 것입니다.

00:00:27.000 --> 00:00:32.000
오늘날의 네트워크 연결은 세계적인 규모이다.

00:00:32.000 --> 00:00:36.000
스트리밍 미디어 제공 업체는 전 세계에 콘텐츠를 제공합니다.

00:00:36.000 --> 00:00:44.000
그러나, 세계적인 규모로 콘텐츠를 제공하는 것은 업계가 해결해야 할 엄청난 양의 도전과 함께 온다.

00:00:44.000 --> 00:00:52.000
우리 애플의 HLS 스트리밍 팀도 이러한 도전적인 문제를 인식하고 해결책을 제공하기 위해 끊임없이 노력하고 있습니다.

00:00:52.000 --> 00:00:57.000
오늘, 우리는 가용성 문제에 초점을 맞출 것이다.

00:00:57.000 --> 00:01:02.000
특히, 네트워크 혼잡 완화 및 오류 복구.

00:01:02.000 --> 00:01:07.000
우리가 이러한 문제를 이해하는 데 도움을 주기 위해, 예를 들어 봅시다.

00:01:07.000 --> 00:01:17.000
아시아의 인기 있는 스트리밍 제공 업체가 중국, 일본, 싱가포르의 세 나라에 CDN 인프라를 배치한다고 가정해 봅시다.

00:01:17.000 --> 00:01:22.000
이 그래프에서, 우리는 모든 것이 완벽한 상태로 작동하는 상태를 보여주고 있다.

00:01:22.000 --> 00:01:35.000
중국 사용자는 중국 CDN에서 스트리밍하고 일본 사용자는 일본 CDN에서 스트리밍하고 있으며, 두 CDN 네트워크 모두 가능한 수준에서 성능을 발휘하고 있습니다.

00:01:35.000 --> 00:01:38.000
이제, 몇 가지 변화를 소개해 봅시다.

00:01:38.000 --> 00:01:49.000
잠시 후, 중국 CDN에서 스트리밍하는 중국의 사용자들이 CDN 네트워크가 과부하가 될 정도로 크게 증가했다고 가정해 봅시다.

00:01:49.000 --> 00:01:56.000
우리가 가진 HLS 기술로, 이 네트워크 혼잡 문제를 완전히 해결하는 것은 어렵다.

00:01:56.000 --> 00:02:09.000
새로운 사용자를 다른 CDN에 할당할 수 있지만, 기존 클라이언트에게 다른 CDN을 사용하도록 지시하는 것은 어렵고, 기존 트래픽은 현재 CDN에 지속적으로 과부하가 걸릴 것이다.

00:02:09.000 --> 00:02:17.000
새로운 HLS 콘텐츠 스티어링 기능을 통해 콘텐츠 제공 업체는 자체 스티어링 서버를 호스팅하여 이 문제를 해결할 수 있습니다.

00:02:17.000 --> 00:02:24.000
최신 CDN 정책으로 업데이트하기 위해 모든 최신 HLS 클라이언트와 사이드 채널을 설정합니다.

00:02:24.000 --> 00:02:33.000
예를 들어, 중국 기존 고객의 30%에 정책 업데이트를 보내 일본 CDN으로 전환할 수 있습니다.

00:02:33.000 --> 00:02:41.000
그리고 정책 업데이트를 받는 고객은 변경 사항을 존중하고 네트워크 트래픽을 일본 CDN으로 리디렉션할 것이다.

00:02:41.000 --> 00:02:46.000
이제 중국 CDN의 네트워크 혼잡이 완화되었다.

00:02:46.000 --> 00:02:51.000
하지만 네트워크 혼잡은 많은 가용성 문제 중 하나일 뿐이다.

00:02:51.000 --> 00:02:54.000
네트워크가 중단되면 어떻게 되나요?

00:02:54.000 --> 00:02:56.000
다른 예를 들어보자.

00:02:56.000 --> 00:03:04.000
일본 사용자에서 일본 CDN으로의 네트워크 경로가 지역 정전을 경험했다고 가정해 봅시다.

00:03:04.000 --> 00:03:16.000
우리가 가진 HLS 기술을 통해 콘텐츠 제공 업체는 마스터 재생 목록에 대체 변형 스트림을 나열할 수 있으므로 고객은 작동하는 CDN에 도달할 때까지 목록을 살펴볼 수 있습니다.

00:03:16.000 --> 00:03:27.000
그러나 이 접근 방식은 콘텐츠 제공자가 마스터 재생 목록에 나열된 CDN의 순서나 우선 순위를 실시간으로 변경할 수 없다는 점에서 예비적이다.

00:03:27.000 --> 00:03:35.000
그러나, 스티어링 서버의 도움으로, 고객은 거의 실시간으로 최신 CDN 우선 순위로 업데이트될 것이다.

00:03:35.000 --> 00:03:41.000
좀 더 효율적인 오류 복구로 고객을 어떻게 용이하게 할 수 있는지 조금 되감자.

00:03:41.000 --> 00:03:49.000
네트워크 중단 전에, 일본의 고객들은 주기적으로 스티어링 서버에서 CDN 우선 순위 목록 업데이트를 가져옵니다.

00:03:49.000 --> 00:04:03.000
최신 업데이트에서 일본의 고객들은 싱가포르와 중국에 이어 일본 CDN이 가장 선호되는 다음과 같은 CDN 우선 순위 목록을 받았다고 가정해 봅시다.

00:04:03.000 --> 00:04:09.000
현재, 일본의 사용자들은 일본 CDN에서 스트리밍하고 있다.

00:04:09.000 --> 00:04:16.000
이제 네트워크 중단이 발생하면, 일본 CDN은 우선 순위 목록에서 불이익을 받는 것으로 표시될 것이다.

00:04:16.000 --> 00:04:26.000
클라이언트는 우선 순위 목록의 다음 CDN, 이 경우 싱가포르의 CDN으로 이동하고 네트워크 트래픽을 리디렉션할 것이다.

00:04:26.000 --> 00:04:32.000
이제 일본의 사용자들은 방해 없이 그들의 쇼를 계속 볼 수 있을 것이다.

00:04:32.000 --> 00:04:39.000
우리의 예시가 당신에게 보여준 것은 우리의 새로운 HLS 기능인 콘텐츠 스티어링에 대한 높은 수준의 개요일 뿐입니다.

00:04:39.000 --> 00:04:45.000
이제 이 놀라운 기능을 스트림에 통합하는 방법을 보여주기 위해 더 깊이 파고들어 봅시다.

00:04:45.000 --> 00:04:52.000
사용 가능한 모든 변형을 복제하는 다른 CDN URL의 간단한 목록일 뿐입니다.

00:04:52.000 --> 00:04:59.000
전에 설명했듯이, 이와 같은 재생 목록은 CDN 우선 순위의 일정하고 최종 순서를 가지고 있다.

00:04:59.000 --> 00:05:03.000
콘텐츠 제공자는 나중에 재생 중에 변경할 수 없습니다.

00:05:03.000 --> 00:05:10.000
이제 이 재생 목록에 콘텐츠 스티어링 지원을 추가하는 방법을 봅시다.

00:05:10.000 --> 00:05:14.000
당신은 그 변화가 얼마나 적게 도입되었는지 놀랄 것입니다.

00:05:14.000 --> 00:05:18.000
사실, 그 변화는 현재 HLS 클라이언트와 역호환된다.

00:05:18.000 --> 00:05:21.000
추가된 것을 살펴보자.

00:05:21.000 --> 00:05:34.000
특히, 우리는 이제 각 변형 스트림의 PATHWAY-ID 속성에 의해 변형 스트림을 다른 경로로 그룹화하며, 각 경로는 일반적으로 하나의 CDN에 해당합니다.

00:05:34.000 --> 00:05:46.000
이 예에서, 우리는 변형 스트림을 각각 중국, 일본, 싱가포르의 CDN을 대표하는 경로 CN, JP 및 SG로 그룹화합니다.

00:05:46.000 --> 00:05:54.000
그러나, 경로는 고급 사용 사례를 가능하게 하기 위해 다른 CDN의 변형 스트림을 포함할 수 있다.

00:05:54.000 --> 00:06:01.000
고객이 경로를 선택할 때, 그 경로의 변형 스트림만 변형 선택을 할 수 있다.

00:06:01.000 --> 00:06:10.000
새로운 CONTENT-STEERING 태그의 PATHWAY-ID 속성은 재생 시작 시 사용할 초기 경로를 지정합니다.

00:06:10.000 --> 00:06:18.000
따라서, 이 경우, 클라이언트는 초기 재생 시 CN 경로에 속하는 변형 스트림만 선택할 것이다.

00:06:18.000 --> 00:06:23.000
SERVER-URI 속성은 콘텐츠 스티어링 서버의 위치를 지정합니다.

00:06:23.000 --> 00:06:28.000
고객은 이 URI에서 콘텐츠 스티어링 업데이트를 가져올 것이다.

00:06:28.000 --> 00:06:31.000
하지만 재생 목록에 미디어 그룹이 포함되어 있다면 어떨까요?

00:06:31.000 --> 00:06:32.000
문제없어.

00:06:32.000 --> 00:06:36.000
콘텐츠 스티어링을 활성화하는 것은 여전히 매우 간단합니다.

00:06:36.000 --> 00:06:45.000
각 경로에 대한 미디어 그룹을 복제하고 고유한 그룹 ID로 할당하기만 하면 됩니다.

00:06:45.000 --> 00:06:56.000
예를 들어, 이 재생 목록의 오디오 그룹은 각 경로에 대해 복제되고 있으며, GROUP-ID는 CN 경로 등에 대해 CN-audio로 설정되어 있습니다.

00:06:56.000 --> 00:07:05.000
HLS 클라이언트가 콘텐츠 스티어링 태그가 있는 마스터 재생 목록을 로드하면, 약간 다른 시작 루틴을 트리거합니다.

00:07:05.000 --> 00:07:14.000
첫째, 초기 변형 스트림 선택을 수행할 때, 초기 경로의 변형 스트림만 사용합니다.

00:07:14.000 --> 00:07:22.000
그런 다음 평소와 같이 선택한 변형 스트림과 미디어 세그먼트를 로드하고 재생하기 시작합니다.

00:07:22.000 --> 00:07:30.000
하지만 일반적인 재생 루틴과 병행하여, 클라이언트는 백그라운드에서 정기적인 스티어링 매니페스트 요청을 시작할 것이다.

00:07:30.000 --> 00:07:36.000
스티어링 매니페스트 요청이 어떻게 생겼는지 살펴봅시다.

00:07:36.000 --> 00:07:45.000
마스터 재생 목록 URL을 기반으로 하는 SERVER-URI 속성에서 이 해결된 URI로 전송되는 간단한 HTTP GET 요청입니다.

00:07:45.000 --> 00:07:49.000
스티어링 서버는 스티어링 매니페스트로 응답할 것이다.

00:07:49.000 --> 00:07:53.000
예를 들어 그 형식을 해부해 봅시다.

00:07:53.000 --> 00:07:56.000
스티어링 매니페스트는 JSON 문서이다

00:07:56.000 --> 00:08:02.000
스티어링 서버는 각 고객을 위한 맞춤형 스티어링 매니페스트를 만들 수 있습니다.

00:08:02.000 --> 00:08:08.000
이것은 스티어링 서버가 관리되는 네트워크 트래픽을 형성하는 데 큰 잠재력을 제공한다.

00:08:08.000 --> 00:08:14.000
이 스티어링 매니페스트에서 가장 중요한 속성은 PATHWAY-PRIORITY 분야이다.

00:08:14.000 --> 00:08:21.000
그것은 그들의 우선순위에 따라 정렬된 경로 ID 목록이며, 첫 번째가 가장 선호된다.

00:08:21.000 --> 00:08:30.000
이 예에서, 우리는 CN 경로가 가장 선호되는 우선순위를 가지고 있으며, JP와 SG가 그 뒤를 잇는다.

00:08:30.000 --> 00:08:42.000
스티어링 서버에서 스티어링 매니페스트를 받으면, 클라이언트는 다른 경로로 전환할지 여부를 결정하기 위해 콘텐츠 스티어링 평가를 수행할 것이다.

00:08:42.000 --> 00:08:47.000
먼저, 클라이언트는 선택할 수 없는 변형 스트림을 제외할 것이다.

00:08:47.000 --> 00:08:52.000
여기에는 네트워크 오류로 인해 불이익을 받은 변형 스트림이 포함됩니다.

00:08:52.000 --> 00:09:00.000
그리고 또한, 일반적인 변형 선택과 마찬가지로 지원되지 않는 코덱이 있는 변형 스트림이 가능합니다.

00:09:00.000 --> 00:09:11.000
그것은 적어도 하나의 적격 변형 스트림을 가지고 있고 모든 적격 경로 중에서 가장 높은 경로 우선 순위를 가진 경로를 선택할 것이다.

00:09:11.000 --> 00:09:20.000
선택한 경로가 현재 사용 중인 경로와 다르다면, 고객은 즉시 새로운 경로로 전환할 것이다.

00:09:20.000 --> 00:09:31.000
적절한 경로가 선택되지 않았거나 이미 선택한 경로를 사용하고 있다면, 고객은 아무것도 하지 않고 현재 경로를 사용하여 계속 플레이할 것이다.

00:09:31.000 --> 00:09:39.000
마지막으로, 고객은 스티어링 서버에서 최신 업데이트를 가져오기 위해 다음 스티어링 매니페스트 요청을 예약할 것이다.

00:09:39.000 --> 00:09:42.000
그래서 이 일정은 어떻게 작동하나요?

00:09:42.000 --> 00:09:45.000
스티어링 매니페스트를 검토해 봅시다.

00:09:45.000 --> 00:09:56.000
다음 스티어링 매니페스트 요청을 보낼 때까지 클라이언트가 기다려야 하는 초 수를 지정하는 TTL 필드가 있습니다.

00:09:56.000 --> 00:10:12.000
이 예에서, 고객이 이 스티어링 매니페스트의 경로 우선 순위 목록을 사용하여 콘텐츠 스티어링 평가를 수행한 후, 다음 스티어링 매니페스트 요청을 300초(5분)로 예약합니다.

00:10:12.000 --> 00:10:24.000
또한 스티어링 서버가 각 스티어링 매니페스트 응답에서 이 TTL 값을 변경할 수 있으며, 클라이언트가 다음 요청을 예약해야 하는 시간에 영향을 미친다는 점도 주목할 가치가 있다.

00:10:24.000 --> 00:10:33.000
또한 스티어링 서버가 서버 부하를 분배하기 위해 각 클라이언트의 TTL 값에 무작위성을 주입하는 데 유용합니다.

00:10:33.000 --> 00:10:41.000
또한, 선택적 RELOAD-URI 필드는 고객에게 다음 스티어링 매니페스트를 요청할 위치를 알려줍니다.

00:10:41.000 --> 00:10:50.000
스티어링 서버는 이 필드를 활용하여 URL에 클라이언트별 상태 또는 세션 데이터를 주입하여 다음 요청에서 다시 반향할 수 있습니다.

00:10:50.000 --> 00:10:55.000
이제 당신은 콘텐츠 스티어링의 주요 기술적 세부 사항을 보았습니다.

00:10:55.000 --> 00:11:02.000
초기 사례 중 하나로 돌아가서 후드 아래에서 어떻게 작동하는지 봅시다.

00:11:02.000 --> 00:11:18.000
이 경우, 중국의 모든 사용자가 CN 경로가 가장 선호되는 스티어링 매니페스트를 받았고, 해당 중국 CDN은 사용자 수가 증가함에 따라 과부하가 걸리고 있다고 가정해 봅시다.

00:11:18.000 --> 00:11:30.000
그래서 스티어링 서버가 작동했고, 중국 사용자의 30%에게 다른 스티어링 매니페스트를 보냈고, 가장 선호하는 경로가 JP로 바뀌었다.

00:11:30.000 --> 00:11:47.000
콘텐츠 스티어링 평가를 수행한 후, 중국의 30% 고객은 JP 경로로 전환하여 네트워크 트래픽을 일본의 CDN으로 리디렉션하여 중국 CDN의 네트워크 혼잡 상황을 해결할 것이다.

00:11:47.000 --> 00:11:56.000
마무리하기 위해, 우리는 콘텐츠 스티어링의 새로운 HLS 기능을 소개하고, 어떻게 작동하는지, 그리고 스트림에 통합하는 방법을 설명했습니다.

00:11:56.000 --> 00:12:03.000
이 놀라운 기능을 사용하면 글로벌 스트리밍 가용성을 미세 조정할 수 있습니다.

00:12:03.000 --> 00:12:10.000
더 기술적인 세부사항을 원하시면, "HLS 콘텐츠 스티어링 사양"에 대한 이 비디오 아래의 링크를 따라가세요.

00:12:10.000 --> 00:12:20.000
또한 재생 목록과 스티어링 매니페스트 유효성 검사는 최신 HTTP 라이브 스트리밍 도구에서도 지원된다는 것을 알려드리고 싶습니다.

00:12:20.000 --> 00:12:28.000
저는 또한 HLS Interest IETF 포럼에서 업계 회원들로부터 받은 피드백과 도움을 인정하고 싶습니다.

00:12:28.000 --> 00:12:33.000
향후 피드백과 제안도 환영합니다.

00:12:33.000 --> 00:12:41.000
그리고 이 모든 것이 제자리에 있으면, HLS 콘텐츠 스티어링은 올해의 WWDC 시드 빌드에서 개발자와 사용자가 사용할 수 있습니다.

00:12:41.000 --> 00:12:54.000
따라서, 더 많은 가용성으로 더 나은 글로벌 스트리밍을 원한다면, HLS 콘텐츠 스티어링을 스트림에 통합하고 고객에게 더 나은 스트리밍 경험을 제공하기 위해 지금 행동하십시오.

00:12:54.000 --> 00:12:55.000
정말 고마워.

00:12:55.000 --> 23:59:59.000
♪

