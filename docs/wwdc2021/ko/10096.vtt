WEBVTT

00:00:00.000 --> 00:00:05.000
♪ 베이스 음악 연주 ♪

00:00:05.000 --> 00:00:09.000
♪

00:00:09.000 --> 00:00:19.000
토미 폴리: 안녕하세요, 저는 토미 폴리입니다. 제 동료 델지엘과 함께 인터넷 프라이버시의 흥미진진한 새로운 기능을 소개해 드리겠습니다.

00:00:19.000 --> 00:00:29.000
iCloud Private Relay는 네트워크와 서버가 인터넷을 통해 사용자 활동을 모니터링하는 것을 방지하는 새로운 서비스입니다.

00:00:29.000 --> 00:00:34.000
그리고 그것은 모든 iCloud+ 구독의 일부로 사용할 수 있습니다.

00:00:34.000 --> 00:00:51.000
비공개 릴레이는 사용자가 웹을 탐색할 때 사용자를 보호할 뿐만 아니라 앱에서 생성된 트래픽에 대한 보호를 추가하여 의도치 않게 사용자 정보를 유출하거나 사용자를 보안 공격에 노출시키지 않도록 합니다.

00:00:51.000 --> 00:01:11.000
오늘, 당신은 iCloud 개인 릴레이가 무엇이며 앱에 어떤 영향을 미치는지, 앱이 개인 릴레이와 잘 작동하는지 확인하는 방법, 웹사이트와 서버를 준비하는 방법, 마지막으로 개인 릴레이가 활성화되었을 때 네트워크를 관리하고 트래픽을 모니터링하는 방법을 배우게 될 것입니다.

00:01:11.000 --> 00:01:14.000
시작하자.

00:01:14.000 --> 00:01:22.000
비공개 릴레이는 iOS와 macOS에 내장되어 있으므로, 앱에서 채택하기 위해 아무것도 할 필요가 없습니다.

00:01:22.000 --> 00:01:26.000
그것이 항상 당신의 앱에 영향을 미치지는 않는다는 것을 이해하는 것도 중요합니다.

00:01:26.000 --> 00:01:34.000
사용자가 iCloud+ 구독자이고 비공개 릴레이를 활성화한 경우에만 적용됩니다.

00:01:34.000 --> 00:01:38.000
넌 아마 궁금해할 거야, 그게 실제로 뭘 하는 거야?

00:01:38.000 --> 00:01:42.000
현재 개인 릴레이 없이 작동하는 방법은 다음과 같습니다.

00:01:42.000 --> 00:01:54.000
누군가가 인터넷에 접속하면, 로컬 네트워크의 모든 사람은 DNS 쿼리 검사를 기반으로 액세스하는 모든 웹사이트의 이름을 볼 수 있습니다.

00:01:54.000 --> 00:02:01.000
이 정보는 사용자의 지문을 찍고 시간이 지남에 따라 활동 기록을 만드는 데 사용될 수 있습니다.

00:02:01.000 --> 00:02:13.000
공공 Wi-Fi 운영자, 네트워크의 다른 사용자 또는 인터넷 서비스 제공 업체 등 아무도 이 모든 정보를 조용히 수집할 수 없어야 합니다.

00:02:13.000 --> 00:02:20.000
연결이 웹사이트를 실행하는 서버에 도달하면, 해당 서버는 사용자의 IP 주소를 볼 수 있습니다.

00:02:20.000 --> 00:02:26.000
이것은 서버가 명시적인 허가 없이 사용자 위치를 결정할 수 있게 해준다.

00:02:26.000 --> 00:02:42.000
더 나쁜 것은, 서버는 사파리의 지능형 추적 방지와 같은 도구가 쿠키를 통해 상관 관계를 방지하는 경우에도 사용자 신원을 지문으로 찍고 다른 웹사이트에서 사용자를 인식할 수 있다는 것이다.

00:02:42.000 --> 00:02:53.000
이것들은 사용자 개인 정보 보호에 큰 문제이며, 이를 해결하기 위해, 우리는 설계에 의해 개인 정보 보호가 내장된 새로운 접근 방식이 필요합니다.

00:02:53.000 --> 00:03:01.000
iCloud 개인 릴레이는 사용자 트래픽을 라우팅하고 비공개로 유지하는 데 도움이 되는 여러 보안 프록시를 추가합니다.

00:03:01.000 --> 00:03:04.000
프록시는 별도의 엔티티에 의해 운영된다.

00:03:04.000 --> 00:03:09.000
하나는 애플이고, 다른 하나는 콘텐츠 제공자이다.

00:03:09.000 --> 00:03:20.000
이제, 누군가가 인터넷에 접속할 때, 클라이언트 IP 주소만 네트워크 공급자와 첫 번째 프록시 모두에게 표시됩니다.

00:03:20.000 --> 00:03:29.000
두 번째 프록시는 사용자가 요청하는 이름만 보고 서버에 대한 연결을 구축하는 데 사용합니다.

00:03:29.000 --> 00:03:39.000
이 체인의 어느 누구도 - 심지어 애플도 - 클라이언트 IP 주소와 사용자가 액세스하는 것을 모두 볼 수 없다는 점에 유의하는 것이 중요합니다.

00:03:39.000 --> 00:03:43.000
지문 채취의 기회는 제거되었다.

00:03:43.000 --> 00:03:48.000
이것은 디자인에 의한 사생활이다.

00:03:48.000 --> 00:03:59.000
개인 릴레이는 최신 전송 프로토콜과 개인 정보 보호 인증을 사용하여 모든 거래가 안전하고 빠르도록 합니다.

00:03:59.000 --> 00:04:07.000
"애플의 개인 정보 보호 기둥" 세션에서 이 기술에 대해 자세히 알아볼 수 있습니다.

00:04:07.000 --> 00:04:15.000
프라이빗 릴레이는 사용자 경험에 영향을 미치지 않고 시스템에서 가장 민감한 트래픽을 보호하는 데 초점을 맞추고 있다.

00:04:15.000 --> 00:04:30.000
iOS 15 및 macOS 12에서 개인 릴레이는 Safari의 모든 웹 브라우징, 모든 DNS 이름 확인 쿼리 및 앱의 작은 트래픽 하위 집합에 적용됩니다.

00:04:30.000 --> 00:04:39.000
특히, 여기에는 TCP 포트 80과 같은 모든 안전하지 않은 HTTP 트래픽이 포함됩니다.

00:04:39.000 --> 00:04:51.000
앱이 콘텐츠 필터 또는 유해 콘텐츠 차단 필터를 제공하는 경우, 비공개 릴레이를 통과하기 전에 여전히 트래픽을 볼 수 있으므로 이전과 마찬가지로 필터를 적용할 수 있습니다.

00:04:51.000 --> 00:04:57.000
"Meet the Screen Time API" 세션에서 이에 대해 자세히 알아볼 수 있습니다.

00:04:57.000 --> 00:05:07.000
앱에서 수행되는 모든 네트워킹이 공용 인터넷을 통해 발생하는 것은 아니므로, 개인 릴레이의 영향을 받지 않는 몇 가지 트래픽 범주가 있습니다.

00:05:07.000 --> 00:05:15.000
앱이 로컬 네트워크 또는 개인 도메인 이름을 통해 이루어지는 모든 연결은 영향을 받지 않습니다.

00:05:15.000 --> 00:05:30.000
마찬가지로, 앱이 VPN 또는 앱 프록시 기능을 추가하기 위한 네트워크 확장을 제공하는 경우, 확장 프로그램은 개인 릴레이를 사용하지 않으며 확장 프로그램을 사용하는 앱 트래픽도 사용하지 않습니다.

00:05:30.000 --> 00:05:34.000
프록시를 사용하는 트래픽도 면제됩니다.

00:05:34.000 --> 00:05:42.000
다음으로, 앱이 프라이빗 릴레이와 잘 작동할 준비가 되었는지 확인하기 위해 해야 할 일을 다루겠습니다.

00:05:42.000 --> 00:05:47.000
좋은 소식은 거의 모든 앱에서 새로운 것을 할 필요가 없다는 것입니다!

00:05:47.000 --> 00:05:50.000
개인 릴레이는 그냥 작동할 거야.

00:05:50.000 --> 00:05:55.000
하지만, 당신이 알아야 할 몇 가지 모범 사례가 있습니다.

00:05:55.000 --> 00:05:59.000
개인 릴레이는 어떤 네트워킹 API를 사용하든 상관없이 작동합니다.

00:05:59.000 --> 00:06:09.000
몇 년 동안, 우리는 당신의 앱이 URLSession 및 NWConnection과 같은 최신 API를 사용할 것을 권장해 왔습니다.

00:06:09.000 --> 00:06:13.000
이제, 앱 전체에서 그것들을 채택해야 할 이유가 하나 더 있습니다.

00:06:13.000 --> 00:06:22.000
이 API는 프라이빗 릴레이가 트래픽에 어떻게 적용되는지 이해할 수 있는 최고의 도구를 제공합니다.

00:06:22.000 --> 00:06:34.000
URLSession을 사용하는 경우, Private Relay를 거치는 경우에도 Network Xcode Instrument를 사용하여 작업을 검사할 수 있습니다.

00:06:34.000 --> 00:06:42.000
"인스트루먼트에서 HTTP 트래픽 분석" 세션에서 이 작업을 수행하는 방법에 대해 자세히 알아볼 수 있습니다.

00:06:42.000 --> 00:06:52.000
그리고 URLSession과 Network.framework 모두에서 메트릭 API를 사용하여 연결이 개인 릴레이를 사용하는 경우를 이해할 수 있습니다.

00:06:52.000 --> 00:07:00.000
TaskTransactionMetrics에서 작업이 프록시를 사용했는지 확인할 수 있습니다.

00:07:00.000 --> 00:07:12.000
NWConnection의 EstablishmentReport에서 DNS 이름 확인의 타이밍과 프록시 연결 설정의 각 단계를 검사할 수도 있습니다.

00:07:12.000 --> 00:07:20.000
프라이빗 릴레이는 암호화되지 않고 안전하지 않은 HTTP 연결을 과거의 일로 만들기 위해 큰 발걸음을 내디뎠다.

00:07:20.000 --> 00:07:23.000
당신도 이 노력에 참여할 수 있습니다!

00:07:23.000 --> 00:07:32.000
여전히 안전하지 않은 HTTP를 사용하고 있다면 -- 그것은 TCP 포트 80의 연결입니다 -- 지금이 변경해야 할 때입니다.

00:07:32.000 --> 00:07:43.000
사설 릴레이가 활성화되면, 이러한 안전하지 않은 연결은 프록시되어 클라이언트와 프록시 사이의 로컬 네트워크의 공격자로부터 보호합니다.

00:07:43.000 --> 00:07:51.000
그러나, 모든 사용자에게 연결을 처음부터 끝까지 안전하게 연결하는 것이 가장 좋습니다.

00:07:51.000 --> 00:08:02.000
이렇게 하려면, 서버가 TLS를 지원하는지 확인하고 URL을 http://에서 https://로 변경하십시오.

00:08:02.000 --> 00:08:08.000
당신의 앱에는 안전하지 않은 트래픽을 허용하는 앱 전송 보안에 대한 예외가 있을 수 있습니다.

00:08:08.000 --> 00:08:18.000
이 목록을 보고 앱이 사용하는 안전하지 않은 트래픽을 감사하고 이러한 예외를 제거할 수 있습니다.

00:08:18.000 --> 00:08:33.000
앱이 위치를 기반으로 기능을 제공하는 경우, IP 주소에서 위치를 추론하는 서버에 의존하는 대신 Core Location의 API를 사용하고 있는지 확인하기에 좋은 시기이기도 합니다.

00:08:33.000 --> 00:08:40.000
IP 주소 지리적 위치는 종종 신뢰할 수 없고 부정확하다.

00:08:40.000 --> 00:08:49.000
핵심 위치를 사용하면 필요한 위치의 정밀도를 지정할 수 있으며 명시적인 사용자 권한을 기반으로 합니다.

00:08:49.000 --> 00:08:58.000
"Apple의 개인 정보 보호 기둥에 초점을 맞춘" 세션에서 위치 액세스에 대한 최신 개선 사항에 대해 자세히 알아볼 수 있습니다.

00:08:58.000 --> 00:09:03.000
앱이 개인 릴레이를 위한 준비가 되었는지 확인했으면, 시도해 보세요!

00:09:03.000 --> 00:09:16.000
iCloud+ 구독으로 iPhone, iPad 또는 Mac에 로그인하고, 설정 앱의 iCloud 섹션이나 시스템 환경 설정에서 개인 릴레이가 활성화되어 있는지 확인하세요.

00:09:16.000 --> 00:09:22.000
피드백 앱에서 "iCloud Private Relay" 태그로 피드백을 제공할 수 있습니다.

00:09:22.000 --> 00:09:25.000
이제 나는 그것을 내 동료인 Delziel에게 넘겨줄 것이다.

00:09:25.000 --> 00:09:27.000
델지엘 페르난데스: 고마워, 토미.

00:09:27.000 --> 00:09:35.000
안녕하세요, 저는 Delziel Fernandes입니다. 개인 릴레이로 서버를 준비하고 네트워크를 관리하는 방법에 대해 이야기하겠습니다.

00:09:35.000 --> 00:09:45.000
앱이 의존하는 서버가 있거나 Safari에서 사용자가 액세스할 수 있는 경우, 비공개 릴레이를 준비하기 위해 할 수 있는 몇 가지 일이 있습니다.

00:09:45.000 --> 00:09:53.000
서버는 프록시 IP 주소를 인식하여 개인 릴레이를 사용하여 들어오는 연결을 식별할 수 있습니다.

00:09:53.000 --> 00:09:58.000
이러한 프록시 IP 주소는 지역 내의 많은 사용자가 공유할 수 있습니다.

00:09:58.000 --> 00:10:02.000
각 주소는 특정 도시나 지역에 매핑됩니다.

00:10:02.000 --> 00:10:10.000
따라서 올바른 지리 IP 매핑 데이터베이스를 적용하면 서버에는 여전히 관련 정보가 있습니다.

00:10:10.000 --> 00:10:21.000
개인 릴레이는 사용자가 시스템을 사용하여 다른 지역에서 온 척 할 수 없도록 보장하므로 지역 기반 액세스 제한을 계속 시행할 수 있습니다.

00:10:21.000 --> 00:10:27.000
프록시 IP 주소에 대한 자세한 내용은 이 세션과 관련된 기사로 제공됩니다.

00:10:27.000 --> 00:10:32.000
이제 사설 릴레이를 사용하는 장치의 네트워크 연결을 살펴봅시다.

00:10:32.000 --> 00:10:38.000
장치가 서버에 액세스하려고 할 때, 먼저 인그레스 프록시에 대한 네트워크 연결을 설정합니다.

00:10:38.000 --> 00:10:44.000
이 연결은 네트워크 공급자가 할당한 IP 주소를 사용하여 설정됩니다.

00:10:44.000 --> 00:10:52.000
그런 다음 장치는 인그레스 프록시를 사용하여 인그레스 프록시 IP 주소를 사용하여 네트워크 요청을 출구 프록시로 전달합니다.

00:10:52.000 --> 00:11:02.000
그런 다음 출구 프록시는 장치의 도시 또는 지역에 매핑되는 IP 주소를 선택하여 이러한 요청을 대상 서버로 전달합니다.

00:11:02.000 --> 00:11:12.000
일반적으로, 서버와 웹사이트는 사용자 위치나 신원을 결정하기 위해 클라이언트 IP 주소에만 의존하는 것을 중단해야 합니다.

00:11:12.000 --> 00:11:20.000
위치 액세스가 필요한 경우, 사용자의 위치를 명시적으로 요청하는 것을 고려하십시오.

00:11:20.000 --> 00:11:32.000
사용자를 식별해야 하는 경우, IP 주소가 신원과 연결되어 있다고 가정하는 대신 로그인이나 다른 형태의 명시적인 식별을 요청하십시오.

00:11:32.000 --> 00:11:39.000
마지막으로, 개인 릴레이가 사용 중일 때 네트워크를 관리하기 위한 몇 가지 팁을 다루겠습니다.

00:11:39.000 --> 00:11:47.000
사설 릴레이를 사용할 때 로컬 네트워크에서 패킷 추적을 실행하는 경우, 새로운 트래픽 패턴을 볼 수 있습니다.

00:11:47.000 --> 00:11:52.000
이제 UDP 포트 443에서 실행되는 더 많은 트래픽을 볼 수 있습니다.

00:11:52.000 --> 00:11:59.000
이것은 개인 릴레이 프록시와 통신하는 데 사용되는 QUIC 또는 HTTP/3 트래픽입니다.

00:11:59.000 --> 00:12:11.000
네트워크에서 UDP 포트 443을 허용하고 라우터 또는 네트워크 주소 번역기가 잘 처리되도록 조정되도록 함으로써 트래픽이 잘 작동하는지 확인할 수 있습니다.

00:12:11.000 --> 00:12:16.000
또한 네트워크에서 일반 텍스트 UDP DNS 쿼리를 더 적게 볼 수 있습니다.

00:12:16.000 --> 00:12:22.000
사설 릴레이를 사용하지 않을 때 장치의 일반적인 네트워크 연결 요청을 살펴봅시다.

00:12:22.000 --> 00:12:29.000
장치가 서버에 액세스하려고 할 때, 먼저 서버의 호스트 이름에 대한 DNS 쿼리를 보냅니다.

00:12:29.000 --> 00:12:39.000
호스트 이름이 IP 주소로 확인되면, 장치는 TCP와 같은 전송 프로토콜을 사용하여 서버의 IP 주소에 연결합니다.

00:12:39.000 --> 00:12:49.000
그런 다음 장치는 서버와 TCP 3방향 핸드셰이크를 수행한 후 TLS 교환을 수행하여 서버와의 보안 연결을 설정합니다.

00:12:49.000 --> 00:13:02.000
하지만 보시다시피, 개인 릴레이 없이, 서버의 호스트 이름과 서버에 연결하는 장치의 IP 주소는 단순히 네트워크에서 패킷을 관찰함으로써 볼 수 있습니다.

00:13:02.000 --> 00:13:09.000
개인 릴레이를 사용하면, 장치는 먼저 QUIC 또는 HTTP/3을 사용하여 진입 프록시에 대한 연결을 설정합니다.

00:13:09.000 --> 00:13:16.000
패킷 캡처에서, 당신은 UDP 패킷이 진입 프록시의 포트 443으로 전송되는 것을 보게 될 것입니다.

00:13:16.000 --> 00:13:26.000
인그레스 프록시에 대한 네트워크 연결이 설정되면, 서버에 대한 액세스는 인그레스 프록시에 대한 연결 내에서 보호됩니다.

00:13:26.000 --> 00:13:29.000
서버 쪽에서는 프로토콜에 변화가 없다.

00:13:29.000 --> 00:13:33.000
TCP/TLS 교환은 사설 릴레이가 없는 트래픽과 비슷하다.

00:13:33.000 --> 00:13:43.000
유일한 차이점은 서버가 장치의 IP 주소 대신 프록시 IP 주소에서 들어오는 연결을 본다는 것입니다.

00:13:43.000 --> 00:13:47.000
대부분의 네트워크는 모든 사용자 트래픽을 감사하거나 모니터링할 필요가 없습니다.

00:13:47.000 --> 00:13:56.000
그러나, 기업이나 학교 네트워크를 운영하는 경우, 네트워크에는 모든 트래픽을 가로채야 하는 정책이 있을 수 있습니다.

00:13:56.000 --> 00:14:02.000
이 사용 사례를 지원하기 위해, iCloud 개인 릴레이 프록시 서버의 호스트 이름을 차단할 수 있습니다.

00:14:02.000 --> 00:14:11.000
그런 다음, 장치가 네트워크에 연결되면, 사용자는 현재 네트워크에서 개인 릴레이가 차단되었음을 나타내는 프롬프트를 받게 됩니다.

00:14:11.000 --> 00:14:18.000
그런 다음 해당 네트워크의 개인 릴레이를 비활성화하거나 네트워크를 전환하도록 선택할 수 있습니다.

00:14:18.000 --> 00:14:24.000
프록시 호스트 이름에 대한 정보는 이 세션과 관련된 기사로 제공됩니다.

00:14:24.000 --> 00:14:31.000
유해 콘텐츠 차단의 경우, 가장 좋은 해결책은 NetworkExtension 프레임워크에서 제공하는 콘텐츠 필터 API를 사용하는 것입니다.

00:14:31.000 --> 00:14:36.000
이를 통해 개인 릴레이가 활성화된 경우에도 장치에서 트래픽을 감사할 수 있습니다.

00:14:36.000 --> 00:14:45.000
콘텐츠 필터 API에 대한 자세한 내용은 "Meet the Screen Time API" 및 "최상 Mac용 네트워크 확장" 세션을 시청하십시오.

00:14:45.000 --> 00:15:00.000
마무리하려면, 앱에서 URLSession과 같은 최신 보안 네트워킹 API를 사용하고, 비공개 릴레이로 앱을 테스트하고, 서버와 웹사이트가 비공개 릴레이를 통해 라우팅된 연결을 받을 때 잘 작동하는지 확인하십시오.

00:15:00.000 --> 00:15:01.000
시청해 주셔서 감사합니다, 여러분!

00:15:01.000 --> 23:59:59.000
♪

