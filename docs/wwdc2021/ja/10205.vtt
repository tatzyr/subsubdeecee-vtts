WEBVTT

00:00:00.000 --> 00:00:10.000
みなさん、こんにちは。

00:00:10.000 --> 00:00:15.000
私の名前はキーランで、ソースコントロール技術に取り組んでいるXcodeエンジニアです。

00:00:15.000 --> 00:00:25.000
Xcode 13は、コードレビューモードを完全に再考し、アプリの品質を向上させるのに役立つ新しいコラボレーションワークフローを導入します。

00:00:25.000 --> 00:00:30.000
このセッションでは、アプリFrutaで典型的なワークフローをご案内します。

00:00:30.000 --> 00:00:42.000
Xcode 13の新しいコードレビューとプルリクエスト機能を使用して、バグを見つけ、フィードバックを得て、それらの変更を統合し、同僚にフィードバックを提供します。

00:00:42.000 --> 00:00:44.000
始めましょう。

00:00:44.000 --> 00:00:49.000
私の仕事の大部分は、ユーザーが報告した問題を調べることです。

00:00:49.000 --> 00:00:54.000
バグを修正するには、まずそれがいつ、なぜ起こり始めたのかを理解する必要があります。

00:00:54.000 --> 00:01:01.000
コードの変更を通して時間をさかのぼることで、私はしばしばコードレビューモードを使用して原因を把握することができます。

00:01:01.000 --> 00:01:08.000
私たちが言及したApp Storeのレビューの1つは、私たちのアプリに最近行われたいくつかのUIの変更が正しく見えないということです。

00:01:08.000 --> 00:01:14.000
私は問題が何であるかをかなりよく知っているので、先に進んでいくつかの変更を加え始めます。

00:01:14.000 --> 00:01:19.000
入力を開始すると、変更はソースエディタの溝に表示されます。

00:01:19.000 --> 00:01:26.000
変更されたすべてのものについて良いアイデアを持つことができるように、以前の値が何であるかを知ることは本当に有用だと思います。

00:01:26.000 --> 00:01:29.000
このため、私はコードレビューモードに飛び込むことができます。

00:01:29.000 --> 00:01:40.000
エディタバーの[コードレビュー]ボタンをクリックするだけで、ローカル編集と最新のリビジョンの比較を確認できます。

00:01:40.000 --> 00:01:52.000
ドキュメントに取り組んでいる間、コードレビューモードは、私が行っている編集を継続的に強調表示するので、最後のコミットから何が変更されたかを常に知っています。

00:01:52.000 --> 00:01:59.000
ファイルに複数の編集を行った場合、下部バーのステッピングコントロールは、私が行った変更の数を示しています。

00:01:59.000 --> 00:02:04.000
矢印アイコンをクリックすると、コードの変更間がジャンプします。

00:02:04.000 --> 00:02:08.000
そうすれば、自分で編集を探してファイルをスクロールする必要はありません。 そうすれば、

00:02:08.000 --> 00:02:14.000
時々、何が変わったかを並べて見やすくなりますが、私は自分の変更をインラインで見ることを好みます。

00:02:14.000 --> 00:02:22.000
Xcodeはどちらのスタイルでも変更を表示でき、右上のエディタメニューを使用して2つを切り替えることができます。

00:02:22.000 --> 00:02:26.000
UIのバグに関するすべての問題をキャッチしたことを確認したい。

00:02:26.000 --> 00:02:33.000
バグがどこから来たのかを本当に掘り下げて理解するには、アプリのリリース間で何が変わったかを確認する必要があります。

00:02:33.000 --> 00:02:39.000
下のバーのコミットコントロールを使用して、これらの比較を設定できます。

00:02:39.000 --> 00:02:50.000
Xcode 13では、ブランチ、タグ、最新の場所全体でコミットを選択できるため、任意の2つのポイント間でアプリの変更を簡単に確認できます。

00:02:50.000 --> 00:03:00.000
私は通常、TestFlightsまたはApp Storeに提出するたびにリリースブランチをカットするので、そのリリースに関連するコードの2つのバージョンを見ていきます。

00:03:00.000 --> 00:03:07.000
コミットを選択すると、Xcodeはドキュメントの2つの歴史的なバージョンの比較を表示します。

00:03:07.000 --> 00:03:14.000
ハイライトの色は紫とオレンジに変わり、一番下のバーに表示されるコミットに対応します。

00:03:14.000 --> 00:03:20.000
以前と同様に、ステッピングコントロールを使用して変更を移動できます。

00:03:20.000 --> 00:03:25.000
インラインまたはサイドバイサイドで比較を見ることができます。

00:03:25.000 --> 00:03:33.000
この比較を調べ終わったら、一番下のバーのリセットボタンを使って、最新の変更にすばやく戻すことができます。

00:03:33.000 --> 00:03:38.000
通常、私がアプリに加えた変更は、複数のファイルにまたがります。

00:03:38.000 --> 00:03:47.000
1つのファイル内の変更を調べるのは本当に便利ですが、プロジェクト全体で変更したすべてのファイルの概要が知りたいことがよくあります。

00:03:47.000 --> 00:03:55.000
ソースコントロールナビゲーターの新しい変更タブのおかげで、前回のコミット以降に変更したすべてのファイルのリストを見ることができます。

00:03:55.000 --> 00:04:02.000
それらのいずれかをクリックすると、自動的にコードレビューモードに入り、そのファイルで行ったすべての変更が表示されます。

00:04:02.000 --> 00:04:08.000
私はファイル間を切り替えて、私が行った他の編集をすぐに思い出させるのが好きです。

00:04:08.000 --> 00:04:16.000
成分を表示するときに私たちのアプリにこの問題が発生する理由がわかったので、私はそれを修正するために私の変更で新しいブランチを作成します。

00:04:16.000 --> 00:04:23.000
ブランチの作成と切り替えは私がよくやっていることであり、Xcode 13にはそれを行うための素晴らしい新しい方法があります。

00:04:23.000 --> 00:04:30.000
Xcodeのツールバーに現在のブランチが表示されるようになりました。これは、私が最後に取り組んでいたことを思い出させるのに役立ちます。

00:04:30.000 --> 00:04:36.000
それをクリックすると、最近取り組んだブランチをすばやく切り替えることができます。

00:04:36.000 --> 00:04:51.000
この場合、セカンダリメニューを使用して修正用のブランチを作成します。

00:04:51.000 --> 00:04:56.000
コードレビューモードで履歴を探索した後、バグの修正を考え出すことができました。

00:04:56.000 --> 00:05:01.000
解決策が提案されたので、コードの変更に関するフィードバックをもらいたいです。

00:05:01.000 --> 00:05:10.000
私はコードベースのこの部分に完全に精通していないので、私の変更が他の問題を引き付けないことをチームメイトに確認してもらいたいです。

00:05:10.000 --> 00:05:14.000
コード変更で同僚と協力するために、プルリクエストを作成します。

00:05:14.000 --> 00:05:22.000
GitHubとBitbucket Serverの新しい統合サポートを使用して、Xcode 13から直接行うことができます。

00:05:22.000 --> 00:05:26.000
ソースコントロールのポップオーバーから直接プルリクエストを作成できます。

00:05:26.000 --> 00:05:34.000
Xcodeは、私のブランチとデフォルトのアップストリームブランチにマージするためのドラフトプルリクエストを作成します。この場合はメインです。

00:05:34.000 --> 00:05:39.000
公開する前に、修正に関する情報を含むプルリクエストを準備できます。

00:05:39.000 --> 00:05:50.000
コミットしてブランチにプッシュした変更は、変更ナビゲーターのプルリクエストセクションに表示され、公開後に含まれる変更のプレビューが表示されます。

00:05:50.000 --> 00:05:58.000
ローカル変更セクションでは、コミットしてプッシュするまでプルリクエストに含まれないファイルを表示できます。

00:05:58.000 --> 00:06:13.000
プルリクエストの内容に満足したら、タイトルと説明を与えます。 タイトルと説明します。

00:06:13.000 --> 00:06:30.000
特に数人のチームメイトにこの変更を確認してもらいたいので、参加者ボタンをクリックしてレビュアーとしてタグ付けします。

00:06:30.000 --> 00:06:37.000
フィードバックを待って他のブランチに切り替えると、Xcodeはどのプルリクエストを表示するかを把握します。

00:06:37.000 --> 00:06:44.000
Xcodeは、ソースブランチと現在のブランチに基づいて、関連するプルリクエストを決定します。

00:06:44.000 --> 00:06:50.000
ブランチを切り替えると、Xcodeは既存のプルリクエストを自動的に検出します。

00:06:50.000 --> 00:06:56.000
私は少し前にプルリクエストを公開し、その後、私のチームは私にいくつかのフィードバックを残しました。

00:06:56.000 --> 00:06:58.000
今、それを見てみましょう。 

00:06:58.000 --> 00:07:07.000
変更ナビゲーターでプルリクエストを選択すると、プルリクエストの概要と、公開してから起こったすべてのことを確認できます。

00:07:07.000 --> 00:07:11.000
私のチームは私のコードに関するフィードバックを残してくれました。

00:07:11.000 --> 00:07:19.000
必要に応じて、これらのディスカッションに返信するか、「変更を表示」をクリックして、コードレビューモードでファイルに直接ジャンプできます。

00:07:19.000 --> 00:07:30.000
マットからここにいくつかの素晴らしい提案があります、そして今、私たちはXcodeで私のプルリクエストについてこの会話をし、それをソースコードに直接接続する機会があります。

00:07:30.000 --> 00:07:35.000
フィードバックに応じてプルリクエストを更新しました。

00:07:35.000 --> 00:07:41.000
さて、私のチームメイトがここに残したコメントを見ると、彼らは私の最新の変更に参加しているように見えます。

00:07:41.000 --> 00:07:44.000
私の同僚がこのプルリクエストを承認したようです。

00:07:44.000 --> 00:07:48.000
今、私は継続的インテグレーションワークフローのステータスを確認する必要があります。

00:07:48.000 --> 00:07:57.000
Xcode Cloudを使用しているので、プルリクエストのCIポップオーバー内で継続的インテグレーションワークフローのステータスも確認できます。

00:07:57.000 --> 00:08:05.000
テスト結果の概要をすばやく見ることができ、エントリをクリックすると、詳細なXcode Cloudレポートに直接ジャンプします。

00:08:05.000 --> 00:08:13.000
Xcode CloudとCIでのコードの実行の詳細については、セッション「Meet Xcode Cloud」をチェックしてください。

00:08:13.000 --> 00:08:21.000
さて、私のチームメイトはすべて私の変更を承認し、私のXcode Cloudジョブはすべて成功したので、私はプルリクエストをマージする準備ができています。

00:08:21.000 --> 00:08:25.000
プルリクエストアクションを使用して、「マージ」を選択します。

00:08:25.000 --> 00:08:32.000
Xcodeでは、変更がターゲットブランチにどのように統合されるかを決定するマージ戦略を選択できます。

00:08:32.000 --> 00:08:35.000
マージコミットを含むデフォルトを選択します。これはマージコミットです。

00:08:35.000 --> 00:08:40.000
オプションのコミットメッセージを入力することもできますが、そのままにしておきます。

00:08:40.000 --> 00:08:46.000
すべてが良さそうなので、今からマージします。

00:08:46.000 --> 00:08:50.000
プルリクエストをマージしたので、他の作業に戻す時が来ました。

00:08:50.000 --> 00:08:58.000
同僚にフィードバックを求めるのが役に立つように、彼らはしばしば私に彼らの変更を確認するように頼みます。

00:08:58.000 --> 00:09:05.000
最近取り組んだブランチに加えて、ソースコントロールのポップオーバーには、私に関連するプルリクエストも表示されます。

00:09:05.000 --> 00:09:14.000
作成したプルリクエストが表示されますが、Xcodeには、チームメイトがレビューを要求したプルリクエストも表示されます。

00:09:14.000 --> 00:09:20.000
ソースコントロールのポップオーバーを見ると、チームメイトの一人が私にそうするように頼んだようです。

00:09:20.000 --> 00:09:23.000
彼らの支店をチェックして、それを見直しましょう。

00:09:23.000 --> 00:09:32.000
私自身のプルリクエストと同様に、私がタグ付けされて以来、彼の概要、レビューステータス、チームメイトのプルリクエストに関する議論を見ることができます。

00:09:32.000 --> 00:09:34.000
彼らの変化を見てみましょう。 では、

00:09:34.000 --> 00:09:41.000
プルリクエストノードの下にあるChanges Navigatorのファイルを順を追って説明します。

00:09:41.000 --> 00:09:49.000
これらのいずれかをクリックすると、コードレビューモードになり、プルリクエストがマージされた場合に適用される変更が表示されます。

00:09:49.000 --> 00:09:55.000
行に新しいコメントを二次クリックして挿入することで、エディタ内に彼のためにコメントを残すことができます。

00:09:55.000 --> 00:10:05.000
彼のコードに潜在的な改善があると思うので、チームメイトにメモを残しておきましょう。

00:10:05.000 --> 00:10:09.000
私のフィードバックはかなりマイナーで、このプルリクエストは良さそうです。

00:10:09.000 --> 00:10:18.000
右上のアクションを使って承認します。

00:10:18.000 --> 00:10:25.000
Xcode 13は、コードをレビューし、同僚と協力するための素晴らしい新しい方法を提供します。

00:10:25.000 --> 00:10:35.000
コードレビューモードは、アプリのソースコードが時間の経過とともにどのように変化したかについての洞察を提供することで、アプリの問題や行動の変化を調査するための強力なツールです。

00:10:35.000 --> 00:10:46.000
コードレビューモードは、新しいインラインプレゼンテーションモードと拡張された比較オプションも提供し、ワークフローの柔軟性を高めます。

00:10:46.000 --> 00:10:58.000
プルリクエストを使用すると、チームと協力して、メインブランチにマージする前に、チームの変更に関するコードフィードバックを提供および受信することで、アプリのコード品質を向上させることができます。

00:10:58.000 --> 00:11:05.000
ディスカッションはアプリのソースコードに表示され、チームワークを本当に開発プロセスの一部にします。

00:11:05.000 --> 00:11:10.000
ありがとう、素晴らしいWWDCを、そして。

00:11:10.000 --> 23:59:59.000
[パーカッシブミュージック]。

