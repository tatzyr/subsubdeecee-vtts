WEBVTT

00:00:00.000 --> 00:00:09.000
♪ ♪

00:00:09.000 --> 00:00:11.000
こんにちは。私の名前はケイレブです。

00:00:11.000 --> 00:00:14.000
私はtvOSチームのソフトウェアエンジニアです。

00:00:14.000 --> 00:00:20.000
今日は、tvOS 15でサインインするために行ったいくつかの大きな改善を共有することに興奮しています。

00:00:20.000 --> 00:00:27.000
私たちは、Apple TVを使用しているすべての人が、できるだけ少ない摩擦で、迅速にコンテンツに取得できるようにしたいと考えています。

00:00:27.000 --> 00:00:32.000
つまり、アプリにサインインするプロセスは流動的で痛みのないものでなければなりません。

00:00:32.000 --> 00:00:36.000
サインインする最も一般的な方法の1つは、パスワードを使用することです。

00:00:36.000 --> 00:00:41.000
ユーザーは強力または一意のパスワードを持つことが奨励されていますが、これらは入力するのがイライラする可能性があります。

00:00:41.000 --> 00:00:48.000
tvOS 15では、アプリでパスワードベースのサインインをこれまで以上に簡単に実行できる素晴らしい新機能があります。

00:00:48.000 --> 00:00:51.000
新しいシステムサインインビューから始まります。

00:00:51.000 --> 00:00:54.000
この見解は、いくつかの本当に重要なことをします。

00:00:54.000 --> 00:00:58.000
まず、tvOS全体で一貫したサインイン体験を提供します。

00:00:58.000 --> 00:01:04.000
第二に、iPhoneまたはiPadを使用してサインインを完了できることをユーザーに伝えます。

00:01:04.000 --> 00:01:09.000
第三に、アプリがサポートする可能性のある他のサインインタイプのオプションをユーザーに提供します。

00:01:09.000 --> 00:01:11.000
それについては後でもっと話します。

00:01:11.000 --> 00:01:15.000
今のところ、あなたのiPhoneやiPadを使ってサインインすることに集中したい。

00:01:15.000 --> 00:01:23.000
ユーザーがアプリでサインインを開始し、iPhoneをスリープ解除すると、Apple TVからこのような通知が表示されます。

00:01:23.000 --> 00:01:28.000
通知をタップすると、iPhoneがサインインのプロセスを案内します。

00:01:28.000 --> 00:01:32.000
iCloudキーチェーンからの資格情報を提案します。

00:01:32.000 --> 00:01:36.000
また、Face IDを使用してサインインを確認できます。

00:01:36.000 --> 00:01:39.000
その後、資格情報はApple TVに送り返されます。

00:01:39.000 --> 00:01:45.000
これで、アプリはサインインを完了し、ユーザーをコンテンツに表示することができます。

00:01:45.000 --> 00:01:50.000
少し時間を取って、これはテキスト入力の経験ではないことを指摘したいと思います。

00:01:50.000 --> 00:01:59.000
これは、Apple TVとiPhoneまたはiPadの両方が協力してサインインプロセスをユーザーに案内する、一流のサインイン体験です。

00:01:59.000 --> 00:02:03.000
この新しいサインイン体験を採用するのは本当に簡単です。

00:02:03.000 --> 00:02:09.000
すべてのAppleプラットフォームには、人々があなたのアプリにサインインできるように設計された高レベルのAPIがあります。

00:02:09.000 --> 00:02:12.000
tvOS 15では特に強力です。

00:02:12.000 --> 00:02:19.000
ほんの少しのコードで、先ほどお見せした素晴らしいサインイン体験を最大限に活用できます。

00:02:19.000 --> 00:02:22.000
私は今、それをあなたに説明したいと思います。

00:02:22.000 --> 00:02:26.000
アプリの関連ドメインの設定から始めましょう。

00:02:26.000 --> 00:02:32.000
関連するドメインは、アプリとドメインの間に安全なリンクを確立します。

00:02:32.000 --> 00:02:41.000
これにより、Apple TVとiPhoneまたはiPadが連携して、サインインに使用する資格情報を安全に提案できます。

00:02:41.000 --> 00:02:55.000
まず、ドメインがホストするAppleアプリサイトのアソシエーションファイルに、Web資格情報キー内にtvOSアプリのアプリケーション識別子がリストされていることを確認してください。

00:02:55.000 --> 00:03:02.000
次に、XcodeのtvOSアプリに関連ドメイン機能を追加します。

00:03:02.000 --> 00:03:09.000
そして最後に、Web資格情報のプレフィックスを使用して、ドメインを関連ドメイン機能に追加します。

00:03:09.000 --> 00:03:19.000
アプリでのWeb資格情報ドメインの設定の詳細については、WWDC 2017の「Introducing Password AutoFill for Apps」ビデオを参照してください。

00:03:19.000 --> 00:03:25.000
次に、AuthenticationServicesを使用して資格情報をリクエストする方法をお見せしたいと思います。

00:03:25.000 --> 00:03:27.000
いくつかのコードを見てみましょう。 ではいくつかのコードを見てみましょう。

00:03:27.000 --> 00:03:31.000
ここには、資格情報を要求するために必要な基本的な材料があります。

00:03:31.000 --> 00:03:39.000
iOSまたはmacOSアプリですでにAuthenticationServices APIを使用している場合、このコードは非常に見覚えがあるはずです。

00:03:39.000 --> 00:03:45.000
パスワード要求でASAuthorizationControllerのインスタンスを作成することから始めます。

00:03:45.000 --> 00:03:51.000
このAPIの本当に強力なところは、複数の異なる種類のリクエストを指定できることです。

00:03:51.000 --> 00:03:59.000
アプリがAppleでサインインもサポートしている場合は、承認リクエストの配列にApple IDリクエストを含めることができます。

00:03:59.000 --> 00:04:08.000
複数のリクエストを指定すると、iPhoneとiPadは、ユーザーがサインインに使用する資格情報の種類を決定できるようにします。

00:04:08.000 --> 00:04:17.000
次に、自分自身を承認コントローラの代理人として設定し、performRequestsを呼び出すためにサインインを開始します。

00:04:17.000 --> 00:04:24.000
さて、ASAuthorization-ControllerDelegateからいくつかのメソッドを実装する必要があります。

00:04:24.000 --> 00:04:33.000
ユーザーがiPhoneまたはiPadで使用したい資格情報を選択すると、システムはdidCompleteWithAuthorizationを呼び出します。

00:04:33.000 --> 00:04:40.000
これで、クレデンシャルのユーザーとパスワードのプロパティを使用してサインインを完了できます。

00:04:40.000 --> 00:04:45.000
サインインに失敗した場合、システムはdidCompleteWithErrorを呼び出します。

00:04:45.000 --> 00:04:52.000
ユーザーがサインインをキャンセルした場合、アプリがメインのサインインUIに戻れるように、この方法から戻ります。

00:04:52.000 --> 00:04:57.000
そうでなければ、何かがうまくいかないことをユーザーに知らせ、もう一度やり直す必要があります。

00:04:57.000 --> 00:05:02.000
次に、システムのサインインビューをカスタマイズする方法をお見せしたいと思います。

00:05:02.000 --> 00:05:10.000
カスタム認証方法APIを使用すると、アプリがサポートする可能性のある他のサインインタイプのボタンを表示できます。

00:05:10.000 --> 00:05:13.000
「.Other」の値は、大きな柔軟性を提供します。

00:05:13.000 --> 00:05:20.000
このオプションを使用して、ユーザー名とパスワードを尋ねるなど、手動のサインインフローに直接移動できます。

00:05:20.000 --> 00:05:27.000
または、それを使用して、ユーザーが実行する別のタイプのサインインを選択できる独自のUIに移動することもできます。

00:05:27.000 --> 00:05:35.000
アプリでユーザーがテレビプロバイダーアカウントを使用してサインインできる場合は、.videoSubscriberAccount値を使用する必要があります。

00:05:35.000 --> 00:05:41.000
そして最後に、.restorePurchase値により、ユーザーはアプリ内購入を復元してサインインできます。

00:05:41.000 --> 00:05:49.000
ユーザーがこれらのカスタム認証方法の1つを選択すると、要求されたサインインフローを開始するのはアプリ次第です。

00:05:49.000 --> 00:05:52.000
これがどのように機能するかを見てみましょう。

00:05:52.000 --> 00:05:56.000
まず、先ほどお見せしたASAuthorizationControllerコードに戻ります。

00:05:56.000 --> 00:06:04.000
カスタムサインインオプションを表示するために、承認コントローラにcustomAuthorizationMethodsプロパティを設定します。

00:06:04.000 --> 00:06:14.000
この例では、.otherと.restorePurchaseの値を使用して、システムサインインビューに「手動でサインイン」ボタンと「購入を復元」ボタンを表示しています。

00:06:14.000 --> 00:06:19.000
アプリに適した値を選択する必要があります。

00:06:19.000 --> 00:06:28.000
ユーザーがカスタム認証方法を選択すると、システムは私のauthorizationControllerデリゲートでdidCompleteWithCustomMethodを呼び出します。

00:06:28.000 --> 00:06:36.000
この方法では、渡された値を確認し、ユーザーが要求したサインインのタイプを実行できます。

00:06:36.000 --> 00:06:40.000
最後に、いくつかのベストプラクティスについて少しお話ししたいと思います。

00:06:40.000 --> 00:06:45.000
tvOSで最高のサインイン体験は、単一の「サインイン」ボタンから始まります。

00:06:45.000 --> 00:06:52.000
サインインプロセスを通じてユーザーをガイドし、限られた数の明確な選択肢を提供します。

00:06:52.000 --> 00:07:02.000
既存のサインイン体験を新しいシステムサインインビューに置き換えることで、ユーザーは常にiPhoneまたはiPadでサインインするオプションがあります。

00:07:02.000 --> 00:07:09.000
また、カスタム認証方法APIは、ユーザーに追加のサインインオプションを提供するのに最適な方法です。

00:07:09.000 --> 00:07:15.000
tvOS 15は、素晴らしいサインイン体験を構築することをこれまで以上に簡単にします。

00:07:15.000 --> 00:07:20.000
システムサインインビューでは、ユーザーはiPhoneまたはiPadでサインインできます。

00:07:20.000 --> 00:07:27.000
また、AuthenticationServicesの強力な新しいAPIにより、簡単に始めることができます。

00:07:27.000 --> 00:07:35.000
このプレゼンテーションで共有した例のいくつかを詳しく見るには、開発者アプリのこのセッションのサンプルコードプロジェクトを参照してください。

00:07:35.000 --> 00:07:47.000
AuthenticationServicesフレームワークが、すべてのAppleプラットフォームで優れたサインインエクスペリエンスを構築する方法の詳細については、WWDC 2019の「認証の新機能」ビデオを参照してください。

00:07:47.000 --> 00:07:49.000
見てくれてありがとう、そして会議を楽しんでください!

00:07:49.000 --> 23:59:59.000
[明るい音楽]。

