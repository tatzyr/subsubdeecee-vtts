WEBVTT

00:00:00.000 --> 00:00:09.000
♪ ♪

00:00:09.000 --> 00:00:11.000
こんにちは。私はケイトです。

00:00:11.000 --> 00:00:17.000
私はSafariとWebKitチームのエンジニアで、今日はプライバシー保護広告アトリビューションについてお教えします。

00:00:17.000 --> 00:00:31.000
今日のセッションを見ている人の多くは、おそらくすでに広告アトリビューションの歴史の専門家であることを知っていますが、全員が同じページにいることを確認するために、クッキー、広告、トラッキングの背景から始めます。

00:00:31.000 --> 00:00:39.000
次に、ウェブサイト全体で広告キャンペーンを個人的に測定できるツールであるPrivate Click Measurementを紹介します。

00:00:39.000 --> 00:00:48.000
次に、PCMをさらに拡張して、アプリで開始し、ウェブ上で変換する広告キャンペーンを測定する方法を紹介します。

00:00:48.000 --> 00:00:57.000
最後に、SKAdNetworkを使用したプライバシー保護アプリからApp Storeへの広告アトリビューションの改善について説明します。

00:00:57.000 --> 00:01:02.000
では、クッキーの歴史とウェブ広告におけるクッキーの役割から始めましょう。

00:01:02.000 --> 00:01:08.000
クッキーは、広告アトリビューションと呼ばれるものをサポートするため、企業にとって有用です。

00:01:08.000 --> 00:01:16.000
広告アトリビューションは、クリックなどの広告関連のアクションを、購入などの望ましい結果とリンクするプロセスです。

00:01:16.000 --> 00:01:21.000
また、私がそれらの望ましい結果を「コンバージョン」と呼ぶのを聞くでしょう。

00:01:21.000 --> 00:01:26.000
この概念は言葉では少し抽象的に見えるかもしれないので、例を見てみましょう。

00:01:26.000 --> 00:01:28.000
私はたまたまロングボーディングが本当に好きです。

00:01:28.000 --> 00:01:34.000
お気に入りの検索サイトsearchforlongboard.bizでロングボードの広告をタップするとします。

00:01:34.000 --> 00:01:39.000
Searchforlongboard.bizは、クッキーと呼ばれるものをブラウザに保存できます。

00:01:39.000 --> 00:01:47.000
クッキーは、ショッピングカート内の製品など、以前の訪問に関するデータをサイトが記憶するのに役立つ有用な小さなテキストです。

00:01:47.000 --> 00:01:55.000
Searchforlongboard.bizのリンクは、ロングボードをカートに追加する新しいサイト、longboardshop.bizに移動するかもしれません。

00:01:55.000 --> 00:02:03.000
Searchforlongboard.bizは、以前に保存したクッキーを参照して、私が行った最初の広告タップと私の購入をリンクすることができます。

00:02:03.000 --> 00:02:06.000
これは広告アトリビューションの例です。

00:02:06.000 --> 00:02:14.000
クッキーデータにより、searchforlongboard.bizは、この特定の広告キャンペーンの有効性を測定することができ、ビジネスにとって本当に役立ちます。

00:02:14.000 --> 00:02:18.000
しかし、もし私が以前に最初の広告をタップしていなかったらどうでしょうか?

00:02:18.000 --> 00:02:30.000
Searchforlongboard.bizは、私が行ったクリック、訪問したサイト、ページに費やした時間、および私のウェブ履歴と行動に関するその他の詳細情報を含む、私に関するクッキーデータを取得します。

00:02:30.000 --> 00:02:41.000
Searchforlongboard.bizのような企業は、この情報を使用して、ユーザーの同意なしに、サイト全体でユーザーをフォローし、広告主の詳細なプロファイルを構築できます。

00:02:41.000 --> 00:02:44.000
私たちはこれをクロスサイトトラッキングと呼んでいます。

00:02:44.000 --> 00:02:54.000
ほとんどのユーザーは、自分の興味、行動、個人情報が保存され、追跡されるウェブ上での侵略的な経験を期待していません。

00:02:54.000 --> 00:03:00.000
追跡は信頼を壊し、ユーザーと企業の間にミスアライメントを引き起こす可能性があります。

00:03:00.000 --> 00:03:08.000
そして今、ますます多くのユーザーが、使用するサイトでの追跡を制限するために、広告やコンテンツブロッカーなどのメカニズムに目を向け始めています。

00:03:08.000 --> 00:03:16.000
ユーザーの観点から見ると、コンテンツブロッカーは追跡を防ぐのに最適ですが、多くの場合、互換性の問題につながる可能性があります。

00:03:16.000 --> 00:03:24.000
さらに、コンテンツブロッカーはすべての広告をブロックするため、いかなる種類の広告アトリビューションの可能性も明らかにありません。

00:03:24.000 --> 00:03:38.000
広告とトラッキングに関するユーザーと企業の間の断絶は、ウェブ体験に大きなダメージを与えており、ウェブの互換性を維持しながらユーザーのプライバシーを保護する方法を見つけたいと考えました。

00:03:38.000 --> 00:03:49.000
そのため、2017年、Appleは広告をブロックすることなく、トラッカーを識別し、ウェブ上のこの種のプロファイリングからユーザーを保護するIntelligent Tracking Prevention（ITP）を構築しました。

00:03:49.000 --> 00:04:01.000
ITPでは、searchforlongboard.bizで同じ広告をタップすると、ファーストパーティのクッキーが保存され、longboardshop.bizに移動し、ロングボードが再びカートに追加されます。

00:04:01.000 --> 00:04:09.000
しかし現在、ITPは、クッキーやその他のウェブサイトデータがsearchforlongboard.bizなどの第三者に送信されるのを防ぎます。

00:04:09.000 --> 00:04:16.000
だから、彼らは私がロングボードの広告をタップしたことを知っているかもしれませんが、他のサイトで私の行動を追跡することはできません。

00:04:16.000 --> 00:04:22.000
ITPは特にブラウザでのクロスサイトトラッキングを軽減しますが、トラッキングはウェブに固有のものではありません。

00:04:22.000 --> 00:04:32.000
広告主の識別子（IDFA）は、アプリ間でiOSユーザーの同様のプロファイリングを実行するために長い間使用されてきました。

00:04:32.000 --> 00:04:37.000
2020年、AppleはStoreKitフレームワークの一部であるSKAdNetworkを立ち上げた。

00:04:37.000 --> 00:04:45.000
アプリのインストールにつながる広告に関するデータを収集して報告し、広告ネットワークに広告アトリビューションのプライバシー保護技術を提供するように設計されています。

00:04:45.000 --> 00:04:49.000
昨年のSKAdNetworkの改善については、後で話します。

00:04:49.000 --> 00:04:58.000
追跡は、ユーザーについて共有されているものを特定、理解、または同意する能力を与えることなく、ユーザーのプライバシーを侵害します。

00:04:58.000 --> 00:05:01.000
そして、これについて考えているのは私たちだけではありません。

00:05:01.000 --> 00:05:10.000
CCPAやGDPRなどの規制では、ウェブサイトにデータがどのように使用されているかをユーザーに通知することが義務付けられています。

00:05:10.000 --> 00:05:17.000
BraveやFirefoxなどの他のブラウザも、トラッキング保護が組み込まれています。

00:05:17.000 --> 00:05:22.000
追跡に依存するビジネスモデルは持続可能ではないことが明らかになっています。

00:05:22.000 --> 00:05:30.000
私たちは、この変化するエコシステムで成功するために、広告を測定するためのよりプライベートな方法を提供することの重要性を認識しています。

00:05:30.000 --> 00:05:38.000
したがって、セッションの残りの部分では、プライバシーで広告を測定するために実装したエキサイティングな新しいソリューションのいくつかに焦点を当てます。

00:05:38.000 --> 00:05:48.000
私がカバーする最初のケースは、ウェブからウェブへの広告アトリビューションです。つまり、最初のクリックまたはタップと最終的なコンバージョンイベントの両方がブラウザで発生します。

00:05:48.000 --> 00:05:57.000
今年は、プライバシーを保護する広告アトリビューションをウェブにもたらすプライベートクリック測定（PCM）を導入できることにとても興奮しています。

00:05:57.000 --> 00:06:02.000
PCMは、W3Cプライバシーコミュニティグループで提案されている標準です。

00:06:02.000 --> 00:06:07.000
完全な標準になるには、別のブラウザからの実装が必要です。

00:06:07.000 --> 00:06:13.000
私たちは他のブラウザと協力して、ウェブ全体でPCMを標準化しています。

00:06:13.000 --> 00:06:18.000
PCMは、完全にオンデバイス上の広告アトリビューションレポートメカニズムです。

00:06:18.000 --> 00:06:24.000
レポートのエントロピーが制限されているため、サイトが特定のユーザーを特定できなくなります。

00:06:24.000 --> 00:06:29.000
また、PCMを使用する場合、ユーザーはサイト間で追跡されません。

00:06:29.000 --> 00:06:35.000
これは、アプリトラッキングの透明性要件がPCMの使用には適用されないことを意味します。

00:06:35.000 --> 00:06:41.000
現在、PCMウェブツーウェブとアプリツーウェブはSafariで完全にサポートされています。

00:06:41.000 --> 00:06:47.000
だから、このプレゼンテーションの残りの部分を通して、私が「ブラウザ」を参照するたびに、私はSafariを意味します。

00:06:47.000 --> 00:06:55.000
WebKitエンジンを使用するブラウザと使用しないブラウザの両方で、他のブラウザのサポートの追加にも取り組んでいます。

00:06:55.000 --> 00:06:59.000
オリジナルのロングボードの例に戻って、PCMがどのように機能するかを示しましょう。

00:06:59.000 --> 00:07:04.000
繰り返しますが、searchforlongboard.bizでロングボードの広告をタップします。

00:07:04.000 --> 00:07:19.000
PCMでは、このリンクは2つの追加情報を指定します。ソースIDは、広告キャンペーンを指定するために使用できる8ビットのエントロピーであり、広告が変換するサイトは、アトリビューション先サイトと呼ばれます。

00:07:19.000 --> 00:07:22.000
これらはブラウザのデバイスに保存されます。

00:07:22.000 --> 00:07:27.000
その後、広告リンクはlongboardshop.bizに私をナビゲートします。

00:07:27.000 --> 00:07:37.000
「カートに追加」をタップすると、longboardshop.bizはトリガーデータと呼ばれる追加値を使用して変換イベントに関する情報を指定できます。

00:07:37.000 --> 00:07:43.000
トリガーデータは4ビットで、カートに追加や購入などのアクションを指定する場合があります。

00:07:43.000 --> 00:07:47.000
これはデバイス上、ブラウザにも保存されます。

00:07:47.000 --> 00:07:49.000
では、報告はどうですか?

00:07:49.000 --> 00:07:54.000
ブラウザのみがクリック側と変換側の両方の情報を持っていることに注意してください。

00:07:54.000 --> 00:08:07.000
したがって、コンバージョンが保存されたクリックと一致する場合、ブラウザはこの情報を広告主に役立つレポートにフォーマットし、サイト間でユーザーの識別を防ぐことができます。

00:08:07.000 --> 00:08:16.000
その後、ブラウザは、24時間から48時間後にランダムに、ソースサイトと宛先サイトの両方に送信するようにレポートをスケジュールします。

00:08:16.000 --> 00:08:25.000
ランダムな遅延により、レポートは、誰かを識別するために広告クリックとコンバージョンをリンクする可能性のある時間関連のデータを提供することを防ぎます。

00:08:25.000 --> 00:08:35.000
iOS 15とmacOS 12以降、これらのレポートにはIPアドレス保護もあり、フィンガープリントを防ぐために非常に重要です。

00:08:35.000 --> 00:08:44.000
IPアドレス保護の詳細については、Appleのプライバシーの柱であるWWDCセッションで詳しく知ることができます。

00:08:44.000 --> 00:08:49.000
では、広告キャンペーンを実行する際に、実際にPCMデータをどのように指定しますか?

00:08:49.000 --> 00:08:56.000
広告が表示されているソースサイトでは、リンク属性を使用してPCMデータを指定できます。

00:08:56.000 --> 00:09:04.000
ここでは、レモンイエローロングボードキャンペーンには識別子55があり、longboardshop.bizで変換されます。

00:09:04.000 --> 00:09:15.000
宛先サイトでは、ソースサイトにHTTP GETリクエストを行い、変換イベントに関するデータを指定することで、アトリビューションイベントをトリガーできます。

00:09:15.000 --> 00:09:21.000
ソースサイトはこのリクエストを取得し、この既知の場所にリダイレクトする必要があります。

00:09:21.000 --> 00:09:25.000
ロングボードをカートに追加すると、トリガーデータ値が15になります。

00:09:25.000 --> 00:09:34.000
また、後で購入など、より重要なコンバージョンでこのコンバージョンを上書きしたい場合は、より高い6ビットの優先度を指定できます。

00:09:34.000 --> 00:09:40.000
このデザインは、採用を容易にするためにレガシーピクセルをサポートすることを目的としていました。

00:09:40.000 --> 00:09:42.000
最後のステップは報告です。

00:09:42.000 --> 00:09:47.000
レポートは、この有名な場所にJSON形式で送信されます。

00:09:47.000 --> 00:09:56.000
このレポートは、広告クリックとコンバージョンをリンクするデータを提供しますが、ユーザーに関する識別情報が含まれていないことがわかります。

00:09:56.000 --> 00:10:04.000
この場合、あなたが学んだことは、誰かがどこかでlongboardshop.bizのカートにレモンイエローのロングボードを追加したということです。

00:10:04.000 --> 00:10:09.000
この情報を使用して、特定のユーザーを追跡することなく、広告キャンペーンを測定できます。

00:10:09.000 --> 00:10:16.000
そして、これらは、ウェブからウェブへの広告キャンペーンを測定するためのプライベートクリック測定を実装するための基本です。

00:10:16.000 --> 00:10:21.000
さて、PCMをさらに拡張してアプリで使用する方法を紹介します。

00:10:21.000 --> 00:10:28.000
アプリで始まり、ウェブ上で変換する広告タップを測定することの重要性について、多くのフィードバックを聞きました。

00:10:28.000 --> 00:10:36.000
このギャップを埋めることがいかに重要であるかを認識したので、PCMアプリからウェブへのアトリビューションも導入することに興奮しています。

00:10:36.000 --> 00:10:39.000
これがどのように機能するかの例を見てみましょう。

00:10:39.000 --> 00:10:44.000
今、私はソーシャルアプリを開きます。これは、ロングボードの友人全員に追いつくために使用するものです。

00:10:44.000 --> 00:10:47.000
そして、私はロングボードの広告をタップします。

00:10:47.000 --> 00:10:51.000
ソースIDと宛先サイトはデバイスに保存されます。

00:10:51.000 --> 00:10:56.000
その後、Safariでlongboardshop.bizに移動します。

00:10:56.000 --> 00:11:00.000
変換側は、ウェブからウェブへのケースとまったく同じです。

00:11:00.000 --> 00:11:09.000
「カートに追加」をタップすると、longboardshop.bizはブラウザに保存されているトリガーデータで変換をトリガーできます。

00:11:09.000 --> 00:11:20.000
ブラウザは情報をレポートに結合し、ランダムな24〜48時間の遅延でアプリレポートサイトと宛先サイトの両方に送信します。

00:11:20.000 --> 00:11:32.000
PCM app-to-webアトリビューションを使用するには、キーNSAdvertising-AttributionReportEndpointを使用して、アトリビューションレポートの宛先サイトをアプリのinfo.plistに追加する必要があります。

00:11:32.000 --> 00:11:41.000
レポートの宛先URLから登録可能なドメインを取り、レポートを送信するための既知のパスを形成するため、このステップは非常に重要です。

00:11:41.000 --> 00:11:45.000
このよく知られたパスは、ウェブからウェブへのケースとまったく同じです。

00:11:45.000 --> 00:11:50.000
PCM app-to-webの場合、アプリのコードにもいくつかの変更を加える必要があります。

00:11:50.000 --> 00:11:57.000
キャンペーンを効果的に測定するためには、広告タップが実際に発生したことを知っておくことが重要であることを知っています。

00:11:57.000 --> 00:12:02.000
そこで、UIEventAttributionViewと呼ばれる新しいデータ構造を追加しました。

00:12:02.000 --> 00:12:07.000
アプリに広告を表示すると、新しいUIEventAttributionViewが作成されます。

00:12:07.000 --> 00:12:10.000
その後、広告の上に配置します。

00:12:10.000 --> 00:12:19.000
UIEventAttributionViewは、アトリビューションを報告する前にユーザーのジェスチャーが発生したことを確認し、報告されたデータが正確であることを確認します。

00:12:19.000 --> 00:12:30.000
ユーザーが広告をタップすると、アプリが外部WebサイトへのURLを開いたときに送信されるUIEventAttributionと呼ばれる新しいデータ構造を作成する必要があります。

00:12:30.000 --> 00:12:52.000
これには4つのものが入力されます。この場合、レモンイエローのロングボードの広告キャンペーンを識別するソース識別子。広告が変換されるdestinationURL。sourceDescription、タップされたコンテンツの説明。購入者、コンテンツの購入者の説明。

00:12:52.000 --> 00:12:59.000
UISceneベースのライフサイクル管理を使用している場合は、OpenExternalURLOptionsオブジェクトを作成します。

00:12:59.000 --> 00:13:06.000
次に、イベントアトリビューションオブジェクトを対応するプロパティに割り当て、オープン関数を呼び出す必要があります。

00:13:06.000 --> 00:13:14.000
UIApplicationベースのライフサイクル管理を使用している場合、アプリからウェブへのキャンペーンのサポートを追加するのは少し異なります。

00:13:14.000 --> 00:13:19.000
eventAttributionオブジェクトを含む辞書を作成する必要があります。

00:13:19.000 --> 00:13:24.000
その後、オプションパラメータの値として辞書を使用してオープン関数を呼び出すことができます。

00:13:24.000 --> 00:13:30.000
そして、それはアプリからウェブへのアトリビューションを実装するためのものです。

00:13:30.000 --> 00:13:37.000
SKAdNetworkの改善に進む前に、PCMの不正防止について簡単に触れたいと思います。

00:13:37.000 --> 00:13:46.000
PCMレポートには識別情報がないため、サーバーがコンバージョンレポートが信頼できるかどうかを知る固有の方法はありません。

00:13:46.000 --> 00:13:50.000
したがって、PCMは詐欺を防ぐために暗号署名を使用しています。

00:13:50.000 --> 00:13:55.000
署名を説明するために、私は人気のある封筒のアナロジーを使うつもりです。

00:13:55.000 --> 00:13:56.000
それはこのように動作します。

00:13:56.000 --> 00:14:03.000
Searchforlongboard.bizで広告タップが発生すると、ブラウザはsearchforlongboardの公開鍵を取得します。

00:14:03.000 --> 00:14:07.000
次に、searchforlongboardが後で検証するメッセージを作成します。

00:14:07.000 --> 00:14:15.000
ただし、searchforlongboard.bizがクリックとコンバージョンをリンクできるようにしたくないので、このメッセージは非表示にします。

00:14:15.000 --> 00:14:18.000
メッセージを封筒に入れるようなものだと考えてください。

00:14:18.000 --> 00:14:23.000
その後、ブラウザは隠されたメッセージをsearchforlongboard.bizに送信します。

00:14:23.000 --> 00:14:29.000
彼らはRSAブラインド署名スキームを使用して隠されたメッセージに署名し、それを返送します。

00:14:29.000 --> 00:14:32.000
これはカーボンコピー用紙のように考えることができます。

00:14:32.000 --> 00:14:36.000
封筒の署名はメッセージにも適用されます。

00:14:36.000 --> 00:14:42.000
したがって、ブラウザが封筒からメッセージを削除すると、searchforlongboardの署名が表示されます。

00:14:42.000 --> 00:14:49.000
アトリビューションが発生すると、ブラウザはsearchforlongboardの署名付きのアトリビューションレポートを送信します。

00:14:49.000 --> 00:14:58.000
これで、ソースサイトと宛先サイトは、searchforlongboardの公開鍵を使用して、クリックが発生したときに信頼できると見なされたことを検証できます。

00:14:58.000 --> 00:15:05.000
Searchforlongboard.bizは元のメッセージを見たことがないので、広告のクリックとリンクすることはできません。

00:15:05.000 --> 00:15:07.000
だから、それは詐欺防止についてです。

00:15:07.000 --> 00:15:18.000
また、テストについてもお話ししたいと思います。なぜなら、テストとデバッグのシンプルで高速かつ簡単な方法を持つことが重要であることを知っているからです。

00:15:18.000 --> 00:15:23.000
WebKitには、プライベートクリック測定デバッグモードと呼ばれる実験的な機能があります。

00:15:23.000 --> 00:15:29.000
macOSのSafari開発メニューの「実験的機能」にあります。

00:15:29.000 --> 00:15:35.000
iOSでは、WebKitの実験的機能メニューでデバッグモードをオンにすることができます。

00:15:35.000 --> 00:15:44.000
デバッグモードはWebインスペクタのロギングを強化し、24時間から48時間後とは対照的に、レポートは10秒ごとに公開されます。

00:15:44.000 --> 00:15:50.000
PCMを使用して、ウェブからウェブへのキャンペーンとアプリからウェブへのキャンペーンをサポートするのはそれです。

00:15:50.000 --> 00:15:58.000
SKAdNetworkの最近のアップデートで、アプリからApp Storeへの広告キャンペーンを改善する方法について話したいと思います。

00:15:58.000 --> 00:16:03.000
まず、ここまでのSKAdNetworkの簡単な概要から始めましょう。

00:16:03.000 --> 00:16:14.000
SKAdNetworkの基本は2020年にWWDCで取り上げられたので、その仕組みのより詳細な概要については、これらのプレゼンテーションを参照すると便利です。

00:16:14.000 --> 00:16:22.000
基本的に、SKAdNetworkには、広告ネットワーク、パブリッシャーアプリ、広告アプリの3つの当事者が関与しています。

00:16:22.000 --> 00:16:29.000
ソーシャルアプリを使っていて、SocialAdNetからロングボードアプリの広告が出されたとしましょう。

00:16:29.000 --> 00:16:37.000
SKAdNetwork用語では、SocialAdNetはAdNetwork、Social Appはパブリッシャーアプリ、Longboard Appは広告されたアプリです。

00:16:37.000 --> 00:16:50.000
ロングボードアプリの広告をタップすると、広告ネットワークID、パブリッシャーアプリID、キャンペーンID、タイムスタンプ、および詐欺防止のための追加情報を含むレポートが生成されます。

00:16:50.000 --> 00:16:54.000
この情報は、デバイス上のApp Storeに保存されます。

00:16:54.000 --> 00:17:00.000
ロングボードアプリの広告が私をApp Storeに連れて行って、そこでロングボードアプリをインストールして起動するとしましょう。

00:17:00.000 --> 00:17:10.000
現在、Longboard Appは、StoreKitが提供する2つのAPIのうちの1つ、RegisterApp- ForAdNetworkAttributionまたはupdateConversionValueを呼び出します。

00:17:10.000 --> 00:17:18.000
どちらもSKAdNetworkレポートをトリガーし、どのコールを使用するタイミングの詳細については、ドキュメントを確認できます。

00:17:18.000 --> 00:17:23.000
StoreKitは有用な情報をレポートにまとめ、広告ネットワークに送信します。

00:17:23.000 --> 00:17:29.000
SKAdNetworkのバックグラウンドがわかったので、昨年行ったいくつかの改善について話します。

00:17:29.000 --> 00:17:35.000
SKAdNetworkを立ち上げて以来、私たちはあなたのフィードバックに耳を傾け、変更を加えてきました。

00:17:35.000 --> 00:17:46.000
各バージョンでは、より多くのセキュリティ、広告を測定するより多くの方法、またはより多くのアトリビューションレポートなど、広告アトリビューションでニーズをよりよく満たすのに役立つ何かが導入されました。

00:17:46.000 --> 00:18:00.000
このセクションでは、署名キーの改善、ビュースルーアトリビューのサポート、複数のポストバックとIPアドレスの保護、開発者へのポストバックについて説明します。

00:18:00.000 --> 00:18:05.000
また、それぞれの新機能を利用するために必要な最低限のiOSバージョンに注意してください。

00:18:05.000 --> 00:18:13.000
まず、バージョン2.1で、Appleはより強力で安全な256ビット公開鍵を導入しました。

00:18:13.000 --> 00:18:19.000
これを利用するには、ポストバックを検証するために使用しているApple公開鍵を更新する必要があります。

00:18:19.000 --> 00:18:30.000
Appleの署名を確認する方法に関する詳細な手順は、このセッションに関連するSKAdNetworkのドキュメントへのリンクに記載されています。

00:18:30.000 --> 00:18:35.000
次に、バージョン2.2は、ビュースルー広告キャンペーンのサポートを追加しました。

00:18:35.000 --> 00:18:50.000
これには、新しいSKADImpressionインスタンスを作成し、署名を生成し、2つの新しいAPIを呼び出すことが含まれます。ユーザーへのカスタム広告の提示を開始するときのstartImpressionと、広告の提示を終えたときのendImpressionです。

00:18:50.000 --> 00:18:55.000
ビュースルーアトリビューションにより、StoreKitはフィデリティタイプと呼ばれる新しいパラメータも導入しました。

00:18:55.000 --> 00:19:03.000
StoreKitでレンダリングされたクリックスルー広告の忠実度タイプは1ですが、カスタムビュースルー広告の忠実度タイプは0です。

00:19:03.000 --> 00:19:14.000
これにより、ビュースルーインプレッションはクリックスルーインプレッションよりも優先順位が低くなり、ビュースルーポストバックは、より高い忠実度で競合するインプレッションがない場合にのみ報告されます。

00:19:14.000 --> 00:19:20.000
iOS 14.6では、複数のポストバックとIPアドレス保護が導入されました。

00:19:20.000 --> 00:19:27.000
現在、SKAdNetworkは、勝者ネットワークと最大5人の準優勝者へのレポートの送信をサポートしています。

00:19:27.000 --> 00:19:33.000
勝利ネットワークは、コンバージョン前に発生した最後の印象によって決定されます。

00:19:33.000 --> 00:19:41.000
レポートが生成されると、勝者はsourceAppやコンバージョン値などの群衆の匿名性制御値を受け取る可能性があります。

00:19:41.000 --> 00:19:45.000
準優勝者はこの情報を取得しません。

00:19:45.000 --> 00:19:54.000
また、SKAdNetworkの新機能には、開発者へのポストバックがあり、優勝したポストバックは広告されたアプリに報告されます。

00:19:54.000 --> 00:20:03.000
ポストバック・トゥ・デベロッパー機能を利用するには、アプリはInfo.plistで開発者レポートサイトを指定する必要があります。

00:20:03.000 --> 00:20:11.000
これは、PCMアプリからウェブへのレポートに必要なのと同じNSAdvertising-AttributionReportEndpointキーを使用します。

00:20:11.000 --> 00:20:22.000
PCMと同様に、plistで指定されたURLから登録可能なドメインは、ポストバックが送信される既知の場所を形成するために使用されます。

00:20:22.000 --> 00:20:29.000
次に、新しいSKAdNetworkテクノロジーのテストとデバッグを成功させるためのベストプラクティスをいくつかお伝えします。

00:20:29.000 --> 00:20:33.000
まず、各インプレッションのノンスは一意でなければならないことを思い出してください。

00:20:33.000 --> 00:20:39.000
これは、不正防止とレポートの整合性を維持するために重要です。

00:20:39.000 --> 00:20:43.000
次に、署名を作成するときに引数の順序が重要です。

00:20:43.000 --> 00:20:50.000
したがって、このステップで問題が発生した場合は、ドキュメントをチェックして、引数の順序が正しいことを確認できます。

00:20:50.000 --> 00:20:58.000
次に、ポストバックをテストするには、常にソースアプリIDが0の開発署名付きソースアプリを使用する必要があります。

00:20:58.000 --> 00:21:09.000
そして最後に、テストプロファイルはポストバック送信時間を短縮し、このセッションに関連付けられたリンクからダウンロードできるというリマインダー。

00:21:09.000 --> 00:21:17.000
だから、それはSKAdNetworkの改善のためであり、それはプライバシーを保護する広告アトリビューションのための今年の更新のすべてを締めくくります。

00:21:17.000 --> 00:21:25.000
ご覧のとおり、プライベート広告アトリビューションを採用するために、昨年実装および改善した多くの機能があります。

00:21:25.000 --> 00:21:28.000
では、私が今日取り上げたことを復習しましょう。

00:21:28.000 --> 00:21:35.000
まず、プライベート広告測定をウェブにもたらす広告アトリビューションメカニズムであるPCMを導入しました。

00:21:35.000 --> 00:21:43.000
PCMは、ウェブ上で完全に測定された広告キャンペーンだけでなく、アプリで開始し、ウェブ上で変換するキャンペーンもサポートしています。

00:21:43.000 --> 00:21:54.000
また、昨年SKAdNetworkに入ったすべてのアップデートを調べました。これは、アプリのインストールを測定するためのさらにプライベートで安全で便利な方法を提供します。

00:21:54.000 --> 00:22:03.000
そして最後に、これらの技術の設計と改善の多くは、開発者としての皆さんからの連絡から来ていることを繰り返したいと思います。

00:22:03.000 --> 00:22:07.000
だから、ありがとう。そして、フィードバックを提供し続けてください。

00:22:07.000 --> 00:22:16.000
私たちは、W3CプライバシーコミュニティグループのGitHubページで見つけることができるPCM提案された標準についての考えを歓迎します。

00:22:16.000 --> 00:22:23.000
プライバシーと広告が混ざらないという考えでこれに入った場合、このセッションが実際に整列する未来を見るのに役立ったことを願っています。

00:22:23.000 --> 00:22:26.000
見てくれてありがとう、そして私はあなたがWWDCの残りの部分を楽しむことを願っています。

00:22:26.000 --> 23:59:59.000
[明るい音楽]。

