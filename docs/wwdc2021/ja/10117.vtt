WEBVTT

00:00:00.000 --> 00:00:05.000
♪ベース音楽の演奏♪

00:00:05.000 --> 00:00:09.000
♪

00:00:09.000 --> 00:00:12.000
Nikhil Palekar: こんにちは、私はNikhilで、CloudKitチームのエンジニアです。

00:00:12.000 --> 00:00:16.000
今日は、CloudKit Consoleをご紹介できることを嬉しく思います。

00:00:16.000 --> 00:00:22.000
iCloudは、ユーザーのデバイスの機能をクラウドに拡張するための非常に強力なサービスです。

00:00:22.000 --> 00:00:27.000
何百万人もの人々がiCloudを使って写真、ファイル、データを安全に保存しています。

00:00:27.000 --> 00:00:36.000
iCloudの背後にあるデータベースであるCloudKitは、デバイス間でコンテンツを効率的かつシームレスに同期して、魔法のような体験ができます。

00:00:36.000 --> 00:00:43.000
また、クラウドベースのCloudKitサービスは、developer.apple.comを通じてオンラインで管理されます。

00:00:43.000 --> 00:00:52.000
今日は、アプリケーションがCloudKitサービスとどのようにやり取りするかを管理するのに役立つ、再設計されたダッシュボードツールのセットであるCloudKit Consoleをお見せできることを嬉しく思います。

00:00:52.000 --> 00:01:01.000
コンソールでは、CloudKitデータベースにアクセスして管理し、これまで以上に簡単に物事を成し遂げることができる新鮮な新しいインターフェイスでテレメトリとログを表示することができます。

00:01:01.000 --> 00:01:14.000
コンソール全体で、コンテンツは、上部のコンテキストとアカウント情報、左側のナビゲーションとプロパティ、中央の詳細など、他のAppleアプリケーションに慣れているのと同じ使い慣れた構造に従います。

00:01:14.000 --> 00:01:19.000
この新しいレイアウトから、機能を簡単に選択し、詳細を深く掘り下げることができます。

00:01:19.000 --> 00:01:24.000
新しいデータベースアプリのいくつかの機能を見ることから始めましょう。

00:01:24.000 --> 00:01:35.000
CloudKitデータベースを初めて使用する場合、ショートストーリーでは、CloudKitデータベースはユースケース用に定義されたコンテナ内に存在し、開発者は開発と本番の2つのデータベース環境を使用します。

00:01:35.000 --> 00:01:43.000
データベーススキーマは、アプリ開発者が開発中に加えた変更に慣れると、開発から本番に昇格されます。

00:01:43.000 --> 00:01:53.000
始めると、タイムチェックのスキーマの作成を使用するか、コンソールでデータモデルを定義することで、開発データベースをすばやく反復できます。

00:01:53.000 --> 00:02:01.000
準備ができたら、スキーマを本番環境にデプロイできます。CloudKitは、データベースの古いクライアントを壊さないように更新の整合性を確認します。

00:02:01.000 --> 00:02:08.000
データベースアプリを起動すると、開発者チームが所有するコンテナのリストが表示されます。

00:02:08.000 --> 00:02:13.000
次にコンソールを起動すると、最後に訪問したコンテナに直行します。

00:02:13.000 --> 00:02:21.000
ドロップダウンで開発環境を選択したので、スキーマセクションを見て、レコードタイプがどのように定義されているかを見てみましょう。

00:02:21.000 --> 00:02:24.000
レコードタイプは、CloudKitデータベースのデータ構造を定義するために使用されます。

00:02:24.000 --> 00:02:32.000
既存のレコードタイプのリストをすばやく表示し、クリックしてフィールドとインデックスの詳細を表示できます。

00:02:32.000 --> 00:02:34.000
フィールドの追加は簡単です。

00:02:34.000 --> 00:02:47.000
新しいフィールドの名前を入力し、対応するタイプを選択するだけです。

00:02:47.000 --> 00:02:51.000
コンソールでのインデックスの管理も簡単です。

00:02:51.000 --> 00:03:00.000
このページから、既存のインデックスを簡単に表示したり、フィールドを選択して3つのインデックスタイプのいずれかを選択して、クリックして新しいインデックスを作成したりできます。

00:03:00.000 --> 00:03:05.000
ここでは、著者フィールドをアルファベット順にソートするためのソート可能なインデックスを追加しています。

00:03:05.000 --> 00:03:11.000
そして、スキーマを管理している間、パブリックデータベースのセキュリティロールがどのように管理されているかを簡単に見てみましょう。

00:03:11.000 --> 00:03:18.000
以前にCloudKitを使用したことがある場合は、すでにセキュリティロールを使用してパブリックデータベースのレコードへのアクセスを管理している可能性があります。

00:03:18.000 --> 00:03:28.000
そして今、これまで以上に簡単に定義と管理ができるように、新しいUIがあります。

00:03:28.000 --> 00:03:35.000
アプリのスキーマが定義されたので、コンソールを使用して、開発中に保存したデータを探索しましょう。

00:03:35.000 --> 00:03:38.000
このビューから、レコードを作成または表示できます。

00:03:38.000 --> 00:03:53.000
新しいUIは、データベース、ゾーン、最後にレコードタイプから始めて、表示するレコードを取得する方法のコンテキストを選択するための左から右へのフローを表示します。

00:03:53.000 --> 00:04:02.000
コンテキストを設定すると、リストビューでレコードを表示し、詳細ビューで詳細を見ることができます。

00:04:02.000 --> 00:04:11.000
リクエストを絞り込む必要がある場合は、新しいクエリビルダーを使用してフィルターを適用して、必要な正確なレコードを取得できます。

00:04:11.000 --> 00:04:21.000
では、CloudKitに新しいレコードタイプを書き込むアプリの機能を構築しており、CloudKitが開発環境で実際に何を受け取るかを確認したいとしましょう。

00:04:21.000 --> 00:04:26.000
新しいUIでは、クエリを一度設定して保存するだけです。

00:04:26.000 --> 00:04:40.000
...そして、私の開発が進むにつれて、再びそれに戻ってきます。

00:04:40.000 --> 00:04:45.000
コンソール全体で使用されるURLも、特定の機能を直接指すように構成されています。

00:04:45.000 --> 00:04:53.000
たとえば、レコードビューにすばやくアクセスしたい場合は、Safariのブックマークに直接リンクを追加できます。

00:04:53.000 --> 00:05:01.000
新しいコンソールでは、データとスキーマの管理が迅速かつ直感的になり、各機能にわたって使い慣れたユーザーエクスペリエンスが得られます。

00:05:01.000 --> 00:05:08.000
スキーマを作成し、開発に適切なデータが保存されていることを確認したので、スキーマを本番環境にデプロイする準備が整いました。

00:05:08.000 --> 00:05:17.000
先ほど、開発と本番の違いについて述べたので、コンソールがスキーマを本番にデプロイする方法をより簡単かつ安全にする方法をお見せしましょう。

00:05:17.000 --> 00:05:24.000
「Schemaの変更を展開する」をクリックすると、本番展開に適用される変更のクリーンで実用的なビューが表示されます。

00:05:24.000 --> 00:05:33.000
ここでは、以前のプロダクションスキーマと開発環境から適用される変更との間で変更されたすべてを見ることができます。

00:05:33.000 --> 00:05:41.000
本番変更は元に戻すことができないため、この差分ビューは、意図した変更のみが本番環境で終わることをすばやく確認する方法を提供します。

00:05:41.000 --> 00:05:46.000
新しいデータベースアプリの機能はこれでおそれなので、テレメトリを見てみましょう。

00:05:46.000 --> 00:05:56.000
データベースを設定し、スキーマを本番環境に宣伝した後、開発者ライフサイクルの次の部分に移動し、アプリがCloudKitとどのようにやり取りしているかを観察し、調査することができます。

00:05:56.000 --> 00:06:03.000
コンソール内のテレメトリアプリは、私のアプリがデータベースとどのように相互作用しているかに関する重要な指標を示す多くのチャートを提供します。

00:06:03.000 --> 00:06:11.000
リクエストレート、サーバーのレイテンシ、エラー数、平均リクエストサイズはすべてフィルタリング可能なチャートに表示され、必要なデータを見つけるのに役立ちます。

00:06:11.000 --> 00:06:20.000
これらのチャートは、アプリの動作が時間の経過とともに変化する時期を特定し、アプリの新しいバージョンが予期しない方法で動作しているかどうかについてのシグナルを与えるのに役立ちます。

00:06:20.000 --> 00:06:23.000
では、ログアプリを見てみましょう。

00:06:23.000 --> 00:06:27.000
コンソール内のログアプリを使用すると、さらに深く掘り下げることができます。

00:06:27.000 --> 00:06:33.000
CloudKitデータベースからの詳細なロギング出力が表示されるので、アプリのリクエストが実際にどのように処理されたかを確認できます。

00:06:33.000 --> 00:06:40.000
このアプリは、開発中と生産中の両方で、デバッグと調査に最適なツールです。

00:06:40.000 --> 00:06:45.000
アプリの開発と出荷にあたり、CloudKit Consoleの使用を気に入ると思います。

00:06:45.000 --> 00:06:57.000
データベースアプリの新しいスキーマ管理とクエリ機能を試して、CloudKitの使用方法に関する実用的な情報を提供するログとテレメトリアプリの新しいインストルメンテーションを確認してください。

00:06:57.000 --> 00:07:05.000
また、developer.apple.comでの新しいドキュメントと、GitHubで役立つサンプルプロジェクトがあることにも興奮しています。

00:07:05.000 --> 00:07:11.000
最後に、CloudKitの新機能について学ぶことに興味がある場合は、「CloudKitを探索する」コレクションを確認してください。

00:07:11.000 --> 00:07:12.000
今日はお時間をいただきありがとうございます。

00:07:12.000 --> 00:07:15.000
CloudKitコンソールの出会いを楽しんでいただけたでしょうか。

00:07:15.000 --> 23:59:59.000
♪

