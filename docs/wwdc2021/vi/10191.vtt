WEBVTT

00:00:00.000 --> 00:00:05.000
♪ Nhạc bass đang phát ♪

00:00:05.000 --> 00:00:09.000
♪

00:00:09.000 --> 00:00:13.000
Max Stepanov: Xin chào! Tên tôi là Max, và tôi là một kỹ sư phần mềm trong nhóm tvOS.

00:00:13.000 --> 00:00:25.000
Hôm nay, tôi rất vui được chia sẻ với bạn một giao diện hoàn toàn mới tuyệt vời về giao diện người dùng phát lại phương tiện trên Apple TV và những gì bạn có thể làm để tận dụng tối đa chức năng mới này có sẵn cho bạn với tư cách là nhà phát triển.

00:00:25.000 --> 00:00:42.000
Trong phiên này, chúng tôi sẽ tổng quan các cải tiến cho giao diện người dùng phát lại tiêu chuẩn trong tvOS 15; chúng tôi sẽ giới thiệu các API mới; và cuối cùng, chúng tôi sẽ thảo luận về các phương pháp hay nhất sẽ giúp bạn tạo ra trải nghiệm phát lại tuyệt vời trong ứng dụng của mình.

00:00:42.000 --> 00:00:44.000
Hãy bắt đầu nào.

00:00:44.000 --> 00:00:50.000
AVPlayerViewController cung cấp khả năng phát lại phương tiện tiêu chuẩn cho người dùng trên Apple TV.

00:00:50.000 --> 00:01:01.000
Nó hỗ trợ nhiều loại điều khiển từ xa, bao gồm điều khiển từ xa Click Wheel mới, cũng như chức năng bỏ qua, quét, cọ rửa, lệnh Siri, hỗ trợ xen kẽ và hơn thế nữa.

00:01:01.000 --> 00:01:12.000
Chúng tôi khuyến khích bạn bắt đầu sử dụng AVPlayerViewController trong ứng dụng của mình để cho phép người dùng có trải nghiệm tương tự như với các ứng dụng của bên thứ nhất trên Apple TV.

00:01:12.000 --> 00:01:29.000
Nếu bạn chưa sử dụng AVPlayerViewController - hoặc sẽ được hưởng lợi từ việc bồi dưỡng - tôi khuyên bạn nên xem "Cung cấp phát lại phương tiện trực quan với AVKit" từ WWDC 2019, chi tiết hơn về cách kết hợp AVPlayerViewController vào ứng dụng của bạn.

00:01:29.000 --> 00:01:34.000
Bây giờ, hãy tổng quan về những cải tiến mà chúng tôi đang mang lại trong năm nay.

00:01:34.000 --> 00:01:44.000
Trong tvOS 15, chúng tôi đã thiết kế lại hoàn toàn giao diện người dùng phát lại tiêu chuẩn để giúp người xem ở lại thời điểm này thông qua trải nghiệm tương tác, nhất quán hơn.

00:01:44.000 --> 00:01:55.000
Bằng cách thêm các điều khiển và tùy chọn có liên quan vào thanh truyền tải, chúng tôi đã cải thiện khả năng khám phá các tác vụ phát lại phổ biến, chẳng hạn như bật phụ đề hoặc thay đổi ngôn ngữ âm thanh.

00:01:55.000 --> 00:02:01.000
Các điều khiển thanh vận chuyển đều phổ biến về bản chất cũng như có thể dành riêng cho ứng dụng.

00:02:01.000 --> 00:02:11.000
Và với các tab nội dung mới, giờ đây người dùng có thể dễ dàng truy cập thông tin hỗ trợ - như Thông tin hoặc Chương - giúp điều hướng nội tuyến có thể truy cập và khám phá được.

00:02:11.000 --> 00:02:14.000
Các tab nội dung cũng có thể được sử dụng để hiển thị nội dung liên quan.

00:02:14.000 --> 00:02:24.000
Ở đây trong ví dụ này, tôi đang xem một phiên từ WWDC năm ngoái và có thể duyệt các đề xuất nội dung cho phiên mà không cần rời khỏi trình phát.

00:02:24.000 --> 00:02:29.000
Cuối cùng, chúng tôi đã thêm các hành động theo ngữ cảnh có sẵn cho người dùng trong quá trình phát lại.

00:02:29.000 --> 00:02:34.000
Những hành động đó có chức năng hoàn hảo, như Bỏ qua phần giới thiệu hoặc Tóm tắt.

00:02:34.000 --> 00:02:43.000
Để tận dụng giao diện người dùng phát lại mới trên Apple TV, ứng dụng của bạn phải được liên kết với tvOS 15 SDK.

00:02:43.000 --> 00:02:50.000
Chúng tôi đã thực hiện cách tiếp cận này để duy trì khả năng tương thích với bất kỳ ứng dụng hiện có nào có sẵn cho người dùng trong App Store.

00:02:50.000 --> 00:02:55.000
Những ứng dụng đó sẽ nhận được giao diện người dùng và chức năng phát lại tvOS 14 mặc định.

00:02:55.000 --> 00:03:03.000
Đến bây giờ, có lẽ bạn rất hào hứng khi học cách áp dụng một số chức năng mới này trong ứng dụng truyền thông của mình.

00:03:03.000 --> 00:03:08.000
Vì vậy, hãy đi sâu vào các API mới trong tvOS 15...

00:03:08.000 --> 00:03:09.000
...Bắt đầu với Chế độ xem Tiêu đề.

00:03:09.000 --> 00:03:16.000
Chế độ xem tiêu đề mới được hiển thị ngay phía trên thanh vận chuyển sẽ giúp người dùng biết ngay những gì họ đang xem.

00:03:16.000 --> 00:03:29.000
Để trình bày Chế độ xem Tiêu đề, chúng tôi sẽ sử dụng các giá trị cho commonIdentifierTitle và iTunesMetadataTrackSubtitle từ siêu dữ liệu của AVPlayerItem hiện tại.

00:03:29.000 --> 00:03:38.000
Nếu một nội dung phương tiện không chứa siêu dữ liệu được nhúng hoặc bạn cần tăng cường nó, hãy sử dụng thuộc tính externalMetadata của AVPlayerItem.

00:03:38.000 --> 00:03:46.000
Khi phát nội dung phát trực tiếp, Chế độ xem tiêu đề cũng sẽ hiển thị huy hiệu để chỉ ra trạng thái nội dung cho người xem.

00:03:46.000 --> 00:03:57.000
Cuối cùng, nếu ứng dụng của bạn không muốn hiển thị Chế độ xem tiêu đề, hãy ngăn chặn nó bằng cách đặt giá trị của thuộc tính mới transportBarIncludesTitleView thành sai.

00:03:57.000 --> 00:04:01.000
Tiếp theo, chúng ta hãy xem xét các điều khiển thanh vận chuyển.

00:04:01.000 --> 00:04:07.000
Điều khiển thanh vận chuyển là một tập hợp các yếu tố giao diện người dùng nằm ngay trên đầu máy chà sàn thanh vận chuyển.

00:04:07.000 --> 00:04:15.000
Những điều khiển đó sẽ giúp người dùng nhanh chóng và trực quan tìm thấy tất cả các tùy chọn phát lại mà ứng dụng của bạn có thể cung cấp.

00:04:15.000 --> 00:04:23.000
Một số điều khiển tiêu chuẩn - chẳng hạn như phụ đề, ngôn ngữ âm thanh và Picture in Picture - được cung cấp bởi hệ thống.

00:04:23.000 --> 00:04:33.000
Là một nhà phát triển, bạn có thể mở rộng danh sách các điều khiển thanh vận chuyển, sử dụng thuộc tính mới của AVPlayerViewController, transportBarCustomMenuItems.

00:04:33.000 --> 00:04:38.000
Nó hỗ trợ các trường hợp của các lớp UIAction và UIMenu.

00:04:38.000 --> 00:04:42.000
Hãy xem xét một ví dụ về việc sử dụng các điều khiển thanh vận chuyển.

00:04:42.000 --> 00:04:49.000
Ở đây, tôi đang sử dụng UIAction để cho phép người dùng thêm mục phương tiện hiện tại vào Mục yêu thích của họ.

00:04:49.000 --> 00:04:57.000
Bạn cũng có thể tạo các sắp xếp hành động nâng cao hơn và trình bày chúng trong một menu, sử dụng lớp UIMenu.

00:04:57.000 --> 00:05:07.000
UIMenus được trình bày bởi AVPlayerViewController hỗ trợ lên đến một cấp độ lồng nhau, sử dụng tùy chọn displayInline.

00:05:07.000 --> 00:05:19.000
Để biết thêm chi tiết về việc sử dụng các lớp UIMenu và UIAction, tôi khuyên bạn nên xem "Hiện đại hóa giao diện người dùng của bạn cho iOS 13" từ WWDC 2019.

00:05:19.000 --> 00:05:22.000
Bây giờ, hãy nói về các tab nội dung.

00:05:22.000 --> 00:05:30.000
Các tab nội dung sẽ cho phép ứng dụng của bạn hiển thị thông tin bổ sung hoặc các đề xuất cho nhiều nội dung hơn.

00:05:30.000 --> 00:05:42.000
AVPlayerViewController sẽ hiển thị tab Thông tin khi nội dung phương tiện chứa siêu dữ liệu được nhúng hoặc khi bạn bổ sung siêu dữ liệu bên ngoài bằng AVPlayerItem.

00:05:42.000 --> 00:05:51.000
Ngoài ra, khi bạn cung cấp navigationMarkerGroups với AVPlayerItem, AVPlayerViewController sẽ hiển thị tab Chương.

00:05:51.000 --> 00:06:00.000
Ứng dụng của bạn có thể trình bày các tab nội dung bổ sung bằng cách sử dụng thuộc tính mới của AVPlayerViewController, customInfoViewControllers.

00:06:00.000 --> 00:06:10.000
Và trong tvOS 15, chúng tôi đang phản đối thuộc tính customInfoViewController để ủng hộ thuộc tính mới cho phép nhiều bộ điều khiển chế độ xem.

00:06:10.000 --> 00:06:22.000
Để định cỡ các tab nội dung của bạn một cách thích hợp, vui lòng chỉ định chiều cao bằng cách sử dụng thuộc tính preferredContentSize hoặc xác định các ràng buộc bố cục tự động thích hợp.

00:06:22.000 --> 00:06:30.000
Khi tính toán chiều cao cần thiết để hiển thị các tab nội dung, hệ thống sẽ kích thước tất cả các bộ điều khiển chế độ xem theo chiều cao của tab nội dung cao nhất.

00:06:30.000 --> 00:06:39.000
Khi làm việc với nhiều tab nội dung, hãy kích thước bộ điều khiển chế độ xem tùy chỉnh của bạn một cách nhất quán hoặc xác minh rằng bố cục được mong đợi trong thời gian chạy.

00:06:39.000 --> 00:06:43.000
Và đừng quên đặt thuộc tính tiêu đề trên bộ điều khiển chế độ xem tùy chỉnh của bạn.

00:06:43.000 --> 00:06:47.000
Chúng tôi sẽ sử dụng nó cho tiêu đề của tab nội dung.

00:06:47.000 --> 00:07:02.000
Để giúp bạn tạo các tab nội dung đẹp mắt, năm nay, chúng tôi sẽ giới thiệu các cấu hình nội dung mới trong khung TVUIKit: Cấu hình TVMediaItemContent và Cấu hình TVMonogramContent.

00:07:02.000 --> 00:07:08.000
Hãy cùng xem một vài ví dụ về cách các cấu hình này có thể được sử dụng trong mã của bạn.

00:07:08.000 --> 00:07:18.000
Ví dụ, để trình bày danh sách các mục phương tiện ở tỷ lệ khung hình 16:9, bạn có thể sử dụng ô rộng từ TVMediaItem ContentConfiguration.

00:07:18.000 --> 00:07:22.000
Đặt các thuộc tính của nó, như hình ảnh, tiêu đề hoặc văn bản phụ.

00:07:22.000 --> 00:07:27.000
Bạn cũng có thể cấu hình nó để hiển thị huy hiệu và tiến trình phát lại.

00:07:27.000 --> 00:07:31.000
Khi bạn hoàn tất, hãy gán Cấu hình nội dung cho ô xem bộ sưu tập của bạn.

00:07:31.000 --> 00:07:33.000
Thật dễ dàng.

00:07:33.000 --> 00:07:42.000
Nếu bạn muốn hiển thị mọi người hoặc nhân vật được liên kết với nội dung phương tiện hiện tại, hãy sử dụng TVMonogramContentConfiguration.

00:07:42.000 --> 00:07:52.000
Để biết thêm thông tin về việc sử dụng cấu hình nội dung, tôi khuyên bạn nên xem "Cấu hình ô hiện đại" từ WWDC 2020.

00:07:52.000 --> 00:07:55.000
Cuối cùng, các hành động theo ngữ cảnh.

00:07:55.000 --> 00:08:00.000
Các hành động theo ngữ cảnh cho phép ứng dụng của bạn hiển thị các điều khiển có liên quan trong quá trình phát lại.

00:08:00.000 --> 00:08:10.000
Để hiển thị các hành động theo ngữ cảnh, hãy sử dụng thuộc tính Hành động theo ngữ cảnh mới của AVPlayerViewController và cung cấp một hoặc nhiều UIActions.

00:08:10.000 --> 00:08:17.000
Thông thường, ứng dụng của bạn sẽ muốn trình bày các hành động theo ngữ cảnh trong một phần có liên quan của nội dung.

00:08:17.000 --> 00:08:25.000
Để đạt được điều này, hãy quan sát thời gian AVPlayer bằng cách thêm các quan sát thời gian định kỳ hoặc ranh giới.

00:08:25.000 --> 00:08:30.000
Để ẩn các hành động theo ngữ cảnh, hãy đặt lại thuộc tính thành một mảng trống.

00:08:30.000 --> 00:08:35.000
Một số bạn có thể đã triển khai các giải pháp cho chức năng bỏ qua trong các ứng dụng của mình.

00:08:35.000 --> 00:08:48.000
Với API mới này, sự tương tác của người dùng với các điều khiển theo ngữ cảnh phù hợp với hành vi tập trung và khi được sử dụng, nó cũng sẽ duy trì trạng thái Đang phát cho ứng dụng của bạn.

00:08:48.000 --> 00:08:54.000
Bây giờ, hãy nói về một số phương pháp hay nhất với AVPlayerViewController trên tvOS.

00:08:54.000 --> 00:09:00.000
Đầu tiên - và quan trọng nhất - tránh thêm các cử chỉ bổ sung cho người chơi.

00:09:00.000 --> 00:09:06.000
Điều này sẽ can thiệp vào giao diện người dùng phát lại tiêu chuẩn và chắc chắn có thể không hoạt động trong tương lai.

00:09:06.000 --> 00:09:10.000
Thứ hai, bổ sung siêu dữ liệu bị thiếu.

00:09:10.000 --> 00:09:15.000
Đôi khi chúng ta có phương tiện truyền thông không có tất cả siêu dữ liệu được gắn với tài sản.

00:09:15.000 --> 00:09:26.000
Trong những trường hợp đó, hãy cung cấp tất cả siêu dữ liệu cần thiết - như tiêu đề, tác phẩm nghệ thuật hoặc mô tả - bằng cách sử dụng thuộc tính externalMetadata của AVPlayerItem.

00:09:26.000 --> 00:09:34.000
Và khi bạn làm như vậy, chúng tôi sẽ làm phần còn lại để điền vào tab Xem Tiêu đề và Thông tin với tất cả thông tin liên quan.

00:09:34.000 --> 00:09:39.000
Cuối cùng, hãy cân nhắc bật Picture in Picture trong ứng dụng tvOS của bạn.

00:09:39.000 --> 00:09:50.000
Nó sẽ cung cấp cho người dùng của bạn sự linh hoạt đa nhiệm, cho phép phát lại video đồng thời và khả năng hoán đổi giữa nội dung toàn màn hình và Ảnh trong Ảnh.

00:09:50.000 --> 00:10:00.000
Để bắt đầu với Picture in Picture, tôi khuyên bạn nên xem "Master Picture in Picture trên tvOS" từ WWDC 2020.

00:10:00.000 --> 00:10:01.000
Vì vậy, để tóm tắt lại.

00:10:01.000 --> 00:10:09.000
tvOS 15 giúp việc xây dựng trải nghiệm phương tiện tuyệt vời trở nên dễ dàng hơn bao giờ hết bằng cách sử dụng giao diện người dùng phát lại tiêu chuẩn.

00:10:09.000 --> 00:10:15.000
Các API mới mạnh mẽ giúp AVPlayerViewController có thể cấu hình và tùy chỉnh hơn bao giờ hết.

00:10:15.000 --> 00:10:19.000
Chưa bao giờ có thời điểm tốt hơn để áp dụng nó vào các ứng dụng của bạn.

00:10:19.000 --> 00:10:21.000
Và thật dễ dàng để bắt đầu.

00:10:21.000 --> 00:10:26.000
Để biết thêm thông tin, hãy xem các tài nguyên bổ sung cho phiên này trong ứng dụng Nhà phát triển.

00:10:26.000 --> 00:10:28.000
Cảm ơn vì đã xem và tận hưởng hội nghị.

00:10:28.000 --> 23:59:59.000
♪

