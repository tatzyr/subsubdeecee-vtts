WEBVTT

00:00:00.000 --> 00:00:05.000
♪ Nhạc bass đang phát ♪

00:00:05.000 --> 00:00:09.000
♪

00:00:09.000 --> 00:00:10.000
Michael Patrick Johnson: Xin chào!

00:00:10.000 --> 00:00:14.000
Tên tôi là Michael Patrick Johnson, và tôi là một kỹ sư trong nhóm Object Capture.

00:00:14.000 --> 00:00:24.000
Hôm nay, đồng nghiệp Dave McKinnon của tôi và tôi sẽ chỉ cho bạn cách biến các đối tượng trong thế giới thực thành các mô hình 3D bằng cách sử dụng API trắc quang mới của chúng tôi trên macOS.

00:00:24.000 --> 00:00:31.000
Bạn có thể đã quen thuộc với việc tạo các ứng dụng thực tế tăng cường bằng cách sử dụng khung ARKit và RealityKit của chúng tôi.

00:00:31.000 --> 00:00:38.000
Bạn cũng có thể đã sử dụng Reality Composer và Reality Converter để tạo ra các mô hình 3D cho AR.

00:00:38.000 --> 00:00:46.000
Và bây giờ, với Object Capture API, bạn có thể dễ dàng biến hình ảnh của các đối tượng trong thế giới thực thành các mô hình 3D chi tiết.

00:00:46.000 --> 00:00:50.000
Giả sử bạn có một ít bánh pizza mới nướng trước mặt trên bàn bếp.

00:00:50.000 --> 00:00:52.000
Trông rất ngon, phải không?

00:00:52.000 --> 00:00:57.000
Giả sử chúng ta muốn chụp chiếc bánh pizza ở phía trước như một mô hình 3D.

00:00:57.000 --> 00:01:03.000
Thông thường, bạn sẽ cần thuê một nghệ sĩ chuyên nghiệp trong nhiều giờ để mô hình hóa hình dạng và kết cấu.

00:01:03.000 --> 00:01:07.000
Nhưng, khoan đã, bạn chỉ mất vài phút để nướng trong lò nướng của riêng mình!

00:01:07.000 --> 00:01:12.000
Với Object Capture, bạn bắt đầu bằng cách chụp ảnh đối tượng của mình từ mọi góc độ.

00:01:12.000 --> 00:01:18.000
Tiếp theo, bạn sao chép hình ảnh vào máy Mac hỗ trợ API Object Capture mới.

00:01:18.000 --> 00:01:26.000
Sử dụng một kỹ thuật thị giác máy tính được gọi là "photogrammetry", chồng hình ảnh 2D được biến thành mô hình 3D chỉ trong vài phút.

00:01:26.000 --> 00:01:35.000
Mô hình đầu ra bao gồm cả lưới hình học cũng như các bản đồ vật liệu khác nhau và sẵn sàng được thả ngay vào ứng dụng của bạn hoặc xem trong AR Quick Look.

00:01:35.000 --> 00:01:39.000
Bây giờ chúng ta hãy xem xét từng bước này chi tiết hơn một chút.

00:01:39.000 --> 00:01:43.000
Đầu tiên, bạn chụp ảnh đối tượng của mình từ mọi phía.

00:01:43.000 --> 00:01:49.000
Hình ảnh có thể được chụp trên iPhone hoặc iPad, máy ảnh DSLR hoặc thậm chí là máy bay không người lái của bạn.

00:01:49.000 --> 00:01:54.000
Bạn chỉ cần đảm bảo rằng bạn có được những bức ảnh rõ ràng từ mọi góc độ xung quanh đối tượng.

00:01:54.000 --> 00:01:58.000
Chúng tôi sẽ cung cấp các phương pháp hay nhất để chụp sau phiên.

00:01:58.000 --> 00:02:13.000
Nếu bạn chụp trên iPhone hoặc iPad, chúng tôi có thể sử dụng dữ liệu độ sâu âm thanh nổi từ các thiết bị được hỗ trợ để cho phép khôi phục kích thước vật thể thực tế, cũng như vectơ trọng lực để mô hình của bạn được tự động tạo bên phải.

00:02:13.000 --> 00:02:22.000
Khi bạn đã chụp được một thư mục hình ảnh, bạn cần sao chép chúng vào máy Mac của mình, nơi bạn có thể sử dụng Object Capture API để biến chúng thành mô hình 3D chỉ trong vài phút.

00:02:22.000 --> 00:02:34.000
API được hỗ trợ trên các máy Mac dựa trên Intel gần đây, nhưng sẽ chạy nhanh nhất trên tất cả các máy Mac silicon mới nhất của Apple vì chúng tôi có thể sử dụng Apple Neural Engine để tăng tốc các thuật toán thị giác máy tính của mình.

00:02:34.000 --> 00:02:40.000
Chúng tôi cũng cung cấp HelloPhotogrammetry, một ứng dụng dòng lệnh mẫu để giúp bạn bắt đầu.

00:02:40.000 --> 00:02:47.000
Bạn cũng có thể sử dụng nó trực tiếp trên thư mục hình ảnh của mình để thử xây dựng một mô hình cho chính mình trước khi viết bất kỳ mã nào.

00:02:47.000 --> 00:02:52.000
Cuối cùng, bạn có thể xem trước các mô hình đầu ra USDZ ngay trên máy Mac của mình.

00:02:52.000 --> 00:03:00.000
Chúng tôi có thể cung cấp các mô hình ở bốn cấp độ chi tiết được tối ưu hóa cho các trường hợp sử dụng khác nhau của bạn, chúng tôi sẽ thảo luận chi tiết hơn sau.

00:03:00.000 --> 00:03:07.000
Các chi tiết Giảm, Trung bình và Đầy đủ đã sẵn sàng để sử dụng ngay khi lấy ra khỏi hộp, giống như bánh pizza được hiển thị ở đây.

00:03:07.000 --> 00:03:11.000
Raw được thiết kế cho quy trình làm việc tùy chỉnh.

00:03:11.000 --> 00:03:20.000
Bằng cách chọn đầu ra USDZ ở mức chi tiết Trung bình, bạn có thể xem mô hình mới trong AR Quick Look ngay trên iPhone hoặc iPad của mình.

00:03:20.000 --> 00:03:25.000
Và đó là tất cả để có được các đối tượng giống như thật được tối ưu hóa cho AR!

00:03:25.000 --> 00:03:28.000
Ồ khoan đã, nhớ pizza từ trước không?

00:03:28.000 --> 00:03:29.000
Chúng ta phải dọn dẹp.

00:03:29.000 --> 00:03:35.000
Hình ảnh này không thực sự là một bức ảnh, nhưng thực sự được tạo ra bằng cách sử dụng Object Capture trên một số chiếc bánh pizza.

00:03:35.000 --> 00:03:43.000
Những mô hình này sau đó được kết hợp vào cảnh này trong một công cụ hậu kỳ và được kết xuất bằng cách sử dụng bộ dò tia với các bản đồ vật liệu tiên tiến.

00:03:43.000 --> 00:03:53.000
Vì vậy, bạn thấy đấy, Object Capture có thể hỗ trợ nhiều trường hợp sử dụng mục tiêu, từ các ứng dụng AR trên iPhone hoặc iPad đến các tài sản sản xuất sẵn sàng cho phim.

00:03:53.000 --> 00:04:03.000
Trong phần còn lại của phiên này, chúng tôi sẽ chỉ cho bạn cách bắt đầu sử dụng Object Capture API và sau đó đưa ra các phương pháp hay nhất của chúng tôi để đạt được kết quả chất lượng cao nhất.

00:04:03.000 --> 00:04:14.000
Trong phần bắt đầu, chúng ta sẽ đi sâu vào chi tiết hơn về API Object Capture và giới thiệu các khái niệm mã cần thiết để tạo một ứng dụng.

00:04:14.000 --> 00:04:22.000
Tiếp theo chúng ta sẽ thảo luận về các phương pháp hay nhất để chụp ảnh, lựa chọn đối tượng và lựa chọn cấp độ chi tiết.

00:04:22.000 --> 00:04:28.000
Hãy bắt đầu bằng cách thực hiện các bước cần thiết trong việc sử dụng API trên macOS.

00:04:28.000 --> 00:04:35.000
Trong phần này, bạn sẽ tìm hiểu các thành phần cơ bản của Object Capture API và cách ghép chúng lại với nhau.

00:04:35.000 --> 00:04:40.000
Giả sử chúng ta có đôi giày thể thao mới thú vị này mà chúng ta muốn biến thành một mô hình 3D để xem trong AR.

00:04:40.000 --> 00:04:46.000
Ở đây chúng ta thấy một sơ đồ đồ họa của quy trình làm việc cơ bản mà chúng ta sẽ khám phá trong phần này.

00:04:46.000 --> 00:04:58.000
Có hai bước chính trong quy trình: Thiết lập, nơi chúng tôi trỏ đến tập hợp hình ảnh của một đối tượng; và sau đó là Quy trình, nơi chúng tôi yêu cầu tạo các mô hình mà chúng tôi muốn được xây dựng.

00:04:58.000 --> 00:05:08.000
Đầu tiên, chúng tôi sẽ tập trung vào khối Thiết lập, bao gồm hai bước phụ: tạo một phiên và sau đó kết nối luồng đầu ra liên quan của nó.

00:05:08.000 --> 00:05:13.000
Khi chúng ta có một phiên hợp lệ, chúng ta có thể sử dụng nó để tạo ra các mô hình của mình.

00:05:13.000 --> 00:05:17.000
Điều đầu tiên chúng ta cần làm là tạo ra một PhotogrammetrySession.

00:05:17.000 --> 00:05:22.000
Để tạo một phiên, chúng tôi sẽ giả sử bạn đã có một thư mục hình ảnh của một đối tượng.

00:05:22.000 --> 00:05:29.000
Chúng tôi đã cung cấp một số thư mục chụp ảnh mẫu trong tài liệu API để bạn bắt đầu nhanh chóng.

00:05:29.000 --> 00:05:35.000
PhotogrammetrySession là lớp cấp cao nhất chính trong API và là điểm kiểm soát chính.

00:05:35.000 --> 00:05:45.000
Một phiên có thể được coi là một vùng chứa cho một tập hợp hình ảnh cố định mà các thuật toán quang trắc sẽ được áp dụng để tạo ra mô hình 3D kết quả.

00:05:45.000 --> 00:05:54.000
Ở đây chúng tôi có 123 hình ảnh HEIC của đôi giày thể thao được chụp bằng iPhone 12 Pro Max.

00:05:54.000 --> 00:05:58.000
Hiện tại có một số cách để chỉ định bộ hình ảnh để sử dụng.

00:05:58.000 --> 00:06:03.000
Đơn giản nhất chỉ là một URL tệp đến một thư mục hình ảnh.

00:06:03.000 --> 00:06:08.000
Phiên họp sẽ nhập từng cái một và báo cáo về bất kỳ vấn đề nào gặp phải.

00:06:08.000 --> 00:06:16.000
Nếu có dữ liệu độ sâu được nhúng trong hình ảnh HEIC, nó sẽ tự động được sử dụng để khôi phục tỷ lệ thực tế của đối tượng.

00:06:16.000 --> 00:06:26.000
Mặc dù chúng tôi hy vọng hầu hết mọi người sẽ thích đầu vào thư mục hơn, chúng tôi cũng cung cấp một giao diện cho quy trình làm việc nâng cao để cung cấp một chuỗi các mẫu tùy chỉnh.

00:06:26.000 --> 00:06:36.000
Mẫu Photogrammetry bao gồm hình ảnh cộng với dữ liệu tùy chọn khác như bản đồ độ sâu, vectơ trọng lực hoặc mặt nạ phân đoạn tùy chỉnh.

00:06:36.000 --> 00:06:42.000
Khi bạn đã tạo một phiên từ một nguồn đầu vào, bạn sẽ đưa ra yêu cầu về nó để tái tạo mô hình.

00:06:42.000 --> 00:06:49.000
Phiên sẽ xuất ra các mô hình kết quả cũng như các thông báo trạng thái trên luồng tin nhắn đầu ra của nó.

00:06:49.000 --> 00:06:54.000
Bây giờ chúng ta đã thấy phiên là gì, hãy xem cách tạo một phiên bằng API.

00:06:54.000 --> 00:07:00.000
Ở đây chúng ta thấy mã để thực hiện thiết lập ban đầu của một phiên từ một thư mục hình ảnh.

00:07:00.000 --> 00:07:05.000
PhotogrammetrySession nằm trong khuôn khổ RealityKit.

00:07:05.000 --> 00:07:10.000
Đầu tiên, chúng tôi chỉ định thư mục đầu vào làm URL tệp.

00:07:10.000 --> 00:07:16.000
Ở đây, chúng tôi giả định rằng chúng tôi đã có một thư mục trên đĩa cục bộ chứa hình ảnh của đôi giày thể thao của chúng tôi.

00:07:16.000 --> 00:07:21.000
Cuối cùng, chúng tôi tạo phiên bằng cách chuyển URL làm nguồn đầu vào của chúng tôi.

00:07:21.000 --> 00:07:26.000
Trình khởi tạo sẽ gây ra lỗi nếu đường dẫn không tồn tại hoặc không thể đọc được.

00:07:26.000 --> 00:07:33.000
Bạn có thể tùy chọn cung cấp các thông số cấu hình nâng cao, nhưng ở đây chúng tôi sẽ chỉ sử dụng các mặc định.

00:07:33.000 --> 00:07:36.000
Đó là tất cả những gì cần thiết để tạo ra một phiên!

00:07:36.000 --> 00:07:44.000
Bây giờ chúng tôi đã tạo thành công một đối tượng phiên, chúng tôi cần kết nối luồng đầu ra của phiên để chúng tôi có thể xử lý các tin nhắn khi chúng đến.

00:07:44.000 --> 00:07:52.000
Sau khi luồng tin nhắn được kết nối, chúng ta sẽ xem cách yêu cầu các mô hình sau đó sẽ đến luồng đó.

00:07:52.000 --> 00:07:59.000
Chúng tôi sử dụng AsyncSequence - một tính năng Swift mới trong năm nay - để cung cấp luồng đầu ra.

00:07:59.000 --> 00:08:06.000
Thông báo đầu ra bao gồm kết quả của các yêu cầu, cũng như các thông báo trạng thái như cập nhật tiến độ.

00:08:06.000 --> 00:08:12.000
Khi chúng tôi thực hiện cuộc gọi quy trình đầu tiên, tin nhắn sẽ bắt đầu chảy trên luồng tin nhắn đầu ra.

00:08:12.000 --> 00:08:16.000
Chuỗi tin nhắn đầu ra sẽ không kết thúc trong khi phiên đang hoạt động.

00:08:16.000 --> 00:08:23.000
Nó sẽ tiếp tục tạo ra các tin nhắn cho đến khi phiên được hủy khởi tạo hoặc trong trường hợp có lỗi nghiêm trọng.

00:08:23.000 --> 00:08:28.000
Bây giờ, chúng ta hãy xem xét kỹ hơn các loại tin nhắn mà chúng ta sẽ nhận được.

00:08:28.000 --> 00:08:37.000
Sau khi yêu cầu được thực hiện, chúng tôi hy vọng sẽ nhận được các thông báo requestProgress định kỳ với ước tính đã hoàn thành phân số cho mỗi yêu cầu.

00:08:37.000 --> 00:08:46.000
Nếu bạn đang xây dựng một ứng dụng gọi Object Capture API, bạn có thể sử dụng chúng để điều khiển thanh tiến trình cho mỗi yêu cầu để chỉ ra trạng thái.

00:08:46.000 --> 00:08:55.000
Khi yêu cầu được xử lý xong, chúng tôi sẽ nhận được thông báo requestComplete chứa tải trọng kết quả, chẳng hạn như mô hình hoặc hộp giới hạn.

00:08:55.000 --> 00:09:03.000
Nếu có sự cố xảy ra trong quá trình xử lý, một requestError sẽ được xuất ra cho yêu cầu đó thay thế.

00:09:03.000 --> 00:09:10.000
Để thuận tiện, một thông báo processingComplete được xuất ra khi tất cả các yêu cầu được xếp hàng đã hoàn tất quá trình xử lý.

00:09:10.000 --> 00:09:20.000
Bây giờ chúng ta đã được giới thiệu về khái niệm luồng đầu ra phiên và thấy các thông báo đầu ra chính, chúng ta hãy xem một số mã ví dụ xử lý luồng tin nhắn.

00:09:20.000 --> 00:09:24.000
Khi chúng tôi có cái này, chúng tôi sẽ xem cách yêu cầu một mô hình.

00:09:24.000 --> 00:09:30.000
Đây là một số mã tạo ra một tác vụ không đồng bộ xử lý tin nhắn khi chúng đến.

00:09:30.000 --> 00:09:37.000
Nó có vẻ như rất nhiều mã, nhưng hầu hết nó chỉ đơn giản là gửi tin nhắn như chúng ta sẽ thấy.

00:09:37.000 --> 00:09:47.000
Chúng tôi sử dụng vòng lặp "để thử chờ đợi" để lặp lại không đồng bộ các tin nhắn trong session.outputs khi chúng đến.

00:09:47.000 --> 00:09:52.000
Phần lớn mã là một trình điều phối tin nhắn chuyển đổi trên tin nhắn đầu ra.

00:09:52.000 --> 00:09:57.000
Đầu ra là một liệt kê với các loại tin nhắn và tải trọng khác nhau.

00:09:57.000 --> 00:10:00.000
Mỗi tuyên bố trường hợp sẽ xử lý một tin nhắn khác nhau.

00:10:00.000 --> 00:10:02.000
Hãy đi qua chúng.

00:10:02.000 --> 00:10:07.000
Đầu tiên, nếu chúng tôi nhận được thông báo tiến độ, chúng tôi sẽ chỉ in ra giá trị.

00:10:07.000 --> 00:10:11.000
Lưu ý rằng chúng tôi nhận được tin nhắn tiến độ cho mỗi yêu cầu.

00:10:11.000 --> 00:10:21.000
Đối với ví dụ của chúng tôi, khi yêu cầu hoàn tất, chúng tôi mong đợi tải trọng kết quả là một modelFile với URL đến nơi mô hình được lưu.

00:10:21.000 --> 00:10:24.000
Chúng tôi sẽ xem cách đưa ra yêu cầu như vậy trong giây lát.

00:10:24.000 --> 00:10:31.000
Nếu yêu cầu không thành công do lỗi trắc quang, thay vào đó chúng tôi sẽ nhận được thông báo lỗi cho nó.

00:10:31.000 --> 00:10:38.000
Sau khi toàn bộ tập hợp các yêu cầu từ một cuộc gọi quy trình kết thúc, một thông báo processingComplete được tạo ra.

00:10:38.000 --> 00:10:41.000
Đối với ứng dụng dòng lệnh, bạn có thể thoát khỏi ứng dụng tại đây.

00:10:41.000 --> 00:10:50.000
Cuối cùng, có những thông báo trạng thái khác mà bạn có thể đọc trong tài liệu, chẳng hạn như cảnh báo về hình ảnh trong thư mục không thể tải được.

00:10:50.000 --> 00:10:52.000
Và đó là nó để xử lý tin nhắn!

00:10:52.000 --> 00:11:00.000
Nhiệm vụ xử lý tin nhắn này sẽ tiếp tục lặp lại và xử lý tin nhắn không đồng bộ miễn là phiên còn hoạt động.

00:11:00.000 --> 00:11:04.000
Được rồi, hãy xem chúng ta đang ở đâu trong quy trình làm việc của mình.

00:11:04.000 --> 00:11:08.000
Chúng tôi đã hoàn thành hoàn thành giai đoạn Thiết lập và chuẩn bị sẵn sàng cho một phiên.

00:11:08.000 --> 00:11:12.000
Bây giờ chúng tôi đã sẵn sàng để đưa ra yêu cầu xử lý các mô hình.

00:11:12.000 --> 00:11:18.000
Trước khi chúng ta nhảy vào mã, chúng ta hãy xem xét kỹ hơn các loại yêu cầu khác nhau mà chúng ta có thể thực hiện.

00:11:18.000 --> 00:11:26.000
Có ba loại dữ liệu khác nhau mà bạn có thể nhận được từ một phiên: ModelFile, ModelEntity và BoundingBox.

00:11:26.000 --> 00:11:36.000
Các loại này có một trường hợp liên quan trong liệt kê Yêu cầu: modelFile, modelEntity và giới hạn; mỗi loại có các tham số khác nhau.

00:11:36.000 --> 00:11:41.000
Yêu cầu modelFile là phổ biến nhất và là yêu cầu chúng tôi sẽ sử dụng trong quy trình làm việc cơ bản của mình.

00:11:41.000 --> 00:11:51.000
Bạn chỉ cần tạo một yêu cầu modelFile chỉ định URL tệp với phần mở rộng USDZ, cũng như mức độ chi tiết.

00:11:51.000 --> 00:11:58.000
Có một tham số hình học tùy chọn để sử dụng trong quy trình làm việc tương tác, nhưng chúng tôi sẽ không sử dụng nó ở đây.

00:11:58.000 --> 00:12:11.000
Đối với các đường ống xử lý hậu kỳ liên quan nhiều hơn, nơi bạn có thể cần các định dạng đầu ra USDA hoặc OBJ, thay vào đó bạn có thể cung cấp URL thư mục đầu ra, cùng với mức độ chi tiết.

00:12:11.000 --> 00:12:21.000
Phiên sau đó sẽ ghi các tệp USDA và OBJ vào thư mục đó, cùng với tất cả các tài sản được tham chiếu như kết cấu và vật liệu.

00:12:21.000 --> 00:12:29.000
Một ứng dụng GUI cũng có thể yêu cầu RealityKit ModelEntity và BoundingBox để xem trước và tinh chỉnh tương tác.

00:12:29.000 --> 00:12:35.000
Một yêu cầu modelEntity cũng có cấp độ chi tiết và hình học tùy chọn.

00:12:35.000 --> 00:12:41.000
Một yêu cầu giới hạn sẽ trả về một khối lượng chụp ước tính BoundingBox cho đối tượng.

00:12:41.000 --> 00:12:50.000
Hộp này có thể được điều chỉnh trong giao diện người dùng và sau đó được chuyển trong đối số hình học của yêu cầu tiếp theo để điều chỉnh âm lượng tái tạo.

00:12:50.000 --> 00:12:54.000
Chúng ta sẽ xem điều này hoạt động như thế nào sau đó một chút trong phiên.

00:12:54.000 --> 00:12:57.000
Hầu hết các yêu cầu cũng có mức độ chi tiết.

00:12:57.000 --> 00:13:01.000
Cấp độ xem trước chỉ dành cho quy trình làm việc tương tác.

00:13:01.000 --> 00:13:06.000
Nó có chất lượng hình ảnh rất thấp nhưng được tạo ra nhanh nhất.

00:13:06.000 --> 00:13:14.000
Các cấp độ chi tiết chính theo thứ tự tăng chất lượng và kích thước là Giảm, Trung bình và Đầy đủ.

00:13:14.000 --> 00:13:18.000
Tất cả các cấp độ này đều sẵn sàng để sử dụng ngay lập tức.

00:13:18.000 --> 00:13:26.000
Ngoài ra, cấp độ Raw được cung cấp để sử dụng chuyên nghiệp và sẽ cần quy trình làm việc hậu kỳ để được sử dụng đúng cách.

00:13:26.000 --> 00:13:30.000
Chúng ta sẽ thảo luận chi tiết hơn về những điều này trong phần thực hành tốt nhất.

00:13:30.000 --> 00:13:36.000
Được rồi, bây giờ chúng ta đã thấy những loại yêu cầu nào chúng ta có thể thực hiện, hãy xem cách thực hiện điều này trong mã.

00:13:36.000 --> 00:13:44.000
Bây giờ chúng ta sẽ xem cách tạo hai mô hình đồng thời trong một cuộc gọi, mỗi mô hình có tên tệp đầu ra và mức độ chi tiết khác nhau.

00:13:44.000 --> 00:13:48.000
Ở đây chúng ta thấy cuộc gọi đầu tiên để xử lý phiên.

00:13:48.000 --> 00:13:51.000
Lưu ý rằng nó cần một loạt các yêu cầu.

00:13:51.000 --> 00:13:55.000
Đây là cách chúng tôi có thể yêu cầu hai mô hình cùng một lúc.

00:13:55.000 --> 00:14:04.000
Chúng tôi sẽ yêu cầu một mô hình ở mức độ chi tiết Giảm và một ở Mức trung bình, mỗi mô hình được lưu vào một tệp USDZ khác nhau.

00:14:04.000 --> 00:14:17.000
Yêu cầu tất cả các cấp độ chi tiết mong muốn để chụp đối tượng đồng thời trong một cuộc gọi cho phép công cụ chia sẻ tính toán và sẽ tạo ra tất cả các mô hình nhanh hơn so với yêu cầu chúng tuần tự.

00:14:17.000 --> 00:14:20.000
Bạn thậm chí có thể yêu cầu tất cả các cấp độ chi tiết cùng một lúc.

00:14:20.000 --> 00:14:27.000
Quá trình có thể ngay lập tức gây ra lỗi nếu yêu cầu không hợp lệ, chẳng hạn như nếu vị trí đầu ra không thể được ghi.

00:14:27.000 --> 00:14:34.000
Cuộc gọi này trả về ngay lập tức và các tin nhắn sẽ sớm bắt đầu xuất hiện trên luồng đầu ra.

00:14:34.000 --> 00:14:37.000
Và đó là sự kết thúc của quy trình làm việc cơ bản!

00:14:37.000 --> 00:14:43.000
Bạn tạo phiên với hình ảnh của mình, kết nối luồng đầu ra và sau đó yêu cầu các mô hình.

00:14:43.000 --> 00:14:49.000
Thời gian xử lý cho mỗi mô hình của bạn sẽ phụ thuộc vào số lượng hình ảnh và mức chất lượng.

00:14:49.000 --> 00:14:55.000
Khi quá trình xử lý hoàn tất, bạn sẽ nhận được thông báo đầu ra rằng mô hình có sẵn.

00:14:55.000 --> 00:15:06.000
Bạn có thể mở tệp USDZ kết quả của đôi giày thể thao bạn đã tạo ngay trên máy Mac của mình và kiểm tra kết quả ở dạng 3D từ mọi góc độ, kể cả phía dưới.

00:15:06.000 --> 00:15:16.000
Sau đó trong phiên này, chúng tôi sẽ chỉ cho bạn cách đạt được phạm vi bảo hiểm cho tất cả các mặt của đối tượng của bạn trong một phiên chụp, tránh sự cần thiết phải kết hợp nhiều lần chụp lại với nhau.

00:15:16.000 --> 00:15:18.000
Nó trông thật tuyệt!

00:15:18.000 --> 00:15:28.000
Bây giờ bạn đã thấy quy trình làm việc cơ bản, chúng tôi sẽ cung cấp tổng quan cấp cao về quy trình làm việc tương tác nâng cao hơn mà API Object Capture cũng hỗ trợ.

00:15:28.000 --> 00:15:42.000
Quy trình làm việc tương tác được thiết kế để cho phép thực hiện một số điều chỉnh trên mô hình xem trước trước khi tái tạo cuối cùng, điều này có thể loại bỏ nhu cầu chỉnh sửa mô hình hậu kỳ và tối ưu hóa việc sử dụng bộ nhớ.

00:15:42.000 --> 00:15:49.000
Đầu tiên, lưu ý rằng bước Thiết lập và bước Quy trình ở cả hai đầu của quy trình làm việc này vẫn giống như trước đây.

00:15:49.000 --> 00:15:52.000
Bạn vẫn sẽ tạo một phiên và kết nối luồng đầu ra.

00:15:52.000 --> 00:15:55.000
Bạn cũng sẽ yêu cầu các mô hình cuối cùng như trước đây.

00:15:55.000 --> 00:16:04.000
Tuy nhiên, lưu ý rằng chúng tôi đã thêm một khối ở giữa nơi giao diện người dùng 3D được trình bày để chỉnh sửa tương tác của mô hình xem trước.

00:16:04.000 --> 00:16:09.000
Quá trình này được lặp lại cho đến khi bạn hài lòng với bản xem trước.

00:16:09.000 --> 00:16:13.000
Sau đó bạn có thể tiếp tục thực hiện các yêu cầu mô hình cuối cùng như trước đây.

00:16:13.000 --> 00:16:20.000
Trước tiên, bạn yêu cầu một mô hình xem trước bằng cách chỉ định một yêu cầu mô hình với mức độ xem trước chi tiết.

00:16:20.000 --> 00:16:25.000
Mô hình xem trước có chất lượng hình ảnh thấp và được tạo ra càng nhanh càng tốt.

00:16:25.000 --> 00:16:32.000
Bạn có thể yêu cầu một tệp mô hình và tự tải nó hoặc trực tiếp yêu cầu RealityKit ModelEntity hiển thị.

00:16:32.000 --> 00:16:39.000
Thông thường, một yêu cầu giới hạn cũng được thực hiện cùng một lúc để xem trước và chỉnh sửa âm lượng chụp.

00:16:39.000 --> 00:16:49.000
Bạn có thể điều chỉnh âm lượng chụp để loại bỏ bất kỳ hình học không mong muốn nào trong quá trình chụp, chẳng hạn như bệ cần thiết để giữ đối tượng thẳng đứng trong quá trình chụp.

00:16:49.000 --> 00:16:55.000
Bạn cũng có thể điều chỉnh chuyển đổi gốc để chia tỷ lệ, dịch và xoay mô hình.

00:16:55.000 --> 00:17:05.000
Thuộc tính hình học của yêu cầu mà chúng tôi đã thấy trước đó cho phép cung cấp khối lượng chụp và biến đổi gốc tương đối trước khi mô hình được tạo.

00:17:05.000 --> 00:17:08.000
Điều này xuất ra một mô hình 3D đã sẵn sàng để sử dụng.

00:17:08.000 --> 00:17:10.000
Hãy xem xét quá trình này đang hoạt động.

00:17:10.000 --> 00:17:18.000
Ở đây chúng tôi thấy một ví dụ về ứng dụng Object Capture tương tác mà chúng tôi đã tạo bằng API để chứng minh quy trình làm việc tương tác này.

00:17:18.000 --> 00:17:29.000
Đầu tiên, chúng tôi chọn thư mục Hình ảnh chứa hình ảnh của một tảng đá trang trí, cũng như một thư mục đầu ra nơi USDZ cuối cùng sẽ được viết.

00:17:29.000 --> 00:17:35.000
Sau đó, chúng tôi nhấn Xem trước để yêu cầu mô hình xem trước và khối lượng chụp ước tính.

00:17:35.000 --> 00:17:41.000
Sau một thời gian trôi qua, mô hình xem trước của tảng đá của chúng tôi và âm lượng chụp của nó xuất hiện.

00:17:41.000 --> 00:17:47.000
Nhưng giả sử rằng chúng ta chỉ muốn phần trên cùng của tảng đá trong đầu ra như thể phần dưới nằm dưới lòng đất.

00:17:47.000 --> 00:17:51.000
Chúng ta có thể điều chỉnh hộp giới hạn để tránh tái tạo lại đáy của mô hình.

00:17:51.000 --> 00:17:59.000
Khi chúng tôi hài lòng, chúng tôi nhấn Refine Model để tạo bản xem trước mới bị giới hạn ở âm lượng chụp đã sửa đổi này.

00:17:59.000 --> 00:18:03.000
Điều này cũng tối ưu hóa mô hình đầu ra chỉ cho phần này.

00:18:03.000 --> 00:18:08.000
Khi mô hình tinh chỉnh đã sẵn sàng, bản xem trước mới sẽ xuất hiện.

00:18:08.000 --> 00:18:13.000
Bạn có thể thấy hình học của mô hình mới đã được cắt để ở bên trong hộp.

00:18:13.000 --> 00:18:19.000
Điều này rất hữu ích để loại bỏ các mục không mong muốn trong ảnh chụp như bệ giữ một vật thể.

00:18:19.000 --> 00:18:26.000
Khi chúng tôi hài lòng với bản xem trước đã cắt, chúng tôi có thể chọn kết xuất cuối cùng đầy đủ chi tiết để bắt đầu quá trình tạo.

00:18:26.000 --> 00:18:32.000
Sau một thời gian, mô hình đầy đủ chi tiết đã hoàn thành và thay thế mô hình xem trước.

00:18:32.000 --> 00:18:37.000
Bây giờ chúng ta có thể thấy chi tiết đầy đủ của mô hình thực tế, trông rất tuyệt.

00:18:37.000 --> 00:18:43.000
Mô hình được lưu trong thư mục đầu ra và sẵn sàng sử dụng mà không cần xử lý hậu kỳ bổ sung nào.

00:18:43.000 --> 00:18:48.000
Và đó là tất cả những gì cần thiết để bắt đầu với Object Capture API mới.

00:18:48.000 --> 00:18:53.000
Chúng tôi đã thấy cách tạo một phiên từ một nguồn đầu vào như một thư mục hình ảnh.

00:18:53.000 --> 00:18:57.000
Chúng tôi đã thấy cách kết nối luồng đầu ra không đồng bộ để gửi tin nhắn.

00:18:57.000 --> 00:19:03.000
Sau đó chúng tôi đã thấy cách yêu cầu hai mô hình chi tiết cấp độ khác nhau cùng một lúc.

00:19:03.000 --> 00:19:10.000
Cuối cùng, chúng tôi đã mô tả quy trình làm việc tương tác với một ứng dụng RealityKit GUI ví dụ cho ObjectCapture.

00:19:10.000 --> 00:19:17.000
Bây giờ tôi sẽ giao nó cho đồng nghiệp Dave McKinnon của tôi, người sẽ thảo luận về các phương pháp hay nhất với Object Capture.

00:19:17.000 --> 00:19:19.000
Dave McKinnon: Cảm ơn, Michael.

00:19:19.000 --> 00:19:23.000
Xin chào, tôi là Dave McKinnon, và tôi là một kỹ sư làm việc trong nhóm Object Capture.

00:19:23.000 --> 00:19:30.000
Trong phần tiếp theo, chúng tôi sẽ đề cập đến các phương pháp hay nhất để giúp bạn đạt được kết quả chất lượng cao nhất.

00:19:30.000 --> 00:19:35.000
Đầu tiên, chúng ta sẽ xem xét các mẹo và thủ thuật để chọn một đối tượng có các đặc điểm phù hợp.

00:19:35.000 --> 00:19:42.000
Tiếp theo là một cuộc thảo luận về cách kiểm soát điều kiện môi trường và máy ảnh để có được kết quả tốt nhất.

00:19:42.000 --> 00:19:45.000
Tiếp theo, chúng ta sẽ hướng dẫn cách sử dụng Ứng dụng CaptureSample.

00:19:45.000 --> 00:19:54.000
Ứng dụng này cho phép bạn chụp ảnh ngoài dữ liệu độ sâu và thông tin trọng lực để khôi phục tỷ lệ và hướng thực của đối tượng của bạn.

00:19:54.000 --> 00:20:00.000
Chúng tôi minh họa việc sử dụng ứng dụng này để chụp bằng tay cũng như bàn xoay.

00:20:00.000 --> 00:20:08.000
Cuối cùng, chúng tôi sẽ thảo luận về cách chọn mức chi tiết đầu ra phù hợp cho trường hợp sử dụng của bạn cũng như cung cấp một số liên kết để đọc thêm.

00:20:08.000 --> 00:20:13.000
Điều đầu tiên cần xem xét khi quét là chọn một đối tượng có các đặc điểm phù hợp.

00:20:13.000 --> 00:20:17.000
Để có kết quả tốt nhất, hãy chọn một đối tượng có đủ chi tiết kết cấu.

00:20:17.000 --> 00:20:24.000
Nếu đối tượng chứa các vùng không có kết cấu hoặc trong suốt, kết quả quét có thể thiếu chi tiết.

00:20:24.000 --> 00:20:28.000
Ngoài ra, cố gắng tránh các vật thể có chứa các vùng phản chiếu cao.

00:20:28.000 --> 00:20:34.000
Nếu vật thể phản chiếu, bạn sẽ nhận được kết quả tốt nhất bằng cách khuếch tán ánh sáng khi bạn quét.

00:20:34.000 --> 00:20:40.000
Nếu bạn định lật đối tượng trong suốt quá trình chụp, hãy đảm bảo rằng nó cứng để nó không thay đổi hình dạng.

00:20:40.000 --> 00:20:52.000
Cuối cùng, nếu bạn muốn quét một đối tượng có chứa chi tiết bề mặt mịn, bạn sẽ cần sử dụng máy ảnh có độ phân giải cao ngoài việc có nhiều ảnh cận cảnh bề mặt để khôi phục chi tiết.

00:20:52.000 --> 00:20:56.000
Bây giờ chúng tôi sẽ chứng minh quy trình quét điển hình.

00:20:56.000 --> 00:21:03.000
Đầu tiên, để có kết quả tốt nhất, hãy đặt đối tượng của bạn trên nền gọn gàng để đối tượng nổi bật rõ ràng.

00:21:03.000 --> 00:21:10.000
Quá trình cơ bản liên quan đến việc di chuyển chậm xung quanh vật thể để đảm bảo chụp nó đồng đều từ mọi phía.

00:21:10.000 --> 00:21:16.000
Nếu bạn muốn tái tạo lại phần dưới của đối tượng, hãy lật nó và tiếp tục chụp ảnh.

00:21:16.000 --> 00:21:21.000
Khi chụp ảnh, hãy cố gắng tối đa hóa phần trường nhìn chụp đối tượng.

00:21:21.000 --> 00:21:26.000
Điều này giúp API khôi phục càng nhiều chi tiết càng tốt.

00:21:26.000 --> 00:21:33.000
Một cách để làm điều này là sử dụng chế độ dọc hoặc ngang tùy thuộc vào kích thước và hướng của đối tượng.

00:21:33.000 --> 00:21:38.000
Ngoài ra, hãy cố gắng duy trì mức độ chồng chéo cao giữa các hình ảnh.

00:21:38.000 --> 00:21:44.000
Tùy thuộc vào đối tượng, 20 đến 200 hình ảnh cận cảnh là đủ để có kết quả tốt.

00:21:44.000 --> 00:21:51.000
Để giúp bạn bắt đầu chụp ảnh chất lượng cao với độ sâu và trọng lực trên iOS, chúng tôi cung cấp Ứng dụng CaptureSample.

00:21:51.000 --> 00:21:54.000
Điều này có thể được sử dụng như một điểm khởi đầu cho các ứng dụng của riêng bạn.

00:21:54.000 --> 00:21:59.000
Nó được viết bằng SwiftUI và là một phần của tài liệu dành cho nhà phát triển.

00:21:59.000 --> 00:22:03.000
Ứng dụng này trình bày cách chụp ảnh chất lượng cao để chụp đối tượng.

00:22:03.000 --> 00:22:06.000
Nó có chế độ màn trập thủ công và hẹn giờ.

00:22:06.000 --> 00:22:09.000
Bạn cũng có thể sửa đổi ứng dụng để đồng bộ hóa với bàn xoay của mình.

00:22:09.000 --> 00:22:18.000
Nó thể hiện cách sử dụng iPhone và iPad với camera kép để thu thập dữ liệu độ sâu và nhúng nó ngay vào các tệp HEIC đầu ra.

00:22:18.000 --> 00:22:22.000
Ứng dụng cũng chỉ cho bạn cách lưu dữ liệu trọng lực.

00:22:22.000 --> 00:22:29.000
Bạn có thể xem thư viện của mình để nhanh chóng xác minh rằng bạn có tất cả các bức ảnh chất lượng tốt với độ sâu và trọng lực và xóa các bức ảnh xấu.

00:22:29.000 --> 00:22:37.000
Các thư mục chụp được lưu trong thư mục Tài liệu của ứng dụng, nơi có thể dễ dàng sao chép vào máy Mac của bạn bằng iCloud hoặc AirDrop.

00:22:37.000 --> 00:22:45.000
Ngoài ra còn có các màn hình trợ giúp tóm tắt một số hướng dẫn thực hành tốt nhất để có được một bức ảnh tốt mà chúng ta thảo luận trong phần này.

00:22:45.000 --> 00:22:49.000
Bạn cũng có thể tìm thấy thông tin này trong tài liệu dành cho nhà phát triển.

00:22:49.000 --> 00:22:53.000
Chúng tôi khuyên bạn nên chụp bàn xoay để có kết quả tốt nhất có thể.

00:22:53.000 --> 00:22:57.000
Để bắt đầu, bạn sẽ cần một thiết lập như chúng tôi có ở đây.

00:22:57.000 --> 00:23:10.000
Cái này chứa một thiết bị iOS để chụp, nhưng bạn cũng có thể sử dụng máy ảnh SLR kỹ thuật số; bàn xoay cơ học để xoay vật thể; một số tấm chiếu sáng ngoài lều đèn.

00:23:10.000 --> 00:23:14.000
Mục tiêu là có ánh sáng đồng đều và tránh bất kỳ bóng tối cứng nào.

00:23:14.000 --> 00:23:17.000
Một cái lều nhẹ là một cách tốt để đạt được điều này.

00:23:17.000 --> 00:23:24.000
Trong trường hợp này, Ứng dụng CaptureSample chụp ảnh bằng chế độ màn trập hẹn giờ được đồng bộ hóa với chuyển động của bàn xoay.

00:23:24.000 --> 00:23:31.000
Chúng ta cũng có thể lật đối tượng và thực hiện nhiều đường chuyền bàn xoay để chụp đối tượng từ mọi phía.

00:23:31.000 --> 00:23:37.000
Đây là tệp USDZ kết quả từ ảnh chụp bàn xoay được hiển thị trong Xem trước trên macOS.

00:23:37.000 --> 00:23:45.000
Bây giờ chúng ta đã đề cập đến các mẹo và thủ thuật để chụp ảnh, hãy chuyển sang phần cuối cùng của chúng ta về cách chọn đầu ra phù hợp.

00:23:45.000 --> 00:23:49.000
Có nhiều cài đặt chi tiết đầu ra khác nhau có sẵn để quét.

00:23:49.000 --> 00:23:51.000
Hãy cùng xem nào.

00:23:51.000 --> 00:23:54.000
Đây là bảng hiển thị các mức độ chi tiết.

00:23:54.000 --> 00:23:58.000
Các cấp độ được hỗ trợ được hiển thị dọc theo phía bên trái.

00:23:58.000 --> 00:24:06.000
Reduced và Medium được tối ưu hóa để sử dụng trong trải nghiệm dựa trên web và di động, chẳng hạn như xem nội dung 3D trong AR Quick Look.

00:24:06.000 --> 00:24:12.000
Chúng có ít hình tam giác và kênh vật chất hơn và do đó tiêu thụ ít bộ nhớ hơn.

00:24:12.000 --> 00:24:20.000
Full và Raw được thiết kế để sử dụng tương tác cao cấp như trò chơi máy tính hoặc quy trình làm việc hậu kỳ.

00:24:20.000 --> 00:24:28.000
Chúng chứa chi tiết hình học cao nhất và mang đến cho bạn sự linh hoạt để lựa chọn giữa vật liệu nướng và không nướng.

00:24:28.000 --> 00:24:35.000
Mức độ chi tiết giảm và trung bình là tốt nhất cho nội dung mà bạn muốn hiển thị trên internet hoặc thiết bị di động.

00:24:35.000 --> 00:24:48.000
Trong trường hợp này, Object Capture sẽ nén thông tin hình học và vật liệu từ kết quả Raw xuống mức phù hợp để hiển thị trong các ứng dụng AR hoặc thông qua AR Quick Look.

00:24:48.000 --> 00:24:56.000
Cả hai mức chi tiết, Giảm và Trung bình, đều chứa các kênh vật liệu PBR khuếch tán, bình thường và tắc nghẽn môi trường xung quanh.

00:24:56.000 --> 00:25:08.000
Nếu bạn muốn hiển thị một lần quét với chi tiết cao, Medium sẽ tối đa hóa chất lượng so với kích thước tệp để cung cấp cho bạn cả chi tiết hình học và vật liệu hơn.

00:25:08.000 --> 00:25:15.000
Tuy nhiên, nếu bạn muốn hiển thị nhiều lần quét trong cùng một cảnh, bạn nên sử dụng cài đặt Giảm chi tiết.

00:25:15.000 --> 00:25:25.000
Nếu bạn muốn tìm hiểu thêm về cách sử dụng Object Capture để tạo trải nghiệm AR trên thiết bị di động hoặc web, vui lòng xem phiên "AR Quick Look, meet Object Capture".

00:25:25.000 --> 00:25:30.000
Xuất với mức đầu ra đầy đủ là một lựa chọn tuyệt vời cho quy trình làm việc chuyên nghiệp.

00:25:30.000 --> 00:25:35.000
Trong trường hợp này, bạn đang nhận được chi tiết tối đa có sẵn cho quá trình quét của mình.

00:25:35.000 --> 00:25:47.000
Full sẽ tối ưu hóa hình dạng của quá trình quét và nướng chi tiết thành vật liệu PBR chứa thông tin khuếch tán, bình thường, tắc nghẽn môi trường xung quanh, độ nhám và dịch chuyển.

00:25:47.000 --> 00:25:53.000
Chúng tôi nghĩ rằng mức đầu ra này sẽ cung cấp cho bạn mọi thứ bạn cần cho những kết xuất khó khăn nhất.

00:25:53.000 --> 00:26:06.000
Cuối cùng, nếu bạn không cần nướng nguyên liệu hoặc bạn có đường ống riêng cho việc này, mức Raw sẽ trả về số lượng poly tối đa cùng với chi tiết kết cấu khuếch tán tối đa để xử lý thêm.

00:26:06.000 --> 00:26:15.000
Nếu bạn muốn tìm hiểu thêm về cách sử dụng Object Capture cho quy trình làm việc chuyên nghiệp trên macOS, vui lòng xem phiên "Tạo quy trình làm việc 3D bằng USD".

00:26:15.000 --> 00:26:29.000
Cuối cùng, và quan trọng nhất, nếu bạn dự định sử dụng bản quét của mình trên cả iOS, cũng như macOS, bạn có thể chọn nhiều cấp độ chi tiết để đảm bảo bạn có tất cả các đầu ra phù hợp cho các trường hợp sử dụng hiện tại và tương lai.

00:26:29.000 --> 00:26:30.000
Và đó là một cái bọc.

00:26:30.000 --> 00:26:32.000
Hãy tóm tắt lại những gì chúng ta đã học được.

00:26:32.000 --> 00:26:38.000
Đầu tiên, chúng tôi đã đề cập, thông qua ví dụ, các khái niệm chính đằng sau API Object Capture.

00:26:38.000 --> 00:26:47.000
Chúng tôi đã chỉ cho bạn cách tạo phiên Chụp đối tượng và sử dụng phiên này để xử lý bộ sưu tập hình ảnh của bạn để tạo ra mô hình 3D.

00:26:47.000 --> 00:26:56.000
Chúng tôi đã chỉ cho bạn một ví dụ về cách API có thể hỗ trợ ứng dụng xem trước tương tác để cho phép bạn điều chỉnh âm lượng chụp và chuyển đổi mô hình.

00:26:56.000 --> 00:26:59.000
Tiếp theo, chúng tôi đề cập đến các phương pháp hay nhất để quét.

00:26:59.000 --> 00:27:06.000
Chúng tôi đã thảo luận về loại đối tượng cần sử dụng cũng như môi trường, ánh sáng và cài đặt máy ảnh cho kết quả tốt nhất.

00:27:06.000 --> 00:27:11.000
Cuối cùng, chúng tôi đã thảo luận về cách chọn cài đặt chi tiết đầu ra phù hợp cho ứng dụng của bạn.

00:27:11.000 --> 00:27:20.000
Nếu bạn muốn tìm hiểu cách đưa Object Capture vào ứng dụng của riêng mình, hãy xem cả ứng dụng xử lý iOS capture và macOS CLI để bắt đầu.

00:27:20.000 --> 00:27:29.000
Cùng với các ứng dụng này có nhiều loại dữ liệu mẫu thể hiện phương pháp hay nhất và có thể giúp ích khi lập kế hoạch cách chụp các bản quét của riêng bạn.

00:27:29.000 --> 00:27:41.000
Ngoài ra, vui lòng xem tài liệu chi tiết về phương pháp hay nhất trực tuyến tại developer.apple.com, cũng như các phiên WWDC liên quan này.

00:27:41.000 --> 00:27:45.000
Điều duy nhất còn lại là bạn ra ngoài và sử dụng Object Capture để quét.

00:27:45.000 --> 00:27:49.000
Chúng tôi rất vui khi thấy những đối tượng nào bạn sẽ quét và chia sẻ.

00:27:49.000 --> 23:59:59.000
♪

