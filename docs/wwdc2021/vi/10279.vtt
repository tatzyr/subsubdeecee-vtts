WEBVTT

00:00:00.000 --> 00:00:09.000
♪ ♪

00:00:09.000 --> 00:00:11.000
Xin chào. Tên tôi là Caleb.

00:00:11.000 --> 00:00:14.000
Tôi là một kỹ sư phần mềm trong nhóm tvOS.

00:00:14.000 --> 00:00:20.000
Hôm nay, tôi rất vui được chia sẻ một số cải tiến tuyệt vời mà chúng tôi đã thực hiện để đăng nhập vào tvOS 15.

00:00:20.000 --> 00:00:27.000
Chúng tôi muốn mọi người sử dụng Apple TV có thể truy cập nội dung của họ một cách nhanh chóng và ít ma sát nhất có thể.

00:00:27.000 --> 00:00:32.000
Điều đó có nghĩa là quá trình đăng nhập vào các ứng dụng của bạn phải trôi chảy và không gây đau đớn.

00:00:32.000 --> 00:00:36.000
Một trong những cách phổ biến nhất để đăng nhập là sử dụng mật khẩu.

00:00:36.000 --> 00:00:41.000
Người dùng được khuyến khích có mật khẩu mạnh hoặc duy nhất, nhưng những mật khẩu này có thể gây khó chịu khi nhập.

00:00:41.000 --> 00:00:48.000
Trong tvOS 15, chúng tôi có một tính năng mới tuyệt vời giúp thực hiện đăng nhập dựa trên mật khẩu trong ứng dụng của bạn dễ dàng hơn bao giờ hết.

00:00:48.000 --> 00:00:51.000
Nó bắt đầu với chế độ xem đăng nhập hệ thống mới.

00:00:51.000 --> 00:00:54.000
Quan điểm này thực hiện một vài điều thực sự quan trọng.

00:00:54.000 --> 00:00:58.000
Đầu tiên, nó cung cấp trải nghiệm đăng nhập nhất quán trên tvOS.

00:00:58.000 --> 00:01:04.000
Thứ hai, nó nói với người dùng rằng họ có thể sử dụng iPhone hoặc iPad của mình để hoàn tất đăng nhập.

00:01:04.000 --> 00:01:09.000
Thứ ba, nó cung cấp cho người dùng các tùy chọn cho các loại đăng nhập khác mà ứng dụng của bạn có thể hỗ trợ.

00:01:09.000 --> 00:01:11.000
Tôi sẽ nói nhiều hơn về điều đó sau.

00:01:11.000 --> 00:01:15.000
Hiện tại, tôi muốn tập trung vào việc sử dụng iPhone hoặc iPad của bạn để đăng nhập.

00:01:15.000 --> 00:01:23.000
Nếu người dùng bắt đầu đăng nhập vào ứng dụng của bạn, sau đó đánh thức iPhone của họ, họ sẽ thấy một thông báo như thế này từ Apple TV.

00:01:23.000 --> 00:01:28.000
Khi họ nhấn vào thông báo, iPhone sẽ hướng dẫn họ trong quá trình đăng nhập.

00:01:28.000 --> 00:01:32.000
Nó sẽ đề xuất một thông tin xác thực từ Chuỗi khóa iCloud.

00:01:32.000 --> 00:01:36.000
Và họ có thể sử dụng Face ID để xác nhận đăng nhập.

00:01:36.000 --> 00:01:39.000
Thông tin xác thực sau đó được gửi lại cho Apple TV.

00:01:39.000 --> 00:01:45.000
Bây giờ, ứng dụng có thể hoàn tất đăng nhập và đưa người dùng đến ngay nội dung của họ.

00:01:45.000 --> 00:01:50.000
Tôi muốn dành một chút thời gian để chỉ ra rằng đây không phải là một trải nghiệm nhập văn bản.

00:01:50.000 --> 00:01:59.000
Đó là trải nghiệm đăng nhập hạng nhất, nơi cả Apple TV và iPhone hoặc iPad hợp tác để hướng dẫn người dùng trong suốt quá trình đăng nhập.

00:01:59.000 --> 00:02:03.000
Áp dụng trải nghiệm đăng nhập mới này thực sự dễ dàng.

00:02:03.000 --> 00:02:09.000
Có một API cấp cao trên tất cả các nền tảng của Apple được thiết kế để giúp mọi người đăng nhập vào ứng dụng của bạn.

00:02:09.000 --> 00:02:12.000
Nó đặc biệt mạnh mẽ trong tvOS 15.

00:02:12.000 --> 00:02:19.000
Chỉ với một chút mã, bạn có thể tận dụng tối đa trải nghiệm đăng nhập tuyệt vời mà tôi vừa cho bạn thấy.

00:02:19.000 --> 00:02:22.000
Tôi rất muốn hướng dẫn bạn vượt qua nó ngay bây giờ.

00:02:22.000 --> 00:02:26.000
Hãy bắt đầu với việc cấu hình các miền liên quan đến ứng dụng của bạn.

00:02:26.000 --> 00:02:32.000
Các miền liên kết thiết lập một liên kết an toàn giữa ứng dụng và miền của bạn.

00:02:32.000 --> 00:02:41.000
Điều này cho phép Apple TV và iPhone hoặc iPad hoạt động cùng nhau để đề xuất thông tin đăng nhập một cách an toàn để sử dụng để đăng nhập.

00:02:41.000 --> 00:02:55.000
Trước tiên, hãy đảm bảo tệp liên kết trang web ứng dụng Apple được lưu trữ bởi miền của bạn liệt kê số nhận dạng ứng dụng ứng dụng tvOS của bạn bên trong khóa thông tin đăng nhập web.

00:02:55.000 --> 00:03:02.000
Tiếp theo, thêm khả năng Miền liên kết vào ứng dụng tvOS của bạn trong Xcode.

00:03:02.000 --> 00:03:09.000
Và cuối cùng, thêm tên miền của bạn vào khả năng Tên miền được liên kết với tiền tố thông tin đăng nhập web.

00:03:09.000 --> 00:03:19.000
Để tìm hiểu thêm về cách định cấu hình tên miền thông tin đăng nhập web trong ứng dụng của bạn, hãy xem video "Giới thiệu tự động điền mật khẩu cho ứng dụng" từ WWDC 2017.

00:03:19.000 --> 00:03:25.000
Tiếp theo, tôi muốn chỉ cho bạn cách yêu cầu thông tin xác thực bằng Dịch vụ xác thực.

00:03:25.000 --> 00:03:27.000
Hãy cùng xem một số mã.

00:03:27.000 --> 00:03:31.000
Ở đây chúng tôi có các thành phần cơ bản cần thiết để yêu cầu chứng chỉ.

00:03:31.000 --> 00:03:39.000
Nếu bạn đã sử dụng API Dịch vụ Xác thực trong các ứng dụng iOS hoặc macOS của mình, mã này sẽ trông rất quen thuộc.

00:03:39.000 --> 00:03:45.000
Tôi sẽ bắt đầu bằng cách tạo một phiên bản của ASAuthorizationController với một yêu cầu mật khẩu.

00:03:45.000 --> 00:03:51.000
Một điều thực sự mạnh mẽ về API này là nó cho phép bạn chỉ định nhiều loại yêu cầu khác nhau.

00:03:51.000 --> 00:03:59.000
Nếu ứng dụng của bạn cũng hỗ trợ Đăng nhập bằng Apple, bạn có thể bao gồm yêu cầu ID Apple trong mảng yêu cầu ủy quyền.

00:03:59.000 --> 00:04:08.000
Khi bạn chỉ định nhiều yêu cầu, iPhone và iPad sẽ cho phép người dùng quyết định loại thông tin xác thực mà họ muốn sử dụng để đăng nhập.

00:04:08.000 --> 00:04:17.000
Tiếp theo, tôi sẽ tự đặt mình làm đại diện của bộ điều khiển ủy quyền và gọi performRequests để bắt đầu đăng nhập.

00:04:17.000 --> 00:04:24.000
Bây giờ, tôi cần triển khai một vài phương pháp từ ASAuthorization- ControllerDelegate.

00:04:24.000 --> 00:04:33.000
Khi người dùng đã chọn thông tin xác thực mà họ muốn sử dụng trên iPhone hoặc iPad của họ, hệ thống sẽ gọi didCompleteWithAuthorization.

00:04:33.000 --> 00:04:40.000
Bây giờ, tôi có thể sử dụng thuộc tính người dùng và mật khẩu trên thông tin xác thực để hoàn tất đăng nhập.

00:04:40.000 --> 00:04:45.000
Nếu đăng nhập không thành công, hệ thống sẽ gọi didCompleteWithError.

00:04:45.000 --> 00:04:52.000
Nếu người dùng hủy đăng nhập, tôi sẽ quay lại từ phương pháp này để ứng dụng có thể quay lại giao diện người dùng đăng nhập chính.

00:04:52.000 --> 00:04:57.000
Nếu không, tôi nên cho người dùng biết có điều gì đó không ổn và họ nên thử lại.

00:04:57.000 --> 00:05:02.000
Tiếp theo, tôi muốn chỉ cho bạn cách bạn có thể tùy chỉnh chế độ xem đăng nhập hệ thống.

00:05:02.000 --> 00:05:10.000
API phương thức ủy quyền tùy chỉnh cho phép bạn hiển thị các nút cho các loại đăng nhập khác mà ứng dụng của bạn có thể hỗ trợ.

00:05:10.000 --> 00:05:13.000
Giá trị ".khác" cung cấp rất nhiều sự linh hoạt.

00:05:13.000 --> 00:05:20.000
Bạn có thể sử dụng tùy chọn này để điều hướng trực tiếp đến quy trình đăng nhập thủ công, như yêu cầu tên người dùng và mật khẩu.

00:05:20.000 --> 00:05:27.000
Hoặc bạn có thể sử dụng nó để điều hướng đến giao diện người dùng của riêng bạn cho phép người dùng chọn một loại đăng nhập khác để thực hiện.

00:05:27.000 --> 00:05:35.000
Nếu ứng dụng của bạn cho phép người dùng đăng nhập bằng tài khoản nhà cung cấp TV của họ, bạn nên sử dụng giá trị .videoSubscriberAccount.

00:05:35.000 --> 00:05:41.000
Và cuối cùng, giá trị .restorePurchase cho phép người dùng đăng nhập bằng cách khôi phục giao dịch mua trong ứng dụng.

00:05:41.000 --> 00:05:49.000
Khi người dùng chọn một trong những phương thức ủy quyền tùy chỉnh này, ứng dụng của bạn sẽ bắt đầu quy trình đăng nhập được yêu cầu.

00:05:49.000 --> 00:05:52.000
Hãy cùng xem cái này hoạt động như thế nào.

00:05:52.000 --> 00:05:56.000
Đầu tiên, tôi sẽ quay lại mã ASAuthorizationController mà tôi đã chỉ cho bạn trước đó.

00:05:56.000 --> 00:06:04.000
Để hiển thị các tùy chọn đăng nhập tùy chỉnh, tôi sẽ đặt thuộc tính customAuthorizationMethods trên bộ điều khiển ủy quyền của mình.

00:06:04.000 --> 00:06:14.000
Trong ví dụ này, tôi đang sử dụng các giá trị .other và .restorePurchase để hiển thị các nút "Đăng nhập thủ công" và "Khôi phục mua hàng" trong chế độ xem đăng nhập hệ thống.

00:06:14.000 --> 00:06:19.000
Bạn nên chọn các giá trị phù hợp với ứng dụng của mình.

00:06:19.000 --> 00:06:28.000
Khi người dùng chọn một phương thức ủy quyền tùy chỉnh, hệ thống sẽ gọi didCompleteWithCustomMethod trên đại diện authorizationController của tôi.

00:06:28.000 --> 00:06:36.000
Trong phương pháp này, tôi có thể kiểm tra giá trị đã được chuyển vào và thực hiện loại đăng nhập mà người dùng yêu cầu.

00:06:36.000 --> 00:06:40.000
Cuối cùng, tôi muốn dành một chút thời gian để nói về một số phương pháp hay nhất.

00:06:40.000 --> 00:06:45.000
Trải nghiệm đăng nhập tốt nhất trên tvOS bắt đầu với một nút "Đăng nhập".

00:06:45.000 --> 00:06:52.000
Nó hướng dẫn người dùng qua quá trình đăng nhập, cung cấp một số lượng hạn chế các lựa chọn rõ ràng.

00:06:52.000 --> 00:07:02.000
Bằng cách thay thế trải nghiệm đăng nhập hiện tại của bạn bằng chế độ xem đăng nhập hệ thống mới, người dùng sẽ luôn có tùy chọn đăng nhập bằng iPhone hoặc iPad của họ.

00:07:02.000 --> 00:07:09.000
Và API phương thức ủy quyền tùy chỉnh là một cách tuyệt vời để bạn cung cấp cho người dùng các tùy chọn đăng nhập bổ sung.

00:07:09.000 --> 00:07:15.000
tvOS 15 giúp việc xây dựng trải nghiệm đăng nhập tuyệt vời trở nên dễ dàng hơn bao giờ hết.

00:07:15.000 --> 00:07:20.000
Chế độ xem đăng nhập hệ thống cho phép người dùng đăng nhập bằng iPhone hoặc iPad của họ.

00:07:20.000 --> 00:07:27.000
Và API mới mạnh mẽ trong AuthenticationServices giúp bạn dễ dàng bắt đầu.

00:07:27.000 --> 00:07:35.000
Để có cái nhìn sâu sắc hơn về một số ví dụ mà tôi đã chia sẻ trong bài thuyết trình này, hãy xem dự án mã mẫu cho phiên này trong ứng dụng dành cho nhà phát triển.

00:07:35.000 --> 00:07:47.000
Để tìm hiểu thêm về cách khung AuthenticationServices có thể giúp bạn xây dựng trải nghiệm đăng nhập tuyệt vời trên tất cả các nền tảng của Apple, hãy xem video "Có gì mới trong Xác thực" từ WWDC 2019.

00:07:47.000 --> 00:07:49.000
Cảm ơn vì đã xem, và tận hưởng hội nghị!

00:07:49.000 --> 23:59:59.000
[Nhạc lạc quan].

