WEBVTT

00:00:00.000 --> 00:00:17.000
Xin chào, tên tôi là Nils Beck, và tôi chào mừng bạn đến với "Những phẩm chất của các ứng dụng iPad và iPhone tuyệt vời trên Macs với M1."

00:00:17.000 --> 00:00:22.000
Hơn một triệu ứng dụng iPad và iPhone đã có sẵn trên Mac App Store.

00:00:22.000 --> 00:00:28.000
Trải nghiệm tuyệt vời trên macOS Big Sur, và chúng tôi đã cải thiện nó hơn nữa trong macOS Monterey.

00:00:28.000 --> 00:00:53.000
Trong video này, chúng tôi sẽ thảo luận về cách chúng tôi ánh xạ một số API iOS cho các tính năng Mac tương ứng, một số phương pháp hay nhất chung cần lưu ý cũng sẽ giúp ứng dụng của bạn tỏa sáng trên Mac với M1, những cải tiến mà chúng tôi đã thực hiện trong các bản cập nhật phần mềm macOS Big Sur, cũng như trong macOS Monterey, và sau

00:00:53.000 --> 00:01:00.000
Các ứng dụng iPad và iPhone trên Macs với M1 là cách dễ nhất để mở rộng phạm vi tiếp cận ứng dụng hiện tại của bạn với Mac.

00:01:00.000 --> 00:01:11.000
Đây là ứng dụng iPad hoặc iPhone chưa được sửa đổi của bạn, như đã được gửi và phê duyệt cho iOS App Store, được cung cấp thông qua Mac App Store cho bất kỳ ai có máy Mac M1.

00:01:11.000 --> 00:01:15.000
Để biến điều này thành có thể, chúng tôi tập trung rất nhiều vào khả năng tương thích.

00:01:15.000 --> 00:01:20.000
Các API hệ thống được ánh xạ đến các tương đương Mac tự nhiên của chúng bất cứ khi nào có thể.

00:01:20.000 --> 00:01:27.000
Mục đích của chúng tôi là đảm bảo trải nghiệm ứng dụng mượt mà trên Mac mà không cần bạn thực hiện bất kỳ thay đổi nào.

00:01:27.000 --> 00:01:30.000
Và hầu hết các ứng dụng hiện có đều hoạt động rất tốt!

00:01:30.000 --> 00:01:36.000
Điều này bao gồm mọi thứ từ các tiện ích iPhone nhỏ đến các trò chơi iPad tiên tiến và Ứng dụng Chuyên nghiệp.

00:01:36.000 --> 00:01:39.000
Một loạt các tiện ích mở rộng cũng được hỗ trợ.

00:01:39.000 --> 00:01:49.000
Ví dụ: chia sẻ tiện ích mở rộng, tiện ích WidgetKit, tiện ích mở rộng chỉnh sửa ảnh, tiện ích mở rộng mạng VPN, đơn vị âm thanh và hơn thế nữa.

00:01:49.000 --> 00:01:56.000
Vì vậy, rất có thể ứng dụng iPad hoặc iPhone hiện tại của bạn đã hoạt động tốt trên Mac, ngay lập tức.

00:01:56.000 --> 00:02:13.000
Tất nhiên, chúng tôi hỗ trợ tất cả các chức năng cơ bản, chẳng hạn như tương tác văn bản, sao chép và dán, thanh menu Mac, v.v., nhưng cũng có rất nhiều chức năng nâng cao, như làm mới ứng dụng nền, thông báo người dùng, truy cập máy ảnh, ý định Siri, v.v.

00:02:13.000 --> 00:02:22.000
Nhiều chủ đề trong số này được thảo luận trong video, "ứng dụng iPad và iPhone trên Apple silicon Macs", vì vậy hãy kiểm tra để biết thêm chi tiết.

00:02:22.000 --> 00:02:30.000
Và khi bạn muốn ứng dụng của mình tận dụng nhiều hơn những gì Mac cung cấp, hãy cân nhắc xây dựng phiên bản Mac Catalyst của ứng dụng của bạn.

00:02:30.000 --> 00:02:38.000
Bạn có thể tìm hiểu thêm về điều đó trong các video, "Chất lượng của một ứng dụng Mac Catalyst tuyệt vời" và "Có gì mới trong Mac Catalyst."

00:02:38.000 --> 00:02:44.000
Bây giờ, hãy đi sâu vào chi tiết hơn cho một số API mà tôi vừa đề cập.

00:02:44.000 --> 00:02:53.000
Bạn có thể đã sử dụng những thứ này để làm cho ứng dụng của mình trở nên tuyệt vời trên iPad và iPhone và chúng tôi đã kết nối chúng để cung cấp liền mạch cho bạn các tính năng tuyệt vời tương tự trên Mac.

00:02:53.000 --> 00:03:02.000
Đương nhiên, bạn có thể sử dụng bàn phím Mac để nhập văn bản vào các trường văn bản, cũng như cho các phím tắt UIKeyCommand.

00:03:02.000 --> 00:03:11.000
Nhưng nếu bạn cần kiểm soát nhiều hơn và muốn viết xử lý nhấn phím của riêng mình, bạn có thể làm điều đó với UIPress API trên UIResponder.

00:03:11.000 --> 00:03:21.000
Tất cả các máy Mac đều có bàn phím vật lý, vì vậy các ứng dụng đã dành thời gian để thêm hỗ trợ cho bàn phím vật lý trên iPad và iPhone được cải thiện đáng kể trên Mac cùng một lúc.

00:03:21.000 --> 00:03:24.000
Tiếp theo, hãy nói về thanh menu.

00:03:24.000 --> 00:03:32.000
Xin nhắc lại, thanh menu Mac nhằm giúp khám phá các tính năng của ứng dụng và phím tắt.

00:03:32.000 --> 00:03:38.000
Cấu trúc thanh menu được xác định khi khởi chạy và sẽ ít nhiều không đổi sau đó.

00:03:38.000 --> 00:03:46.000
Các mục không được thêm hoặc xóa, mà đúng hơn, chúng được bật hoặc tắt, tùy thuộc vào việc chúng hiện đang áp dụng.

00:03:46.000 --> 00:03:52.000
Chúng tôi tự động điền vào thanh menu của ứng dụng của bạn, có tính đến các tính năng của ứng dụng của bạn.

00:03:52.000 --> 00:04:00.000
Ví dụ, chúng ta có thể thêm các mục menu để tạo một cửa sổ mới, để làm việc với các văn bản phong phú hoặc để thay đổi hướng thiết bị.

00:04:00.000 --> 00:04:16.000
Lưu ý rằng UIKeyCommands được đính kèm trực tiếp vào UIResponders thông qua thuộc tính keyCommands không xuất hiện trong thanh menu, nhưng các phím tắt của chúng sẽ được ưu tiên hơn các phím tắt của các mục menu, bất cứ khi nào chúng áp dụng.

00:04:16.000 --> 00:04:23.000
Bạn có thể đã sử dụng UIMenuBuilder API gần đây hơn mà chúng tôi đã giới thiệu trong iOS 13.

00:04:23.000 --> 00:04:27.000
Điều này bổ sung cấu trúc ngữ nghĩa cho UIKeyCommands của bạn.

00:04:27.000 --> 00:04:37.000
Cấu trúc này hiển thị trong menu Phím tắt xuất hiện khi bạn giữ phím Command trên iPad có bàn phím.

00:04:37.000 --> 00:04:46.000
Trên Mac, cấu trúc mặc định được chuyển vào trình tạo sẽ khác, nhưng các tùy chỉnh của bạn đối với cấu trúc sẽ được phản ánh trong menu chính.

00:04:46.000 --> 00:04:56.000
UIKeyCommands dựa vào chuỗi phản hồi để tìm mục tiêu áp dụng cho hành động của họ và điều này xác định xem một mục menu có được bật hay không.

00:04:56.000 --> 00:05:07.000
Để biết thêm về điều này, hãy xem các video, "Đưa ứng dụng iPad của bạn lên một tầm cao mới", "Tập trung vào điều hướng bàn phím iPad" và "Chất lượng của một ứng dụng Mac Catalyst tuyệt vời."

00:05:07.000 --> 00:05:17.000
Đối với các ứng dụng sử dụng kéo và thả trên iPad và iPhone, sử dụng UIDragInteraction và UIDropInteraction, điều này cũng tự động chuyển sang Mac.

00:05:17.000 --> 00:05:27.000
Điều này cho phép mọi người kéo nội dung liền mạch giữa ứng dụng của bạn và những người khác, như trong ví dụ này, nơi tôi đang kéo mã QR từ Qrafter vào máy tính để bàn của mình.

00:05:27.000 --> 00:05:37.000
Và đối với các ứng dụng in bằng UIPrintInteractionController, điều này sẽ tự động được kết nối với hộp thoại in Mac khi quá trình in được bắt đầu trong mã của bạn.

00:05:37.000 --> 00:05:53.000
Thậm chí tốt hơn, khi bạn áp dụng khóa Info.plist mới "UIApplicationSupports PrintCommand" và thực hiện hành động in tiêu chuẩn tương ứng, các mục menu In và Xuất dưới dạng PDF sẽ được tự động thêm vào thanh menu của ứng dụng của bạn.

00:05:53.000 --> 00:05:59.000
Để biết thêm chi tiết về API mới này, hãy xem "Có gì mới trong Mac Catalyst."

00:05:59.000 --> 00:06:04.000
Nhiều ứng dụng sử dụng gói cài đặt và chúng tôi sẽ tự động tạo bảng tùy chọn kiểu Mac từ đây.

00:06:04.000 --> 00:06:12.000
Việc đặt tín dụng vào gói cài đặt cũng phổ biến và chúng tôi xác định các trường hợp như vậy và chuyển văn bản đó vào hộp Giới thiệu cho bạn.

00:06:12.000 --> 00:06:20.000
Nhưng nếu bạn muốn kiểm soát nhiều hơn những gì được hiển thị trong hộp Giới thiệu trên Mac, bây giờ bạn cũng có tùy chọn thêm tệp tín dụng vào gói của mình.

00:06:20.000 --> 00:06:27.000
Bạn có thể sử dụng các tệp RTF, RTFD hoặc HTML, giống như cách các ứng dụng Mac làm điều này.

00:06:27.000 --> 00:06:33.000
Có một số API lấy iPad làm trung tâm sẽ giúp ứng dụng của bạn trở thành một ứng dụng iPad tuyệt vời.

00:06:33.000 --> 00:06:35.000
Tất cả những thứ này đều xuất hiện một cách tuyệt vời trên Mac.

00:06:35.000 --> 00:06:40.000
Vì vậy, bằng cách tạo ra một ứng dụng iPad tuyệt vời, bạn cũng đang làm cho ứng dụng của mình tốt hơn trên Mac với M1.

00:06:40.000 --> 00:06:56.000
Nếu ứng dụng của bạn hỗ trợ nhiều cảnh theo khóa UIApplicationSupports MultipleScenes Info.plist, mỗi cảnh được dịch thành một cửa sổ riêng biệt và chúng tôi sẽ tự động thêm một mục menu để tạo một cảnh mới.

00:06:56.000 --> 00:07:06.000
Trên Mac, cài đặt toàn hệ thống xác định xem tất cả các cửa sổ có bị đóng khi ứng dụng thoát hay không hoặc liệu các cửa sổ hiện có có được khôi phục trong lần khởi chạy tiếp theo hay không.

00:07:06.000 --> 00:07:16.000
Chúng tôi tôn trọng cài đặt này nếu ứng dụng của bạn hỗ trợ nhiều cảnh, vì vậy đừng ngạc nhiên nếu tất cả các cảnh bị ngắt kết nối hoặc nếu khôi phục trạng thái không xảy ra trong một số trường hợp.

00:07:16.000 --> 00:07:23.000
Mặt khác, hỗ trợ đa nhiệm iPad tự động chuyển sang các cửa sổ có thể thay đổi kích thước trên macOS.

00:07:23.000 --> 00:07:29.000
Vì ứng dụng của bạn đã hỗ trợ thay đổi bố cục động trên iPad, bạn sẽ nhận được các cửa sổ thay đổi kích thước trực tiếp trên Mac.

00:07:29.000 --> 00:07:39.000
Bạn có thể giới hạn phạm vi kích thước cảnh cho phép bằng cách sử dụng minimumSize và maximumSize API trên UIWindowScene.

00:07:39.000 --> 00:07:43.000
Lưu ý rằng chỉ có kích thước cảnh cửa sổ sẽ thay đổi khi cửa sổ được thay đổi kích thước.

00:07:43.000 --> 00:07:50.000
Mặt khác, kích thước màn hình giao diện người dùng sẽ tiếp tục báo cáo kích thước thiết bị, điều này không thay đổi trong trường hợp này.

00:07:50.000 --> 00:07:59.000
Vì vậy, hãy đảm bảo rằng bạn không sử dụng kích thước màn hình để tính toán bố cục của mình, ngay cả trên iPad, nếu không các yếu tố giao diện người dùng của bạn sẽ kết thúc không đúng chỗ.

00:07:59.000 --> 00:08:07.000
Nếu ứng dụng của bạn mong muốn kiểm soát toàn bộ màn hình của thiết bị, chúng tôi sẽ sử dụng kích thước cảnh và tỷ lệ khung hình cố định.

00:08:07.000 --> 00:08:15.000
Nhưng nội dung cửa sổ có thể được thu nhỏ lên hoặc giảm khi cần thiết, theo cách minh bạch cho ứng dụng của bạn.

00:08:15.000 --> 00:08:27.000
Và nếu ứng dụng của bạn hỗ trợ nhiều hướng giao diện người dùng, hướng cửa sổ có thể được thay đổi bằng cách sử dụng các mục thanh menu được thêm tự động hoặc bằng cách kéo các cạnh của cửa sổ.

00:08:27.000 --> 00:08:38.000
Ở đây, tôi đang sử dụng các mục trên thanh menu để thay đổi hướng của ứng dụng Chess.com và giao diện người dùng thích ứng để sử dụng tối ưu từng hướng thiết bị.

00:08:38.000 --> 00:08:54.000
Những ánh xạ này và các ánh xạ khác có thể loại bỏ hầu hết ma sát khi đưa ứng dụng iPad hoặc iPhone của bạn lên Mac, nhưng hãy chạm vào một số phương pháp mã hóa mà bạn nên tuân theo để đảm bảo rằng ứng dụng của bạn hoạt động tốt trên tất cả các nền tảng, bao gồm cả Mac.

00:08:54.000 --> 00:09:07.000
Khi sử dụng các khuôn khổ của Apple, điều quan trọng là bạn chỉ sử dụng các API được hỗ trợ chính thức, vì các phương thức không có tài liệu trong các khuôn khổ của chúng tôi có thể không tồn tại trên Mac hoặc có thể thay đổi bất cứ lúc nào.

00:09:07.000 --> 00:09:12.000
Tránh các đường dẫn mã hóa cứng đến các vị trí hệ thống tệp, vì chúng có thể khác nhau trên Mac.

00:09:12.000 --> 00:09:17.000
Ví dụ: không thêm tiền tố đường dẫn của bạn bằng "/private" hoặc "var mobile".

00:09:17.000 --> 00:09:23.000
Thay vào đó, hãy sử dụng các API thích hợp để xác định từng đường dẫn trong thời gian chạy.

00:09:23.000 --> 00:09:39.000
Tương tự, đối với giao diện người dùng không nằm dưới sự kiểm soát trực tiếp của bạn, tốt nhất là không nên đưa ra giả định trong mã của mình về vị trí trên màn hình của các chế độ xem và cảnh báo hoặc thiết lập chính xác các hệ thống phân cấp chế độ xem đó, vì chúng có thể khác biệt đáng kể trên Mac.

00:09:39.000 --> 00:09:47.000
Cũng xin lưu ý rằng độ phân giải và hướng máy ảnh có sẵn có thể khá khác nhau trên Mac.

00:09:47.000 --> 00:09:56.000
Ví dụ: nếu ứng dụng iPhone của bạn ở hướng dọc khi chụp ảnh, bạn có thể mong đợi ảnh máy ảnh kết quả cũng ở hướng dọc.

00:09:56.000 --> 00:10:03.000
Nhưng đây không nhất thiết phải là trường hợp khi ứng dụng ở hướng dọc trên Mac.

00:10:03.000 --> 00:10:08.000
Thay vào đó, bạn có thể nhận được hình ảnh theo hướng ngang, bởi vì đó là cách máy ảnh được định vị.

00:10:08.000 --> 00:10:14.000
Chúng tôi đã bao gồm một số heuristics để cải thiện khả năng tương thích với nhiều ứng dụng.

00:10:14.000 --> 00:10:20.000
Ví dụ, chúng tôi sẽ cung cấp cho bạn hình ảnh của máy ảnh mặt trước của Mac, ngay cả khi bạn yêu cầu máy ảnh mặt trước.

00:10:20.000 --> 00:10:34.000
Nhưng sẽ tốt hơn nhiều nếu bạn sử dụng AVCaptureDeviceDiscoverySession và các API AVFoundation liên quan để thu thập thông tin về các máy ảnh có sẵn và các thuộc tính thực của chúng, chẳng hạn như kích thước xem trước.

00:10:34.000 --> 00:10:39.000
Và bạn nên đặt mục tiêu xử lý tốt tất cả các cấu hình có thể có trong giao diện người dùng của mình.

00:10:39.000 --> 00:10:44.000
Cũng nên nhớ rằng một số tính năng phần cứng không khả dụng trên Mac.

00:10:44.000 --> 00:10:50.000
Mã của bạn sẽ có thể xử lý các tình huống như vậy một cách duyên dáng và đưa ra các lựa chọn thay thế.

00:10:50.000 --> 00:10:55.000
Ví dụ, thực tế tăng cường với ARKit không được hỗ trợ trên Mac.

00:10:55.000 --> 00:11:04.000
Nếu ARKit là chức năng cốt lõi của ứng dụng của bạn, bạn có thể đã biến nó thành một khả năng thiết bị bắt buộc, vì vậy ứng dụng của bạn sẽ không xuất hiện trên Mac App Store.

00:11:04.000 --> 00:11:12.000
Nhưng nếu ARKit là một tính năng tùy chọn, bạn nên kiểm tra thuộc tính isSupported của lớp con ARConfiguration thích hợp.

00:11:12.000 --> 00:11:23.000
Và để có trải nghiệm tốt nhất trên Mac và các nơi khác, hãy đảm bảo rằng bạn chỉ hiển thị các tính năng thực tế tăng cường trong giao diện người dùng của mình trên các thiết bị có khả năng này.

00:11:23.000 --> 00:11:33.000
Nếu ứng dụng của bạn dựa vào Multi-Touch trực tiếp hoặc CoreMotion, hãy cân nhắc bổ sung việc cung cấp các lựa chọn thay thế phù hợp hơn với bàn phím và bàn di chuột Mac.

00:11:33.000 --> 00:11:37.000
Điều đó nói rằng, Touch Alternatives có thể giúp ích trong trường hợp này.

00:11:37.000 --> 00:11:39.000
Tôi sẽ nói nhiều hơn về điều đó trong giây lát.

00:11:39.000 --> 00:11:47.000
Và nếu bạn sử dụng CoreLocation, ứng dụng của bạn sẽ vẫn có thể sử dụng được ngay cả khi không có dữ liệu vị trí chính xác.

00:11:47.000 --> 00:11:53.000
Ví dụ, bạn có thể cung cấp mục nhập vị trí thủ công như một giải pháp thay thế, giống như ứng dụng Lowe's làm ở đây.

00:11:53.000 --> 00:11:59.000
Tiếp theo, hãy xem qua một số cải tiến mà chúng tôi đã thực hiện kể từ lần đầu tiên chúng tôi bắt đầu vận chuyển máy Mac với M1.

00:11:59.000 --> 00:12:08.000
Trong macOS Big Sur 11.3, chúng tôi đã thực hiện một số cải tiến đối với cách các cửa sổ của ứng dụng iPad và iPhone hoạt động trên Mac.

00:12:08.000 --> 00:12:23.000
Nếu ứng dụng của bạn có kích thước nội dung cố định vì nó không hỗ trợ đa nhiệm nhưng nó hỗ trợ kích thước thiết bị lớn, khi khởi chạy, bây giờ chúng tôi sẽ chọn kích thước thiết bị được hỗ trợ lớn nhất phù hợp với màn hình nơi ứng dụng đang khởi chạy.

00:12:23.000 --> 00:12:32.000
Liên quan đến ứng dụng của bạn, kích thước thiết bị vẫn cố định trong toàn bộ phiên, nhưng cửa sổ sử dụng tốt hơn nhiều dung lượng có sẵn.

00:12:32.000 --> 00:12:36.000
Cũng có một ưu tiên để sử dụng kích thước thiết bị được hỗ trợ nhỏ nhất để thay thế.

00:12:36.000 --> 00:12:41.000
Và như tôi đã đề cập trước đó, nội dung cửa sổ sẽ được thu nhỏ lên hoặc giảm khi cần thiết.

00:12:41.000 --> 00:12:52.000
Ví dụ, khi tôi làm cho cửa sổ toàn màn hình, nội dung cửa sổ sẽ tự động được thu nhỏ để phù hợp với không gian có sẵn trong khi vẫn duy trì tỷ lệ khung hình cảnh ban đầu.

00:12:52.000 --> 00:13:00.000
Hoặc, nếu cửa sổ được chuyển sang màn hình nhỏ hơn sau khi khởi chạy, chúng tôi sẽ tự động giảm tỷ lệ khi cần thiết để đảm bảo rằng cửa sổ vẫn vừa vặn.

00:13:00.000 --> 00:13:14.000
Bây giờ cũng có thể sử dụng tính năng Thu phóng Cửa sổ để chuyển đổi giữa hai yếu tố thu phóng, một yếu tố ưu tiên kích thước tự nhiên của các yếu tố giao diện người dùng, yếu tố còn lại ưu tiên độ chính xác hoàn hảo của pixel.

00:13:14.000 --> 00:13:21.000
Ở đây, tôi đang sử dụng tính năng này để chuyển đổi giữa hai yếu tố thu phóng trong ứng dụng Chess.com.

00:13:21.000 --> 00:13:29.000
Bộ điều khiển trò chơi đã được hỗ trợ từ ngày đầu tiên thông qua GameController.framework, có sẵn trên tất cả các nền tảng có khả năng chơi game của chúng tôi.

00:13:29.000 --> 00:13:37.000
Bắt đầu với macOS Big Sur 11.3, chúng tôi đã có thể sử dụng bàn phím và bàn di chuột của Mac làm bộ điều khiển trò chơi ảo.

00:13:37.000 --> 00:13:47.000
Vì vậy, ngay cả khi bạn không có sẵn bộ điều khiển thực tế, thật dễ dàng để sử dụng bàn phím để truy cập tất cả các chức năng mà trò chơi của bạn ánh xạ đến các nút điều khiển.

00:13:47.000 --> 00:13:57.000
Và trong macOS Monterey, chúng tôi đã tinh chỉnh thêm điều này với việc bổ sung thanh trượt độ nhạy và ẩn con trỏ, như được hiển thị trên hình ảnh này của bảng tùy chọn tương ứng.

00:13:57.000 --> 00:14:02.000
Để biết thêm về khuôn khổ này, hãy xem "Những tiến bộ trong bộ điều khiển trò chơi."

00:14:02.000 --> 00:14:15.000
Hơn nữa, kể từ ngày đầu tiên, Touch Alternatives đã ánh xạ bàn phím và bàn di chuột đến một số kiểu tương tác mà nếu không sẽ không dễ sử dụng trên Mac, chẳng hạn như Multi-Touch, kéo, chạm và vuốt.

00:14:15.000 --> 00:14:20.000
Và với MacOS 11.3, chúng tôi đã thực hiện một số cải tiến.

00:14:20.000 --> 00:14:24.000
Ví dụ, bây giờ bạn có khả năng hầu như nghiêng thiết bị của mình.

00:14:24.000 --> 00:14:27.000
Điều này mở ra cánh cửa cho một số trò chơi bổ sung.

00:14:27.000 --> 00:14:38.000
Ngoài ra, bảng tùy chọn hiện bao gồm một biểu diễn đồ họa hữu ích minh họa cách truy cập từng kiểu trong số năm kiểu tương tác thông qua bàn phím và bàn di chuột.

00:14:38.000 --> 00:14:45.000
Ngoài ra, chúng tôi đã giúp các ứng dụng có thể tự động chọn tham gia Touch Alternatives.

00:14:45.000 --> 00:14:52.000
Khi bạn chọn tham gia, một hộp thoại giới thiệu sẽ được hiển thị trong lần khởi chạy đầu tiên, để giúp khám phá tính năng này.

00:14:52.000 --> 00:14:58.000
Đồ họa tương tự như đồ họa từ bảng tùy chọn, nhưng chúng tôi chỉ làm nổi bật các kiểu tương tác mà bạn đã chọn.

00:14:58.000 --> 00:15:03.000
Trong ví dụ này, chỉ có Tilt và Multi-Touch được hiển thị.

00:15:03.000 --> 00:15:12.000
Nếu bạn xác định rằng ứng dụng của bạn sẽ được hưởng lợi từ bất kỳ Lựa chọn thay thế cảm ứng nào trong số này, đây là cách bạn có thể bật các lựa chọn thay thế cảm ứng cho ứng dụng của mình, ngay từ đầu.

00:15:12.000 --> 00:15:21.000
Tất cả những gì bạn cần làm là thêm một tệp .plist mới vào gói của mình, có tên là "com.apple.uikit.inputalternativ es.plist."

00:15:21.000 --> 00:15:25.000
Sau đó, thêm các khóa và giá trị được hiển thị trong đoạn mã.

00:15:25.000 --> 00:15:30.000
Và đối với mảng Onboarding được yêu cầu, chỉ bao gồm các tính năng hữu ích cho ứng dụng của bạn.

00:15:30.000 --> 00:15:34.000
Bằng cách đó, chỉ những tính năng đó mới được tô sáng trong hộp thoại giới thiệu.

00:15:34.000 --> 00:15:36.000
Hãy để tôi chứng minh điều này cho bạn.

00:15:36.000 --> 00:15:43.000
Lấy ví dụ, trò chơi iPad này có tên là "Assoluto Racing", chạy không sửa đổi trên máy Mac với M1.

00:15:43.000 --> 00:15:51.000
Ứng dụng cho phép Touch Alternatives tự động, ngay từ đầu, vì vậy trong lần khởi chạy đầu tiên, hộp thoại giới thiệu này hiển thị cho chúng ta các điều khiển bàn phím.

00:15:51.000 --> 00:15:57.000
Nhưng trước tiên, hãy hiển thị bàn phím phần mềm và lấy toàn màn hình cửa sổ.

00:15:57.000 --> 00:16:11.000
Nội dung hiện đã được thu nhỏ để phù hợp với màn hình và chúng tôi duy trì tỷ lệ khung hình iPad.

00:16:11.000 --> 00:16:16.000
Hãy đi đến cấp độ "Sân bay" để trôi dạt tự do.

00:16:16.000 --> 00:16:21.000
Ứng dụng này sử dụng CoreMotion, để trên iPad, tôi có thể nghiêng thiết bị để điều khiển.

00:16:21.000 --> 00:16:28.000
Với các lựa chọn thay thế cảm ứng được bật trên máy Mac với M1, các phím W, A, S và D mô phỏng độ nghiêng.

00:16:28.000 --> 00:16:35.000
Và ở đây tôi điều khiển chiếc xe theo cách đó, trong khi sử dụng bàn di chuột của mình để nhấp vào nút chân ga trên màn hình.

00:16:35.000 --> 00:16:38.000
Và tất cả những điều này hoàn toàn minh bạch đối với ứng dụng.

00:16:38.000 --> 00:16:50.000
Hãy xem tôi làm như thế nào.

00:16:50.000 --> 00:16:52.000
Điều đó đã hoạt động rất tốt!

00:16:52.000 --> 00:16:54.000
Tuy nhiên, tôi cần phải rèn luyện kỹ năng trôi dạt của mình một chút.

00:16:54.000 --> 00:16:58.000
Với macOS Monterey, chúng tôi đã thực hiện nhiều cải tiến hơn nữa.

00:16:58.000 --> 00:17:09.000
Apple Pay hiện có sẵn cho các ứng dụng iPad và iPhone trên máy Mac M1 sử dụng cùng một API đa nền tảng nâng cao mà chúng tôi đã giới thiệu cho các ứng dụng Mac Catalyst trong macOS Big Sur.

00:17:09.000 --> 00:17:16.000
Điều này có nghĩa là bây giờ bạn có thể chấp nhận thanh toán trên mọi nền tảng có sẵn Apple Pay, sử dụng một triển khai duy nhất.

00:17:16.000 --> 00:17:27.000
Chỉ cần đảm bảo rằng bạn đã triển khai cuộc gọi đại diện "paymentAuthorizationController, didRequestMerchantSessionUpdate" trên PKPaymentAuthorizationController Delegate của bạn.

00:17:27.000 --> 00:17:32.000
Để biết thêm chi tiết, hãy xem video, "Có gì mới trong Wallet và Apple Pay."

00:17:32.000 --> 00:17:36.000
Chúng tôi cũng đã làm video toàn màn hình với AVKit thậm chí còn tốt hơn.

00:17:36.000 --> 00:17:43.000
AVPlayerView và AVPlayerViewController giờ đây có thể tự động quay video toàn màn hình bằng cách sử dụng một cửa sổ riêng biệt.

00:17:43.000 --> 00:17:55.000
Điều này có nghĩa là ngay cả các ứng dụng có cửa sổ bị giới hạn ở độ phân giải thời gian khởi chạy và tỷ lệ khung hình cũng sẽ tận dụng tối đa màn hình Mac, phù hợp với nội dung video.

00:17:55.000 --> 00:18:05.000
Và trong trường hợp bạn cần kiểm soát nhiều hơn trải nghiệm toàn màn hình, chúng tôi đã thêm API mới vào AVPlayerViewDelegate và AVPlayerViewControllerDelegate.

00:18:05.000 --> 00:18:11.000
Trên hết, AVFoundation hỗ trợ phát lại HDR và phát trực tuyến trên máy Mac với M1.

00:18:11.000 --> 00:18:16.000
Không cần công việc áp dụng dành riêng cho Mac trong ứng dụng của bạn.

00:18:16.000 --> 00:18:22.000
Cuối cùng, các điều khiển AVKit trong các ứng dụng iPad và iPhone giờ đây trông giống như trong các ứng dụng Mac khác.

00:18:22.000 --> 00:18:28.000
Chúng tôi thậm chí còn tận dụng tối đa bàn di chuột Mac với sự hỗ trợ cho các cử chỉ mới.

00:18:28.000 --> 00:18:32.000
Để biết thêm chi tiết, bạn có thể chuyển qua video, "Có gì mới trong AVKit."

00:18:32.000 --> 00:18:43.000
Và nếu ứng dụng của bạn sử dụng khung ý định để cung cấp Phím tắt SiriKit tùy chỉnh, trên macOS Monterey, chúng hiện được hỗ trợ cho các ứng dụng iPad và iPhone trên M1 Macs.

00:18:43.000 --> 00:18:52.000
Để biết thêm về Phím tắt, hãy xem các cuộc nói chuyện, "Gặp gỡ Phím tắt cho macOS" và "Thiết kế các hành động tuyệt vời cho Phím tắt, Siri và Đề xuất."

00:18:52.000 --> 00:18:54.000
Tin tốt!

00:18:54.000 --> 00:18:56.000
Thật dễ dàng để có mặt trên Mac App Store.

00:18:56.000 --> 00:19:00.000
Trên thực tế, hầu hết các ứng dụng đều ở đó một cách tự động.

00:19:00.000 --> 00:19:04.000
Như tôi đã đề cập trước đó, trong hầu hết các trường hợp, việc sử dụng Mac là hợp lý.

00:19:04.000 --> 00:19:16.000
Rốt cuộc, ngay cả một ứng dụng khóa cửa Bluetooth, được thiết kế để di động, có thể hữu ích nếu bạn tự khóa mình ra khỏi nhà mà không có điện thoại, nhưng bạn có máy Mac với M1 trong tay.

00:19:16.000 --> 00:19:22.000
Vì vậy, nếu trước đây bạn đã chọn ứng dụng của mình khỏi Mac App Store, bây giờ có thể là lúc để xem xét lại.

00:19:22.000 --> 00:19:30.000
Với những cải tiến như Touch Alternatives và phát lại video toàn màn hình nâng cao, ứng dụng của bạn rất có thể rất phù hợp với Mac.

00:19:30.000 --> 00:19:39.000
Trong trường hợp đó, chỉ cần kiểm tra lại hộp kiểm "Làm cho ứng dụng này khả dụng" trong App Store Connect để làm cho ứng dụng có sẵn trên Mac App Store.

00:19:39.000 --> 00:19:47.000
Bất kể trước đây bạn có chọn không tham gia hay không, bạn sẽ muốn xác nhận rằng ứng dụng của bạn thực sự hoạt động tốt trên máy Mac với M1.

00:19:47.000 --> 00:19:56.000
Khi bạn tự tin rằng trải nghiệm người dùng đạt tiêu chuẩn của mình, hãy nhấp vào liên kết Xác minh khả năng tương thích trong App Store Connect, được hiển thị ở đây.

00:19:56.000 --> 00:20:06.000
Điều này loại bỏ văn bản "Chưa được xác minh cho macOS", được hiển thị bên cạnh ứng dụng của bạn trên Mac App Store và thay thế nó bằng "Được thiết kế cho iPad".

00:20:06.000 --> 00:20:13.000
Những người mua sắm ứng dụng sẽ coi đây là dấu hiệu cho thấy bạn đã dành thời gian để đảm bảo rằng họ sẽ có trải nghiệm tốt với ứng dụng của bạn trên Mac.

00:20:13.000 --> 00:20:15.000
Bạn chỉ phải làm điều này một lần cho mỗi ứng dụng.

00:20:15.000 --> 00:20:21.000
Ồ, và chúng tôi cũng đã làm cho các ứng dụng iPad và iPhone dễ khám phá hơn nhiều trên Mac App Store.

00:20:21.000 --> 00:20:27.000
Khi khách hàng tìm kiếm chúng theo tên, họ không còn phải chuyển sang tab Ứng dụng iPhone và iPad nữa.

00:20:27.000 --> 00:20:35.000
Apple sẽ tự động chọn phiên bản macOS tối thiểu được đề xuất cần thiết để tương thích và đối với hầu hết các tình huống, điều này đều ổn.

00:20:35.000 --> 00:20:41.000
Nhưng trong một số trường hợp hiếm hoi nhất định, bạn có thể muốn ghi đè điều này với tính khả dụng của macOS tùy chỉnh.

00:20:41.000 --> 00:20:54.000
Ví dụ: ứng dụng video của bạn có thể hoạt động tốt trên Big Sur, nhưng nếu bạn muốn đảm bảo rằng bạn có quyền truy cập vào các cải tiến toàn màn hình AVKit, bạn có thể quyết định rằng nó chỉ có sẵn trên Monterey và hơn thế nữa.

00:20:54.000 --> 00:20:57.000
Trong trường hợp này, bạn có hai lựa chọn.

00:20:57.000 --> 00:21:06.000
Bắt đầu trong thời gian ngắn, bạn sẽ có thể chọn một phiên bản macOS tối thiểu khác trên trang Giá cả và Tính khả dụng của App Store Connect.

00:21:06.000 --> 00:21:12.000
Điều này rất tốt cho các ứng dụng đã có trên cửa hàng vì bạn không phải gửi lại phiên bản mới.

00:21:12.000 --> 00:21:20.000
Hoặc, bạn có thể chỉ định LSMinimumSystemVersion trong Info.plist và gửi thay đổi này như một phần của bản cập nhật tiếp theo của bạn.

00:21:20.000 --> 00:21:24.000
Đây là cách tiếp cận được đề xuất cho các ứng dụng đang được phát triển tích cực.

00:21:24.000 --> 00:21:31.000
Lưu ý rằng điều này không thay thế khóa MinimumOSVersion, khóa này chỉ định phiên bản hệ thống tối thiểu của iOS.

00:21:31.000 --> 00:21:34.000
Nhưng thực sự, cả hai lựa chọn hiếm khi cần thiết.

00:21:34.000 --> 00:21:38.000
Cuối cùng, hãy nói chuyện một chút về việc kiểm tra.

00:21:38.000 --> 00:21:41.000
Thử nghiệm trên macOS rất giống với thử nghiệm trên iPad.

00:21:41.000 --> 00:21:45.000
Bạn có thể sử dụng cùng một quy trình làm việc mà bạn đã quen thuộc.

00:21:45.000 --> 00:21:56.000
Đối với thử nghiệm cục bộ trong Xcode, chỉ cần chọn My Mac (Được thiết kế cho iPad) làm đích chạy và gỡ lỗi, kiểm tra đơn vị, v.v., tất cả đều hoạt động giống như đối với các thiết bị khác.

00:21:56.000 --> 00:22:09.000
Để thử nghiệm beta, chúng tôi đã thêm hỗ trợ TestFlight cho tất cả các ứng dụng trong macOS Monterey, bao gồm các ứng dụng iPhone và iPad, vì vậy bây giờ bạn có thể phân phối ứng dụng của mình cho những người thử nghiệm beta đang sử dụng Mac với M1.

00:22:09.000 --> 00:22:15.000
Để biết thêm thông tin về điều này, hãy truy cập video, "Gặp gỡ TestFlight trên Mac."

00:22:15.000 --> 00:22:17.000
Vì vậy, chào mừng đến với Mac!

00:22:17.000 --> 00:22:20.000
Đi xác minh ứng dụng của bạn và chọn tham gia.

00:22:20.000 --> 00:22:21.000
Thật dễ dàng.

00:22:21.000 --> 00:22:29.000
Và chỉ cần nhớ, khi bạn tiếp tục cải thiện các ứng dụng iPad và iPhone của mình, bạn cũng đang làm cho các ứng dụng đó tốt hơn trên Mac với M1.

00:22:29.000 --> 00:22:32.000
Cảm ơn bạn rất nhiều.

00:22:32.000 --> 23:59:59.000
[Nhạc lạc quan].

