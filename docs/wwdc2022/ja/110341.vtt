WEBVTT

00:00:00.000 --> 00:00:09.000
♪ ♪

00:00:09.000 --> 00:00:12.000
こんにちは、WWDCへようこそ。

00:00:12.000 --> 00:00:20.000
私の名前はAjay Singhで、今日はSMSメッセージフィルターを探索する旅にあなたを連れて行くことに興奮しています。

00:00:20.000 --> 00:00:31.000
これにより、未知の送信者からの着信SMSメッセージを分類するのに役立つメッセージフィルタ拡張機能を作成できます。

00:00:31.000 --> 00:00:37.000
まず、SMSメッセージフィルタの仕組みについて説明します。

00:00:37.000 --> 00:00:43.000
次に、iOS 16の新機能について説明します。

00:00:43.000 --> 00:01:00.000
iOS 16 APIを使用してメッセージフィルタ拡張機能を構築する方法の例を見て、拡張機能を使用するときにメッセージに表示されるものを紹介します。

00:01:00.000 --> 00:01:08.000
最後に、インド向けのAppleのSMSフィルターの強化について話します。

00:01:08.000 --> 00:01:11.000
SMSメッセージフィルターについて話しましょう。

00:01:11.000 --> 00:01:25.000
多くの国では、SMSメッセージは現在、取引、マーケティングキャンペーン、アラート、リマインダーについて顧客に通知するために企業によって使用されています。

00:01:25.000 --> 00:01:37.000
この例では、ショートコード、英数字コード、標準電話番号などのSMSメッセージの組み合わせを見ることができます。

00:01:37.000 --> 00:01:47.000
これにより、受信トレイが非常に乱雑になり、愛する人からの個人的なメッセージを見つけるのは本当に困難です。

00:01:47.000 --> 00:02:04.000
iOSは未知の送信者からのメッセージをフィルタリングするオプションを提供しますが、毎日複数のメッセージを受信すると、未知の送信者フォルダでもすぐに未読のメッセージでいっぱいになります。

00:02:04.000 --> 00:02:21.000
SMSメッセージの自動フィルタリングは多くの人にとって重要であり、iOSは未知の送信者からのメッセージをさらに分類できる安全なサンドボックスベースの拡張モデルを提供します。

00:02:21.000 --> 00:02:28.000
人々はApp StoreからSMSフィルターアプリを見つけてインストールすることができます。

00:02:28.000 --> 00:02:42.000
インストールが完了したら、[設定]、[メッセージ]、[不明]と[スパム]に移動し、[不明な送信者のフィルター]をオンにして、メッセージフィルタリングをオンにすることができます。

00:02:42.000 --> 00:02:47.000
次に、選択したSMSフィルターを選択できます。

00:02:47.000 --> 00:02:51.000
ここでは、2つのSMSフィルターをインストールしました。

00:02:51.000 --> 00:02:57.000
一度にアクティブにできるフィルターは1つだけであることに注意してください。

00:02:57.000 --> 00:03:09.000
iOS 14以降では、トランザクション、プロモーション、ジャンクのメッセージに新しいフォルダが表示されます。

00:03:09.000 --> 00:03:17.000
これらのフォルダは、人々が最も関連性の高いメッセージを整理して見つけるのに役立ちます。

00:03:17.000 --> 00:03:29.000
どのフィルターが選択されているかに関係なく、メッセージはトランザクション、プロモーション、ジャンクで構成される同じ分類構造を提供します。

00:03:29.000 --> 00:03:37.000
私たちはあなたから、より詳細な分類を提供したいとはっきりと聞きました。

00:03:37.000 --> 00:03:46.000
そのため、iOS 16では、フィルタ分類APIの機能強化を導入しています。

00:03:46.000 --> 00:03:55.000
これで、SMSメッセージフィルター拡張機能は、メッセージを12の追加のサブカテゴリに分類できます。

00:03:55.000 --> 00:04:03.000
以下は、SMSフィルター拡張機能で指定できる新しいサブカテゴリです。

00:04:03.000 --> 00:04:12.000
新しいサブカテゴリは、既存のトップレベルのカテゴリであるトランザクションとプロモーションに分類されます。

00:04:12.000 --> 00:04:19.000
これで、受信メッセージをさらに絞り込み、さらに優れた体験を提供できます。

00:04:19.000 --> 00:04:29.000
例えば、インドのような市場では、金融取引に関連する多数のメッセージを受信するのが一般的です。

00:04:29.000 --> 00:04:36.000
これらには、銀行口座での活動やクレジットカードの支出に関するアラートが含まれます。

00:04:36.000 --> 00:04:44.000
これらのメッセージは、トランザクションの下の財務サブフォルダでうまく整理できるようになりました。

00:04:44.000 --> 00:04:50.000
SMSメッセージフィルタのフローがどのように機能するか見てみましょう。

00:04:50.000 --> 00:04:58.000
フローを2つのフェーズに分けることができます。構成とランタイム分類です。

00:04:58.000 --> 00:05:05.000
設定フェーズでは、ユーザーは設定でメッセージフィルタを選択します。

00:05:05.000 --> 00:05:15.000
これにより、iOS 16で導入された新しいAPIがトリガーされ、フィルターでサポートされている機能を要求されます。

00:05:15.000 --> 00:05:22.000
サポートされているカテゴリとサブカテゴリのリストで応答できるようになりました。

00:05:22.000 --> 00:05:33.000
この例では、フィルターは、財務、注文、クーポンのサブカテゴリをサポートしていることを報告しています。

00:05:33.000 --> 00:05:43.000
iOSはこれらの機能を検証し、メッセージの受信トレイを適切なフォルダで更新します。

00:05:43.000 --> 00:06:00.000
ランタイム分類フェーズでは、未知の送信者からSMSメッセージを受信するたびに、iOSはフィルターにクエリを実行して、どのカテゴリとサブカテゴリに属するかを判断します。

00:06:00.000 --> 00:06:05.000
ここで使用されているアクションとサブアクションという用語も見ることができます。

00:06:05.000 --> 00:06:12.000
フィルタは、設定フェーズで宣言された機能の1つで応答する必要があります。

00:06:12.000 --> 00:06:20.000
その後、SMSメッセージはメッセージの対応するサブフォルダに表示されます。

00:06:20.000 --> 00:06:32.000
シンプルなメッセージフィルタ拡張機能を構築して、APIがどのように使用され、人々がメッセージで何を見るかを見てみましょう。

00:06:32.000 --> 00:06:39.000
Xcodeでは、新しいMessage Filter Extensionターゲットを作成することから始めます。

00:06:39.000 --> 00:06:51.000
メッセージフィルター拡張ターゲットは、新しいターゲットを作成してテンプレート選択に進むと、オプションの1つとして表示されます。

00:06:51.000 --> 00:06:56.000
メッセージフィルター拡張を選択し、[次へ]をクリックします。

00:06:56.000 --> 00:07:02.000
次に、フィルターに名前を付けて、[完了]をクリックします。

00:07:02.000 --> 00:07:12.000
ターゲットが作成されると、MessageFilterExtension.swiftに必要なすべての機能が自動入力されます。

00:07:12.000 --> 00:07:19.000
iOS 16では、 capabilitiesRequestという新しいAPIハンドルがあります。

00:07:19.000 --> 00:07:31.000
ILMessageFilterCapabilitiesQueryResponse構造に、サポートするトランザクションまたはプロモーションのサブアクションを入力します。

00:07:31.000 --> 00:07:35.000
最大5つのサブアクションを指定できます。

00:07:35.000 --> 00:07:49.000
ここでは、トランザクションのファイナンス、オーダー、ヘルスサブアクション、およびプロモーションのクーポンとオファーサブアクションのサポートを示しています。

00:07:49.000 --> 00:07:53.000
次に、フィルター拡張機能をビルドしてインストールします。

00:07:53.000 --> 00:08:16.000
設定でフィルターを選択すると、メッセージの受信トレイは、宣言したサブアクションで更新されます。財務、注文、健康はトランザクションの下に表示され、クーポンとオファーはプロモーションの下に表示されます。

00:08:16.000 --> 00:08:20.000
今、私たちは設定が機能することを確認しました。

00:08:20.000 --> 00:08:31.000
受信したSMSメッセージを受信したときに、適切なカテゴリをiOSに返すための簡単なロジックを定義しましょう。

00:08:31.000 --> 00:08:38.000
まず、queryRequestオブジェクトからメッセージ本文テキストを抽出します。

00:08:38.000 --> 00:08:47.000
メッセージに特定のキーワードが含まれている場合は、適切なマッチングアクションとサブアクションを返します。

00:08:47.000 --> 00:09:02.000
ここでは、キーワードが引き落とされた場合、filterActionをTransactionとして、filterSubactionをtransactionalfinanceとして返すコードを追加しました。

00:09:02.000 --> 00:09:12.000
同様に、メッセージにキーワードクーポンがある場合、プロモーションとプロモーションクーポンが返されます。

00:09:12.000 --> 00:09:21.000
また、トランザクションとプロモーション内の他のサブ分類のビジネスロジックを更新することもできます。

00:09:21.000 --> 00:09:35.000
filterActionとfilterSubActionの誤った組み合わせを返すと、iOSはサブアクションを破棄し、アクションのみを尊重することに注意してください。

00:09:35.000 --> 00:09:48.000
たとえば、アクショントランザクションとサブアクションクーポンを返すと、メッセージはすべてのトランザクションフォルダにのみ移動します。

00:09:48.000 --> 00:10:02.000
ここでは、キーワード「デビット」で銀行から受信したSMSの例があり、メッセージによる財務サブフォルダに分類されています。

00:10:02.000 --> 00:10:10.000
これは、キーワード「クーポン」でブラックフライデー取引を受け取った別の例です。

00:10:10.000 --> 00:10:17.000
メッセージでは、クーポンサブフォルダに分類されています。

00:10:17.000 --> 00:10:25.000
iOS 16では、ユーザーの人口統計に最も適したサブカテゴリを選択できます。

00:10:25.000 --> 00:10:53.000
最初の例では、SMSメッセージフィルターは、トランザクションの下の注文、リマインダー、健康、公共サービス、天気のフォルダを表示し、2番目の例は、プロモーションの下のトランザクションとオファーの下の財務、リマインダー、健康、および報酬のフォルダを示しています。

00:10:53.000 --> 00:11:03.000
フィルター拡張機能は、これらのサブカテゴリを使用して、ユーザーに差別化されたエクスペリエンスを提供できます。

00:11:03.000 --> 00:11:13.000
AppleはインドでSMSフィルターを提供しており、iOS 16の機能強化を使用して更新しました。

00:11:13.000 --> 00:11:27.000
インドのApple SMSフィルターは、トランザクションの財務、注文、リマインダーなどの追加のサブフォルダをサポートするようになりました。

00:11:27.000 --> 00:11:44.000
銀行取引は財務に表示され、食品または商業配送メッセージは注文の下に整理され、重要なイベントややることはリマインダーフォルダに表示されます。

00:11:44.000 --> 00:11:57.000
最後に、このビデオでは、SMSメッセージフィルターと、メッセージをトランザクション、プロモーション、ジャンクに分類する方法について話しました。

00:11:57.000 --> 00:12:07.000
iOS 16では、メッセージフィルタ拡張機能は、メッセージを12の追加サブカテゴリに分類できるようになりました。

00:12:07.000 --> 00:12:14.000
詳細については、このビデオに添付されているリンクのAPIドキュメントを参照してください。

00:12:14.000 --> 00:12:22.000
人々がSMSメッセージを整理するのに役立つ、あなたの新しくて創造的なアイデアを楽しみにしています。

00:12:22.000 --> 23:59:59.000
そして、いつものように、将来的にSMSメッセージのフィルタリングを改善するのに役立つフィードバックに感謝します。

