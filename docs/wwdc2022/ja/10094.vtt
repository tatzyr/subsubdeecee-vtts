WEBVTT

00:00:00.000 -> 00:00:10.000
♪ ♪

00:00:10.000 -> 00:00:14.000
Karthik: こんにちは、私はメッセージチームのエンジニア、Karthikです。

00:00:14.000 -> 00:00:22.000
このビデオでは、あなたと共有し、それをアプリに採用する方法を紹介します。

00:00:22.000 -> 00:00:25.000
Shared with YouはiOS 15で発表されました。

00:00:25.000 -> 00:00:33.000
友人や家族がメッセージで送信するリンクを再訪しやすくするように設計されています。

00:00:33.000 -> 00:00:46.000
Shared with Youを採用したシステムアプリケーションは、Safari、ニュース、音楽、ポッドキャスト、テレビアプリ、写真です。

00:00:46.000 -> 00:00:51.000
あなたと共有は、あなたがコンテンツを消費している場所であなたに会います。

00:00:51.000 -> 00:00:56.000
多くの場合、コンテンツを消費する準備ができていないときにコンテンツが受信されます。

00:00:56.000 -> 00:01:07.000
例えば、あなたが食料品の買い物に出かけている間、友人がテレビ番組の推薦を送りますが、それは一日の過程で忘れられます。

00:01:07.000 -> 00:01:33.000
Shared with Youを使用すると、テレビアプリで視聴するテレビ番組を閲覧しているときに、後でこのテレビ番組を簡単に発見できます。Shared with Youは、アプリ内から直接メッセージの会話を拾うのが便利になり、アプリを離れることなく共有コンテンツのコンテキストにとどまることができます。

00:01:33.000 -> 00:01:36.000
コンテンツはメッセージに固定できます。

00:01:36.000 -> 00:01:42.000
「あなたと共有」と「検索」のコンテンツが昇格します。

00:01:42.000 -> 00:01:48.000
これは、コンテンツが重要であり、自動共有同意の流れを開始するというシグナルです。

00:01:48.000 -> 00:01:51.000
それについては後で詳しく説明します。

00:01:51.000 -> 00:01:57.000
iOS 16では、Shared with Youは、アプリ、リンク、コンテンツを含むように拡張されています。

00:01:57.000 -> 00:02:03.000
これはあなたと共有の利便性を取り、あなたのアプリに入れます。

00:02:03.000 -> 00:02:14.000
まず、アプリで「Shared with You」のデザインについて話し、それがどのように機能するかを示し、次に「Shared with You」を採用する方法を説明します。

00:02:14.000 -> 00:02:16.000
デザインから始めます。

00:02:16.000 -> 00:02:26.000
Shared with Youには、アプリエクスペリエンスの一部である「Shared with You」シェルフと「Shared with You」アトリビューの2つの部分があります。

00:02:26.000 -> 00:02:37.000
Shared with Youシェルフは、メッセージで共有されたコンテンツを強調表示するアプリのブラウジングエクスペリエンスの専用スペースです。

00:02:37.000 -> 00:02:44.000
たとえば、テレビアプリの「今すぐ視聴」タブには、Shared with Youシェルフがあります。

00:02:44.000 -> 00:02:49.000
音楽とポッドキャストの「今すぐ聴く」タブも同様です。

00:02:49.000 -> 00:02:55.000
Shared with Youが提供するコンテンツは、ランク付けされた順序付けされたリストです。

00:02:55.000 -> 00:02:58.000
後でビデオで確認します。

00:02:58.000 -> 00:03:07.000
「Shared with You」シェルフの各アイテムについて、アトリビューションビューとともにリッチなプレビューを表示します。

00:03:07.000 -> 00:03:14.000
リッチプレビューには、サムネイル、タイトル、および該当する場合はサブタイトルがあります。

00:03:14.000 -> 00:03:22.000
この例では、リッチプレビューはポッドキャストアート、エピソード名、ショー名で構成されています。

00:03:22.000 -> 00:03:29.000
また、Shared with Youシェルフには、各共有コンテンツのアトリビューションビューもあります。

00:03:29.000 -> 00:03:36.000
これは、コンテキストを一目で収集できるすべての情報です。

00:03:36.000 -> 00:03:44.000
ビューを展開したり、アプリのすべての共有コンテンツを表示したりできる「Moreを表示」要素があります。

00:03:44.000 -> 00:03:54.000
アトリビューションビューは、共有した人の名前とアバターを安全に表示するプロセス外ビューです。

00:03:54.000 -> 00:03:59.000
また、コンテンツがメッセージに固定されたかどうかも表示されます。

00:03:59.000 -> 00:04:05.000
コンテンツの詳細ビューにアトリビューを表示します。

00:04:05.000 -> 00:04:12.000
これにより、アプリのコンテンツを共有されたメッセージの会話に接続できます。

00:04:12.000 -> 00:04:23.000
例えば、私が見るためにテレビ番組を閲覧しているとき、アトリビューは友人がそれを勧めたことを思い出すのに役立ちます。

00:04:23.000 -> 00:04:28.000
私はすぐにそのショーを見ようとしていることを友達に伝えることができます。

00:04:28.000 -> 00:04:36.000
これはすべてアプリで起こり、返信した後、私はすぐにコンテンツに戻ります。

00:04:36.000 -> 00:04:39.000
アトリビューはインタラクティブです。

00:04:39.000 -> 00:04:45.000
ビューをタップすると、アプリケーション内から直接メッセージの会話に移動します。

00:04:45.000 -> 00:04:54.000
アトリビューションビューには、「返信」や「削除」などのコンテキストメニューオプションも表示されます。

00:04:54.000 -> 00:05:01.000
「返信」コンテンツメニューオプションは、ビューをタップするのと同様の機能です。

00:05:01.000 -> 00:05:08.000
「削除」コンテキストメニューオプションは、共有したコンテンツの一部を今後表示しないように指示する方法です。

00:05:08.000 -> 00:05:16.000
同じコンテキストメニューが利用可能になり、コンテンツのコンテキストメニューに追加できます。

00:05:16.000 -> 00:05:21.000
削除コンテキストメニューのタイトルはカスタマイズできます。

00:05:21.000 -> 00:05:29.000
たとえば、Safariでは、Webページのコンテキストメニューに「リンクを削除」と表示されます。

00:05:29.000 -> 00:05:35.000
このビデオの後半で、アプリでこれを行う方法について説明します。

00:05:35.000 -> 00:05:42.000
これで、Shared with Youシェルフを表示する場所と、アトリビューを表示する場所がわかりました。

00:05:42.000 -> 00:05:45.000
Shared with Youの仕組みをお見せしましょう。

00:05:45.000 -> 00:05:52.000
メッセージで友人や家族が共有したリンクは、あなたと共有で表面化されます。

00:05:52.000 -> 00:05:59.000
グループ会話のリンクは、少なくとも1人の参加者が連絡先である場合に浮上します。

00:05:59.000 -> 00:06:05.000
Shared with Youは、ユニバーサルリンクの背後にある同じ技術に基づいています。

00:06:05.000 -> 00:06:14.000
ユニバーサルリンクを使用すると、アプリやウェブサイトのコンテンツにシームレスにリンクできます。

00:06:14.000 -> 00:06:20.000
ユーザーは、あなたと共有されたコンテンツをきめ細かく制御できます。

00:06:20.000 -> 00:06:31.000
彼らは、会話ごと、アプリごと、またはグローバルに、メッセージの外で共有されるコンテンツを選択できます。

00:06:31.000 -> 00:06:36.000
この許可は事前に要求する必要はありません。

00:06:36.000 -> 00:06:39.000
それは有機的に起こります。

00:06:39.000 -> 00:06:46.000
ピン留めリンクは、Shared with Youのコンテンツを表面化するための暗黙の許可です。

00:06:46.000 -> 00:06:52.000
ピン留めされたコンテンツは、アプリであなたと共有するために常に利用できます。

00:06:52.000 -> 00:07:03.000
アプリのコンテンツがメッセージに固定されたときのヒューリスティックに基づいて、自動共有を有効にするオプションが表示されます。

00:07:03.000 -> 00:07:13.000
自動共有がオンになっていると、アプリであなたと共有されたさらなるコンテンツが自動的に利用可能になります。

00:07:13.000 -> 00:07:17.000
「あなたと共有」のコンテンツは順序付けられています。

00:07:17.000 -> 00:07:26.000
Shared with Youシェルフの最初のアイテムは、システムからのさまざまな信号に基づいてSiriの提案によってキュレーションされています。

00:07:26.000 -> 00:07:36.000
これに続いてピン留めされたアイテムが続き、リストの残りの部分は時系列順に並べられています。

00:07:36.000 -> 00:07:43.000
Siriの提案は、「ユーザーはコンテンツを閲覧または操作しましたか？」などの信号を使用します。

00:07:43.000 -> 00:07:45.000
コンテンツはピン留めされていますか?

00:07:45.000 -> 00:07:48.000
コンテンツはどの文脈で提示されていますか?

00:07:48.000 -> 00:07:52.000
あなたのアプリは、このフィードバックを提供する役割を果たしています。

00:07:52.000 -> 00:07:56.000
後でビデオで詳しく説明します。 後で説明します。

00:07:56.000 -> 00:08:02.000
これはすべて、コンテンツがあまりにも一時的または古くないようにするために行われます。

00:08:02.000 -> 00:08:12.000
リンクが複数回共有される会話では、Shared with Youは最新のメッセージのみを表示します。

00:08:12.000 -> 00:08:23.000
リンクが複数のメッセージの会話で共有されている場合、あなたと共有はアトリビューを介して視覚的にそれを表します。

00:08:23.000 -> 00:08:31.000
例えば、エンリケとサラの両方がトップ25シカゴのプレイリストを共有しました。

00:08:31.000 -> 00:08:37.000
アトリビューションビューには、両方の連絡先アバターが表示されます。

00:08:37.000 -> 00:08:47.000
アトリビューをタップすると、曖昧さ回避メニューが表示され、返信するメッセージの会話を選択できます。

00:08:47.000 -> 00:08:54.000
セキュリティとプライバシーは、あなたと共有を設計する際の主な考慮事項と焦点でした。

00:08:54.000 -> 00:09:02.000
アトリビューションビューと曖昧さ回避ビューは、プロセスからあなたに代わって引き出されます。

00:09:02.000 -> 00:09:12.000
Shared with Youは、ユニバーサルリンクアソシエーションを介してアプリのコンテンツを保護するため、アプリのみがアクセスできます。

00:09:12.000 -> 00:09:19.000
アプリはメッセージの受信者や会話にアクセスできません。

00:09:19.000 -> 00:09:22.000
これで、Shared with Youの仕組みがわかりました。

00:09:22.000 -> 00:09:27.000
最もエキサイティングな部分に、アプリで「Shared with You」を採用する方法。

00:09:27.000 -> 00:09:31.000
まず、ユニバーサルリンクを採用します。

00:09:31.000 -> 00:09:37.000
次に、Xcodeの「Capabilities」タブの下に、新しいShared with You Capabilityを追加します。

00:09:37.000 -> 00:09:46.000
次に、アプリにShared with Youシェルフを置き、コンテンツにアトリビューを追加します。

00:09:46.000 -> 00:09:51.000
ユニバーサルリンクの採用について簡単にお話ししましょう。

00:09:51.000 -> 00:09:59.000
ユニバーサルリンクを使用すると、ユーザーはアプリやウェブサイトのコンテンツへのリンクをインテリジェントにフォローできます。

00:09:59.000 -> 00:10:03.000
ユニバーサルリンクをサポートするには、次の手順を実行します。

00:10:03.000 -> 00:10:14.000
まず、アプリとウェブサイトの間に双方向の関連付けを作成し、アプリが処理するURLを指定します。

00:10:14.000 -> 00:10:26.000
関連するドメインのエンタイトルメントをアプリに追加し、WebサーバーにJSONファイルを追加して作成します。

00:10:26.000 -> 00:10:36.000
次に、ユニバーサルリンクがアプリにルーティングされたときに、システムが提供するユーザーアクティビティオブジェクトに応答するように、アプリデリゲートを更新します。

00:10:36.000 -> 00:10:42.000
詳細については、「ユニバーサルリンクの新機能」ビデオをご覧ください。

00:10:42.000 -> 00:10:47.000
iOS 16では、Shared with Youという新しいフレームワークを導入しました。

00:10:47.000 -> 00:10:59.000
Shared with Youフレームワークには、SWHighlightCenter、SWHighlight、SWAttributionViewの3つの主要なクラスがあります。

00:10:59.000 -> 00:11:04.000
SWHighlightCenterは、アプリのShared with Youコンテンツを取得するのに役立つクラスです。

00:11:04.000 -> 00:11:10.000
SWHighlightは、アプリの共有コンテンツをラップするモデルオブジェクトです。

00:11:10.000 -> 00:11:21.000
SWAttributionViewは、コンテンツをメッセージの会話に接続し、アトリビューション情報を表示するのに役立つビューです。

00:11:21.000 -> 00:11:41.000
ハイライトセンターは、SWHighlightオブジェクトの配列であるハイライトで構成されるシンプルなオブジェクトです。また、Shared with Youによってコンテンツが追加、削除、または更新されたときにアプリが通知を受け取るデリゲートプロパティ。

00:11:41.000 -> 00:11:46.000
ハイライトはSWHighlightクラスで表されます。

00:11:46.000 -> 00:11:52.000
メッセージで共有されたアプリのコンテンツのURLを渡すために使用されます。

00:11:52.000 -> 00:12:01.000
それを使用して、コンテンツを参照し、リッチなプレビューをレンダリングし、アプリ内のコンテンツに移動します。

00:12:01.000 -> 00:12:06.000
アプリでShared with Youコンテンツを列挙する方法をお見せしましょう。

00:12:06.000 -> 00:12:12.000
まず、SWHighlightCenterのインスタンスを作成します。

00:12:12.000 -> 00:12:16.000
次に、デリゲートプロパティを設定します。

00:12:16.000 -> 00:12:22.000
SWHighlightCenterDelegateメソッドを実装します。

00:12:22.000 -> 00:12:29.000
ハイライトセンターのハイライトプロパティを使用して、アプリのShared with Youコンテンツにアクセスします。

00:12:29.000 -> 00:12:39.000
アプリは、そのリストを最新のリストとすばやく差分するために、以前のハイライトリストを保持することを選択できます。

00:12:39.000 -> 00:12:47.000
各ハイライトのURLプロパティを使用して、アプリのコンテンツのリッチプレビューを生成します。

00:12:47.000 -> 00:12:53.000
そして、アプリでShared with Youのコンテンツを列挙するのと同じくらい簡単です。

00:12:53.000 -> 00:13:01.000
次に、アプリのShared with Youコンテンツにアトリビューアトリビューを追加およびカスタマイズする方法を紹介します。

00:13:01.000 -> 00:13:10.000
SWAttributionViewは、コンテンツを共有した人の名前とアバターを示すビューです。

00:13:10.000 -> 00:13:14.000
各ハイライトには、対応するアトリビューションビューがあります。

00:13:14.000 -> 00:13:23.000
アトリビューにハイライトプロパティを設定すると、アトリビューション情報のプロセス外レンダリングがトリガーされます。

00:13:23.000 -> 00:13:28.000
アトリビューが取ることができる最大幅を指定します。

00:13:28.000 -> 00:13:34.000
アトリビューションビューは、必要に応じてスペースを埋めたり収めたりします。

00:13:34.000 -> 00:13:39.000
最大スペース内でアトリビューのアトリビューのアライメントを設定します。

00:13:39.000 -> 00:13:42.000
例をお見せしましょう。

00:13:42.000 -> 00:13:49.000
SWAttributionViewのインスタンスを作成し、ハイライトプロパティを設定します。

00:13:49.000 -> 00:13:52.000
優先するMaxLayoutWidthを設定します。

00:13:52.000 -> 00:13:57.000
この例では、共有コンテンツのサムネイルの下部にまたがっています。

00:13:57.000 -> 00:14:05.000
このビューの幅アンカーを制限するか、フレーム幅を設定して、コンテンツの最大幅を制御します。

00:14:05.000 -> 00:14:18.000
UIViewのminimumContentSizeCategoryまたはmaximumContentSizeCategoryプロパティを使用して、必要に応じてビューの最大AXコンテンツサイズカテゴリを設定します。

00:14:18.000 -> 00:14:22.000
このビューの周りに十分な垂直スペースを提供します。

00:14:22.000 -> 00:14:28.000
ビューの高さは、preferredContentSizeCategoryと結果のフォントサイズに依存します。

00:14:28.000 -> 00:14:36.000
ビューの高さが不必要に制限されている場合、ビューがクリップされるか、描画されない可能性があります。

00:14:36.000 -> 00:14:40.000
この場合、水平アライメントは先頭に設定されています。

00:14:40.000 -> 00:14:46.000
センターまたはトレーリングに設定することもできます。

00:14:46.000 -> 00:14:51.000
次に、アトリビューションビューをカスタマイズする方法を紹介します。

00:14:51.000 -> 00:14:58.000
表示コンテキストを設定すると、ユーザーが帰属コンテンツをどのように消費しているかをシステムに通知するのに役立ちます。

00:14:58.000 -> 00:15:03.000
また、アプリのShared with Youコンテンツのランキングにも影響します。

00:15:03.000 -> 00:15:06.000
ウィンドウに追加される前にこれを設定してください。

00:15:06.000 -> 00:15:14.000
アトリビューの背景スタイルは、使用されているコンテンツの背景に基づいてカスタマイズできます。

00:15:14.000 -> 00:15:17.000
例をお見せしましょう。

00:15:17.000 -> 00:15:23.000
displayContextプロパティのデフォルト値はsumeraryです。

00:15:23.000 -> 00:15:28.000
これは、コンテンツが消費のために表示されていることを示しています。

00:15:28.000 -> 00:15:39.000
映画を見たり、ポッドキャストを聴いたりするなど、ユーザーがコンテンツを積極的に消費しているときに、displayContextを詳細に設定します。

00:15:39.000 -> 00:15:43.000
displayContextの設定は、アプリが提供できるフィードバックです。

00:15:43.000 -> 00:15:47.000
これは、Siriの提案があなたのアプリのコンテンツをランク付けするのに役立ちます。

00:15:47.000 -> 00:15:57.000
この例のように、モノクロの背景にアトリビューを配置するときに、アトリビューの背景スタイルを色に設定します。

00:15:57.000 -> 00:16:03.000
色とりどりの背景にアトリビューを配置するときは、素材を使用してください。

00:16:03.000 -> 00:16:08.000
これにより、ビューの内容に素材の背景のぼかしが設定されます。

00:16:08.000 -> 00:16:14.000
この例では、Safariのランディングページに背景画像があります。

00:16:14.000 -> 00:16:21.000
アトリビューのコンテンツは、正しい背景スタイルを設定することでより見やすくなります。

00:16:21.000 -> 00:16:30.000
次に、アプリのコンテンツにShared with Youコンテキストメニューを追加し、タイトルをカスタマイズする方法を紹介します。

00:16:30.000 -> 00:16:39.000
アプリのコンテンツに添付されている既存のコンテキストメニューは、アトリビューのメニューで補完できます。

00:16:39.000 -> 00:16:48.000
このメニューは、拡張するコンテキストメニューとインラインまたは末尾に追加する必要があります。

00:16:48.000 -> 00:16:53.000
コンテキストメニューの削除オプションのカスタムタイトルを提供できます。

00:16:53.000 -> 00:16:59.000
文字列には、正しくローカライズされた「削除」という単語を含める必要があります。

00:16:59.000 -> 00:17:08.000
この例では、Safariは末尾のコンテンツのコンテキストメニューで「削除」メニューのタイトルを「リンクを削除」にカスタマイズしました。

00:17:08.000 -> 00:17:12.000
例を通してこれを行う方法をお見せしましょう。

00:17:12.000 -> 00:17:18.000
まず、アトリビューのインスタンスを作成し、ハイライトプロパティを設定します。

00:17:18.000 -> 00:17:24.000
menuTitleForHideActionを使用して、コンテキストの削除メニューのカスタムタイトルを提供します。

00:17:24.000 -> 00:17:34.000
コンテンツのコンテキストメニューを設定するときは、補足メニュープロパティを介してアトリビューからメニューを取得します。

00:17:34.000 -> 00:17:38.000
次に、コンテンツのコンテキストメニューに追加します。

00:17:38.000 -> 00:17:49.000
これらの簡単な手順により、アプリはアトリビューで利用可能なコンテキストメニューオプションをコンテンツのコンテキストメニューに追加できます。

00:17:49.000 -> 00:17:54.000
これで、アプリでShared with Youを採用するために必要なことがすべてわかりました。

00:17:54.000 -> 00:17:59.000
アプリで「Shared with You」を採用するための3つの簡単なステップをまとめてみましょう。

00:17:59.000 -> 00:18:01.000
ユニバーサルリンクを採用してください。

00:18:01.000 -> 00:18:07.000
次に、アプリのXcodeに新しいShared with You Capabilityを追加します。

00:18:07.000 -> 00:18:11.000
新しいShared with Youフレームワークをインポートして使用します。

00:18:11.000 -> 00:18:18.000
メッセージであなたのコンテンツを共有し、あなたのアプリであなたと共有することを楽しみにしています。

00:18:18.000 -> 23:59:59.000
お時間とご清聴ありがとうございました。

