WEBVTT

00:00:00.000 --> 00:00:09.000
♪ ♪

00:00:09.000 --> 00:00:11.000
こんにちは。私はチャールズ・インです。

00:00:11.000 --> 00:00:14.000
App Clipsの新機能へようこそ。

00:00:14.000 --> 00:00:17.000
アプリクリップはアプリの小さな部分です。

00:00:17.000 --> 00:00:23.000
それらは軽くて速く、簡単に発見できるので、必要なときに必要なものをすぐに手に入れることができます。

00:00:23.000 --> 00:00:31.000
それらは、メッセージ、マップ、Spotlight、Safari、またはQRコードとアプリクリップコードで世界中で見つけることができます。

00:00:31.000 --> 00:00:33.000
本当にクールな例の1つはトーストです。

00:00:33.000 --> 00:00:39.000
Toastのアプリクリップを使用すると、QRコードをスキャンして、テーブルで食事の代金を支払うことができます!

00:00:39.000 --> 00:00:45.000
Toastは、領収書に印刷された既存のQRコードから開くようにアプリクリップを設定しました。

00:00:45.000 --> 00:00:51.000
アプリクリップにより、ユーザーのチェックアウトが速くなり、完全なアプリをインストールすることを選択するユーザーが増えました。

00:00:51.000 --> 00:00:58.000
既存のフローにアプリクリップを構築することは、あなたの経験を合理化するための素晴らしい方法です。

00:00:58.000 --> 00:01:07.000
今日は、ユーザーがApp Clipでより多くのことを行い、App Clipの開発をさらに簡単にする新機能について学びます。

00:01:07.000 --> 00:01:11.000
App Clipのサイズ制限から始めましょう。

00:01:11.000 --> 00:01:16.000
アプリクリップは軽くて速く、スピードのために設計されています。

00:01:16.000 --> 00:01:19.000
アプリクリップを瞬時に感じさせるには、小さくする必要があります。

00:01:19.000 --> 00:01:32.000
そして、ワイヤレスネットワークは2年前よりも高速であるため、iOS 16の新機能であることを嬉しく思いますが、App Clipsのサイズは最大15 MBになりました。

00:01:32.000 --> 00:01:36.000
これにより、理想的な体験を構築する余地が増えます。

00:01:36.000 --> 00:01:45.000
新しい制限のためにApp Clipの最小バージョンをiOS 16に設定するか、iOS 15以前と互換性があるように10MB未満にしてください。

00:01:45.000 --> 00:01:51.000
いずれにせよ、App Clipの起動後はいつでも追加のリソースをダウンロードできます。

00:01:51.000 --> 00:01:54.000
スピードは依然として素晴らしい経験の鍵です。

00:01:54.000 --> 00:02:03.000
ユーザーは必ずしも高速ネットワークのある場所にいるとは限らないので、App Clipの最適化は相変わらず重要です。

00:02:03.000 --> 00:02:10.000
アプリクリップの最適化の詳細については、「軽量で高速なアプリクリップを構築する」をご覧ください。

00:02:10.000 --> 00:02:19.000
次に、App Clipエクスペリエンスまたはユニバーサルリンクが正しく設定されていることを確認するシンプルな新しいツールをお見せできることを本当に楽しみにしています。

00:02:19.000 --> 00:02:21.000
これがその仕組みです。

00:02:21.000 --> 00:02:28.000
iPhoneまたはiPadで、開発者設定に移動し、[アプリクリップのテスト]で[診断]を選択します。

00:02:28.000 --> 00:02:31.000
次に、URLを入力してください。

00:02:31.000 --> 00:02:36.000
デバイスをXcodeに接続することで、開発者設定をオンにすることができます。

00:02:36.000 --> 00:02:40.000
iOSはURLの設定をチェックします。

00:02:40.000 --> 00:02:44.000
すべてが正しく設定されている場合は、これらの緑色のチェックボックスが表示されます。

00:02:44.000 --> 00:02:51.000
しかし、何か問題がある場合は、何が起こっているのかを正確に伝えるこのような画面が表示されます。 では、何が起こっているのかを正確に伝えます。

00:02:51.000 --> 00:02:58.000
これは、Safariのバナーが表示されない、またはApp Clipの代わりにWebページに移動するなどの問題を解決するのに役立ちます。

00:02:58.000 --> 00:03:04.000
各診断には、設定のステップをさらに説明するためのドキュメントへのリンクがあります。

00:03:04.000 --> 00:03:09.000
これで、何が間違っているのかを正確に知ることができます。

00:03:09.000 --> 00:03:20.000
App Clip診断は、物理コード、Safari、iMessageを使用するApp Clipエクスペリエンスをチェックし、ユニバーサルリンク関連ドメインの設定もチェックします。

00:03:20.000 --> 00:03:27.000
このシンプルな新しいツールにより、設定を正しく行うことがはるかに簡単になります。

00:03:27.000 --> 00:03:30.000
次に、CloudKit。

00:03:30.000 --> 00:03:35.000
CloudKitは、アプリがiCloudに保存されているデータにアクセスできるようにするフレームワークです。

00:03:35.000 --> 00:03:40.000
これまで、CloudKitはApp Clipsでは利用できませんでした。

00:03:40.000 --> 00:03:46.000
アプリクリップは、データやリソースを読み取るためにサーバーを使用している可能性があります。

00:03:46.000 --> 00:03:53.000
iOS 16の新機能であるApp Clipsは、CloudKitパブリックデータベースに保存されているデータとリソースを読み取ることもできます。

00:03:53.000 --> 00:04:03.000
CloudKitが提供するすべてのパワーとスケールで、同じコードを共有し、アプリとApp Clipの両方で同じデータにアクセスできるようになりました。

00:04:03.000 --> 00:04:11.000
アプリとApp Clipsの重要な違いは、App Clipsはパブリックデータベースから読み取ることができるが、CloudKitにデータを書き込むことができないことです。

00:04:11.000 --> 00:04:16.000
アプリクリップは、クラウドドキュメントやキーバリューストアも使用できません。

00:04:16.000 --> 00:04:24.000
これは、アプリクリップが使用されなくなった場合、iOSがアプリクリップとそのデータを削除するというユーザーへの約束を守ります。

00:04:24.000 --> 00:04:35.000
XcodeでApp ClipのCloudKitを有効にするには、App Clipターゲットの[署名と機能]タブを開き、App Clipで使用するCloudKitコンテナを選択します。

00:04:35.000 --> 00:04:41.000
このCloudKitコンテナは、完全なアプリと共有される新規または既存のコンテナにすることができます。

00:04:41.000 --> 00:04:47.000
以下は、App ClipからCloudKitの公開データを読み取る方法の例です。

00:04:47.000 --> 00:04:53.000
コンテナの識別子を使用してCKContainerを作成し、publicCloudDatabaseプロパティにアクセスします。

00:04:53.000 --> 00:04:59.000
次に、パブリックデータベースから必要なレコードを取得します。

00:04:59.000 --> 00:05:03.000
次に、キーチェーンの移行。

00:05:03.000 --> 00:05:16.000
今日、認証トークンや支払い情報などの機密情報をApp Clipから完全なアプリに転送したい場合、App Clipはこのデータを共有アプリグループコンテナに保存します。

00:05:16.000 --> 00:05:22.000
iOSは、ユーザーがアプリクリップからフルアプリにアップグレードすると、このデータを保存します。

00:05:22.000 --> 00:05:28.000
完全なアプリはアプリグループコンテナを読み取り、その情報をキーチェーンに保存します。

00:05:28.000 --> 00:05:35.000
しかし、キーチェーンはこの種の情報を安全に保管するのに理想的な場所です。

00:05:35.000 --> 00:05:44.000
今年新しく、ユーザーがアプリをインストールすると、App Clipのキーチェーンに保存されているアイテムがApp Clipからアプリに転送されます。

00:05:44.000 --> 00:05:51.000
これで、App Clipは安全なアイテムをキーチェーンに保存するだけで、インストール時にアプリに移動されます。

00:05:51.000 --> 00:05:56.000
共有キーチェーングループとiCloudキーチェーンはサポートされていません。

00:05:56.000 --> 00:06:04.000
これは、アプリクリップが使用されなくなったときにキーチェーン情報が定着しないというユーザーへの約束を守ります。

00:06:04.000 --> 00:06:08.000
以下は、キーチェーンにログイン情報を保存して読み取る方法の例です。

00:06:08.000 --> 00:06:12.000
コードはアプリとアプリクリップの両方で同じです。

00:06:12.000 --> 00:06:16.000
SecItemAddでキーチェーンに新しいアイテムを追加できます。

00:06:16.000 --> 00:06:20.000
そして、SecItemCopyMatchingでキーチェーンからこれらのアイテムを取得します。

00:06:20.000 --> 00:06:28.000
そして、アイテムにラベルを追加して、アプリクリップによってアイテムが保存されたことを完全なアプリが識別できるようにします。

00:06:28.000 --> 00:06:32.000
最後に、App ClipはAPIを体験します。

00:06:32.000 --> 00:06:41.000
アプリクリップが成長するにつれて、それぞれが独自の情報や場所を持つ、ますます高度なアプリクリップ体験を持つようになります。

00:06:41.000 --> 00:06:45.000
これらの経験をすべて追加および更新する簡単な方法が必要です。

00:06:45.000 --> 00:06:53.000
App Store Connectには、このワークフローを自動化するように設計されたApp ClipエクスペリエンスWeb APIがあります。

00:06:53.000 --> 00:07:00.000
このAPIを使用して高度なApp Clipエクスペリエンスを追加する例を見てみましょう。

00:07:00.000 --> 00:07:03.000
まず、App ClipのリソースIDを取得します。

00:07:03.000 --> 00:07:06.000
次に、ヘッダー画像をアップロードします。

00:07:06.000 --> 00:07:10.000
最後に、高度なApp Clipエクスペリエンスを作成します。

00:07:10.000 --> 00:07:14.000
まず、アプリクリップのリソースIDを見つけましょう。

00:07:14.000 --> 00:07:19.000
アプリのアイテムIDとApp ClipバンドルIDを使用してWeb APIを呼び出します。

00:07:19.000 --> 00:07:24.000
そして、応答から、後でのためにApp ClipリソースIDを保存します。

00:07:24.000 --> 00:07:28.000
次に、高度なApp Clipエクスペリエンスのヘッダー画像をアップロードします。

00:07:28.000 --> 00:07:33.000
次のステップのために、ヘッダー画像のリソースIDを保存します。

00:07:33.000 --> 00:07:40.000
最後に、App ClipリソースIDとヘッダー画像IDを使用して、高度なApp Clipエクスペリエンスを作成できます。

00:07:40.000 --> 00:07:48.000
記入する3つの辞書があります：属性、関係、および含まれています。

00:07:48.000 --> 00:07:58.000
属性辞書に、アクション名、カテゴリと言語、高度なApp Clipエクスペリエンスのリンクなどの情報を追加します。

00:07:58.000 --> 00:08:03.000
高度な経験がマップの場所と結びついている場合は、場所辞書を追加してください。

00:08:03.000 --> 00:08:11.000
場所辞書に、一致するマップのビジネス場所名、マップアクション、およびマップ座標を追加します。

00:08:11.000 --> 00:08:17.000
関係辞書に、App ClipリソースIDとヘッダー画像IDを追加します。

00:08:17.000 --> 00:08:23.000
そして、付属の辞書に、高度なApp Clipエクスペリエンスのためにローカライズされたタイトルとサブタイトルを追加します。

00:08:23.000 --> 00:08:25.000
そして、それだけです!

00:08:25.000 --> 00:08:32.000
このApp Store Connect APIを使用すると、高度なApp Clipエクスペリエンスの作成を完全に自動化できます。

00:08:32.000 --> 00:08:42.000
App Store Connectの詳細については、WWDC 2020の「App Store Connectの自動化」と「App Store Connectの新機能」をご覧ください。

00:08:42.000 --> 00:08:50.000
最後に、新しいアプリクリップのサイズ制限により、理想的な体験を構築する余地が増えます。

00:08:50.000 --> 00:08:58.000
App Clip診断ツールは、App Clipとユニバーサルリンクの設定をエンド・トゥ・エンドで理解するのに最適な方法です。

00:08:58.000 --> 00:09:04.000
CloudKitとキーチェーンは、より多くのコードをアプリと共有することで、開発を容易にすることができます。

00:09:04.000 --> 00:09:11.000
また、App ClipエクスペリエンスAPIは、高度なApp Clipエクスペリエンスを管理するためのワークフローを自動化します。

00:09:11.000 --> 00:09:25.000
アプリクリップの開発の詳細については、WWDC 2021の「App Clipsの新機能」とWWDC 2020の「Design great App Clips」をご覧ください。

00:09:25.000 --> 00:09:28.000
あなたの開発者は、このような素晴らしいアプリクリップを作りました。

00:09:28.000 --> 00:09:29.000
彼らはとても創造的です！

00:09:29.000 --> 00:09:35.000
これらの新機能が、次の素晴らしいアプリクリップの構築に役立つことを願っています。

00:09:35.000 --> 23:59:59.000
見てくれてありがとう!♪ ♪

