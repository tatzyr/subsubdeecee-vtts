WEBVTT

00:00:01.000 --> 00:00:12.000
Anne: Xin chào, và chào mừng!

00:00:12.000 --> 00:00:15.000
Tôi là Anne Hitchcock, và tôi là một kỹ sư phần mềm watchOS.

00:00:15.000 --> 00:00:20.000
Hôm nay, tôi muốn chỉ cho bạn cách tạo một ứng dụng năng suất trên watchOS.

00:00:20.000 --> 00:00:28.000
Kể từ khi giới thiệu các ứng dụng SwiftUI và Independent Watch trong watchOS 6, bạn đã có thể làm được nhiều hơn trong các ứng dụng Watch của mình.

00:00:28.000 --> 00:00:33.000
Mỗi năm, SwiftUI trên watchOS nhận được nhiều khả năng hơn.

00:00:33.000 --> 00:00:41.000
Đồng thời, watchOS đã nhận được các tính năng mới, như bàn phím, cho phép bạn xây dựng các loại ứng dụng hoàn toàn mới cho Watch.

00:00:41.000 --> 00:00:49.000
Tôi muốn chỉ cho bạn cách kết hợp một số tính năng đó lại với nhau để xây dựng một ứng dụng để theo dõi danh sách những việc cần hoàn thành.

00:00:49.000 --> 00:01:00.000
Chúng tôi sẽ tạo một ứng dụng Đồng hồ mới, thêm một danh sách các mục đơn giản để hiển thị, Cho phép mọi người thêm các mục vào danh sách và sau đó chỉnh sửa các mục.

00:01:00.000 --> 00:01:10.000
Khi chúng tôi thêm các tính năng này, chúng tôi sẽ nói về các chiến lược điều hướng ứng dụng phổ biến trong ứng dụng Watch và cách chọn đúng.

00:01:10.000 --> 00:01:14.000
Chúng tôi sẽ chia sẻ các mục với một người bạn để chia sẻ tải.

00:01:14.000 --> 00:01:21.000
Sau đó, chúng tôi sẽ thêm một biểu đồ vào ứng dụng của mình để giúp chúng tôi phát hiện xu hướng năng suất và giữ cho chúng tôi có động lực.

00:01:21.000 --> 00:01:28.000
Và chúng tôi sẽ sử dụng Digital Crown để làm cho biểu đồ của chúng tôi có thể cuộn được để hiển thị phạm vi dữ liệu lớn hơn.

00:01:28.000 --> 00:01:32.000
Hãy bắt đầu bằng cách tạo một ứng dụng mới.

00:01:32.000 --> 00:01:35.000
Tạo một dự án mới trong Xcode.

00:01:35.000 --> 00:01:40.000
Trong tab watchOS, chọn Ứng dụng và nhấp vào Tiếp theo.

00:01:40.000 --> 00:01:44.000
Sau khi chọn tên sản phẩm, bạn có một vài lựa chọn.

00:01:44.000 --> 00:01:52.000
Điều quan trọng nhất là tạo Ứng dụng Chỉ xem hay tạo ứng dụng Đồng hồ với ứng dụng iOS đồng hành.

00:01:52.000 --> 00:01:59.000
Hãy nói về những gì tạo nên một ứng dụng Watch tuyệt vời và khi nào bạn muốn có một ứng dụng iOS đồng hành.

00:01:59.000 --> 00:02:08.000
Các ứng dụng Great Watch cho phép tương tác nhanh chóng, như giao diện trong Workout cho phép bạn bắt đầu các bài tập yêu thích của mình một cách nhanh chóng.

00:02:08.000 --> 00:02:14.000
Không ai muốn đứng xung quanh, giơ tay lên, gõ qua để cố gắng tìm thứ gì đó.

00:02:14.000 --> 00:02:20.000
Các ứng dụng Đồng hồ tuyệt vời giúp dễ dàng truy cập thông tin và tính năng quan trọng.

00:02:20.000 --> 00:02:24.000
Các ứng dụng Great Watch tập trung vào mục đích thiết yếu của ứng dụng.

00:02:24.000 --> 00:02:34.000
Ví dụ, ứng dụng Thời tiết hiển thị dự báo cho ngày hôm nay, các điều kiện hiện tại có liên quan và dự báo 10 ngày đơn giản.

00:02:34.000 --> 00:02:42.000
Tập trung vào những điều cần thiết trong ứng dụng của bạn để mọi người có thể dễ dàng tìm thấy thông tin và hành động họ cần.

00:02:42.000 --> 00:02:47.000
Một ứng dụng Đồng hồ tuyệt vời được thiết kế để sử dụng độc lập với iPhone đồng hành.

00:02:47.000 --> 00:02:59.000
Ví dụ, ứng dụng Danh bạ đồng bộ hóa với điện thoại của bạn, nhưng không yêu cầu iPhone của bạn ở gần để truy cập thông tin liên hệ trên Apple Watch của bạn.

00:02:59.000 --> 00:03:15.000
Có nhiều lý do khiến bạn cũng có thể muốn có một ứng dụng iOS đồng hành cho ứng dụng Đồng hồ của mình, bao gồm cung cấp hồ sơ lịch sử dữ liệu được Apple Watch thu thập hoặc phân tích chi tiết các xu hướng, như trong ứng dụng Thể hình.

00:03:15.000 --> 00:03:24.000
Vì ứng dụng của chúng tôi có bộ tính năng tập trung, tương tác nhanh và dữ liệu hạn chế, chúng tôi sẽ tạo một ứng dụng Chỉ xem.

00:03:24.000 --> 00:03:31.000
Tại thời điểm này, tôi muốn dành vài phút để nói về các mục tiêu được tạo ra.

00:03:31.000 --> 00:03:47.000
Nếu bạn đã xây dựng một ứng dụng Watch trong quá khứ, dự án của bạn có hai mục tiêu cho Watch: mục tiêu Ứng dụng WatchKit với bảng phân cảnh, nội dung và có thể là một số tệp liên quan đến bản địa hóa và mục tiêu Tiện ích mở rộng WatchKit với tất cả mã ứng dụng của bạn.

00:03:47.000 --> 00:03:57.000
Những mục tiêu kép này là một phần còn lại từ những ngày đầu của watchOS, và thực sự không còn lý do chính đáng cho nhiều mục tiêu Watch nữa.

00:03:57.000 --> 00:04:03.000
Bắt đầu từ Xcode 14, các ứng dụng Đồng hồ mới có một mục tiêu ứng dụng Đồng hồ duy nhất.

00:04:03.000 --> 00:04:13.000
Tất cả mã, nội dung, bản địa hóa và tiện ích mở rộng Siri Intent và Widget được liên kết với ứng dụng Watch của bạn đều thuộc mục tiêu này.

00:04:13.000 --> 00:04:19.000
Tin tuyệt vời là các ứng dụng Đồng hồ một mục tiêu được hỗ trợ trở lại watchOS 7!

00:04:19.000 --> 00:04:29.000
Bạn có thể đơn giản hóa cấu trúc dự án của mình và giảm sự nhầm lẫn và trùng lặp trong khi vẫn hỗ trợ những khách hàng không chạy watchOS mới nhất.

00:04:29.000 --> 00:04:42.000
Nếu bạn có một ứng dụng hiện có với mục tiêu Tiện ích mở rộng WatchKit, nó sẽ tiếp tục hoạt động và bạn có thể tiếp tục cập nhật ứng dụng của mình bằng Xcode và xuất bản ứng dụng của mình thông qua App Store.

00:04:42.000 --> 00:04:52.000
Nếu bạn đã có một ứng dụng Đồng hồ sử dụng vòng đời SwiftUI, việc chuyển đổi sang một mục tiêu duy nhất rất dễ dàng bằng cách sử dụng công cụ di chuyển trong Xcode 14.

00:04:52.000 --> 00:04:57.000
Chọn mục tiêu của bạn và chọn Xác thực Cài đặt từ menu Trình chỉnh sửa.

00:04:57.000 --> 00:05:04.000
Tùy chọn thu gọn mục tiêu sẽ được cung cấp nếu mục tiêu triển khai của bạn là watchOS 7 trở lên.

00:05:04.000 --> 00:05:20.000
Nếu bạn chưa thực hiện bước nhảy vọt, bây giờ là thời điểm tốt để bắt đầu quá trình chuyển đổi ứng dụng của bạn để sử dụng vòng đời SwiftUI để tận hưởng sự đơn giản của ứng dụng Đồng hồ một mục tiêu và tất cả các tính năng của SwiftUI.

00:05:20.000 --> 00:05:24.000
Các mục tiêu không phải là thứ duy nhất chúng tôi đơn giản hóa trong Xcode 14!

00:05:24.000 --> 00:05:34.000
Chúng tôi cũng đã giúp việc thêm biểu tượng cho ứng dụng của bạn dễ dàng hơn rất nhiều bằng cách chỉ yêu cầu một hình ảnh 1024x1024 pixel duy nhất.

00:05:34.000 --> 00:05:39.000
Hình ảnh biểu tượng ứng dụng sẽ được thu nhỏ để hiển thị trên tất cả các thiết bị Đồng hồ.

00:05:39.000 --> 00:05:50.000
Đảm bảo kiểm tra với biểu tượng ứng dụng của bạn trên các thiết bị trên màn hình chính, trong thông báo và trong cài đặt cho ứng dụng của bạn trong ứng dụng Đồng hồ trên iPhone.

00:05:50.000 --> 00:05:55.000
Bạn có thể thêm hình ảnh tùy chỉnh cho các kích thước nhỏ hơn cụ thể nếu cần.

00:05:55.000 --> 00:06:07.000
Ví dụ: nếu biểu tượng ứng dụng của bạn có chi tiết trong hình ảnh bị mất ở kích thước nhỏ hơn, bạn có thể thêm hình ảnh biểu tượng cụ thể cho các kích thước đó với các chi tiết hình ảnh bị xóa.

00:06:07.000 --> 00:06:12.000
Bây giờ hãy thêm một số chức năng vào ứng dụng của chúng tôi bằng cách thêm một danh sách các mục nhiệm vụ.

00:06:12.000 --> 00:06:16.000
Chúng ta sẽ bắt đầu bằng cách tạo ra một mô hình dữ liệu cho danh sách các nhiệm vụ của chúng ta.

00:06:16.000 --> 00:06:24.000
Cấu trúc ListItem sẽ có thể nhận dạng và có thể băm được, và chúng tôi sẽ cung cấp cho nó một mô tả để hiển thị.

00:06:24.000 --> 00:06:30.000
Sau đó, tạo một mô hình đơn giản để lưu trữ dữ liệu của chúng tôi và xuất bản mảng các mục danh sách.

00:06:30.000 --> 00:06:37.000
Và cuối cùng, thêm mô hình làm đối tượng môi trường để chế độ xem của chúng tôi có thể truy cập mô hình của chúng tôi.

00:06:37.000 --> 00:06:41.000
Bây giờ hãy tạo một Danh sách trong SwiftUI với mô hình dữ liệu của chúng tôi.

00:06:41.000 --> 00:06:47.000
Vì chưa có nhiệm vụ nào, khi chúng tôi xem trước điều này, chúng tôi nhận được một danh sách trống.

00:06:47.000 --> 00:06:50.000
Chúng ta cần phải làm gì đó về điều đó.

00:06:50.000 --> 00:06:54.000
Chúng ta nên cho mọi người một cách để thêm một số nhiệm vụ vào danh sách của họ.

00:06:54.000 --> 00:06:59.000
Chúng tôi muốn thêm một Nút mà mọi người có thể nhấn để thêm một mục mới vào danh sách.

00:06:59.000 --> 00:07:12.000
Liên kết trường văn bản, mới trong watchOS 9, cho phép bạn gọi các tùy chọn nhập văn bản từ một nút và cung cấp một số tùy chọn kiểu dáng để làm cho nó cảm thấy như ở nhà trong ứng dụng của bạn.

00:07:12.000 --> 00:07:20.000
Bạn có thể tạo một TextFieldLink với một chuỗi đơn giản hoặc sử dụng Nhãn cho một nút tùy chỉnh hơn.

00:07:20.000 --> 00:07:30.000
Sửa đổi giao diện của nút với các công cụ sửa đổi chế độ xem, bao gồm foregroundColor, foregroundStyle và buttonStyle.

00:07:30.000 --> 00:07:39.000
Chúng tôi sẽ tạo chế độ xem AddItemLink để gói gọn kiểu dáng và hành vi của TextFieldLink mà chúng tôi đang sử dụng trong ứng dụng của mình.

00:07:39.000 --> 00:07:47.000
Chúng tôi sẽ sử dụng nhãn tùy chỉnh cho nút và khi ai đó nhập văn bản, chúng tôi sẽ thêm mục mới vào danh sách của mình.

00:07:47.000 --> 00:07:57.000
Bây giờ chúng tôi đã quyết định sử dụng TextFieldLink để thêm một nút để thêm một mục danh sách mới, chúng tôi cần suy nghĩ về nơi đặt TextFieldLink.

00:07:57.000 --> 00:08:02.000
Khi thêm các hành động vào danh sách trong ứng dụng Xem, chúng tôi có một vài tùy chọn.

00:08:02.000 --> 00:08:11.000
Sử dụng nút, liên kết điều hướng hoặc TextFieldLink ở cuối danh sách cho các hành động chính trong danh sách ngắn.

00:08:11.000 --> 00:08:21.000
Thêm một hành động như một mục ở cuối danh sách là một lựa chọn tốt cho một hành động chính trong một danh sách ngắn các mục như danh sách các thành phố trong Đồng hồ Thế giới.

00:08:21.000 --> 00:08:31.000
Tuy nhiên, nếu bạn dự đoán một danh sách dài các mục, mọi người sẽ phải tiếp tục cuộn đến cuối danh sách mỗi khi họ muốn thực hiện hành động.

00:08:31.000 --> 00:08:37.000
Đối với các hành động thường được sử dụng với danh sách dài hơn, hãy sử dụng mục thanh công cụ.

00:08:37.000 --> 00:08:44.000
Để thêm một mục thanh công cụ, hãy thêm công cụ sửa đổi thanh công cụ vào danh sách và sử dụng chế độ xem hành động của bạn làm nội dung.

00:08:44.000 --> 00:08:50.000
Điều này sẽ thêm một mục thanh công cụ duy nhất vào danh sách với vị trí mục thanh công cụ tự động.

00:08:50.000 --> 00:08:55.000
Mặc dù tôi muốn nghĩ rằng tôi sẽ luôn giữ danh sách việc cần làm của mình ngắn gọn, nhưng tôi khá chắc chắn rằng tôi sẽ không làm vậy.

00:08:55.000 --> 00:09:02.000
Vì vậy, tôi sẽ đặt các liên kết trường văn bản vào một mục trên thanh công cụ để dễ dàng truy cập.

00:09:02.000 --> 00:09:05.000
Hãy dành một chút thời gian để xem lại những gì chúng ta đã hoàn thành.

00:09:05.000 --> 00:09:23.000
Chúng tôi đã tạo một mô hình cho các mục danh sách của mình, lưu trữ nó dưới dạng đối tượng môi trường, tạo danh sách để hiển thị các mục và thêm liên kết trường văn bản để thêm các mục mới.

00:09:23.000 --> 00:09:28.000
Tạo một mục chỉ với một mô tả rất đơn giản, nhưng nó không hữu ích lắm.

00:09:28.000 --> 00:09:37.000
Chúng tôi sẽ cần đánh dấu mục là hoàn thành và chúng tôi có thể muốn một cách để đặt mức độ ưu tiên hoặc thêm ước tính về khối lượng công việc cho một nhiệm vụ.

00:09:37.000 --> 00:09:40.000
Để làm điều này, chúng tôi sẽ thêm một chế độ xem chi tiết.

00:09:40.000 --> 00:09:48.000
Trước khi chúng tôi làm điều này, tôi muốn xem lại các tùy chọn cho cấu trúc điều hướng ứng dụng trong SwiftUI trên Watch.

00:09:48.000 --> 00:09:53.000
Điều hướng phân cấp được sử dụng cho các chế độ xem có mối quan hệ chi tiết danh sách.

00:09:53.000 --> 00:10:02.000
Bắt đầu từ watchOS 9, sử dụng SwiftUI NavigationStack để tạo giao diện với loại cấu trúc điều hướng này.

00:10:02.000 --> 00:10:09.000
Điều hướng dựa trên trang được sử dụng cho các chế độ xem có cấu trúc phẳng, trong đó tất cả các chế độ xem đều ngang hàng.

00:10:09.000 --> 00:10:23.000
Một ví dụ tuyệt vời về điều hướng dựa trên trang là chế độ xem trong quá trình tập luyện của ứng dụng Workout, nơi mọi người có thể dễ dàng vuốt giữa các điều khiển tập luyện, số liệu và điều khiển phát lại trong quá trình tập luyện.

00:10:23.000 --> 00:10:27.000
Một ứng dụng toàn màn hình có một chế độ xem duy nhất sử dụng toàn bộ màn hình.

00:10:27.000 --> 00:10:34.000
Điều này thường được sử dụng cho các ứng dụng như trò chơi và các ứng dụng khác có một chế độ xem chính duy nhất.

00:10:34.000 --> 00:10:48.000
Để xem toàn màn hình, hãy sử dụng công cụ sửa đổi ignoresSafeArea để mở rộng nội dung của bạn đến các cạnh của màn hình và công cụ sửa đổi thanh công cụ với giá trị hiển thị ẩn để ẩn thanh điều hướng.

00:10:48.000 --> 00:10:52.000
Bảng phương thức là chế độ xem toàn màn hình trượt qua chế độ xem hiện tại.

00:10:52.000 --> 00:10:58.000
Nó nên được sử dụng cho các nhiệm vụ quan trọng cần được hoàn thành như một phần của quy trình làm việc hiện tại.

00:10:58.000 --> 00:11:07.000
Điều quan trọng là phải phân biệt khi nào nên sử dụng luồng phân cấp so với thời điểm sử dụng bảng phương thức.

00:11:07.000 --> 00:11:16.000
Mail sử dụng phong cách phân cấp để hiển thị danh sách tin nhắn và hiển thị từng tin nhắn hoặc chuỗi dưới dạng chế độ xem chi tiết.

00:11:16.000 --> 00:11:23.000
Có những hành động bạn có thể làm từ chi tiết tin nhắn, nhưng bạn không phải làm gì trước khi quay lại danh sách.

00:11:23.000 --> 00:11:32.000
Nếu bạn quay lại danh sách và nhấn vào Tin nhắn mới, Thư sẽ sử dụng bảng phương thức để hiển thị chế độ xem Tin nhắn mới.

00:11:32.000 --> 00:11:40.000
Bảng phương thức là lựa chọn đúng đắn vì bạn cần điền thông tin chi tiết của tin nhắn mới hoặc hủy trước khi tiếp tục.

00:11:40.000 --> 00:11:46.000
Để hiển thị một trang tính phương thức, hãy tạo một thuộc tính để kiểm soát trạng thái trình bày trang tính.

00:11:46.000 --> 00:11:58.000
Đặt thuộc tính dựa trên một hành động trong giao diện người dùng và sử dụng công cụ sửa đổi trang tính để hiển thị nội dung trang tính phương thức tùy chỉnh khi thuộc tính trạng thái trình bày là đúng.

00:11:58.000 --> 00:12:04.000
Để thêm các mục thanh công cụ tùy chỉnh vào bảng phương thức, hãy thêm một thanh công cụ với các mục của bạn.

00:12:04.000 --> 00:12:14.000
Lưu ý rằng các mục trên thanh công cụ của bạn nên sử dụng các vị trí phương thức như confirmationAction, cancellationAction và destructiveAction.

00:12:14.000 --> 00:12:24.000
Chúng tôi sẽ sử dụng bảng phương thức để xem chi tiết vì chúng tôi đang chỉnh sửa một mục và chúng tôi muốn tập trung vào nhiệm vụ duy nhất này cho đến khi chúng tôi hoàn thành và nhấn Xong.

00:12:24.000 --> 00:12:36.000
Để tìm hiểu thêm về điều hướng trong SwiftUI, bao gồm thêm chi tiết về NavigationStack và điều hướng có lập trình, hãy xem "Sách dạy nấu ăn SwiftUI để điều hướng."

00:12:36.000 --> 00:12:42.000
Bây giờ chúng tôi đã quyết định cách điều hướng đến chế độ xem chi tiết của mình, chúng tôi sẽ cập nhật cấu trúc mục danh sách của mình.

00:12:42.000 --> 00:12:49.000
Chúng tôi có các thuộc tính mới để lưu trữ công việc ước tính, ngày tạo và ngày hoàn thành.

00:12:49.000 --> 00:12:53.000
Hãy cho mọi người một cách để xem và chỉnh sửa những chi tiết này.

00:12:53.000 --> 00:13:01.000
Chúng tôi sẽ tạo một chế độ xem chi tiết với TextField để chỉnh sửa mô tả và một nút chuyển đổi để đánh dấu nhiệm vụ có hoàn thành hay không.

00:13:01.000 --> 00:13:05.000
Nhưng chúng ta nên làm gì với công việc ước tính?

00:13:05.000 --> 00:13:11.000
Chúng tôi biết tất cả các giá trị sẽ là số và chúng tôi có thể chỉ định một loạt các giá trị hợp lệ.

00:13:11.000 --> 00:13:16.000
Bắt đầu từ watchOS 9, chúng ta có thể sử dụng Stepper.

00:13:16.000 --> 00:13:23.000
Stepper là một lựa chọn tuyệt vời khi bạn muốn cung cấp quyền kiểm soát chi tiết để chỉnh sửa các giá trị tuần tự.

00:13:23.000 --> 00:13:29.000
Bạn có thể chỉ định một loạt các giá trị và tùy chọn cung cấp một bước.

00:13:29.000 --> 00:13:36.000
Bạn cũng có thể sử dụng Stepper để chỉnh sửa các giá trị tuần tự một cách hợp lý, nhưng không nhất thiết phải là các giá trị số.

00:13:36.000 --> 00:13:42.000
Ví dụ, có lẽ chúng tôi muốn lưu ý mức độ căng thẳng ước tính cho một mặt hàng.

00:13:42.000 --> 00:13:58.000
Chúng ta có thể tạo một mảng biểu tượng cảm xúc để chỉ ra mức độ căng thẳng, sau đó tạo Bước, ràng buộc giá trị với chỉ mục đã chọn trong mảng biểu tượng cảm xúc mức độ ứng suất và đặt phạm vi thành phạm vi chỉ mục biểu tượng cảm xúc.

00:13:58.000 --> 00:14:05.000
Bước qua các giá trị làm tăng hoặc giảm mức độ ứng suất mà chúng tôi đang ước tính cho mặt hàng.

00:14:05.000 --> 00:14:12.000
Chuẩn bị một phiên WWDC rất thú vị, nhưng chia sẻ sự phát triển ứng dụng Watch tuyệt vời với tất cả các bạn là một bữa tiệc.

00:14:12.000 --> 00:14:24.000
Khi tôi có những mục căng thẳng trong danh sách của mình, hoặc chỉ có rất nhiều mục trong danh sách khiến tôi cảm thấy căng thẳng, tôi muốn chia sẻ một mục trong danh sách của mình với một người bạn để nhờ giúp đỡ.

00:14:24.000 --> 00:14:31.000
Chúng tôi sẽ thêm một nút vào chế độ xem chi tiết của mình để cho phép mọi người chia sẻ một mục bằng cách sử dụng bảng chia sẻ.

00:14:31.000 --> 00:14:41.000
Tôi muốn có thể nhấn vào một nút trên chế độ xem chi tiết của mình để chia sẻ mục, chọn từ danh sách bạn bè để yêu cầu trợ giúp, chỉnh sửa tin nhắn của tôi và gửi nó.

00:14:41.000 --> 00:14:49.000
Để làm điều này, chúng tôi sẽ sử dụng một công cụ mới có sẵn cho chúng tôi trong SwiftUI trên watchOS 9: ShareLink.

00:14:49.000 --> 00:14:53.000
Chúng tôi có thể chia sẻ mục danh sách của mình bằng cách tạo Liên kết Chia sẻ với mục của chúng tôi.

00:14:53.000 --> 00:15:00.000
Chúng tôi có thể tùy chọn tùy chỉnh văn bản ban đầu của tin nhắn với chủ đề và tin nhắn.

00:15:00.000 --> 00:15:05.000
Và cung cấp Bản xem trước để hiển thị trong Bảng chia sẻ khi ai đó chia sẻ mặt hàng.

00:15:05.000 --> 00:15:13.000
Bạn có thể sử dụng ShareLink để chia sẻ từ ứng dụng SwiftUI của mình trong iOS, macOS và watchOS.

00:15:13.000 --> 00:15:19.000
Hãy chắc chắn kiểm tra "Gặp gỡ có thể chuyển nhượng" để tìm hiểu thêm chi tiết và các tùy chọn cho ShareLink.

00:15:19.000 --> 00:15:29.000
Bây giờ tôi có thể theo dõi khi tôi hoàn thành các mục và kêu gọi trợ giúp để hoàn thành công việc, tôi cũng muốn thêm một biểu đồ để xem năng suất của mình.

00:15:29.000 --> 00:15:37.000
Tôi đã chọn sử dụng biểu đồ thanh vì tôi có một chuỗi dữ liệu duy nhất và các giá trị dữ liệu riêng biệt.

00:15:37.000 --> 00:15:45.000
Biểu đồ thanh sẽ hiển thị rõ ràng dữ liệu này trên màn hình Đồng hồ miễn là tôi giới hạn lượng dữ liệu tôi hiển thị cùng một lúc.

00:15:45.000 --> 00:15:50.000
Chúng ta sẽ bắt đầu bằng cách thêm chế độ xem biểu đồ vào cấu trúc điều hướng của ứng dụng.

00:15:50.000 --> 00:15:58.000
Tôi đã chọn một chiến lược điều hướng dựa trên trang vì không có mối quan hệ chi tiết danh sách giữa danh sách mục và biểu đồ.

00:15:58.000 --> 00:16:03.000
Ai đó có thể vuốt giữa danh sách và biểu đồ bất cứ lúc nào.

00:16:03.000 --> 00:16:12.000
Để thêm điều hướng dựa trên trang cho danh sách và biểu đồ của chúng tôi, hãy bắt đầu bằng cách tạo cấu trúc ItemList để gói gọn chế độ xem danh sách.

00:16:12.000 --> 00:16:18.000
Tôi đã chuyển toàn bộ nội dung của chế độ xem nội dung sang danh sách mục mới này.

00:16:18.000 --> 00:16:26.000
Đóng gói danh sách mục ở đây sẽ cho phép chúng tôi có mã xem tab đơn giản, dễ đọc trong chế độ xem nội dung.

00:16:26.000 --> 00:16:31.000
Chúng tôi cũng cần tạo một cấu trúc cho chế độ xem biểu đồ của mình.

00:16:31.000 --> 00:16:39.000
Tôi sẽ tạm thời đặt một trình giữ chỗ để chúng ta có thể tập trung vào cấu trúc điều hướng của mình trước khi xây dựng biểu đồ của mình.

00:16:39.000 --> 00:16:49.000
Bây giờ chúng ta sẽ thiết lập chế độ xem nội dung với chế độ xem tab kiểu trang với 2 tab: danh sách mục và biểu đồ.

00:16:49.000 --> 00:16:54.000
Vì chúng tôi đã thiết lập cấu trúc điều hướng của mình, hãy nói về cách xây dựng biểu đồ này.

00:16:54.000 --> 00:17:04.000
Tôi biết tôi có thể sử dụng SwiftUI Canvas và vẽ biểu đồ, nhưng bắt đầu từ watchOS 9, chúng tôi có câu trả lời dễ dàng hơn: Biểu đồ Swift.

00:17:04.000 --> 00:17:14.000
Biểu đồ Swift cũng có sẵn trên iOS, macOS và tvOS, vì vậy bạn có thể sử dụng lại biểu đồ của mình ở bất cứ đâu bạn đang sử dụng SwiftUI.

00:17:14.000 --> 00:17:21.000
Chúng tôi sẽ tổng hợp dữ liệu mà chúng tôi muốn lập biểu đồ và sau đó để Swift Charts hiển thị nó cho chúng tôi.

00:17:21.000 --> 00:17:25.000
Đối với biểu đồ của chúng tôi, chúng tôi muốn hiển thị số lượng mục hoàn thành theo ngày.

00:17:25.000 --> 00:17:30.000
Chúng tôi sẽ tạo một cấu trúc để lưu trữ dữ liệu tổng hợp cho biểu đồ.

00:17:30.000 --> 00:17:36.000
Sau đó, chúng tôi sẽ viết một phương pháp nhỏ để tổng hợp dữ liệu mục danh sách của chúng tôi thành các phần tử dữ liệu biểu đồ.

00:17:36.000 --> 00:17:44.000
Hiển thị một biểu đồ đơn giản bằng cách chỉ định dữ liệu để hiển thị và xác định chuỗi từ dữ liệu.

00:17:44.000 --> 00:17:51.000
Chúng tôi đang sử dụng ngày làm giá trị x và số lượng mục đã hoàn thành làm giá trị y.

00:17:51.000 --> 00:18:00.000
Để đạt được diện mạo mà tôi muốn trên màn hình Đồng hồ của mình, tôi đang tùy chỉnh trục x bằng cách sử dụng công cụ sửa đổi chartXAxis của Chart.

00:18:00.000 --> 00:18:04.000
Tôi đang chỉ định một kiểu định dạng cho các nhãn giá trị trục.

00:18:04.000 --> 00:18:10.000
Tôi cũng không muốn các đường lưới dọc, vì vậy tôi đã bỏ qua dấu AxisGridLine.

00:18:10.000 --> 00:18:16.000
Tôi cũng đang tùy chỉnh trục y bằng cách sử dụng công cụ sửa đổi chartYAxis.

00:18:16.000 --> 00:18:20.000
Tôi chỉ định một kiểu đường lưới trông đẹp với biểu đồ của tôi trên Watch.

00:18:20.000 --> 00:18:29.000
Tôi đang định dạng nhãn giá trị trục dưới dạng số nguyên và bỏ qua nhãn trên cùng để ngăn nó bị cắt ở đầu biểu đồ.

00:18:29.000 --> 00:18:40.000
Để tìm hiểu thêm về những điều tuyệt vời mà bạn có thể đạt được với Biểu đồ Swift, hãy xem "Xin chào Biểu đồ Swift" và "Biểu đồ Swift: Nâng tầm."

00:18:40.000 --> 00:18:50.000
Biểu đồ của chúng tôi trông khá tốt, nhưng tôi muốn hiển thị thêm một chút dữ liệu nhưng vẫn giữ được trải nghiệm Xem tuyệt vời, vì vậy tôi sẽ làm cho nó có thể cuộn được.

00:18:50.000 --> 00:19:05.000
Để thực hiện điều này, chúng tôi sẽ sử dụng công cụ sửa đổi digitalCrownRotation mới cho phép chúng tôi đặt lệnh gọi lại cho các sự kiện vương miện kỹ thuật số và chúng tôi sẽ triển khai hành vi cuộn tùy chỉnh cho biểu đồ của mình.

00:19:05.000 --> 00:19:13.000
Hãy sẵn sàng thêm công cụ sửa đổi digitalCrownRotation bằng cách thêm một số thuộc tính để lưu trữ trạng thái khi ai đó cuộn qua biểu đồ.

00:19:13.000 --> 00:19:21.000
Chỉ số ngày được đánh dấu là chỉ mục của điểm dữ liệu cho vị trí cuộn hiện tại.

00:19:21.000 --> 00:19:28.000
Chúng tôi sẽ lưu trữ độ lệch vương miện để chúng tôi có thể hiển thị vị trí vương miện hiện tại khi người đó đang cuộn qua biểu đồ.

00:19:28.000 --> 00:19:35.000
Đây là một giá trị trung gian, trên hoặc giữa các điểm dữ liệu, trong khi vương miện đang di chuyển.

00:19:35.000 --> 00:19:40.000
Để theo dõi xem ai đó có đang chủ động cuộn hay không, chúng tôi sẽ lưu trữ trạng thái nhàn rỗi.

00:19:40.000 --> 00:19:48.000
Chúng tôi sẽ sử dụng thông tin này để thêm một chút hoạt ảnh khi quá gian cuộn vương miện dừng lại và bắt đầu.

00:19:48.000 --> 00:19:56.000
Bây giờ chúng ta đã có các thuộc tính để lưu trữ các giá trị, chúng ta có thể thêm công cụ sửa đổi digitalCrownRotation.

00:19:56.000 --> 00:20:01.000
Chúng tôi sẽ liên kết giá trị detent với thuộc tính highlightedDateIndex.

00:20:01.000 --> 00:20:09.000
Về mặt cơ học, một chốt là một cơ chế giữ một cái gì đó ở một vị trí cho đến khi đủ lực được tác dụng để di chuyển nó.

00:20:09.000 --> 00:20:15.000
Ví dụ, khi tôi mở cửa xe, có một vị trí "dừng lại" nơi cửa sẽ lắng xuống.

00:20:15.000 --> 00:20:19.000
Tôi có thể đẩy mạnh hơn một chút và mở cánh cửa rộng hơn đến một "điểm dừng" khác.

00:20:19.000 --> 00:20:26.000
Để đóng nó lại, tôi cần phải kéo đủ mạnh để vượt qua sức đề kháng để kéo nó ra khỏi "điểm dừng".

00:20:26.000 --> 00:20:30.000
Nếu không, nó sẽ quay trở lại tư thế nghỉ ngơi đó.

00:20:30.000 --> 00:20:33.000
Đây là một ý định.

00:20:33.000 --> 00:20:38.000
Điểm dừng cho cửa ô tô giúp chúng tôi hiểu được ý định trong API này.

00:20:38.000 --> 00:20:44.000
Mục đích là vị trí rãnh nghỉ ngơi của vương miện trên tầm nhìn của bạn.

00:20:44.000 --> 00:21:00.000
Trong trình xử lý cho cuộc gọi lại onChange, chúng tôi sẽ đặt giá trị cho isCrownIdle thành false, vì chúng tôi biết rằng vương miện đang cuộn và chúng tôi sẽ đặt giá trị crownOffset thành giá trị hiện tại để cho phép chúng tôi hiển thị vị trí hiện tại trên biểu đồ trong khi cuộn.

00:21:00.000 --> 00:21:08.000
Trong trình xử lý cho cuộc gọi lại onIdle, chúng tôi sẽ đặt giá trị cho isCrownIdle thành true.

00:21:08.000 --> 00:21:12.000
Bây giờ chúng ta có thể hiển thị vị trí của vương miện khi chúng ta cuộn trên biểu đồ.

00:21:12.000 --> 00:21:17.000
Để làm điều này, chúng ta có thể sử dụng RuleMark từ Swift Charts.

00:21:17.000 --> 00:21:20.000
RuleMark là một đường thẳng trên biểu đồ của bạn.

00:21:20.000 --> 00:21:29.000
Bạn có thể sử dụng nó để hiển thị một đường ngang hoặc dọc, để hiển thị một ngưỡng, ví dụ, hoặc để hiển thị một đường dốc.

00:21:29.000 --> 00:21:38.000
Chúng tôi sẽ tạo một RuleMark với giá trị ngày bù đắp vương miện để hiển thị vị trí hiện tại của cuộn vương miện.

00:21:38.000 --> 00:21:45.000
Chỉ để làm cho cái này trông đẹp hơn một chút, tôi muốn đường vị trí vương miện mờ dần khi vương miện ngừng di chuyển.

00:21:45.000 --> 00:21:50.000
Thật đơn giản để tạo hiệu ứng động cho điều này bằng cách sử dụng thuộc tính isCrownIdle mà chúng tôi đã thêm vào.

00:21:50.000 --> 00:21:57.000
Chúng tôi sẽ thêm một thuộc tính để lưu trữ độ mờ đục cho màu sắc chúng tôi đang sử dụng trong foregroundStyle cho RuleMark.

00:21:57.000 --> 00:22:08.000
Và thêm công cụ sửa đổi onChange vào biểu đồ để tạo hiệu ứng động cho sự thay đổi giá trị crownPositionOpacity khi giá trị isCrownIdle thay đổi.

00:22:08.000 --> 00:22:14.000
Sau đó cập nhật foregroundStyle cho RuleMark để sử dụng độ mờ đục.

00:22:14.000 --> 00:22:21.000
Để hiển thị giá trị bên cạnh thanh trên biểu đồ khi chúng ta cuộn, chúng ta có thể thêm chú thích vào BarMark.

00:22:21.000 --> 00:22:28.000
Chúng tôi sẽ đặt chú thích ở phía trên cùng của thanh khi đó là thanh cuối cùng.

00:22:28.000 --> 00:22:33.000
Nếu không, chúng tôi sẽ đặt nó ở phía trên cùng.

00:22:33.000 --> 00:22:44.000
Hãy dành một chút thời gian để xem những gì chúng tôi đã hoàn thành chỉ với công cụ sửa đổi digitalCrownRotation, RuleMark trong Swift Charts và hoạt ảnh SwiftUI đơn giản.

00:22:44.000 --> 00:22:52.000
Bước cuối cùng để tạo biểu đồ có thể cuộn tùy chỉnh của chúng tôi là điều chỉnh phạm vi dữ liệu cho biểu đồ khi ai đó cuộn.

00:22:52.000 --> 00:22:56.000
Tạo một tài sản để lưu trữ phạm vi hiển thị.

00:22:56.000 --> 00:23:01.000
Tạo biến chartData để cung cấp dữ liệu trong phạm vi cho biểu đồ.

00:23:01.000 --> 00:23:10.000
Khi highlightedDateIndex thay đổi, hãy gọi một phương thức để kiểm tra chartDataRange và cập nhật nó nếu cần.

00:23:10.000 --> 00:23:17.000
Khi ai đó cuộn qua biểu đồ bằng Digital Crown, biểu đồ sẽ cuộn để hiển thị dữ liệu có sẵn.

00:23:17.000 --> 00:23:23.000
Bây giờ chúng tôi đã hoàn thành việc triển khai tất cả các tính năng mà chúng tôi đã lên kế hoạch.

00:23:23.000 --> 00:23:31.000
Để tìm hiểu thêm về các tính năng SwiftUI mới có sẵn trong watchOS 9, hãy xem "Có gì mới trong SwiftUI."

00:23:31.000 --> 00:23:39.000
Khi bạn đang lên kế hoạch cho ứng dụng Đồng hồ hoặc các tính năng ứng dụng Đồng hồ mới của mình, hãy nghĩ về những gì tạo nên trải nghiệm ứng dụng Đồng hồ tuyệt vời.

00:23:39.000 --> 00:23:47.000
Trong khi bạn đang thiết kế ứng dụng của mình, hãy xem xét chiến lược điều hướng ứng dụng của bạn để đảm bảo rằng ứng dụng của bạn dễ dàng và trực quan.

00:23:47.000 --> 00:23:52.000
Và sử dụng SwiftUI cho các tùy chọn phát triển đơn giản và phong phú hơn.

00:23:52.000 --> 00:23:54.000
Tiếp tục xây dựng các ứng dụng Watch tuyệt vời.

00:23:54.000 --> 00:23:59.000
Và hãy nhớ rằng, vì bạn, có một ứng dụng cho điều đó!

00:23:59.000 --> 23:59:59.000
.

