WEBVTT

00:00:00.000 --> 00:00:09.000
♪ ♪

00:00:09.000 --> 00:00:23.000
Tommy Pauly: Xin chào, tôi là Tommy Pauly, và tôi rất vui được chia sẻ cách các ứng dụng và trang web của bạn có thể hoạt động cùng với Apple và các nhà cung cấp dịch vụ phòng chống gian lận trong toàn ngành để giảm nhu cầu về CAPTCHA.

00:00:23.000 --> 00:00:42.000
Hôm nay, tôi sẽ nói về: Mã thông báo truy cập riêng tư và cách chúng có thể là công cụ mạnh mẽ để ngăn chặn gian lận; cách bật hỗ trợ Mã thông báo truy cập riêng tư trên các máy chủ bạn vận hành; và cách bạn có thể sử dụng các mã thông báo này trong ứng dụng của mình.

00:00:42.000 --> 00:00:49.000
Để giới thiệu Mã thông báo truy cập riêng tư, tôi sẽ bắt đầu bằng cách giải thích lý do tại sao CAPTCHA được sử dụng ngay từ đầu.

00:00:49.000 --> 00:01:00.000
Rất có thể, nếu bạn đã đăng ký một tài khoản mới trên một trang web hoặc cố gắng đăng nhập bằng một tài khoản hiện có, bạn đã gặp phải những CAPTCHA như thế này vào một lúc nào đó.

00:01:00.000 --> 00:01:07.000
Đôi khi, CAPTCHA chỉ là một nút để nhấn, nhưng những nút khác có thể là một thách thức để điền vào.

00:01:07.000 --> 00:01:11.000
Bạn có thể không thích bị gián đoạn bởi những thứ này.

00:01:11.000 --> 00:01:13.000
Tôi chắc chắn là không.

00:01:13.000 --> 00:01:20.000
Lý do những trải nghiệm này tồn tại là để ngăn chặn hoạt động gian lận.

00:01:20.000 --> 00:01:25.000
Nếu bạn chạy một máy chủ, bạn không muốn nó bị quá tải bởi gian lận.

00:01:25.000 --> 00:01:31.000
Một số nỗ lực tạo tài khoản hoặc mua sản phẩm đến từ những người dùng hợp pháp.

00:01:31.000 --> 00:01:36.000
Nhưng những nỗ lực khác có thể là từ những kẻ tấn công hoặc bot.

00:01:36.000 --> 00:01:45.000
Thật không may, các công cụ phổ biến để ngăn chặn gian lận, như CAPTCHA, thường khiến mọi người khó sử dụng ứng dụng hoặc trang web của bạn hơn.

00:01:45.000 --> 00:01:53.000
Tìm kiếm sự cân bằng phù hợp giữa trải nghiệm tốt và ngăn chặn gian lận là một thách thức.

00:01:53.000 --> 00:01:58.000
CAPTCHA thường dẫn đến trải nghiệm người dùng chậm hơn và phức tạp hơn.

00:01:58.000 --> 00:02:04.000
Bằng cách cố gắng ngăn chặn các cuộc tấn công, bạn cũng có thể mất đi những khách hàng có giá trị.

00:02:04.000 --> 00:02:08.000
CAPTCHAs cũng có thể gây ra rủi ro về quyền riêng tư.

00:02:08.000 --> 00:02:20.000
Để xác định xem khách hàng có đáng tin cậy và có thể nhận được CAPTCHA dễ dàng hơn hay không, các máy chủ thường dựa vào việc theo dõi hoặc lấy dấu vân tay của khách hàng bằng cách sử dụng địa chỉ IP của họ.

00:02:20.000 --> 00:02:32.000
Kiểu theo dõi này mâu thuẫn với hướng bảo mật internet được thực hiện bởi Safari, Bảo vệ quyền riêng tư thư và Chuyển tiếp riêng tư iCloud.

00:02:32.000 --> 00:02:37.000
Và CAPTCHAs có thể gây ra một vấn đề nghiêm trọng cho khả năng tiếp cận.

00:02:37.000 --> 00:02:46.000
Bằng cách cố gắng ngăn chặn quyền truy cập từ bot, họ cũng chặn những người thực sự bị khuyết tật hoặc rào cản ngôn ngữ.

00:02:46.000 --> 00:02:48.000
Có một cách tốt hơn.

00:02:48.000 --> 00:03:02.000
Ngay cả khi ai đó tương tác với trang web của bạn lần đầu tiên, nếu họ đang tải nó thông qua một ứng dụng hoặc trình duyệt như Safari, họ đã thực hiện nhiều hành động mà bot khó bắt chước.

00:03:02.000 --> 00:03:12.000
Đầu tiên, họ có iPhone, iPad hoặc Mac và họ đã mở khóa thiết bị bằng mật khẩu, Touch ID hoặc Face ID.

00:03:12.000 --> 00:03:16.000
Họ hầu như luôn đăng nhập vào thiết bị bằng ID Apple của họ.

00:03:16.000 --> 00:03:20.000
Và họ đã ra mắt một ứng dụng có chữ ký mã.

00:03:20.000 --> 00:03:34.000
Thông tin này có thể giúp máy chủ của bạn tin tưởng các khách hàng hợp pháp và ngăn chặn gian lận, mà không cần dựa vào CAPTCHA và không ảnh hưởng đến quyền riêng tư bằng cách theo dõi khách hàng.

00:03:34.000 --> 00:03:44.000
Mã thông báo truy cập riêng tư là thứ cho phép máy chủ của bạn tự động tin tưởng khách hàng, mới trong iOS 16 và macOS Ventura.

00:03:44.000 --> 00:03:49.000
Trước khi giải thích cách các mã thông báo này hoạt động, tôi sẽ cho chúng thấy hành động.

00:03:49.000 --> 00:03:52.000
Bạn sẽ thích điều này.

00:03:52.000 --> 00:03:55.000
Tôi muốn đọc một bài báo trên trang web Financial Times.

00:03:55.000 --> 00:03:58.000
Tôi rất hào hứng với những chiếc bánh quế này.

00:03:58.000 --> 00:04:09.000
Và tôi đã tải trang web trên hai điện thoại khác nhau: một chạy iOS 15 và một chạy iOS 16, hỗ trợ Mã thông báo truy cập riêng tư.

00:04:09.000 --> 00:04:17.000
Bắt đầu với điện thoại iOS 15, tôi nhấp vào Đăng nhập và điền vào tài khoản và mật khẩu của mình.

00:04:17.000 --> 00:04:20.000
Nhưng sau đó, tôi bị trúng CAPTCHA.

00:04:20.000 --> 00:04:26.000
Tôi cần gõ các chữ cái trước khi có thể đọc bài báo đó.

00:04:26.000 --> 00:04:36.000
Khi tôi làm chính xác điều tương tự trên điện thoại iOS 16 hỗ trợ Mã thông báo truy cập riêng tư, tôi sẽ vượt qua ngay.

00:04:36.000 --> 00:04:44.000
Điều này sẽ tiết kiệm rất nhiều người, rất nhiều thời gian và khách hàng của bạn sẽ đánh giá cao sự tin tưởng.

00:04:44.000 --> 00:04:56.000
Mã thông báo truy cập riêng tư cho phép các máy chủ tránh CAPTCHA, như bạn vừa thấy, bằng cách sử dụng công nghệ được chuẩn hóa trong nhóm làm việc IETF Privacy Pass.

00:04:56.000 --> 00:05:02.000
Apple đang làm việc với các công ty trong toàn ngành để biến điều này thành có thể.

00:05:02.000 --> 00:05:11.000
Sử dụng giao thức này, các máy chủ có thể yêu cầu mã thông báo bằng phương pháp xác thực HTTP mới, PrivateToken.

00:05:11.000 --> 00:05:21.000
Các mã thông báo này sử dụng Chữ ký mù RSA để ký bằng mật mã sự thật rằng khách hàng đã có thể vượt qua kiểm tra chứng thực.

00:05:21.000 --> 00:05:35.000
Những chữ ký này "không thể liên kết", có nghĩa là các máy chủ nhận mã thông báo chỉ có thể kiểm tra xem chúng có hợp lệ hay không, nhưng chúng không thể phát hiện danh tính khách hàng hoặc nhận dạng khách hàng theo thời gian.

00:05:35.000 --> 00:05:39.000
Đây là cách giao thức hoạt động.

00:05:39.000 --> 00:05:51.000
Đầu tiên, khi máy khách iOS hoặc macOS truy cập máy chủ qua HTTP, máy chủ sẽ gửi lại thử thách bằng cách sử dụng sơ đồ xác thực PrivateToken.

00:05:51.000 --> 00:05:58.000
Điều này chỉ định một nhà phát hành mã thông báo được máy chủ tin cậy.

00:05:58.000 --> 00:06:05.000
Khi khách hàng cần tìm nạp mã thông báo, nó sẽ liên hệ với trình kiểm tra iCloud và gửi yêu cầu mã thông báo.

00:06:05.000 --> 00:06:11.000
Yêu cầu mã thông báo này bị "mù" nên nó không thể được liên kết với thử thách máy chủ.

00:06:11.000 --> 00:06:23.000
Người kiểm tra thực hiện chứng thực thiết bị, sử dụng chứng chỉ được lưu trữ trong Secure Enclave của thiết bị và xác minh rằng tài khoản đang ở trạng thái tốt.

00:06:23.000 --> 00:06:36.000
Máy kiểm tra này cũng có thể thực hiện giới hạn tốc độ, để nhận biết liệu thiết bị khách hàng có tuân theo các mẫu bình thường hay không, hoặc có thể đã bị xâm phạm hoặc sử dụng như một phần của trang trại thiết bị.

00:06:36.000 --> 00:06:44.000
Nếu khách hàng có thể được xác thực, người kiểm tra sẽ gửi yêu cầu mã thông báo mới đến nhà phát hành.

00:06:44.000 --> 00:06:49.000
Khi nhà phát hành mã thông báo nhận được yêu cầu, nó không biết gì về khách hàng.

00:06:49.000 --> 00:06:56.000
Nhưng vì nó tin tưởng người kiểm tra iCloud, nó ký mã thông báo.

00:06:56.000 --> 00:07:06.000
Sau đó, khách hàng nhận được mã thông báo đã ký và chuyển đổi nó thành một quy trình gọi là "unblinding" để máy chủ ban đầu có thể xác minh nó.

00:07:06.000 --> 00:07:11.000
Và cuối cùng, khách hàng trình bày mã thông báo đã ký cho máy chủ.

00:07:11.000 --> 00:07:19.000
Máy chủ có thể kiểm tra xem mã thông báo này có được ký bởi Nhà phát hành hay không, nhưng nó không thể sử dụng mã thông báo để xác định hoặc nhận dạng khách hàng.

00:07:19.000 --> 00:07:26.000
Vậy làm thế nào bạn có thể tận dụng công nghệ này trên máy chủ của mình?

00:07:26.000 --> 00:07:31.000
Có ba bước để áp dụng Mã thông báo truy cập riêng tư trên máy chủ của bạn.

00:07:31.000 --> 00:07:34.000
Đầu tiên, bạn sẽ cần chọn một nhà phát hành mã thông báo.

00:07:34.000 --> 00:07:42.000
Thứ hai, máy chủ của bạn sẽ cần gửi các thử thách xác thực HTTP khi bạn muốn xác thực khách hàng.

00:07:42.000 --> 00:07:48.000
Và thứ ba, máy chủ của bạn sẽ cần xác thực các mã thông báo do khách hàng gửi.

00:07:48.000 --> 00:07:55.000
Nhà phát hành mã thông báo bạn chọn là nhà cung cấp đáng tin cậy có thể ký mã thông báo mà máy chủ của bạn xác thực.

00:07:55.000 --> 00:08:06.000
Đây có thể là nhà cung cấp CAPTCHA hiện tại của bạn, dịch vụ lưu trữ web hoặc mạng phân phối nội dung của bạn, còn được gọi là CDN.

00:08:06.000 --> 00:08:15.000
Trong iOS 16 và macOS Ventura betas, có hai công cụ phát hành mã thông báo mà bạn đã có thể bắt đầu thử nghiệm.

00:08:15.000 --> 00:08:27.000
Fastly và Cloudflare là hai CDN đã và đang phát triển các tiêu chuẩn Privacy Pass và đã cung cấp các dịch vụ phát hành của họ.

00:08:27.000 --> 00:08:37.000
Các nhà cung cấp CAPTCHA khác, dịch vụ lưu trữ web và CDN cũng sẽ có thể chạy các công cụ phát hành mã thông báo hoạt động với các thiết bị Apple.

00:08:37.000 --> 00:08:44.000
Các nhà phát hành sẽ có thể đăng ký vào cuối năm nay tại register.apple.com.

00:08:44.000 --> 00:08:56.000
Điều quan trọng là việc sử dụng một công cụ phát hành mã thông báo cụ thể không trở thành một cách để xác định những trang web mà khách hàng đang truy cập - đó sẽ là một vấn đề đối với quyền riêng tư.

00:08:56.000 --> 00:09:06.000
Vì vậy, mỗi nhà phát hành mã thông báo cần phải là một dịch vụ lớn hoạt động với ít nhất hàng trăm máy chủ.

00:09:06.000 --> 00:09:16.000
Khi khách hàng truy cập vào máy chủ của bạn, bạn có thể yêu cầu mã thông báo bằng cách gửi thử thách xác thực HTTP với sơ đồ PrivateToken.

00:09:16.000 --> 00:09:35.000
Để làm điều này, bạn có hai lựa chọn: Hoặc bạn có thể làm việc với CAPTCHA hiện tại của mình hoặc nhà cung cấp phòng chống gian lận để xây dựng thử thách vào tập lệnh của họ, vì vậy nó được xử lý tự động cho bạn hoặc bạn có thể chọn gửi những thử thách này trực tiếp từ máy chủ của mình.

00:09:35.000 --> 00:09:50.000
Nếu bạn đang làm điều này như một phần của trang web của mình, thách thức phải đến từ tên miền của bên thứ nhất - tên miền phụ của URL chính của bạn chứ không phải tên miền của bên thứ ba riêng biệt được nhúng trên trang web của bạn.

00:09:50.000 --> 00:09:57.000
Khi khách hàng trả lại mã thông báo cho bạn, bạn sẽ cần kiểm tra tính hợp lệ của chúng bằng khóa công khai của nhà phát hành.

00:09:57.000 --> 00:10:05.000
Bạn cũng có thể muốn thực thi kiểm tra để ngăn chặn các cuộc tấn công phát lại, nơi khách hàng có thể cố gắng xuất trình mã thông báo nhiều lần.

00:10:05.000 --> 00:10:09.000
Mã thông báo chỉ được sử dụng một lần.

00:10:09.000 --> 00:10:23.000
Bạn có thể ngăn chặn các cuộc tấn công phát lại bằng cách ghi nhớ những mã thông báo nào đã được gửi trước đó hoặc yêu cầu mã thông báo ký một giá trị duy nhất được gửi trong thử thách của bạn.

00:10:23.000 --> 00:10:29.000
Trang web của bạn vẫn cần làm việc với các khách hàng cũ sẽ không phản hồi thách thức xác thực này.

00:10:29.000 --> 00:10:39.000
Vì vậy, điều quan trọng là xác thực không nên chặn tải trang chính của bạn, mà thay vào đó được coi là một cách tùy chọn để tin tưởng khách hàng.

00:10:39.000 --> 00:10:49.000
Các máy chủ web được truy cập thông qua Safari và WebKit sẽ hoạt động tự động, nhưng bạn cũng có thể sử dụng Mã thông báo truy cập riêng tư trực tiếp trong ứng dụng của mình.

00:10:49.000 --> 00:10:58.000
Mã thông báo truy cập riêng tư yêu cầu iOS 16 hoặc macOS Ventura trên thiết bị đã đăng nhập ID Apple.

00:10:58.000 --> 00:11:06.000
ID Apple này chỉ được sử dụng để chứng thực và không được chia sẻ với các máy chủ nhận mã thông báo.

00:11:06.000 --> 00:11:15.000
Trong ứng dụng của bạn, mã thông báo có sẵn nếu bạn sử dụng WebKit hoặc URLSession để liên hệ với máy chủ của mình bằng HTTP.

00:11:15.000 --> 00:11:25.000
Sau đó, bất cứ khi nào ứng dụng của bạn nhận được thử thách khi nó ở phía trước, hệ thống sẽ tự động gửi mã thông báo làm xác thực.

00:11:25.000 --> 00:11:32.000
Nếu bạn đang sử dụng URLSession, bạn không cần phải làm bất cứ điều gì một cách rõ ràng để làm cho Mã thông báo truy cập riêng tư hoạt động.

00:11:32.000 --> 00:11:41.000
URLSession sẽ tự động phản hồi các thách thức bằng cách sử dụng sơ đồ xác thực HTTP PrivateToken.

00:11:41.000 --> 00:11:56.000
Tuy nhiên, nếu có lỗi trong việc tìm nạp mã thông báo, chẳng hạn như nếu ứng dụng của bạn không ở phía trước hoặc thiết bị không có ID Apple đã đăng nhập, ứng dụng của bạn sẽ nhận được phản hồi 401 HTTP bao gồm thử thách mã thông báo.

00:11:56.000 --> 00:12:05.000
Điều này cho phép ứng dụng của bạn biết rằng thử thách mã thông báo đã được nhận và cung cấp cơ hội xử lý lỗi một cách chính xác cho trường hợp sử dụng của bạn.

00:12:05.000 --> 00:12:13.000
Làm cho các ứng dụng và trang web trải nghiệm tốt hơn cho mọi người bằng cách tránh CAPTCHA bất cứ khi nào Mã thông báo truy cập riêng tư có sẵn.

00:12:13.000 --> 00:12:19.000
Đi và cho phép máy chủ của bạn gửi các thử thách mã thông báo và xác thực mã thông báo.

00:12:19.000 --> 00:12:27.000
Và, trong các ứng dụng của bạn, hãy sử dụng URLSession hoặc WebKit để tự động hỗ trợ Mã thông báo truy cập riêng tư.

00:12:27.000 --> 23:59:59.000
Tôi đang mong chờ những trải nghiệm không có CAPTCHA mà bạn sẽ xây dựng.

