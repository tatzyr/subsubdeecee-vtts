WEBVTT

00:00:00.000 --> 00:00:12.000
Justin Rennell: Xin chào và chào mừng đến với WWDC.

00:00:12.000 --> 00:00:16.000
Tên tôi là Justin, và tôi là một kỹ sư trong nhóm phát triển Apple Music.

00:00:16.000 --> 00:00:22.000
Hôm nay tôi sẽ giới thiệu về MusicKit tập trung vào các nguyên tắc cơ bản của việc sử dụng Apple Music API.

00:00:22.000 --> 00:00:29.000
Trong phiên này, tôi sẽ cung cấp tổng quan về các khung máy khách MusicKit và cách chúng tích hợp với dịch vụ web Apple Music API.

00:00:29.000 --> 00:00:43.000
Tôi sẽ giải thích cách truy cập với tư cách là nhà phát triển và các chi tiết cụ thể về việc sử dụng Apple Music API, bao gồm: Yêu cầu nội dung và tài nguyên, sử dụng giới hạn và phân trang để làm việc với các bộ sưu tập tài nguyên lớn và cách tìm nội dung trong danh mục với điểm cuối tìm kiếm.

00:00:43.000 --> 00:00:51.000
Cuối cùng, tôi sẽ cung cấp một cái nhìn về một số tính năng được cá nhân hóa có sẵn cho người đăng ký Apple Music và cách cung cấp quyền truy cập vào chúng trong ứng dụng của bạn.

00:00:51.000 --> 00:00:55.000
Tôi sẽ bắt đầu với phần giới thiệu ngắn gọn về MusicKit và Apple Music API.

00:00:55.000 --> 00:01:00.000
MusicKit lần đầu tiên được công bố tại WWDC vào năm 2017.

00:01:00.000 --> 00:01:07.000
Kể từ đó, chúng tôi đã thực hiện các cải tiến giúp tích hợp với Apple Music dễ dàng hơn và tiếp tục bổ sung hỗ trợ cho các chức năng bổ sung.

00:01:07.000 --> 00:01:12.000
MusicKit là sự kết hợp của các khung ứng dụng khách và Apple Music API.

00:01:12.000 --> 00:01:17.000
Được sử dụng cùng nhau, chúng giúp bạn có thể thêm chức năng Apple Music vào ứng dụng của mình.

00:01:17.000 --> 00:01:28.000
Bạn có thể khám phá và tìm nạp nội dung từ Apple Music, bao gồm nghệ sĩ, album, danh sách phát và hơn thế nữa, với chức năng tìm kiếm danh mục và duyệt qua các bảng xếp hạng phổ biến.

00:01:28.000 --> 00:01:41.000
Với sự đồng ý của người dùng, MusicKit và Apple Music API cho phép bạn xác thực người đăng ký phát nội dung có sẵn và cung cấp quyền truy cập vào các tính năng được cá nhân hóa, bao gồm thư viện nhạc, đề xuất và lịch sử đã phát gần đây của họ.

00:01:41.000 --> 00:01:48.000
Khung máy khách MusicKit cung cấp các API cần thiết để xác thực người đăng ký và bắt đầu và kiểm soát phát lại trên thiết bị.

00:01:48.000 --> 00:01:59.000
Khung máy khách có sẵn cho các ứng dụng trên nền tảng Apple, ứng dụng web sử dụng JavaScript và ứng dụng Android sử dụng SDK có sẵn.

00:01:59.000 --> 00:02:04.000
MusicKit trên nền tảng Apple có mọi thứ bạn cần để tích hợp Apple Music vào ứng dụng của mình.

00:02:04.000 --> 00:02:11.000
Người đăng ký có thể xác thực hoặc đăng ký trong ứng dụng của bạn để bắt đầu và kiểm soát phát lại và truy cập các tính năng được cá nhân hóa khác.

00:02:11.000 --> 00:02:19.000
Các API có sẵn tăng tốc các cuộc gọi để khám phá và truy cập nội dung từ Apple Music với sự hỗ trợ gốc cho các tài nguyên và phân trang.

00:02:19.000 --> 00:02:28.000
Nhiều chủ đề được đề cập sau này về việc truy cập và đưa ra yêu cầu đến Apple Music API trực tiếp được MusicKit xử lý tự động trên các nền tảng của Apple.

00:02:28.000 --> 00:02:42.000
Các nhà phát triển viết ứng dụng cho nền tảng Apple được khuyến khích xem phiên "Gặp gỡ MusicKit cho Swift" để được giới thiệu về các API đó và phiên "Khám phá nhiều nội dung hơn với MusicKit" để có thêm chức năng.

00:02:42.000 --> 00:02:47.000
MusicKit trên Web giúp bạn dễ dàng đưa Apple Music vào các ứng dụng của mình bằng JavaScript.

00:02:47.000 --> 00:02:55.000
Bạn có thể khám phá nội dung Apple Music, cho phép người đăng ký đăng nhập để truy cập các tính năng được cá nhân hóa và phát nội dung trực tiếp trên trang web của bạn.

00:02:55.000 --> 00:03:01.000
Toàn quyền truy cập vào Apple Music API cung cấp cho bạn sức mạnh để tạo ra những trải nghiệm âm nhạc độc đáo.

00:03:01.000 --> 00:03:06.000
MusicKit cung cấp một bộ sưu tập các thành phần web tích hợp, bao gồm một trình phát đa phương tiện đầy đủ tính năng.

00:03:06.000 --> 00:03:12.000
Những thành phần này giúp bạn dễ dàng bắt đầu và có sự linh hoạt để tùy chỉnh cho trải nghiệm của bạn.

00:03:12.000 --> 00:03:17.000
MusicKit cho Android cho phép bạn tích hợp Apple Music vào các ứng dụng Android của mình.

00:03:17.000 --> 00:03:27.000
Hỗ trợ xác thực người đăng ký Apple Music, kiểm soát phát lại nội dung và toàn quyền truy cập vào Apple Music API cho phép bạn xây dựng trải nghiệm âm nhạc phong phú.

00:03:27.000 --> 00:03:34.000
Apple Music API là dịch vụ web JSON phổ biến cung cấp quyền truy cập vào các tính năng khám phá và nội dung danh mục Apple Music.

00:03:34.000 --> 00:03:42.000
Người đăng ký được xác thực có thể truy cập các tính năng được cá nhân hóa, bao gồm Thư viện nhạc, Đề xuất và lịch sử đã phát gần đây của họ.

00:03:42.000 --> 00:03:46.000
Tiếp theo, tôi sẽ giải thích cách truy cập.

00:03:46.000 --> 00:03:50.000
Để thực hiện yêu cầu đến Apple Music API, bạn sẽ cần Mã thông báo dành cho nhà phát triển.

00:03:50.000 --> 00:03:58.000
Đối với các ứng dụng trên nền tảng Apple, bạn có thể tận dụng lợi thế của việc quản lý mã thông báo tự động bằng cách bật dịch vụ MusicKit cho ứng dụng của mình.

00:03:58.000 --> 00:04:04.000
Dịch vụ này có thể được tìm thấy trong phần ID ứng dụng của cổng thông tin Nhà phát triển Apple được hiển thị ở đây.

00:04:04.000 --> 00:04:12.000
Đối với các ứng dụng trên các nền tảng khác, bạn có thể nhận được Mã thông báo nhà phát triển bằng cách đăng ký làm nhà phát triển MusicKit trên cổng thông tin Nhà phát triển Apple.

00:04:12.000 --> 00:04:15.000
Từ đó, bạn có thể yêu cầu và tải xuống khóa riêng tư.

00:04:15.000 --> 00:04:20.000
Bạn sẽ cần tạo Mã thông báo web JSON và ký nó bằng khóa riêng đã tải xuống của bạn.

00:04:20.000 --> 00:04:23.000
Mã thông báo web JSON được chia thành hai phần.

00:04:23.000 --> 00:04:35.000
Phần đầu tiên là các tiêu đề bắt buộc, bao gồm thuật toán ký "alg", phải là ES256 và mã định danh khóa "kid", được bao gồm như một phần của quá trình tải xuống khóa riêng tư của bạn.

00:04:35.000 --> 00:04:38.000
Phần thứ hai của mã thông báo là yêu cầu bồi thường.

00:04:38.000 --> 00:04:55.000
Apple Music API có ba yêu cầu bắt buộc: ID nhà phát hành "iss", là ID nhóm của bạn có thể được tìm thấy trong phần thành viên của cổng thông tin Nhà phát triển Apple, được phát hành tại thời điểm "iat", được thể hiện bằng số giây kể từ Kỷ nguyên và thời gian hết hạn "exp".

00:04:55.000 --> 00:04:58.000
Đây là cùng định dạng thời gian với thời gian đã phát hành.

00:04:58.000 --> 00:05:04.000
Mã thông báo có thể được tạo để hết hạn tối đa sáu tháng kể từ khi chúng được phát hành.

00:05:04.000 --> 00:05:11.000
Đối với các ứng dụng web, chúng tôi khuyến khích cung cấp yêu cầu nguồn gốc, mã thông báo này sẽ chỉ có giá trị cho trang web của bạn.

00:05:11.000 --> 00:05:18.000
Mã thông báo hợp lệ, đã ký phải được cung cấp trong tiêu đề ủy quyền cho tất cả các yêu cầu đối với Apple Music API.

00:05:18.000 --> 00:05:23.000
Với dịch vụ MusicKit được bật cho các ứng dụng của bạn trên nền tảng Apple, điều này sẽ được thực hiện tự động.

00:05:23.000 --> 00:05:29.000
MusicKit trên web phải được cấu hình với mã thông báo bạn tạo để thực hiện các yêu cầu đối với Apple Music API.

00:05:29.000 --> 00:05:36.000
Thông tin thêm về việc tạo Mã thông báo web JSON có thể được tìm thấy trong tài liệu Apple Music API.

00:05:36.000 --> 00:05:41.000
Bây giờ tôi sẽ chỉ cho bạn cách yêu cầu tài nguyên bằng Apple Music API.

00:05:41.000 --> 00:05:46.000
Mô hình tài nguyên nội dung Apple Music, chẳng hạn như nghệ sĩ, album, bài hát, danh sách phát và hơn thế nữa.

00:05:46.000 --> 00:05:49.000
Mỗi loại có loại tương ứng riêng.

00:05:49.000 --> 00:05:56.000
Tài nguyên có thể được tìm nạp từ các điểm cuối API của Apple Music thông qua các tính năng khám phá như tìm kiếm hoặc bằng cách sử dụng số nhận dạng của chúng.

00:05:56.000 --> 00:06:02.000
Đây là một URL yêu cầu ví dụ để tìm nạp tài nguyên danh sách phát từ API bằng cách sử dụng mã định danh của nó.

00:06:02.000 --> 00:06:07.000
Apple Music API được lưu trữ tại api.music.apple.com.

00:06:07.000 --> 00:06:13.000
Đường dẫn của URL sử dụng mẫu RESTful và đại diện cho vị trí cho tài nguyên hoặc tính năng.

00:06:13.000 --> 00:06:18.000
Yếu tố đầu tiên trong vị trí là phiên bản của API, hiện là phiên bản 1.

00:06:18.000 --> 00:06:22.000
Các phiên bản mới có thể có sẵn khi những thay đổi đáng kể được giới thiệu.

00:06:22.000 --> 00:06:30.000
Các phiên bản duy trì khả năng tương thích ngược với các cuộc gọi hiện có, ngay cả khi các cải tiến đối với tài nguyên và các tính năng mới được cung cấp.

00:06:30.000 --> 00:06:37.000
Đối với các yêu cầu trong danh mục Apple Music, phần tiếp theo ở vị trí đại diện cho danh mục cụ thể để tìm nạp.

00:06:37.000 --> 00:06:45.000
Apple Music là một dịch vụ phát trực tuyến trên toàn thế giới và nội dung có thể khác nhau giữa các khu vực, mà chúng tôi gọi là mặt tiền cửa hàng.

00:06:45.000 --> 00:06:53.000
Để biết thông tin về mặt tiền cửa hàng và tính khả dụng của nội dung, hãy xem phiên có tiêu đề "Nội dung tham chiếu chéo với Apple Music API."

00:06:53.000 --> 00:07:10.000
Trong ví dụ này, tôi sẽ lấy một danh sách phát từ danh mục ở mặt tiền cửa hàng Hoa Kỳ, được ký hiệu bằng mã quốc gia hai chữ cái "chúng tôi". Phần cuối cùng của vị trí này là danh tính của tài nguyên, được biểu thị bằng loại "danh sách phát" theo sau là mã định danh của nó.

00:07:10.000 --> 00:07:18.000
Vì Apple Music có sẵn ở nhiều khu vực, nên có thể hỗ trợ bản địa hóa bằng cách sử dụng tham số truy vấn thẻ ngôn ngữ tùy chọn "L."

00:07:18.000 --> 00:07:22.000
Ở đây, tôi đang chỉ định thẻ ngôn ngữ "en-US" cho tiếng Anh.

00:07:22.000 --> 00:07:34.000
Để tìm nạp nội dung được bản địa hóa bằng tiếng Tây Ban Nha, tôi có thể chỉ định thẻ "es-MX". Để giữ mọi thứ đơn giản, tôi sẽ không chỉ định thẻ ngôn ngữ trong các ví dụ này, điều này dẫn đến bản địa hóa mặc định của mặt tiền cửa hàng.

00:07:34.000 --> 00:07:41.000
Các mặt tiền cửa hàng mà Apple Music có sẵn và các bản địa hóa được hỗ trợ của chúng có thể được tìm thấy bằng cách truy cập điểm cuối tham chiếu mặt tiền cửa hàng.

00:07:41.000 --> 00:07:46.000
Chi tiết hơn có thể được tìm thấy trong tài liệu Apple Music API.

00:07:46.000 --> 00:07:49.000
Đây là một cái nhìn về việc thực hiện yêu cầu GET cho một danh sách phát.

00:07:49.000 --> 00:07:54.000
Điều này trả về phản hồi bộ sưu tập tài nguyên với một mảng "dữ liệu" chứa tài nguyên danh sách phát.

00:07:54.000 --> 00:07:59.000
Các đối tượng tài nguyên chỉ ra danh tính của nội dung với giá trị và loại ID.

00:07:59.000 --> 00:08:03.000
Sự kết hợp giữa ID và loại đại diện cho danh tính duy nhất của một tài nguyên.

00:08:03.000 --> 00:08:08.000
Giá trị href cho biết vị trí trong API nơi tài nguyên có thể được tìm nạp.

00:08:08.000 --> 00:08:12.000
Trong trường hợp này, lưu ý vị trí giống với đường dẫn mà chúng tôi yêu cầu.

00:08:12.000 --> 00:08:17.000
Các giá trị siêu dữ liệu cho nội dung được tìm thấy trong bản đồ thuộc tính của tài nguyên.

00:08:17.000 --> 00:08:24.000
Các kết nối trực tiếp đến các tài nguyên khác, chẳng hạn như người quản lý danh sách phát này và các bản nhạc, được tìm thấy trong bản đồ mối quan hệ.

00:08:24.000 --> 00:08:29.000
Đây là cái nhìn sâu hơn về bản đồ thuộc tính, chứa các giá trị siêu dữ liệu cho danh sách phát.

00:08:29.000 --> 00:08:39.000
Tôi sẽ xem qua một ví dụ về việc sử dụng một số thuộc tính này trong tiện ích bên phải, sử dụng tên của danh sách phát, tên người quản lý và thuộc tính mô tả.

00:08:39.000 --> 00:08:46.000
playParams là một thuộc tính phổ biến trên nhiều loại tài nguyên cho biết khi nào nội dung có sẵn để phát trực tuyến cho người đăng ký.

00:08:46.000 --> 00:08:53.000
Điều này có thể được sử dụng để xác định xem điều khiển phát có nên được bật hay không, vì nội dung không có playParams không có sẵn để phát lại.

00:08:53.000 --> 00:09:05.000
Tác phẩm nghệ thuật là một thuộc tính phổ biến khác cho nhiều loại tài nguyên có chứa các giá trị cho chiều rộng và chiều cao tối đa cho hình ảnh, cùng với một url nơi hình ảnh có thể được tải từ đó.

00:09:05.000 --> 00:09:10.000
Tại Apple, phản hồi của nhà phát triển rất quan trọng và giúp chúng tôi cải thiện API và dịch vụ của mình cho mọi người.

00:09:10.000 --> 00:09:15.000
Năm nay, chúng tôi vui mừng thông báo việc bổ sung một trong những tính năng được yêu cầu nhiều nhất của chúng tôi.

00:09:15.000 --> 00:09:21.000
Tác phẩm nghệ thuật của nghệ sĩ hiện có sẵn trong Apple Music API, biến những hình bóng đơn giản trở thành dĩ vãi.

00:09:21.000 --> 00:09:27.000
Tất cả các ứng dụng mới và hiện có có thể thêm hỗ trợ cho những hình ảnh này bằng cách tìm kiếm thuộc tính tác phẩm nghệ thuật được thêm vào tài nguyên nghệ sĩ.

00:09:27.000 --> 00:09:31.000
Tác phẩm nghệ thuật của nghệ sĩ có thể được tải giống như tác phẩm nghệ thuật cho các loại nội dung khác.

00:09:31.000 --> 00:09:37.000
Đây là một ví dụ rút gọn về url tác phẩm nghệ thuật cho danh sách phát mà chúng tôi đã xem trước đó.

00:09:37.000 --> 00:09:42.000
Các url tác phẩm nghệ thuật chứa các mã thông báo "w", chiều rộng và "h", chiều cao, được đánh dấu bằng màu xanh lam.

00:09:42.000 --> 00:09:48.000
Để tải tác phẩm nghệ thuật bằng URL này, hãy thay thế các mã thông báo này bằng độ phân giải mong muốn cho màn hình của bạn.

00:09:48.000 --> 00:09:54.000
Vì tác phẩm nghệ thuật danh sách phát là hình vuông, tôi sẽ sử dụng cùng độ phân giải cho cả chiều rộng và chiều cao.

00:09:54.000 --> 00:10:02.000
Đây là một ví dụ về việc yêu cầu độ phân giải 400 x 400, ở 300 x 300 và 200 x 200.

00:10:02.000 --> 00:10:09.000
Tỷ lệ hình ảnh để hiển thị ở mỗi độ phân giải và kích thước tệp được giảm xuống cho các hình ảnh nhỏ hơn.

00:10:09.000 --> 00:10:15.000
Tất cả các loại tài nguyên đều có một tập hợp các thuộc tính mặc định đại diện cho siêu dữ liệu phổ biến hoặc cơ bản cho tài nguyên đó.

00:10:15.000 --> 00:10:20.000
Một số tài nguyên có các thuộc tính bổ sung có thể được tìm nạp, được gọi là "thuộc tính mở rộng".

00:10:20.000 --> 00:10:24.000
Các thuộc tính mở rộng này có thể được yêu cầu bằng cách sử dụng tham số truy vấn mở rộng.

00:10:24.000 --> 00:10:29.000
Ví dụ, các bản nhạc trên danh sách phát Apple Music là bài hát hoặc video âm nhạc.

00:10:29.000 --> 00:10:35.000
Nếu bạn muốn biết các loại bản nhạc mà danh sách phát chứa, bạn có thể yêu cầu thuộc tính mở rộng trackTypes.

00:10:35.000 --> 00:10:41.000
Các thuộc tính mở rộng xuất hiện trong bản đồ thuộc tính của tài nguyên cùng với các thuộc tính mặc định của chúng.

00:10:41.000 --> 00:10:49.000
Nếu các bản nhạc của danh sách phát là video âm nhạc chứ không phải bài hát, có lẽ bạn sẽ tùy chỉnh nút phát để thông báo cho người xem.

00:10:49.000 --> 00:10:55.000
Bây giờ hãy xem bản đồ các mối quan hệ hiển thị một vài kết nối trực tiếp từ danh sách phát này đến các tài nguyên khác.

00:10:55.000 --> 00:11:00.000
Nhiều tài nguyên có các mối quan hệ tự động sẽ được trả lại khi yêu cầu một số nội dung trực tiếp.

00:11:00.000 --> 00:11:06.000
Các mối quan hệ tự động cho một danh sách phát là người phụ trách và các bản nhạc của nó.

00:11:06.000 --> 00:11:11.000
Các mối quan hệ được đặt tên để chỉ ra kết nối là gì, chẳng hạn như người phụ trách danh sách phát này.

00:11:11.000 --> 00:11:18.000
Chúng có một vị trí href nơi mối quan hệ có thể được tìm nạp trực tiếp và một mảng dữ liệu cho bộ sưu tập tài nguyên liên quan.

00:11:18.000 --> 00:11:25.000
Đối với danh sách phát, mối quan hệ người phụ trách sẽ tự động liên quan, có nghĩa là chỉ có danh tính của các tài nguyên liên quan mới có mặt.

00:11:25.000 --> 00:11:30.000
Điều này cho phép dễ dàng liên kết đến tài nguyên này bằng cách sử dụng danh tính hoặc href của nó.

00:11:30.000 --> 00:11:38.000
Vì danh sách phát đã chứa tên của người quản lý dưới dạng thuộc tính, nên có thể không cần bao gồm siêu dữ liệu khác cho tài nguyên người quản lý liên quan.

00:11:38.000 --> 00:11:45.000
Danh tính của tài nguyên có thể được sử dụng để đặt tên cho người phụ trách thành một liên kết, cho phép mọi người điều hướng đến người phụ trách để khám phá nội dung bổ sung nếu họ muốn.

00:11:45.000 --> 00:11:52.000
Nếu bạn muốn hiển thị thêm thông tin cho người quản lý với danh sách phát, chẳng hạn như tác phẩm nghệ thuật của nó, bạn sẽ cần tìm nạp siêu dữ liệu của người quản lý.

00:11:52.000 --> 00:11:58.000
Sử dụng tham số bao gồm để chỉ định các mối quan hệ mà bạn muốn siêu dữ liệu tài nguyên liên quan.

00:11:58.000 --> 00:12:04.000
Một số loại tài nguyên có các mối quan hệ bổ sung không được bao gồm theo mặc định cũng có thể được yêu cầu với tham số này.

00:12:04.000 --> 00:12:09.000
Lưu ý rằng bao gồm các mối quan hệ có thể làm tăng kích thước phản hồi và tác động tiêu cực đến tốc độ ứng dụng của bạn.

00:12:09.000 --> 00:12:16.000
Nhiều giá trị hữu ích có thể được mong muốn từ các tài nguyên liên quan có thể được tìm thấy trực tiếp dưới dạng thuộc tính trên tài nguyên ban đầu.

00:12:16.000 --> 00:12:22.000
Để có hiệu suất tốt nhất, chúng tôi khuyên bạn chỉ nên bao gồm các mối quan hệ và siêu dữ liệu cần thiết trong phản hồi.

00:12:22.000 --> 00:12:30.000
Thông tin chi tiết về các loại tài nguyên và các thuộc tính và mối quan hệ có sẵn của chúng có thể được tìm thấy trong tài liệu Apple Music API.

00:12:30.000 --> 00:12:50.000
Để biết thêm về các thuộc tính mở rộng, các mối quan hệ và các mối quan hệ đặc biệt được gọi là lượt xem, hãy xem phiên "Khám phá danh mục với Apple Music API." Xem lại các mối quan hệ cho danh sách phát ví dụ, các bản nhạc cho danh sách phát sẽ tự động được bao gồm, có nghĩa là siêu dữ liệu thuộc tính cho các tài nguyên bản nhạc liên quan xuất hiện trong phản hồi.

00:12:50.000 --> 00:12:58.000
Các thuộc tính cho các bản nhạc liên quan có thể được sử dụng để hiển thị danh sách bản nhạc cho danh sách phát bằng cách sử dụng tác phẩm nghệ thuật của chúng và siêu dữ liệu khác được hiển thị trong tiện ích bên phải.

00:12:58.000 --> 00:13:04.000
Trong phần trước, tôi đã đưa ra một ví dụ về việc tìm nạp tài nguyên danh sách phát từ danh mục với các bản nhạc của nó.

00:13:04.000 --> 00:13:09.000
Trong phần này, tôi sẽ giải thích cách xử lý các mối quan hệ với một số lượng lớn tài nguyên.

00:13:09.000 --> 00:13:13.000
Các tài nguyên liên quan cho một mối quan hệ xuất hiện trong mảng dữ liệu của nó.

00:13:13.000 --> 00:13:19.000
Khi số lượng tài nguyên liên quan nhỏ, tất cả các tài nguyên sẽ xuất hiện trong một phản hồi duy nhất.

00:13:19.000 --> 00:13:26.000
Mối quan hệ với nhiều tài nguyên liên quan hơn là xuất hiện trong một phản hồi duy nhất phải được tìm nạp trong nhiều phần được gọi là trang.

00:13:26.000 --> 00:13:30.000
Tôi sẽ sử dụng mối quan hệ các bản nhạc cho một danh sách phát lớn làm ví dụ.

00:13:30.000 --> 00:13:34.000
Chỉ 100 bản nhạc đầu tiên của danh sách phát được bao gồm theo mặc định.

00:13:34.000 --> 00:13:41.000
Nếu một danh sách phát có hơn 100 bản nhạc, thì các bản nhạc bổ sung phải được tìm nạp ở các trang tiếp theo.

00:13:41.000 --> 00:13:45.000
Đây là một phản hồi ví dụ cho danh sách phát với hơn 100 bản nhạc.

00:13:45.000 --> 00:13:51.000
Dữ liệu thu thập href và tài nguyên cho mối quan hệ theo dõi xuất hiện trong phản hồi như đã thấy trước đó.

00:13:51.000 --> 00:13:57.000
Vì danh sách phát này có nhiều bản nhạc hơn mức được bao gồm trong phản hồi, một vị trí tiếp theo xuất hiện dưới dạng anh chị em với dữ liệu.

00:13:57.000 --> 00:14:03.000
Vị trí tiếp theo đại diện cho nơi các tài nguyên còn lại trong bộ sưu tập có thể được tìm nạp.

00:14:03.000 --> 00:14:10.000
Tìm nạp vị trí tiếp theo giúp tìm nạp mối quan hệ trực tiếp và trả về dữ liệu thu thập tài nguyên của mối quan hệ bắt đầu từ phần bù được cung cấp.

00:14:10.000 --> 00:14:14.000
Giới hạn mặc định cho mối quan hệ sẽ áp dụng cho mỗi trang.

00:14:14.000 --> 00:14:17.000
Bạn có thể chọn kích thước trang của riêng mình bằng cách cung cấp tham số giới hạn.

00:14:17.000 --> 00:14:25.000
Giới hạn kích thước trang có thể nằm giữa một và kích thước trang tối đa của mối quan hệ cụ thể, có thể được tìm thấy trong tài liệu.

00:14:25.000 --> 00:14:34.000
Nếu bộ sưu tập tài nguyên cho mối quan hệ chứa các tài nguyên bổ sung qua những tài nguyên được trả về trong trang, một vị trí tiếp theo sẽ tiếp tục xuất hiện với tư cách là anh chị em với dữ liệu.

00:14:34.000 --> 00:14:38.000
Khi việc thu thập tài nguyên cạn kiệt, một địa điểm tiếp theo sẽ không có mặt.

00:14:38.000 --> 00:14:42.000
Lưu ý rằng các vị trí tiếp theo không phản ánh kích thước trang đã chọn cho yêu cầu.

00:14:42.000 --> 00:14:48.000
Bạn sẽ cần cung cấp một tham số giới hạn cho mỗi yêu cầu nếu bạn muốn sử dụng kích thước trang khác với kích thước trang mặc định.

00:14:48.000 --> 00:14:52.000
Luôn sử dụng vị trí tiếp theo từ phản hồi đến trang qua các bộ sưu tập tài nguyên.

00:14:52.000 --> 00:14:58.000
Cố gắng tính toán độ lệch của riêng bạn có thể dẫn đến các vấn đề với các vị trí không hợp lệ hoặc kết quả trùng lặp.

00:14:58.000 --> 00:15:03.000
Trong phần tiếp theo, tôi sẽ chỉ ra cách tìm kiếm nội dung fof trong danh mục Apple Music bằng Apple Music API.

00:15:03.000 --> 00:15:09.000
Apple Music API cung cấp chức năng tìm nội dung trong danh mục bằng cụm từ tìm kiếm.

00:15:09.000 --> 00:15:15.000
Yêu cầu tìm kiếm giống như yêu cầu tài nguyên danh mục với /tìm kiếm là vị trí và cụm từ tìm kiếm làm tham số.

00:15:15.000 --> 00:15:24.000
Bạn có thể chỉ định loại nội dung nào bạn quan tâm với tham số loại và số lượng kết quả tối đa để đưa vào cho mỗi loại bằng cách sử dụng giới hạn.

00:15:24.000 --> 00:15:29.000
Khi nhiều kết quả được tìm thấy vượt quá giới hạn được yêu cầu, phân trang có thể được sử dụng để tiếp tục tìm kiếm.

00:15:29.000 --> 00:15:33.000
Đây là phản hồi cho việc tìm kiếm album và bài hát với thuật ngữ "pop".

00:15:33.000 --> 00:15:40.000
Điểm cuối tìm kiếm trả về một phản hồi với một đối tượng kết quả chứa một nhóm cho mỗi loại được yêu cầu với nội dung phù hợp.

00:15:40.000 --> 00:15:45.000
Đối với yêu cầu này, các kết quả phù hợp đã được tìm thấy cho các album và bài hát.

00:15:45.000 --> 00:15:51.000
Phản hồi cũng bao gồm một đối tượng meta chứa thứ tự được đề xuất cho các nhóm kết quả dựa trên mức độ liên quan.

00:15:51.000 --> 00:15:56.000
Điều này có thể hữu ích nếu bạn đang xây dựng trải nghiệm tìm kiếm xử lý nhiều loại nội dung cùng một lúc.

00:15:56.000 --> 00:16:05.000
Mỗi nhóm kết quả có và href nơi kết quả được tìm nạp và một mảng dữ liệu thu thập tài nguyên chứa các tài nguyên phù hợp thuộc loại có liên quan cho cụm từ tìm kiếm.

00:16:05.000 --> 00:16:12.000
Nếu có nhiều kết quả phù hợp hơn cho một nhóm kết quả, nhóm sẽ chứa một vị trí tiếp theo nơi các kết quả phù hợp bổ sung có thể được tìm nạp.

00:16:12.000 --> 00:16:18.000
Yêu cầu vị trí tiếp theo trả về nhiều kết quả hơn cho loại đã chọn bắt đầu từ độ lệch.

00:16:18.000 --> 00:16:24.000
Trong phần cuối cùng, tôi sẽ thảo luận về việc truy cập các tính năng được cá nhân hóa trong Apple Music API.

00:16:24.000 --> 00:16:29.000
Apple Music API và MusicKit cung cấp quyền truy cập vào các tính năng được cá nhân hóa cho một người dùng cụ thể.

00:16:29.000 --> 00:16:39.000
Các tính năng này cho phép bạn thêm hỗ trợ cho người đăng ký xem và tìm kiếm nội dung trong thư viện Apple Music của họ, bao gồm khả năng thêm nội dung họ thích và tạo danh sách phát mới.

00:16:39.000 --> 00:16:43.000
Các đề xuất được cá nhân hóa có thể được đưa ra dựa trên sở thích âm nhạc cá nhân.

00:16:43.000 --> 00:16:52.000
Và bạn có thể để mọi người khám phá lại âm nhạc mà họ đã nghe gần đây để tiếp tục nơi họ đã dừng lại hoặc cung cấp những trải nghiệm hoàn toàn mới.

00:16:52.000 --> 00:16:56.000
Các tính năng được cá nhân hóa có sẵn cho những người có đăng ký Apple Music đang hoạt động.

00:16:56.000 --> 00:17:04.000
Để hỗ trợ các tính năng này, trước tiên bạn phải xác thực người đó bằng ứng dụng của mình bằng MusicKit và yêu cầu quyền truy cập dữ liệu âm nhạc của họ.

00:17:04.000 --> 00:17:09.000
Khi được cấp phép, Mã thông báo người dùng âm nhạc sẽ có sẵn.

00:17:09.000 --> 00:17:18.000
Mã thông báo này được thêm vào các yêu cầu API của Apple Music trong tiêu đề mã thông báo người dùng âm nhạc và được sử dụng để xác thực quyền truy cập vào dữ liệu được cá nhân hóa.

00:17:18.000 --> 00:17:23.000
Mã thông báo người dùng nhạc dành riêng cho ứng dụng của bạn và thiết bị mà người dùng đã xác thực.

00:17:23.000 --> 00:17:28.000
Mã thông báo này không được chia sẻ trên các thiết bị, vì quyền được cấp cho một thiết bị tại một thời điểm.

00:17:28.000 --> 00:17:34.000
Mã thông báo có thể trở nên không hợp lệ dựa trên những thay đổi đối với đăng ký hoặc mật khẩu của một người hoặc nếu họ thu hồi quyền truy cập vào ứng dụng của bạn.

00:17:34.000 --> 00:17:37.000
Nó cũng có thể hết hạn theo thời gian.

00:17:37.000 --> 00:17:42.000
Xác thực có thể được làm mới bằng cách nhắc họ đăng nhập lại và cấp quyền cho ứng dụng của bạn.

00:17:42.000 --> 00:17:48.000
Lưu ý rằng mã thông báo này được quản lý tự động bởi MusicKit trên nền tảng Apple và MusicKit trên Web.

00:17:48.000 --> 00:17:51.000
Vui lòng xem tài liệu cho khuôn khổ bạn đang sử dụng để biết thêm chi tiết.

00:17:51.000 --> 00:18:08.000
Trong phiên hôm nay, tôi đã chỉ ra cách bạn có thể tích hợp Apple Music vào ứng dụng của mình bằng cách sử dụng MusicKit và Apple Music API, xem nhanh các nền tảng hỗ trợ khung máy khách MusicKit và cách sử dụng Apple Music API để truy cập và tìm nội dung trong danh mục và một số tính năng được cá nhân hóa có sẵn cho người đăng ký.

00:18:08.000 --> 00:18:18.000
Để biết thêm về các bản cập nhật năm nay cho MusicKit trên nền tảng Apple, hãy xem phiên "Khám phá thêm nội dung với MusicKit." Cảm ơn bạn đã xem, và chúng tôi hy vọng bạn sẽ tận hưởng phần còn lại của WWDC năm nay.

00:18:18.000 --> 23:59:59.000
.

